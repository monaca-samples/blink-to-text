/*! For license information please see app.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(666)},720:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=a;var r={},o={};function s(e,t){var n,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=o[e])?a:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(n=l(e,e<0?-1:0,!1),s&&(r[e]=n),n)}function i(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=f)return C}else{if(e<=-h)return k;if(e+1>=h)return w}return e<0?i(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,a){return new n(e,t,a)}n.fromInt=s,n.fromNumber=i,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return u(e.substring(1),t,n).neg();for(var r=i(c(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),p=parseInt(e.substring(s,s+l),n);if(l<8){var d=i(c(n,l));o=o.mul(d).add(i(p))}else o=(o=o.mul(r)).add(i(p))}return o.unsigned=t,o}function p(e,t){return"number"==typeof e?i(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=p;var d=4294967296,f=d*d,h=f/2,m=s(1<<24),g=s(0);n.ZERO=g;var v=s(0,!0);n.UZERO=v;var b=s(1);n.ONE=b;var y=s(1,!0);n.UONE=y;var x=s(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var C=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=C;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=i(e),n=this.div(t),a=n.mul(t).sub(this);return n.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=i(c(e,6),this.unsigned),o=this,s="";;){var l=o.div(r),u=(o.sub(l.mul(r)).toInt()>>>0).toString(e);if((o=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return a(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(a(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},E.neg=E.negate,E.add=function(e){a(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,i=65535&e.high,c=e.low>>>16,u=0,d=0,f=0,h=0;return f+=(h+=o+(65535&e.low))>>>16,d+=(f+=r+c)>>>16,u+=(d+=n+i)>>>16,u+=t+s,l((f&=65535)<<16|(h&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},E.subtract=function(e){return a(e)||(e=p(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=p(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,d=e.low>>>16,f=65535&e.low,h=0,v=0,b=0,y=0;return b+=(y+=s*f)>>>16,v+=(b+=o*f)>>>16,b&=65535,v+=(b+=s*d)>>>16,h+=(v+=r*f)>>>16,v&=65535,h+=(v+=o*d)>>>16,v&=65535,h+=(v+=s*u)>>>16,h+=n*f+r*d+o*u+s*c,l((b&=65535)<<16|(y&=65535),(h&=65535)<<16|(v&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(a(e)||(e=p(e)),e.isZero())throw Error("division by zero");var n,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return y;o=v}else{if(this.eq(k))return e.eq(b)||e.eq(x)?k:e.eq(k)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:x:(r=this.sub(e.mul(n)),o=n.add(r.div(e)));if(e.eq(k))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:c(2,s-48),d=i(n),f=d.mul(e);f.isNegative()||f.gt(r);)f=(d=i(n-=u,this.unsigned)).mul(e);d.isZero()&&(d=b),o=o.add(d),r=r.sub(f)}return o},E.div=E.divide,E.modulo=function(e){return a(e)||(e=p(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return l(~this.low,~this.high,this.unsigned)},E.and=function(e){return a(e)||(e=p(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return a(e)||(e=p(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return a(e)||(e=p(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,a){return a?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),s=new O(a||[]);return o._invoke=function(e,t,n){var a=p;return function(r,o){if(a===f)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw o;return N()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=S(s,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var l=u(e,t,n);if("normal"===l.type){if(a=n.done?h:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",d="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function b(){}var y={};l(y,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&a.call(w,o)&&(y=w);var C=b.prototype=g.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,o,s,i){var l=u(e[r],e,o);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,i)}))}i(l.arg)}var r;this._invoke=function(e,a){function o(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(o,o):o()}}function S(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:N}}function N(){return{value:t,done:!0}}return v.prototype=b,l(C,"constructor",b),l(b,"constructor",v),v.displayName=l(b,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,i,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new E(c(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(C),l(C,i,"Generator"),l(C,o,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return i.type="throw",i.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),$(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;$(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:I(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},377:function(e,t,n){var a=n(832),r=n(652),o=n(801),s=n(30),i=n(618),l=n(49),c=n(971);c.alea=a,c.xor128=r,c.xorwow=o,c.xorshift7=s,c.xor4096=i,c.tychei=l,e.exports=c},832:function(e,t,n){var a;!function(e,r,o){function s(e){var t,n=this,a=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var a=.02519603282416938*(t+=e.charCodeAt(n));a-=t=a>>>0,t=(a*=t)>>>0,t+=4294967296*(a-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=a(" "),n.s1=a(" "),n.s2=a(" "),n.s0-=a(e),n.s0<0&&(n.s0+=1),n.s1-=a(e),n.s1<0&&(n.s1+=1),n.s2-=a(e),n.s2<0&&(n.s2+=1),a=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),a=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.alea=l}(0,e=n.nmd(e),n.amdD)},49:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,a=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-a|0,a=a<<24^a>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-a|0,t.d=a<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var a=0;a<n.length+20;a++)t.b^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.tychei=l}(0,e=n.nmd(e),n.amdD)},652:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor128=l}(0,e=n.nmd(e),n.amdD)},618:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,a=t.w,r=t.X,o=t.i;return t.w=a=a+1640531527|0,n=r[o+34&127],e=r[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[o]=n^e,t.i=o,n+(a^a>>>16)|0},function(e,t){var n,a,r,o,s,i=[],l=128;for(t===(0|t)?(a=t,t=null):(t+="\0",a=0,l=Math.max(l,t.length)),r=0,o=-32;o<l;++o)t&&(a^=t.charCodeAt((o+32)%t.length)),0===o&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,o>=0&&(s=s+1640531527|0,r=0==(n=i[127&o]^=a+s)?r+1:0);for(r>=128&&(i[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)a=i[r+34&127],n=i[r=r+1&127],a^=a<<13,n^=n<<17,a^=a>>>15,n^=n>>>12,i[r]=a^n;e.w=s,e.X=i,e.i=r}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.X&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},30:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,a=t.x,r=t.i;return e=a[r],n=(e^=e>>>7)^e<<24,n^=(e=a[r+1&7])^e>>>10,n^=(e=a[r+3&7])^e>>>3,n^=(e=a[r+4&7])^e<<7,e=a[r+7&7],n^=(e^=e<<13)^e<<9,a[r]=n,t.i=r+1&7,n},function(e,t){var n,a=[];if(t===(0|t))a[0]=t;else for(t=""+t,n=0;n<t.length;++n)a[7&n]=a[7&n]<<15^t.charCodeAt(n)+a[n+1&7]<<13;for(;a.length<8;)a.push(0);for(n=0;n<8&&0===a[n];++n);for(8==n?a[7]=-1:a[n],e.x=a,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.x&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),a==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},971:function(e,t,n){var a;!function(r,o){var s,i=this,l=256,c=o.pow(l,6),u=o.pow(2,52),p=2*u,d=255;function f(e,t,n){var a=[],d=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(r)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,b(r)]}}():e,3),a),f=new h(a),y=function(){for(var e=f.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=f.g(1);for(;e>=p;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|f.g(4)},y.quick=function(){return f.g(4)/4294967296},y.double=y,v(b(f.S),r),(t.pass||n||function(e,t,n,a){return a&&(a.S&&m(a,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(y,d,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,a=this,r=0,o=a.i=a.j=0,s=a.S=[];for(n||(e=[n++]);r<l;)s[r]=r++;for(r=0;r<l;r++)s[r]=s[o=d&o+e[r%n]+(t=s[r])],s[o]=t;(a.g=function(e){for(var t,n=0,r=a.i,o=a.j,s=a.S;e--;)t=s[r=d&r+1],n=n*l+s[d&(s[r]=s[o=d&o+t])+(s[o]=t)];return a.i=r,a.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,a=[],r=typeof e;if(t&&"object"==r)for(n in e)try{a.push(g(e[n],t-1))}catch(e){}return a.length?a:"string"==r?e:e+"\0"}function v(e,t){for(var n,a=e+"",r=0;r<a.length;)t[d&r]=d&(n^=19*t[d&r])+a.charCodeAt(r++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,v(o.random(),r),e.exports){e.exports=f;try{s=n(42)}catch(e){}}else void 0===(a=function(){return f}.call(t,n,t,e))||(e.exports=a)}([],Math)},744:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},410:function(){},628:function(){},42:function(){}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="",function(){"use strict";var e={};n.r(e),n.d(e,{auroraPreloaderContent:function(){return ms},bindMethods:function(){return _s},cancelAnimationFrame:function(){return ys},colorHexToRgb:function(){return Is},colorHsbToHsl:function(){return Ms},colorHslToHsb:function(){return Bs},colorHslToRgb:function(){return Ps},colorRgbToHex:function(){return Ns},colorRgbToHsl:function(){return Rs},colorThemeCSSProperties:function(){return As},deleteProps:function(){return vs},eventNameToColonCase:function(){return gs},extend:function(){return Os},flattenArray:function(){return Ls},getTranslate:function(){return Es},id:function(){return us},iosPreloaderContent:function(){return hs},isObject:function(){return Ts},mdPreloaderContent:function(){return fs},merge:function(){return $s},nextFrame:function(){return ws},nextTick:function(){return xs},now:function(){return Cs},parseUrlQuery:function(){return ks},requestAnimationFrame:function(){return bs},serializeObject:function(){return Ss},uniqueNumber:function(){return cs}});var t={};n.r(t),n.d(t,{$:function(){return ti},add:function(){return nl},addClass:function(){return ni},animate:function(){return il},animationEnd:function(){return wi},append:function(){return Di},appendTo:function(){return Fi},attr:function(){return si},blur:function(){return dl},change:function(){return xl},children:function(){return Ji},click:function(){return pl},closest:function(){return Qi},css:function(){return Ni},data:function(){return ci},dataset:function(){return pi},default:function(){return Ml},detach:function(){return tl},each:function(){return Ri},empty:function(){return al},eq:function(){return Li},filter:function(){return Pi},find:function(){return Zi},focus:function(){return fl},focusin:function(){return hl},focusout:function(){return ml},hasClass:function(){return oi},height:function(){return Ei},hide:function(){return $i},html:function(){return Mi},index:function(){return _i},insertAfter:function(){return ji},insertBefore:function(){return Hi},is:function(){return Ai},keydown:function(){return vl},keypress:function(){return bl},keyup:function(){return gl},mousedown:function(){return wl},mouseenter:function(){return El},mouseleave:function(){return Sl},mousemove:function(){return Cl},mouseout:function(){return Tl},mouseover:function(){return $l},mouseup:function(){return kl},next:function(){return Wi},nextAll:function(){return Ui},off:function(){return vi},offset:function(){return Ti},on:function(){return gi},once:function(){return bi},outerHeight:function(){return Si},outerWidth:function(){return ki},parent:function(){return Yi},parents:function(){return Ki},prepend:function(){return zi},prependTo:function(){return Vi},prev:function(){return Gi},prevAll:function(){return qi},prop:function(){return li},remove:function(){return el},removeAttr:function(){return ii},removeClass:function(){return ai},removeData:function(){return ui},resize:function(){return Rl},scroll:function(){return Pl},scrollLeft:function(){return sl},scrollTo:function(){return rl},scrollTop:function(){return ol},show:function(){return Oi},siblings:function(){return Xi},stop:function(){return ll},styles:function(){return Ii},submit:function(){return yl},text:function(){return Bi},toggleClass:function(){return ri},touchend:function(){return Il},touchmove:function(){return Nl},touchstart:function(){return Ol},transform:function(){return hi},transition:function(){return mi},transitionEnd:function(){return xi},trigger:function(){return yi},val:function(){return di},value:function(){return fi},width:function(){return Ci}});var a={};n.r(a),n.d(a,{assertParamsValid:function(){return vI},computeFlatOffset:function(){return NI},computeOutShape:function(){return yI},getNormalizedAxes:function(){return kI},isSliceContinous:function(){return II},maskToAxes:function(){return bI},parseSliceParams:function(){return RI},sliceInfo:function(){return PI},startForAxis:function(){return $I},startIndicesWithElidedDims:function(){return EI},stopForAxis:function(){return OI},stopIndicesWithElidedDims:function(){return SI},stridesForAxis:function(){return TI},stridesWithElidedDims:function(){return xI}});var r={};n.r(r),n.d(r,{collectGatherOpShapeInfo:function(){return lM},computeOutShape:function(){return iM},segOpComputeOptimalWindowSize:function(){return sM}});var o={};n.r(o),n.d(o,{ERF_A1:function(){return TP},ERF_A2:function(){return $P},ERF_A3:function(){return OP},ERF_A4:function(){return IP},ERF_A5:function(){return NP},ERF_P:function(){return SP},PARALLELIZE_THRESHOLD:function(){return pP},SELU_SCALE:function(){return EP},SELU_SCALEALPHA:function(){return kP},applyActivation:function(){return cP},assertAndGetBroadcastShape:function(){return fI},assertAxesAreInnerMostDims:function(){return QN},assertParamsConsistent:function(){return zR},assignToTypedArray:function(){return _P},axesAreInnerMostDims:function(){return qN},calculateShapes:function(){return CP},checkEinsumDimSizes:function(){return jP},checkPadOnDimRoundingMode:function(){return tP},combineLocations:function(){return XN},complexWithEvenIndex:function(){return MP},complexWithOddIndex:function(){return BP},computeConv2DInfo:function(){return UR},computeConv3DInfo:function(){return GR},computeDefaultPad:function(){return qR},computeDilation2DInfo:function(){return HR},computeOptimalWindowSize:function(){return dP},computeOutAndReduceShapes:function(){return YN},computeOutShape:function(){return VR},computePool2DInfo:function(){return jR},computePool3DInfo:function(){return WR},convertConv2DDataFormat:function(){return eP},decodeEinsumEquation:function(){return VP},eitherStridesOrDilationsAreOne:function(){return JR},expandShapeToKeepDim:function(){return KN},exponent:function(){return DP},exponents:function(){return LP},fromStringArrayToUint8:function(){return uM},fromUint8ToStringArray:function(){return cM},getAxesPermutation:function(){return ZN},getBroadcastDims:function(){return pI},getComplexWithIndex:function(){return AP},getEinsumComputePath:function(){return WP},getEinsumPermutation:function(){return HP},getFusedBiasGradient:function(){return lP},getFusedDyActivation:function(){return iP},getImageCenter:function(){return fP},getInnerMostAxes:function(){return eR},getPermuted:function(){return mP},getReductionAxes:function(){return dI},getReshaped:function(){return hP},getReshapedPermuted:function(){return gP},getSliceBeginCoords:function(){return vP},getSliceSize:function(){return bP},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return XP},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return YP},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return KP},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return JP},getSparseReshapeInputOutputMismatchErrorMessage:function(){return tM},getSparseReshapeInputOutputMultipleErrorMessage:function(){return eM},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return QP},getSparseReshapeNegativeOutputDimErrorMessage:function(){return ZP},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return oM},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return nM},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return aM},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return rM},getUndoAxesPermutation:function(){return JN},isIdentityPermutation:function(){return UP},log:function(){return ZT},mergeRealAndImagArrays:function(){return RP},prepareAndValidate:function(){return yP},prepareSplitSize:function(){return qP},segment_util:function(){return r},shouldFuse:function(){return uP},slice_util:function(){return a},splitRealAndImagArrays:function(){return PP},tupleValuesAreOne:function(){return ZR},upcastType:function(){return U$},validateInput:function(){return wP},validateUpdateShape:function(){return xP},warn:function(){return QT}});var s={};n.r(s),n.d(s,{json:function(){return kM}});var i={};n.r(i),n.d(i,{json:function(){return EM}});var l={};n.r(l),n.d(l,{json:function(){return SM}});var c={};n.r(c),n.d(c,{json:function(){return TM}});var u={};n.r(u),n.d(u,{json:function(){return $M}});var p={};n.r(p),n.d(p,{json:function(){return OM}});var d={};n.r(d),n.d(d,{json:function(){return IM}});var f={};n.r(f),n.d(f,{json:function(){return NM}});var h={};n.r(h),n.d(h,{json:function(){return RM}});var m={};n.r(m),n.d(m,{json:function(){return PM}});var g={};n.r(g),n.d(g,{json:function(){return MM}});var v={};n.r(v),n.d(v,{json:function(){return BM}});var b={};n.r(b),n.d(b,{json:function(){return AM}});var y={};n.r(y),n.d(y,{json:function(){return _M}});var x={};n.r(x),n.d(x,{json:function(){return LM}});var w={};n.r(w),n.d(w,{json:function(){return DM}});var C={};n.r(C),n.d(C,{json:function(){return FM}});var k={};n.r(k),n.d(k,{json:function(){return zM}});var E={};n.r(E),n.d(E,{json:function(){return VM}});var S={};function T(e,t){const n=Object.create(null),a=e.split(",");for(let e=0;e<a.length;e++)n[a[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(S),n.d(S,{addImpl:function(){return TD},bincountImpl:function(){return OD},bincountReduceImpl:function(){return ID},ceilImpl:function(){return MD},concatImpl:function(){return BD},equalImpl:function(){return AD},expImpl:function(){return _D},expm1Impl:function(){return LD},floorImpl:function(){return DD},gatherNdImpl:function(){return FD},gatherV2Impl:function(){return zD},greaterEqualImpl:function(){return HD},greaterImpl:function(){return VD},lessEqualImpl:function(){return WD},lessImpl:function(){return jD},linSpaceImpl:function(){return UD},logImpl:function(){return GD},maxImpl:function(){return qD},maximumImpl:function(){return XD},minimumImpl:function(){return YD},multiplyImpl:function(){return KD},negImpl:function(){return ZD},notEqualImpl:function(){return JD},prodImpl:function(){return tF},rangeImpl:function(){return nF},rsqrtImpl:function(){return aF},sigmoidImpl:function(){return rF},simpleAbsImpl:function(){return vD},sliceImpl:function(){return oF},sparseFillEmptyRowsImpl:function(){return sF},sparseReshapeImpl:function(){return iF},sparseSegmentReductionImpl:function(){return lF},sqrtImpl:function(){return cF},squaredDifferenceImpl:function(){return uF},stridedSliceImpl:function(){return pF},stringNGramsImpl:function(){return fF},stringSplitImpl:function(){return mF},stringToHashBucketFastImpl:function(){return gF},subImpl:function(){return vF},tileImpl:function(){return yF},topKImpl:function(){return CF},transposeImpl:function(){return eF},uniqueImpl:function(){return kF}});const $="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",O=T($);function I(e){return!!e||""===e}function N(e){if(X(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],r=Z(a)?M(a):N(a);if(r)for(const e in r)t[e]=r[e]}return t}return Z(e)||ee(e)?e:void 0}const R=/;(?![^(]*\))/g,P=/:(.+)/;function M(e){const t={};return e.split(R).forEach((e=>{if(e){const n=e.split(P);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function B(e){let t="";if(Z(e))t=e;else if(X(e))for(let n=0;n<e.length;n++){const a=B(e[n]);a&&(t+=a+" ")}else if(ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const A=e=>Z(e)?e:null==e?"":X(e)||ee(e)&&(e.toString===ne||!Q(e.toString))?JSON.stringify(e,_,2):String(e),_=(e,t)=>t&&t.__v_isRef?_(e,t.value):Y(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:K(t)?{[`Set(${t.size})`]:[...t.values()]}:!ee(t)||X(t)||re(t)?t:String(t),L={},D=[],F=()=>{},z=()=>!1,V=/^on[^a-z]/,H=e=>V.test(e),j=e=>e.startsWith("onUpdate:"),W=Object.assign,U=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},G=Object.prototype.hasOwnProperty,q=(e,t)=>G.call(e,t),X=Array.isArray,Y=e=>"[object Map]"===ae(e),K=e=>"[object Set]"===ae(e),Q=e=>"function"==typeof e,Z=e=>"string"==typeof e,J=e=>"symbol"==typeof e,ee=e=>null!==e&&"object"==typeof e,te=e=>ee(e)&&Q(e.then)&&Q(e.catch),ne=Object.prototype.toString,ae=e=>ne.call(e),re=e=>"[object Object]"===ae(e),oe=e=>Z(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,se=T(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ie=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},le=/-(\w)/g,ce=ie((e=>e.replace(le,((e,t)=>t?t.toUpperCase():"")))),ue=/\B([A-Z])/g,pe=ie((e=>e.replace(ue,"-$1").toLowerCase())),de=ie((e=>e.charAt(0).toUpperCase()+e.slice(1))),fe=ie((e=>e?`on${de(e)}`:"")),he=(e,t)=>!Object.is(e,t),me=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ge=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ve=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let be;const ye=()=>be||(be="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});let xe;class we{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&xe&&(this.parent=xe,this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}run(e){if(this.active)try{return xe=this,e()}finally{xe=this.parent}else 0}on(){xe=this}off(){xe=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function Ce(e){return new we(e)}function ke(e,t=xe){t&&t.active&&t.effects.push(e)}const Ee=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Se=e=>(e.w&Ie)>0,Te=e=>(e.n&Ie)>0,$e=new WeakMap;let Oe=0,Ie=1;let Ne;const Re=Symbol(""),Pe=Symbol("");class Me{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,ke(this,n)}run(){if(!this.active)return this.fn();let e=Ne,t=Ae;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ne,Ne=this,Ae=!0,Ie=1<<++Oe,Oe<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ie})(this):Be(this),this.fn()}finally{Oe<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){const r=t[a];Se(r)&&!Te(r)?r.delete(e):t[n++]=r,r.w&=~Ie,r.n&=~Ie}t.length=n}})(this),Ie=1<<--Oe,Ne=this.parent,Ae=t,this.parent=void 0}}stop(){this.active&&(Be(this),this.onStop&&this.onStop(),this.active=!1)}}function Be(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ae=!0;const _e=[];function Le(){_e.push(Ae),Ae=!1}function De(){const e=_e.pop();Ae=void 0===e||e}function Fe(e,t,n){if(Ae&&Ne){let t=$e.get(e);t||$e.set(e,t=new Map);let a=t.get(n);a||t.set(n,a=Ee());ze(a,void 0)}}function ze(e,t){let n=!1;Oe<=30?Te(e)||(e.n|=Ie,n=!Se(e)):n=!e.has(Ne),n&&(e.add(Ne),Ne.deps.push(e))}function Ve(e,t,n,a,r,o){const s=$e.get(e);if(!s)return;let i=[];if("clear"===t)i=[...s.values()];else if("length"===n&&X(e))s.forEach(((e,t)=>{("length"===t||t>=a)&&i.push(e)}));else switch(void 0!==n&&i.push(s.get(n)),t){case"add":X(e)?oe(n)&&i.push(s.get("length")):(i.push(s.get(Re)),Y(e)&&i.push(s.get(Pe)));break;case"delete":X(e)||(i.push(s.get(Re)),Y(e)&&i.push(s.get(Pe)));break;case"set":Y(e)&&i.push(s.get(Re))}if(1===i.length)i[0]&&He(i[0]);else{const e=[];for(const t of i)t&&e.push(...t);He(Ee(e))}}function He(e,t){for(const t of X(e)?e:[...e])(t!==Ne||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const je=T("__proto__,__v_isRef,__isVue"),We=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(J)),Ue=Ke(),Ge=Ke(!1,!0),qe=Ke(!0),Xe=Ye();function Ye(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Bt(this);for(let e=0,t=this.length;e<t;e++)Fe(n,0,e+"");const a=n[t](...e);return-1===a||!1===a?n[t](...e.map(Bt)):a}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Le();const n=Bt(this)[t].apply(this,e);return De(),n}})),e}function Ke(e=!1,t=!1){return function(n,a,r){if("__v_isReactive"===a)return!e;if("__v_isReadonly"===a)return e;if("__v_isShallow"===a)return t;if("__v_raw"===a&&r===(e?t?St:Et:t?kt:Ct).get(n))return n;const o=X(n);if(!e&&o&&q(Xe,a))return Reflect.get(Xe,a,r);const s=Reflect.get(n,a,r);if(J(a)?We.has(a):je(a))return s;if(e||Fe(n,0,a),t)return s;if(zt(s)){return!o||!oe(a)?s.value:s}return ee(s)?e?Ot(s):$t(s):s}}function Qe(e=!1){return function(t,n,a,r){let o=t[n];if(Rt(o)&&zt(o)&&!zt(a))return!1;if(!e&&!Rt(a)&&(Pt(a)||(a=Bt(a),o=Bt(o)),!X(t)&&zt(o)&&!zt(a)))return o.value=a,!0;const s=X(t)&&oe(n)?Number(n)<t.length:q(t,n),i=Reflect.set(t,n,a,r);return t===Bt(r)&&(s?he(a,o)&&Ve(t,"set",n,a):Ve(t,"add",n,a)),i}}const Ze={get:Ue,set:Qe(),deleteProperty:function(e,t){const n=q(e,t),a=(e[t],Reflect.deleteProperty(e,t));return a&&n&&Ve(e,"delete",t,void 0),a},has:function(e,t){const n=Reflect.has(e,t);return J(t)&&We.has(t)||Fe(e,0,t),n},ownKeys:function(e){return Fe(e,0,X(e)?"length":Re),Reflect.ownKeys(e)}},Je={get:qe,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},et=W({},Ze,{get:Ge,set:Qe(!0)}),tt=e=>e,nt=e=>Reflect.getPrototypeOf(e);function at(e,t,n=!1,a=!1){const r=Bt(e=e.__v_raw),o=Bt(t);t!==o&&!n&&Fe(r,0,t),!n&&Fe(r,0,o);const{has:s}=nt(r),i=a?tt:n?Lt:_t;return s.call(r,t)?i(e.get(t)):s.call(r,o)?i(e.get(o)):void(e!==r&&e.get(t))}function rt(e,t=!1){const n=this.__v_raw,a=Bt(n),r=Bt(e);return e!==r&&!t&&Fe(a,0,e),!t&&Fe(a,0,r),e===r?n.has(e):n.has(e)||n.has(r)}function ot(e,t=!1){return e=e.__v_raw,!t&&Fe(Bt(e),0,Re),Reflect.get(e,"size",e)}function st(e){e=Bt(e);const t=Bt(this);return nt(t).has.call(t,e)||(t.add(e),Ve(t,"add",e,e)),this}function it(e,t){t=Bt(t);const n=Bt(this),{has:a,get:r}=nt(n);let o=a.call(n,e);o||(e=Bt(e),o=a.call(n,e));const s=r.call(n,e);return n.set(e,t),o?he(t,s)&&Ve(n,"set",e,t):Ve(n,"add",e,t),this}function lt(e){const t=Bt(this),{has:n,get:a}=nt(t);let r=n.call(t,e);r||(e=Bt(e),r=n.call(t,e));a&&a.call(t,e);const o=t.delete(e);return r&&Ve(t,"delete",e,void 0),o}function ct(){const e=Bt(this),t=0!==e.size,n=e.clear();return t&&Ve(e,"clear",void 0,void 0),n}function ut(e,t){return function(n,a){const r=this,o=r.__v_raw,s=Bt(o),i=t?tt:e?Lt:_t;return!e&&Fe(s,0,Re),o.forEach(((e,t)=>n.call(a,i(e),i(t),r)))}}function pt(e,t,n){return function(...a){const r=this.__v_raw,o=Bt(r),s=Y(o),i="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=r[e](...a),u=n?tt:t?Lt:_t;return!t&&Fe(o,0,l?Pe:Re),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:i?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function dt(e){return function(...t){return"delete"!==e&&this}}function ft(){const e={get(e){return at(this,e)},get size(){return ot(this)},has:rt,add:st,set:it,delete:lt,clear:ct,forEach:ut(!1,!1)},t={get(e){return at(this,e,!1,!0)},get size(){return ot(this)},has:rt,add:st,set:it,delete:lt,clear:ct,forEach:ut(!1,!0)},n={get(e){return at(this,e,!0)},get size(){return ot(this,!0)},has(e){return rt.call(this,e,!0)},add:dt("add"),set:dt("set"),delete:dt("delete"),clear:dt("clear"),forEach:ut(!0,!1)},a={get(e){return at(this,e,!0,!0)},get size(){return ot(this,!0)},has(e){return rt.call(this,e,!0)},add:dt("add"),set:dt("set"),delete:dt("delete"),clear:dt("clear"),forEach:ut(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=pt(r,!1,!1),n[r]=pt(r,!0,!1),t[r]=pt(r,!1,!0),a[r]=pt(r,!0,!0)})),[e,n,t,a]}const[ht,mt,gt,vt]=ft();function bt(e,t){const n=t?e?vt:gt:e?mt:ht;return(t,a,r)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get(q(n,a)&&a in t?n:t,a,r)}const yt={get:bt(!1,!1)},xt={get:bt(!1,!0)},wt={get:bt(!0,!1)};const Ct=new WeakMap,kt=new WeakMap,Et=new WeakMap,St=new WeakMap;function Tt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>ae(e).slice(8,-1))(e))}function $t(e){return Rt(e)?e:It(e,!1,Ze,yt,Ct)}function Ot(e){return It(e,!0,Je,wt,Et)}function It(e,t,n,a,r){if(!ee(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const s=Tt(e);if(0===s)return e;const i=new Proxy(e,2===s?a:n);return r.set(e,i),i}function Nt(e){return Rt(e)?Nt(e.__v_raw):!(!e||!e.__v_isReactive)}function Rt(e){return!(!e||!e.__v_isReadonly)}function Pt(e){return!(!e||!e.__v_isShallow)}function Mt(e){return Nt(e)||Rt(e)}function Bt(e){const t=e&&e.__v_raw;return t?Bt(t):e}function At(e){return ge(e,"__v_skip",!0),e}const _t=e=>ee(e)?$t(e):e,Lt=e=>ee(e)?Ot(e):e;function Dt(e){Ae&&Ne&&ze((e=Bt(e)).dep||(e.dep=Ee()))}function Ft(e,t){(e=Bt(e)).dep&&He(e.dep)}function zt(e){return!(!e||!0!==e.__v_isRef)}function Vt(e){return Ht(e,!1)}function Ht(e,t){return zt(e)?e:new jt(e,t)}class jt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Bt(e),this._value=t?e:_t(e)}get value(){return Dt(this),this._value}set value(e){e=this.__v_isShallow?e:Bt(e),he(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:_t(e),Ft(this))}}const Wt={get:(e,t,n)=>function(e){return zt(e)?e.value:e}(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const r=e[t];return zt(r)&&!zt(n)?(r.value=n,!0):Reflect.set(e,t,n,a)}};function Ut(e){return Nt(e)?e:new Proxy(e,Wt)}class Gt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function qt(e,t,n){const a=e[t];return zt(a)?a:new Gt(e,t,n)}class Xt{constructor(e,t,n,a){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Me(e,(()=>{this._dirty||(this._dirty=!0,Ft(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=Bt(this);return Dt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Promise.resolve();function Yt(e,t,n,a){let r;try{r=a?e(...a):e()}catch(e){Qt(e,t,n)}return r}function Kt(e,t,n,a){if(Q(e)){const r=Yt(e,t,n,a);return r&&te(r)&&r.catch((e=>{Qt(e,t,n)})),r}const r=[];for(let o=0;o<e.length;o++)r.push(Kt(e[o],t,n,a));return r}function Qt(e,t,n,a=!0){t&&t.vnode;if(t){let a=t.parent;const r=t.proxy,o=n;for(;a;){const t=a.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;a=a.parent}const s=t.appContext.config.errorHandler;if(s)return void Yt(s,null,10,[e,r,o])}!function(e,t,n,a=!0){console.error(e)}(e,0,0,a)}let Zt=!1,Jt=!1;const en=[];let tn=0;const nn=[];let an=null,rn=0;const on=[];let sn=null,ln=0;const cn=Promise.resolve();let un=null,pn=null;function dn(e){const t=un||cn;return e?t.then(this?e.bind(this):e):t}function fn(e){en.length&&en.includes(e,Zt&&e.allowRecurse?tn+1:tn)||e===pn||(null==e.id?en.push(e):en.splice(function(e){let t=tn+1,n=en.length;for(;t<n;){const a=t+n>>>1;yn(en[a])<e?t=a+1:n=a}return t}(e.id),0,e),hn())}function hn(){Zt||Jt||(Jt=!0,un=cn.then(xn))}function mn(e,t,n,a){X(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?a+1:a)||n.push(e),hn()}function gn(e){mn(e,sn,on,ln)}function vn(e,t=null){if(nn.length){for(pn=t,an=[...new Set(nn)],nn.length=0,rn=0;rn<an.length;rn++)an[rn]();an=null,rn=0,pn=null,vn(e,t)}}function bn(e){if(on.length){const e=[...new Set(on)];if(on.length=0,sn)return void sn.push(...e);for(sn=e,sn.sort(((e,t)=>yn(e)-yn(t))),ln=0;ln<sn.length;ln++)sn[ln]();sn=null,ln=0}}const yn=e=>null==e.id?1/0:e.id;function xn(e){Jt=!1,Zt=!0,vn(e),en.sort(((e,t)=>yn(e)-yn(t)));try{for(tn=0;tn<en.length;tn++){const e=en[tn];e&&!1!==e.active&&Yt(e,null,14)}}finally{tn=0,en.length=0,bn(),Zt=!1,un=null,(en.length||nn.length||on.length)&&xn(e)}}new Set;new Map;let wn,Cn=[],kn=!1;function En(e,...t){wn?wn.emit(e,...t):kn||Cn.push({event:e,args:t})}function Sn(e,t){var n,a;if(wn=e,wn)wn.enabled=!0,Cn.forEach((({event:e,args:t})=>wn.emit(e,...t))),Cn=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(a=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===a?void 0:a.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Sn(e,t)})),setTimeout((()=>{wn||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,kn=!0,Cn=[])}),3e3)}else kn=!0,Cn=[]}const Tn=In("component:added"),$n=In("component:updated"),On=In("component:removed");function In(e){return t=>{En(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function Nn(e,t,...n){const a=e.vnode.props||L;let r=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in a){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=a[e]||L;o?r=n.map((e=>e.trim())):t&&(r=n.map(ve))}let i;__VUE_PROD_DEVTOOLS__&&function(e,t,n){En("component:emit",e.appContext.app,e,t,n)}(e,t,r);let l=a[i=fe(t)]||a[i=fe(ce(t))];!l&&o&&(l=a[i=fe(pe(t))]),l&&Kt(l,e,6,r);const c=a[i+"Once"];if(c){if(e.emitted){if(e.emitted[i])return}else e.emitted={};e.emitted[i]=!0,Kt(c,e,6,r)}}function Rn(e,t,n=!1){const a=t.emitsCache,r=a.get(e);if(void 0!==r)return r;const o=e.emits;let s={},i=!1;if(__VUE_OPTIONS_API__&&!Q(e)){const a=e=>{const n=Rn(e,t,!0);n&&(i=!0,W(s,n))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return o||i?(X(o)?o.forEach((e=>s[e]=null)):W(s,o),a.set(e,s),s):(a.set(e,null),null)}function Pn(e,t){return!(!e||!H(t))&&(t=t.slice(2).replace(/Once$/,""),q(e,t[0].toLowerCase()+t.slice(1))||q(e,pe(t))||q(e,t))}let Mn=null,Bn=null;function An(e){const t=Mn;return Mn=e,Bn=e&&e.type.__scopeId||null,t}function _n(e,t=Mn,n){if(!t)return e;if(e._n)return e;const a=(...n)=>{a._d&&Cr(-1);const r=An(t),o=e(...n);return An(r),a._d&&Cr(1),__VUE_PROD_DEVTOOLS__&&$n(t),o};return a._n=!0,a._c=!0,a._d=!0,a}function Ln(e){const{type:t,vnode:n,proxy:a,withProxy:r,props:o,propsOptions:[s],slots:i,attrs:l,emit:c,render:u,renderCache:p,data:d,setupState:f,ctx:h,inheritAttrs:m}=e;let g,v;const b=An(e);try{if(4&n.shapeFlag){const e=r||a;g=Fr(u.call(e,e,p,o,f,d,h)),v=l}else{const e=t;0,g=Fr(e.length>1?e(o,{attrs:l,slots:i,emit:c}):e(o,null)),v=t.props?l:Dn(l)}}catch(t){vr.length=0,Qt(t,e,1),g=Pr(mr)}let y=g;if(v&&!1!==m){const e=Object.keys(v),{shapeFlag:t}=y;e.length&&7&t&&(s&&e.some(j)&&(v=Fn(v,s)),y=Ar(y,v))}return n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,An(b),g}const Dn=e=>{let t;for(const n in e)("class"===n||"style"===n||H(n))&&((t||(t={}))[n]=e[n]);return t},Fn=(e,t)=>{const n={};for(const a in e)j(a)&&a.slice(9)in t||(n[a]=e[a]);return n};function zn(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let r=0;r<a.length;r++){const o=a[r];if(t[o]!==e[o]&&!Pn(n,o))return!0}return!1}function Vn({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}function Hn(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):gn(e)}function jn(e,t){if(Jr){let n=Jr.provides;const a=Jr.parent&&Jr.parent.provides;a===n&&(n=Jr.provides=Object.create(a)),n[e]=t}else 0}function Wn(e,t,n=!1){const a=Jr||Mn;if(a){const r=null==a.parent?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Q(t)?t.call(a.proxy):t}else 0}const Un={};function Gn(e,t,n){return qn(e,t,n)}function qn(e,t,{immediate:n,deep:a,flush:r,onTrack:o,onTrigger:s}=L){const i=Jr;let l,c,u=!1,p=!1;if(zt(e)?(l=()=>e.value,u=Pt(e)):Nt(e)?(l=()=>e,a=!0):X(e)?(p=!0,u=e.some(Nt),l=()=>e.map((e=>zt(e)?e.value:Nt(e)?Kn(e):Q(e)?Yt(e,i,2):void 0))):l=Q(e)?t?()=>Yt(e,i,2):()=>{if(!i||!i.isUnmounted)return c&&c(),Kt(e,i,3,[d])}:F,t&&a){const e=l;l=()=>Kn(e())}let d=e=>{c=g.onStop=()=>{Yt(e,i,4)}};if(so)return d=F,t?n&&Kt(t,i,3,[l(),p?[]:void 0,d]):l(),F;let f=p?[]:Un;const h=()=>{if(g.active)if(t){const e=g.run();(a||u||(p?e.some(((e,t)=>he(e,f[t]))):he(e,f)))&&(c&&c(),Kt(t,i,3,[e,f===Un?void 0:f,d]),f=e)}else g.run()};let m;h.allowRecurse=!!t,m="sync"===r?h:"post"===r?()=>ar(h,i&&i.suspense):()=>{!i||i.isMounted?function(e){mn(e,an,nn,rn)}(h):h()};const g=new Me(l,m);return t?n?h():f=g.run():"post"===r?ar(g.run.bind(g),i&&i.suspense):g.run(),()=>{g.stop(),i&&i.scope&&U(i.scope.effects,g)}}function Xn(e,t,n){const a=this.proxy,r=Z(e)?e.includes(".")?Yn(a,e):()=>a[e]:e.bind(a,a);let o;Q(t)?o=t:(o=t.handler,n=t);const s=Jr;to(this);const i=qn(r,o.bind(a),n);return s?to(s):no(),i}function Yn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Kn(e,t){if(!ee(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),zt(e))Kn(e.value,t);else if(X(e))for(let n=0;n<e.length;n++)Kn(e[n],t);else if(K(e)||Y(e))e.forEach((e=>{Kn(e,t)}));else if(re(e))for(const n in e)Kn(e[n],t);return e}function Qn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ya((()=>{e.isMounted=!0})),Ca((()=>{e.isUnmounting=!0})),e}const Zn=[Function,Array],Jn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zn,onEnter:Zn,onAfterEnter:Zn,onEnterCancelled:Zn,onBeforeLeave:Zn,onLeave:Zn,onAfterLeave:Zn,onLeaveCancelled:Zn,onBeforeAppear:Zn,onAppear:Zn,onAfterAppear:Zn,onAppearCancelled:Zn},setup(e,{slots:t}){const n=eo(),a=Qn();let r;return()=>{const o=t.default&&sa(t.default(),!0);if(!o||!o.length)return;const s=Bt(e),{mode:i}=s;const l=o[0];if(a.isLeaving)return aa(l);const c=ra(l);if(!c)return aa(l);const u=na(c,s,a,n);oa(c,u);const p=n.subTree,d=p&&ra(p);let f=!1;const{getTransitionKey:h}=c.type;if(h){const e=h();void 0===r?r=e:e!==r&&(r=e,f=!0)}if(d&&d.type!==mr&&(!$r(c,d)||f)){const e=na(d,s,a,n);if(oa(d,e),"out-in"===i)return a.isLeaving=!0,e.afterLeave=()=>{a.isLeaving=!1,n.update()},aa(l);"in-out"===i&&c.type!==mr&&(e.delayLeave=(e,t,n)=>{ta(a,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return l}}},ea=Jn;function ta(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function na(e,t,n,a){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:i,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:p,onLeave:d,onAfterLeave:f,onLeaveCancelled:h,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:b}=t,y=String(e.key),x=ta(n,e),w=(e,t)=>{e&&Kt(e,a,9,t)},C={mode:o,persisted:s,beforeEnter(t){let a=i;if(!n.isMounted){if(!r)return;a=m||i}t._leaveCb&&t._leaveCb(!0);const o=x[y];o&&$r(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(a,[t])},enter(e){let t=l,a=c,o=u;if(!n.isMounted){if(!r)return;t=g||l,a=v||c,o=b||u}let s=!1;const i=e._enterCb=t=>{s||(s=!0,w(t?o:a,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,i),t.length<=1&&i()):i()},leave(t,a){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return a();w(p,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,a(),w(n?h:f,[t]),t._leaveCb=void 0,x[r]===e&&delete x[r])};x[r]=e,d?(d(t,s),d.length<=1&&s()):s()},clone:e=>na(e,t,n,a)};return C}function aa(e){if(la(e))return(e=Ar(e)).children=null,e}function ra(e){return la(e)?e.children?e.children[0]:void 0:e}function oa(e,t){6&e.shapeFlag&&e.component?oa(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sa(e,t=!1){let n=[],a=0;for(let r=0;r<e.length;r++){const o=e[r];o.type===fr?(128&o.patchFlag&&a++,n=n.concat(sa(o.children,t))):(t||o.type!==mr)&&n.push(o)}if(a>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}const ia=e=>!!e.type.__asyncLoader;const la=e=>e.type.__isKeepAlive;RegExp,RegExp;function ca(e,t){return X(e)?e.some((e=>ca(e,t))):Z(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function ua(e,t){da(e,"a",t)}function pa(e,t){da(e,"da",t)}function da(e,t,n=Jr){const a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ga(t,a,n),n){let e=n.parent;for(;e&&e.parent;)la(e.parent.vnode)&&fa(a,t,n,e),e=e.parent}}function fa(e,t,n,a){const r=ga(t,e,a,!0);ka((()=>{U(a[t],r)}),n)}function ha(e){let t=e.shapeFlag;256&t&&256,512&t&&512,e.shapeFlag=t}function ma(e){return 128&e.shapeFlag?e.ssContent:e}function ga(e,t,n=Jr,a=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Le(),to(n);const r=Kt(t,n,e,a);return no(),De(),r});return a?r.unshift(o):r.push(o),o}}const va=e=>(t,n=Jr)=>(!so||"sp"===e)&&ga(e,t,n),ba=va("bm"),ya=va("m"),xa=va("bu"),wa=va("u"),Ca=va("bum"),ka=va("um"),Ea=va("sp"),Sa=va("rtg"),Ta=va("rtc");function $a(e,t=Jr){ga("ec",e,t)}let Oa=!0;function Ia(e){const t=Pa(e),n=e.proxy,a=e.ctx;Oa=!1,t.beforeCreate&&Na(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:s,watch:i,provide:l,inject:c,created:u,beforeMount:p,mounted:d,beforeUpdate:f,updated:h,activated:m,deactivated:g,beforeDestroy:v,beforeUnmount:b,destroyed:y,unmounted:x,render:w,renderTracked:C,renderTriggered:k,errorCaptured:E,serverPrefetch:S,expose:T,inheritAttrs:$,components:O,directives:I,filters:N}=t;if(c&&function(e,t,n=F,a=!1){X(e)&&(e=_a(e));for(const n in e){const r=e[n];let o;o=ee(r)?"default"in r?Wn(r.from||n,r.default,!0):Wn(r.from||n):Wn(r),zt(o)&&a?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o}}(c,a,null,e.appContext.config.unwrapInjectedRef),s)for(const e in s){const t=s[e];Q(t)&&(a[e]=t.bind(n))}if(r){0;const t=r.call(n,n);0,ee(t)&&(e.data=$t(t))}if(Oa=!0,o)for(const e in o){const t=o[e],r=Q(t)?t.bind(n,n):Q(t.get)?t.get.bind(n,n):F;0;const s=!Q(t)&&Q(t.set)?t.set.bind(n):F,i=mo({get:r,set:s});Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(i)for(const e in i)Ra(i[e],a,n,e);if(l){const e=Q(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{jn(t,e[t])}))}function R(e,t){X(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&Na(u,e,"c"),R(ba,p),R(ya,d),R(xa,f),R(wa,h),R(ua,m),R(pa,g),R($a,E),R(Ta,C),R(Sa,k),R(Ca,b),R(ka,x),R(Ea,S),X(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});w&&e.render===F&&(e.render=w),null!=$&&(e.inheritAttrs=$),O&&(e.components=O),I&&(e.directives=I)}function Na(e,t,n){Kt(X(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Ra(e,t,n,a){const r=a.includes(".")?Yn(n,a):()=>n[a];if(Z(e)){const n=t[e];Q(n)&&Gn(r,n)}else if(Q(e))Gn(r,e.bind(n));else if(ee(e))if(X(e))e.forEach((e=>Ra(e,t,n,a)));else{const a=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(a)&&Gn(r,a,e)}else 0}function Pa(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,i=o.get(t);let l;return i?l=i:r.length||n||a?(l={},r.length&&r.forEach((e=>Ma(l,e,s,!0))),Ma(l,t,s)):l=t,o.set(t,l),l}function Ma(e,t,n,a=!1){const{mixins:r,extends:o}=t;o&&Ma(e,o,n,!0),r&&r.forEach((t=>Ma(e,t,n,!0)));for(const r in t)if(a&&"expose"===r);else{const a=Ba[r]||n&&n[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const Ba={data:Aa,props:Da,emits:Da,methods:Da,computed:Da,beforeCreate:La,created:La,beforeMount:La,mounted:La,beforeUpdate:La,updated:La,beforeDestroy:La,beforeUnmount:La,destroyed:La,unmounted:La,activated:La,deactivated:La,errorCaptured:La,serverPrefetch:La,components:Da,directives:Da,watch:function(e,t){if(!e)return t;if(!t)return e;const n=W(Object.create(null),e);for(const a in t)n[a]=La(e[a],t[a]);return n},provide:Aa,inject:function(e,t){return Da(_a(e),_a(t))}};function Aa(e,t){return t?e?function(){return W(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function _a(e){if(X(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function La(e,t){return e?[...new Set([].concat(e,t))]:t}function Da(e,t){return e?W(W(Object.create(null),e),t):t}function Fa(e,t,n,a=!1){const r={},o={};ge(o,Or,1),e.propsDefaults=Object.create(null),za(e,t,r,o);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);n?e.props=a?r:It(r,!1,et,xt,kt):e.type.props?e.props=r:e.props=o,e.attrs=o}function za(e,t,n,a){const[r,o]=e.propsOptions;let s,i=!1;if(t)for(let l in t){if(se(l))continue;const c=t[l];let u;r&&q(r,u=ce(l))?o&&o.includes(u)?(s||(s={}))[u]=c:n[u]=c:Pn(e.emitsOptions,l)||l in a&&c===a[l]||(a[l]=c,i=!0)}if(o){const t=Bt(n),a=s||L;for(let s=0;s<o.length;s++){const i=o[s];n[i]=Va(r,t,i,a[i],e,!q(a,i))}}return i}function Va(e,t,n,a,r,o){const s=e[n];if(null!=s){const e=q(s,"default");if(e&&void 0===a){const e=s.default;if(s.type!==Function&&Q(e)){const{propsDefaults:o}=r;n in o?a=o[n]:(to(r),a=o[n]=e.call(null,t),no())}else a=e}s[0]&&(o&&!e?a=!1:!s[1]||""!==a&&a!==pe(n)||(a=!0))}return a}function Ha(e,t,n=!1){const a=t.propsCache,r=a.get(e);if(r)return r;const o=e.props,s={},i=[];let l=!1;if(__VUE_OPTIONS_API__&&!Q(e)){const a=e=>{l=!0;const[n,a]=Ha(e,t,!0);W(s,n),a&&i.push(...a)};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!o&&!l)return a.set(e,D),D;if(X(o))for(let e=0;e<o.length;e++){0;const t=ce(o[e]);ja(t)&&(s[t]=L)}else if(o){0;for(const e in o){const t=ce(e);if(ja(t)){const n=o[e],a=s[t]=X(n)||Q(n)?{type:n}:n;if(a){const e=Ga(Boolean,a.type),n=Ga(String,a.type);a[0]=e>-1,a[1]=n<0||e<n,(e>-1||q(a,"default"))&&i.push(t)}}}}const c=[s,i];return a.set(e,c),c}function ja(e){return"$"!==e[0]}function Wa(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Ua(e,t){return Wa(e)===Wa(t)}function Ga(e,t){return X(t)?t.findIndex((t=>Ua(t,e))):Q(t)&&Ua(t,e)?0:-1}const qa=e=>"_"===e[0]||"$stable"===e,Xa=e=>X(e)?e.map(Fr):[Fr(e)],Ya=(e,t,n)=>{const a=_n(((...e)=>Xa(t(...e))),n);return a._c=!1,a},Ka=(e,t,n)=>{const a=e._ctx;for(const n in e){if(qa(n))continue;const r=e[n];if(Q(r))t[n]=Ya(0,r,a);else if(null!=r){0;const e=Xa(r);t[n]=()=>e}}},Qa=(e,t)=>{const n=Xa(t);e.slots.default=()=>n};function Za(e,t,n,a){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const i=r[s];o&&(i.oldValue=o[s].value);let l=i.dir[a];l&&(Le(),Kt(l,n,8,[e.el,i,e,t]),De())}}function Ja(){return{app:null,config:{isNativeTag:z,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let er=0;function tr(e,t){return function(n,a=null){null==a||ee(a)||(a=null);const r=Ja(),o=new Set;let s=!1;const i=r.app={_uid:er++,_component:n,_props:a,_container:null,_context:r,_instance:null,version:vo,get config(){return r.config},set config(e){0},use:(e,...t)=>(o.has(e)||(e&&Q(e.install)?(o.add(e),e.install(i,...t)):Q(e)&&(o.add(e),e(i,...t))),i),mixin:e=>(__VUE_OPTIONS_API__&&(r.mixins.includes(e)||r.mixins.push(e)),i),component:(e,t)=>t?(r.components[e]=t,i):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,i):r.directives[e],mount(o,l,c){if(!s){const u=Pr(n,a);return u.appContext=r,l&&t?t(u,o):e(u,o,c),s=!0,i._container=o,o.__vue_app__=i,__VUE_PROD_DEVTOOLS__&&(i._instance=u.component,function(e,t){En("app:init",e,t,{Fragment:fr,Text:hr,Comment:mr,Static:gr})}(i,vo)),po(u.component)||u.component.proxy}},unmount(){s&&(e(null,i._container),__VUE_PROD_DEVTOOLS__&&(i._instance=null,function(e){En("app:unmount",e)}(i)),delete i._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,i)};return i}}function nr(e,t,n,a,r=!1){if(X(e))return void e.forEach(((e,o)=>nr(e,t&&(X(t)?t[o]:t),n,a,r)));if(ia(a)&&!r)return;const o=4&a.shapeFlag?po(a.component)||a.component.proxy:a.el,s=r?null:o,{i:i,r:l}=e;const c=t&&t.r,u=i.refs===L?i.refs={}:i.refs,p=i.setupState;if(null!=c&&c!==l&&(Z(c)?(u[c]=null,q(p,c)&&(p[c]=null)):zt(c)&&(c.value=null)),Q(l))Yt(l,i,12,[s,u]);else{const t=Z(l),a=zt(l);if(t||a){const a=()=>{if(e.f){const n=t?u[l]:l.value;r?X(n)&&U(n,o):X(n)?n.includes(o)||n.push(o):t?u[l]=[o]:(l.value=[o],e.k&&(u[e.k]=l.value))}else t?(u[l]=s,q(p,l)&&(p[l]=s)):zt(l)&&(l.value=s,e.k&&(u[e.k]=s))};s?(a.id=-1,ar(a,n)):a()}else 0}}const ar=Hn;function rr(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(ye().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(ye().__VUE_PROD_DEVTOOLS__=!1);const n=ye();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Sn(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:a,remove:r,patchProp:o,createElement:s,createText:i,createComment:l,setText:c,setElementText:u,parentNode:p,nextSibling:d,setScopeId:f=F,cloneNode:h,insertStaticContent:m}=e,g=(e,t,n,a=null,r=null,o=null,s=!1,i=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!$r(e,t)&&(a=X(e),V(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:p}=t;switch(c){case hr:v(e,t,n,a);break;case mr:b(e,t,n,a);break;case gr:null==e&&y(t,n,a,s);break;case fr:O(e,t,n,a,r,o,s,i,l);break;default:1&p?w(e,t,n,a,r,o,s,i,l):6&p?I(e,t,n,a,r,o,s,i,l):(64&p||128&p)&&c.process(e,t,n,a,r,o,s,i,l,K)}null!=u&&r&&nr(u,e&&e.ref,o,t||e,!t)},v=(e,t,n,r)=>{if(null==e)a(t.el=i(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},b=(e,t,n,r)=>{null==e?a(t.el=l(t.children||""),n,r):t.el=e.el},y=(e,t,n,a)=>{[e.el,e.anchor]=m(e.children,t,n,a,e.el,e.anchor)},x=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),r(e),e=n;r(t)},w=(e,t,n,a,r,o,s,i,l)=>{s=s||"svg"===t.type,null==e?C(t,n,a,r,o,s,i,l):S(e,t,r,o,s,i,l)},C=(e,t,n,r,i,l,c,p)=>{let d,f;const{type:m,props:g,shapeFlag:v,transition:b,patchFlag:y,dirs:x}=e;if(e.el&&void 0!==h&&-1===y)d=e.el=h(e.el);else{if(d=e.el=s(e.type,l,g&&g.is,g),8&v?u(d,e.children):16&v&&E(e.children,d,null,r,i,l&&"foreignObject"!==m,c,p),x&&Za(e,null,r,"created"),g){for(const t in g)"value"===t||se(t)||o(d,t,null,g[t],l,e.children,r,i,G);"value"in g&&o(d,"value",null,g.value),(f=g.onVnodeBeforeMount)&&jr(f,r,e)}k(d,e,e.scopeId,c,r)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(d,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:r,enumerable:!1})),x&&Za(e,null,r,"beforeMount");const w=(!i||i&&!i.pendingBranch)&&b&&!b.persisted;w&&b.beforeEnter(d),a(d,t,n),((f=g&&g.onVnodeMounted)||w||x)&&ar((()=>{f&&jr(f,r,e),w&&b.enter(d),x&&Za(e,null,r,"mounted")}),i)},k=(e,t,n,a,r)=>{if(n&&f(e,n),a)for(let t=0;t<a.length;t++)f(e,a[t]);if(r){if(t===r.subTree){const t=r.vnode;k(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,a,r,o,s,i,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=i?zr(e[c]):Fr(e[c]);g(null,l,t,n,a,r,o,s,i)}},S=(e,t,n,a,r,s,i)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:p,dirs:d}=t;c|=16&e.patchFlag;const f=e.props||L,h=t.props||L;let m;n&&or(n,!1),(m=h.onVnodeBeforeUpdate)&&jr(m,n,t,e),d&&Za(t,e,n,"beforeUpdate"),n&&or(n,!0);const g=r&&"foreignObject"!==t.type;if(p?T(e.dynamicChildren,p,l,n,a,g,s):i||B(e,t,l,null,n,a,g,s,!1),c>0){if(16&c)$(l,t,f,h,n,a,r);else if(2&c&&f.class!==h.class&&o(l,"class",null,h.class,r),4&c&&o(l,"style",f.style,h.style,r),8&c){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const i=s[t],c=f[i],u=h[i];u===c&&"value"!==i||o(l,i,c,u,r,e.children,n,a,G)}}1&c&&e.children!==t.children&&u(l,t.children)}else i||null!=p||$(l,t,f,h,n,a,r);((m=h.onVnodeUpdated)||d)&&ar((()=>{m&&jr(m,n,t,e),d&&Za(t,e,n,"updated")}),a)},T=(e,t,n,a,r,o,s)=>{for(let i=0;i<t.length;i++){const l=e[i],c=t[i],u=l.el&&(l.type===fr||!$r(l,c)||70&l.shapeFlag)?p(l.el):n;g(l,c,u,null,a,r,o,s,!0)}},$=(e,t,n,a,r,s,i)=>{if(n!==a){for(const l in a){if(se(l))continue;const c=a[l],u=n[l];c!==u&&"value"!==l&&o(e,l,u,c,i,t.children,r,s,G)}if(n!==L)for(const l in n)se(l)||l in a||o(e,l,n[l],null,i,t.children,r,s,G);"value"in a&&o(e,"value",n.value,a.value)}},O=(e,t,n,r,o,s,l,c,u)=>{const p=t.el=e?e.el:i(""),d=t.anchor=e?e.anchor:i("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(a(p,n,r),a(d,n,r),E(t.children,n,d,o,s,l,c,u)):f>0&&64&f&&h&&e.dynamicChildren?(T(e.dynamicChildren,h,n,o,s,l,c),(null!=t.key||o&&t===o.subTree)&&sr(e,t,!0)):B(e,t,n,d,o,s,l,c,u)},I=(e,t,n,a,r,o,s,i,l)=>{t.slotScopeIds=i,null==e?512&t.shapeFlag?r.ctx.activate(t,n,a,s,l):N(t,n,a,r,o,s,l):R(e,t,l)},N=(e,t,n,a,r,o,s)=>{const i=e.component=Zr(e,a,r);if(la(e)&&(i.ctx.renderer=K),io(i),i.asyncDep){if(r&&r.registerDep(i,P),!e.el){const e=i.subTree=Pr(mr);b(null,e,t,n)}}else P(i,e,t,n,r,o,s)},R=(e,t,n)=>{const a=t.component=e.component;if(function(e,t,n){const{props:a,children:r,component:o}=e,{props:s,children:i,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!i||i&&i.$stable)||a!==s&&(a?!s||zn(a,s,c):!!s);if(1024&l)return!0;if(16&l)return a?zn(a,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==a[n]&&!Pn(c,n))return!0}}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void M(a,t,n);a.next=t,function(e){const t=en.indexOf(e);t>tn&&en.splice(t,1)}(a.update),a.update()}else t.component=e.component,t.el=e.el,a.vnode=t},P=(e,t,n,a,r,o,s)=>{const i=e.effect=new Me((()=>{if(e.isMounted){let t,{next:n,bu:a,u:i,parent:l,vnode:c}=e,u=n;0,or(e,!1),n?(n.el=c.el,M(e,n,s)):n=c,a&&me(a),(t=n.props&&n.props.onVnodeBeforeUpdate)&&jr(t,l,n,c),or(e,!0);const d=Ln(e);0;const f=e.subTree;e.subTree=d,g(f,d,p(f.el),X(f),e,r,o),n.el=d.el,null===u&&Vn(e,d.el),i&&ar(i,r),(t=n.props&&n.props.onVnodeUpdated)&&ar((()=>jr(t,l,n,c)),r),__VUE_PROD_DEVTOOLS__&&$n(e)}else{let s;const{el:i,props:l}=t,{bm:c,m:u,parent:p}=e,d=ia(t);if(or(e,!1),c&&me(c),!d&&(s=l&&l.onVnodeBeforeMount)&&jr(s,p,t),or(e,!0),i&&Z){const n=()=>{e.subTree=Ln(e),Z(i,e.subTree,e,r,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const s=e.subTree=Ln(e);0,g(null,s,n,a,e,r,o),t.el=s.el}if(u&&ar(u,r),!d&&(s=l&&l.onVnodeMounted)){const e=t;ar((()=>jr(s,p,e)),r)}256&t.shapeFlag&&e.a&&ar(e.a,r),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Tn(e),t=n=a=null}}),(()=>fn(e.update)),e.scope),l=e.update=i.run.bind(i);l.id=e.uid,or(e,!0),l()},M=(e,t,n)=>{t.component=e;const a=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,a){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,i=Bt(r),[l]=e.propsOptions;let c=!1;if(!(a||s>0)||16&s){let a;za(e,t,r,o)&&(c=!0);for(const o in i)t&&(q(t,o)||(a=pe(o))!==o&&q(t,a))||(l?!n||void 0===n[o]&&void 0===n[a]||(r[o]=Va(l,i,o,void 0,e,!0)):delete r[o]);if(o!==i)for(const e in o)t&&q(t,e)||(delete o[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let a=0;a<n.length;a++){let s=n[a];const u=t[s];if(l)if(q(o,s))u!==o[s]&&(o[s]=u,c=!0);else{const t=ce(s);r[t]=Va(l,i,t,u,e,!1)}else u!==o[s]&&(o[s]=u,c=!0)}}c&&Ve(e,"set","$attrs")}(e,t.props,a,n),((e,t,n)=>{const{vnode:a,slots:r}=e;let o=!0,s=L;if(32&a.shapeFlag){const e=t._;e?n&&1===e?o=!1:(W(r,t),n||1!==e||delete r._):(o=!t.$stable,Ka(t,r)),s=t}else t&&(Qa(e,t),s={default:1});if(o)for(const e in r)qa(e)||e in s||delete r[e]})(e,t.children,n),Le(),vn(void 0,e.update),De()},B=(e,t,n,a,r,o,s,i,l=!1)=>{const c=e&&e.children,p=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:h}=t;if(f>0){if(128&f)return void _(c,d,n,a,r,o,s,i,l);if(256&f)return void A(c,d,n,a,r,o,s,i,l)}8&h?(16&p&&G(c,r,o),d!==c&&u(n,d)):16&p?16&h?_(c,d,n,a,r,o,s,i,l):G(c,r,o,!0):(8&p&&u(n,""),16&h&&E(d,n,a,r,o,s,i,l))},A=(e,t,n,a,r,o,s,i,l)=>{t=t||D;const c=(e=e||D).length,u=t.length,p=Math.min(c,u);let d;for(d=0;d<p;d++){const a=t[d]=l?zr(t[d]):Fr(t[d]);g(e[d],a,n,null,r,o,s,i,l)}c>u?G(e,r,o,!0,!1,p):E(t,n,a,r,o,s,i,l,p)},_=(e,t,n,a,r,o,s,i,l)=>{let c=0;const u=t.length;let p=e.length-1,d=u-1;for(;c<=p&&c<=d;){const a=e[c],u=t[c]=l?zr(t[c]):Fr(t[c]);if(!$r(a,u))break;g(a,u,n,null,r,o,s,i,l),c++}for(;c<=p&&c<=d;){const a=e[p],c=t[d]=l?zr(t[d]):Fr(t[d]);if(!$r(a,c))break;g(a,c,n,null,r,o,s,i,l),p--,d--}if(c>p){if(c<=d){const e=d+1,p=e<u?t[e].el:a;for(;c<=d;)g(null,t[c]=l?zr(t[c]):Fr(t[c]),n,p,r,o,s,i,l),c++}}else if(c>d)for(;c<=p;)V(e[c],r,o,!0),c++;else{const f=c,h=c,m=new Map;for(c=h;c<=d;c++){const e=t[c]=l?zr(t[c]):Fr(t[c]);null!=e.key&&m.set(e.key,c)}let v,b=0;const y=d-h+1;let x=!1,w=0;const C=new Array(y);for(c=0;c<y;c++)C[c]=0;for(c=f;c<=p;c++){const a=e[c];if(b>=y){V(a,r,o,!0);continue}let u;if(null!=a.key)u=m.get(a.key);else for(v=h;v<=d;v++)if(0===C[v-h]&&$r(a,t[v])){u=v;break}void 0===u?V(a,r,o,!0):(C[u-h]=c+1,u>=w?w=u:x=!0,g(a,t[u],n,null,r,o,s,i,l),b++)}const k=x?function(e){const t=e.slice(),n=[0];let a,r,o,s,i;const l=e.length;for(a=0;a<l;a++){const l=e[a];if(0!==l){if(r=n[n.length-1],e[r]<l){t[a]=r,n.push(a);continue}for(o=0,s=n.length-1;o<s;)i=o+s>>1,e[n[i]]<l?o=i+1:s=i;l<e[n[o]]&&(o>0&&(t[a]=n[o-1]),n[o]=a)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=t[s];return n}(C):D;for(v=k.length-1,c=y-1;c>=0;c--){const e=h+c,p=t[e],d=e+1<u?t[e+1].el:a;0===C[c]?g(null,p,n,d,r,o,s,i,l):x&&(v<0||c!==k[v]?z(p,n,d,2):v--)}}},z=(e,t,n,r,o=null)=>{const{el:s,type:i,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void z(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void i.move(e,t,n,K);if(i===fr){a(s,t,n);for(let e=0;e<c.length;e++)z(c[e],t,n,r);return void a(e.anchor,t,n)}if(i===gr)return void(({el:e,anchor:t},n,r)=>{let o;for(;e&&e!==t;)o=d(e),a(e,n,r),e=o;a(t,n,r)})(e,t,n);if(2!==r&&1&u&&l)if(0===r)l.beforeEnter(s),a(s,t,n),ar((()=>l.enter(s)),o);else{const{leave:e,delayLeave:r,afterLeave:o}=l,i=()=>a(s,t,n),c=()=>{e(s,(()=>{i(),o&&o()}))};r?r(s,i,c):c()}else a(s,t,n)},V=(e,t,n,a=!1,r=!1)=>{const{type:o,props:s,ref:i,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:p,dirs:d}=e;if(null!=i&&nr(i,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d,h=!ia(e);let m;if(h&&(m=s&&s.onVnodeBeforeUnmount)&&jr(m,t,e),6&u)U(e.component,n,a);else{if(128&u)return void e.suspense.unmount(n,a);f&&Za(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,K,a):c&&(o!==fr||p>0&&64&p)?G(c,t,n,!1,!0):(o===fr&&384&p||!r&&16&u)&&G(l,t,n),a&&H(e)}(h&&(m=s&&s.onVnodeUnmounted)||f)&&ar((()=>{m&&jr(m,t,e),f&&Za(e,null,t,"unmounted")}),n)},H=e=>{const{type:t,el:n,anchor:a,transition:o}=e;if(t===fr)return void j(n,a);if(t===gr)return void x(e);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:a}=o,r=()=>t(n,s);a?a(e.el,s,r):r()}else s()},j=(e,t)=>{let n;for(;e!==t;)n=d(e),r(e),e=n;r(t)},U=(e,t,n)=>{const{bum:a,scope:r,update:o,subTree:s,um:i}=e;a&&me(a),r.stop(),o&&(o.active=!1,V(s,e,t,n)),i&&ar(i,t),ar((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&On(e)},G=(e,t,n,a=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)V(e[s],t,n,a,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():d(e.anchor||e.el),Y=(e,t,n)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),bn(),t._vnode=e},K={p:g,um:V,m:z,r:H,mt:N,mc:E,pc:B,pbc:T,n:X,o:e};let Q,Z;return t&&([Q,Z]=t(K)),{render:Y,hydrate:Q,createApp:tr(Y,Q)}}function or({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function sr(e,t,n=!1){const a=e.children,r=t.children;if(X(a)&&X(r))for(let e=0;e<a.length;e++){const t=a[e];let o=r[e];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=r[e]=zr(r[e]),o.el=t.el),n||sr(t,o))}}const ir="components";function lr(e,t){return pr(ir,e,!0,t)||e}const cr=Symbol();function ur(e){return Z(e)?pr(ir,e,!1)||e:e||cr}function pr(e,t,n=!0,a=!1){const r=Mn||Jr;if(r){const n=r.type;if(e===ir){const e=fo(n);if(e&&(e===t||e===ce(t)||e===de(ce(t))))return n}const o=dr(r[e]||n[e],t)||dr(r.appContext[e],t);return!o&&a?n:o}}function dr(e,t){return e&&(e[t]||e[ce(t)]||e[de(ce(t))])}const fr=Symbol(void 0),hr=Symbol(void 0),mr=Symbol(void 0),gr=Symbol(void 0),vr=[];let br=null;function yr(e=!1){vr.push(br=e?null:[])}function xr(){vr.pop(),br=vr[vr.length-1]||null}let wr=1;function Cr(e){wr+=e}function kr(e){return e.dynamicChildren=wr>0?br||D:null,xr(),wr>0&&br&&br.push(e),e}function Er(e,t,n,a,r,o){return kr(Rr(e,t,n,a,r,o,!0))}function Sr(e,t,n,a,r){return kr(Pr(e,t,n,a,r,!0))}function Tr(e){return!!e&&!0===e.__v_isVNode}function $r(e,t){return e.type===t.type&&e.key===t.key}const Or="__vInternal",Ir=({key:e})=>null!=e?e:null,Nr=({ref:e,ref_key:t,ref_for:n})=>null!=e?Z(e)||zt(e)||Q(e)?{i:Mn,r:e,k:t,f:!!n}:e:null;function Rr(e,t=null,n=null,a=0,r=null,o=(e===fr?0:1),s=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ir(t),ref:t&&Nr(t),scopeId:Bn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null};return i?(Vr(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=Z(n)?8:16),wr>0&&!s&&br&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&br.push(l),l}const Pr=Mr;function Mr(e,t=null,n=null,a=0,r=null,o=!1){if(e&&e!==cr||(e=mr),Tr(e)){const a=Ar(e,t,!0);return n&&Vr(a,n),a}if(ho(e)&&(e=e.__vccOpts),t){t=Br(t);let{class:e,style:n}=t;e&&!Z(e)&&(t.class=B(e)),ee(n)&&(Mt(n)&&!X(n)&&(n=W({},n)),t.style=N(n))}return Rr(e,t,n,a,r,Z(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:ee(e)?4:Q(e)?2:0,o,!0)}function Br(e){return e?Mt(e)||Or in e?W({},e):e:null}function Ar(e,t,n=!1){const{props:a,ref:r,patchFlag:o,children:s}=e,i=t?Hr(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&Ir(i),ref:t&&t.ref?n&&r?X(r)?r.concat(Nr(t)):[r,Nr(t)]:Nr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fr?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ar(e.ssContent),ssFallback:e.ssFallback&&Ar(e.ssFallback),el:e.el,anchor:e.anchor}}function _r(e=" ",t=0){return Pr(hr,null,e,t)}function Lr(e,t){const n=Pr(gr,null,e);return n.staticCount=t,n}function Dr(e="",t=!1){return t?(yr(),Sr(mr,null,e)):Pr(mr,null,e)}function Fr(e){return null==e||"boolean"==typeof e?Pr(mr):X(e)?Pr(fr,null,e.slice()):"object"==typeof e?zr(e):Pr(hr,null,String(e))}function zr(e){return null===e.el||e.memo?e:Ar(e)}function Vr(e,t){let n=0;const{shapeFlag:a}=e;if(null==t)t=null;else if(X(t))n=16;else if("object"==typeof t){if(65&a){const n=t.default;return void(n&&(n._c&&(n._d=!1),Vr(e,n()),n._c&&(n._d=!0)))}{n=32;const a=t._;a||Or in t?3===a&&Mn&&(1===Mn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Mn}}else Q(t)?(t={default:t,_ctx:Mn},n=32):(t=String(t),64&a?(n=16,t=[_r(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hr(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const e in a)if("class"===e)t.class!==a.class&&(t.class=B([t.class,a.class]));else if("style"===e)t.style=N([t.style,a.style]);else if(H(e)){const n=t[e],r=a[e];!r||n===r||X(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=a[e])}return t}function jr(e,t,n,a=null){Kt(e,t,7,[n,a])}function Wr(e,t,n,a){let r;const o=n&&n[a];if(X(e)||Z(e)){r=new Array(e.length);for(let n=0,a=e.length;n<a;n++)r[n]=t(e[n],n,void 0,o&&o[n])}else if("number"==typeof e){0,r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,o&&o[n])}else if(ee(e))if(e[Symbol.iterator])r=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);r=new Array(n.length);for(let a=0,s=n.length;a<s;a++){const s=n[a];r[a]=t(e[s],s,a,o&&o[a])}}else r=[];return n&&(n[a]=r),r}function Ur(e,t,n={},a,r){if(Mn.isCE)return Pr("slot","default"===t?null:{name:t},a&&a());let o=e[t];o&&o._c&&(o._d=!1),yr();const s=o&&Gr(o(n)),i=Sr(fr,{key:n.key||`_${t}`},s||(a?a():[]),s&&1===e._?64:-2);return!r&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),o&&o._c&&(o._d=!0),i}function Gr(e){return e.some((e=>!Tr(e)||e.type!==mr&&!(e.type===fr&&!Gr(e.children))))?e:null}const qr=e=>e?ao(e)?po(e)||e.proxy:qr(e.parent):null,Xr=W(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qr(e.parent),$root:e=>qr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Pa(e):e.type,$forceUpdate:e=>()=>fn(e.update),$nextTick:e=>dn.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?Xn.bind(e):F}),Yr={get({_:e},t){const{ctx:n,setupState:a,data:r,props:o,accessCache:s,type:i,appContext:l}=e;let c;if("$"!==t[0]){const i=s[t];if(void 0!==i)switch(i){case 1:return a[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(a!==L&&q(a,t))return s[t]=1,a[t];if(r!==L&&q(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&q(c,t))return s[t]=3,o[t];if(n!==L&&q(n,t))return s[t]=4,n[t];__VUE_OPTIONS_API__&&!Oa||(s[t]=0)}}const u=Xr[t];let p,d;return u?("$attrs"===t&&Fe(e,0,t),u(e)):(p=i.__cssModules)&&(p=p[t])?p:n!==L&&q(n,t)?(s[t]=4,n[t]):(d=l.config.globalProperties,q(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:a,setupState:r,ctx:o}=e;return r!==L&&q(r,t)?(r[t]=n,!0):a!==L&&q(a,t)?(a[t]=n,!0):!q(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:r,propsOptions:o}},s){let i;return!!n[s]||e!==L&&q(e,s)||t!==L&&q(t,s)||(i=o[0])&&q(i,s)||q(a,s)||q(Xr,s)||q(r.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?this.set(e,t,n.get(),null):null!=n.value&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const Kr=Ja();let Qr=0;function Zr(e,t,n){const a=e.type,r=(t?t.appContext:e.appContext)||Kr,o={uid:Qr++,vnode:e,type:a,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new we(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ha(a,r),emitsOptions:Rn(a,r),emit:null,emitted:null,propsDefaults:L,inheritAttrs:a.inheritAttrs,ctx:L,data:L,props:L,attrs:L,slots:L,refs:L,setupState:L,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Nn.bind(null,o),e.ce&&e.ce(o),o}let Jr=null;const eo=()=>Jr||Mn,to=e=>{Jr=e,e.scope.on()},no=()=>{Jr&&Jr.scope.off(),Jr=null};function ao(e){return 4&e.vnode.shapeFlag}let ro,oo,so=!1;function io(e,t=!1){so=t;const{props:n,children:a}=e.vnode,r=ao(e);Fa(e,n,r,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Bt(t),ge(t,"_",n)):Ka(t,e.slots={})}else e.slots={},t&&Qa(e,t);ge(e.slots,Or,1)})(e,a);const o=r?function(e,t){const n=e.type;0;e.accessCache=Object.create(null),e.proxy=At(new Proxy(e.ctx,Yr)),!1;const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?uo(e):null;to(e),Le();const r=Yt(a,e,0,[e.props,n]);if(De(),no(),te(r)){if(r.then(no,no),t)return r.then((n=>{lo(e,n,t)})).catch((t=>{Qt(t,e,0)}));e.asyncDep=r}else lo(e,r,t)}else co(e,t)}(e,t):void 0;return so=!1,o}function lo(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ee(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=Ut(t)),co(e,n)}function co(e,t,n){const a=e.type;if(!e.render){if(!t&&ro&&!a.render){const t=a.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:s}=a,i=W(W({isCustomElement:n,delimiters:o},r),s);a.render=ro(t,i)}}e.render=a.render||F,oo&&oo(e)}__VUE_OPTIONS_API__&&(to(e),Le(),Ia(e),De(),no())}function uo(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(Fe(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function po(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ut(At(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Xr?Xr[n](e):void 0}))}function fo(e){return Q(e)&&e.displayName||e.name}function ho(e){return Q(e)&&"__vccOpts"in e}const mo=(e,t)=>function(e,t,n=!1){let a,r;const o=Q(e);return o?(a=e,r=F):(a=e.get,r=e.set),new Xt(a,r,o||!r,n)}(e,0,so);function go(e,t,n){const a=arguments.length;return 2===a?ee(t)&&!X(t)?Tr(t)?Pr(e,null,[t]):Pr(e,t):Pr(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):3===a&&Tr(n)&&(n=[n]),Pr(e,t,n))}Symbol("");const vo="3.2.31",bo="undefined"!=typeof document?document:null,yo=bo&&bo.createElement("template"),xo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const r=t?bo.createElementNS("http://www.w3.org/2000/svg",e):bo.createElement(e,n?{is:n}:void 0);return"select"===e&&a&&null!=a.multiple&&r.setAttribute("multiple",a.multiple),r},createText:e=>bo.createTextNode(e),createComment:e=>bo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,a,r,o){const s=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==o&&(r=r.nextSibling););else{yo.innerHTML=a?`<svg>${e}</svg>`:e;const r=yo.content;if(a){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const wo=/\s*!important$/;function Co(e,t,n){if(X(n))n.forEach((n=>Co(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const a=function(e,t){const n=Eo[t];if(n)return n;let a=ce(t);if("filter"!==a&&a in e)return Eo[t]=a;a=de(a);for(let n=0;n<ko.length;n++){const r=ko[n]+a;if(r in e)return Eo[t]=r}return t}(e,t);wo.test(n)?e.setProperty(pe(a),n.replace(wo,""),"important"):e[a]=n}}const ko=["Webkit","Moz","ms"],Eo={};const So="http://www.w3.org/1999/xlink";let To=Date.now,$o=!1;if("undefined"!=typeof window){To()>document.createEvent("Event").timeStamp&&(To=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);$o=!!(e&&Number(e[1])<=53)}let Oo=0;const Io=Promise.resolve(),No=()=>{Oo=0};function Ro(e,t,n,a){e.addEventListener(t,n,a)}function Po(e,t,n,a,r=null){const o=e._vei||(e._vei={}),s=o[t];if(a&&s)s.value=a;else{const[n,i]=function(e){let t;if(Mo.test(e)){let n;for(t={};n=e.match(Mo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[pe(e.slice(2)),t]}(t);if(a){const s=o[t]=function(e,t){const n=e=>{const a=e.timeStamp||To();($o||a>=n.attached-1)&&Kt(function(e,t){if(X(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Oo||(Io.then(No),Oo=To()))(),n}(a,r);Ro(e,n,s,i)}else s&&(!function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,s,i),o[t]=void 0)}}const Mo=/(?:Once|Passive|Capture)$/;const Bo=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const Ao="transition",_o="animation",Lo=(e,{slots:t})=>go(ea,Vo(e),t);Lo.displayName="Transition";const Do={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fo=(Lo.props=W({},ea.props,Do),(e,t=[])=>{X(e)?e.forEach((e=>e(...t))):e&&e(...t)}),zo=e=>!!e&&(X(e)?e.some((e=>e.length>1)):e.length>1);function Vo(e){const t={};for(const n in e)n in Do||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:a,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=i,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,h=function(e){if(null==e)return null;if(ee(e))return[Ho(e.enter),Ho(e.leave)];{const t=Ho(e);return[t,t]}}(r),m=h&&h[0],g=h&&h[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:y,onLeave:x,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:k=b,onAppearCancelled:E=y}=t,S=(e,t,n)=>{Wo(e,t?u:i),Wo(e,t?c:s),n&&n()},T=(e,t)=>{Wo(e,f),Wo(e,d),t&&t()},$=e=>(t,n)=>{const r=e?k:b,s=()=>S(t,e,n);Fo(r,[t,s]),Uo((()=>{Wo(t,e?l:o),jo(t,e?u:i),zo(r)||qo(t,a,m,s)}))};return W(t,{onBeforeEnter(e){Fo(v,[e]),jo(e,o),jo(e,s)},onBeforeAppear(e){Fo(C,[e]),jo(e,l),jo(e,c)},onEnter:$(!1),onAppear:$(!0),onLeave(e,t){const n=()=>T(e,t);jo(e,p),Qo(),jo(e,d),Uo((()=>{Wo(e,p),jo(e,f),zo(x)||qo(e,a,g,n)})),Fo(x,[e,n])},onEnterCancelled(e){S(e,!1),Fo(y,[e])},onAppearCancelled(e){S(e,!0),Fo(E,[e])},onLeaveCancelled(e){T(e),Fo(w,[e])}})}function Ho(e){return ve(e)}function jo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Wo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Uo(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Go=0;function qo(e,t,n,a){const r=e._endId=++Go,o=()=>{r===e._endId&&a()};if(n)return setTimeout(o,n);const{type:s,timeout:i,propCount:l}=Xo(e,t);if(!s)return a();const c=s+"end";let u=0;const p=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&p()};setTimeout((()=>{u<l&&p()}),i+1),e.addEventListener(c,d)}function Xo(e,t){const n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),r=a("transitionDelay"),o=a("transitionDuration"),s=Yo(r,o),i=a("animationDelay"),l=a("animationDuration"),c=Yo(i,l);let u=null,p=0,d=0;t===Ao?s>0&&(u=Ao,p=s,d=o.length):t===_o?c>0&&(u=_o,p=c,d=l.length):(p=Math.max(s,c),u=p>0?s>c?Ao:_o:null,d=u?u===Ao?o.length:l.length:0);return{type:u,timeout:p,propCount:d,hasTransform:u===Ao&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function Yo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Ko(t)+Ko(e[n]))))}function Ko(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Qo(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Zo=W({patchProp:(e,t,n,a,r=!1,o,s,i,l)=>{"class"===t?function(e,t,n){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,r):"style"===t?function(e,t,n){const a=e.style,r=Z(n);if(n&&!r){for(const e in n)Co(a,e,n[e]);if(t&&!Z(t))for(const e in t)null==n[e]&&Co(a,e,"")}else{const o=a.display;r?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=o)}}(e,n,a):H(t)?j(t)||Po(e,t,0,a,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,a){if(a)return"innerHTML"===t||"textContent"===t||!!(t in e&&Bo.test(t)&&Q(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Bo.test(t)&&Z(n))return!1;return t in e}(e,t,a,r))?function(e,t,n,a,r,o,s){if("innerHTML"===t||"textContent"===t)return a&&s(a,r,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const a=null==n?"":n;return e.value===a&&"OPTION"!==e.tagName||(e.value=a),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const a=typeof e[t];if("boolean"===a)return void(e[t]=I(n));if(null==n&&"string"===a)return e[t]="",void e.removeAttribute(t);if("number"===a){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=n}catch(e){}}(e,t,a,o,s,i,l):("true-value"===t?e._trueValue=a:"false-value"===t&&(e._falseValue=a),function(e,t,n,a,r){if(a&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(So,t.slice(6,t.length)):e.setAttributeNS(So,t,n);else{const a=O(t);null==n||a&&!I(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}(e,t,a,r))}},xo);let Jo;function es(){return Jo||(Jo=rr(Zo))}function ts(e){if(Z(e)){return document.querySelector(e)}return e}function ns(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function as(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(n){void 0===e[n]?e[n]=t[n]:ns(t[n])&&ns(e[n])&&Object.keys(t[n]).length>0&&as(e[n],t[n])}))}var rs={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function os(){var e="undefined"!=typeof document?document:{};return as(e,rs),e}var ss={document:rs,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function is(){var e="undefined"!=typeof window?window:{};return as(e,ss),e}var ls=0;function cs(){return ls+=1}function us(e,t){void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef");var n=t.length;return e.replace(/x/g,(function(){return t[Math.floor(Math.random()*n)]}))}var ps,ds,fs='\n  <span class="preloader-inner">\n    <svg viewBox="0 0 36 36">\n      <circle cx="18" cy="18" r="16"></circle>\n    </svg>\n  </span>\n'.trim(),hs=('\n  <span class="preloader-inner">\n    '+[0,1,2,3,4,5,6,7].map((function(){return'<span class="preloader-inner-line"></span>'})).join("")+"\n  </span>\n").trim(),ms='\n  <span class="preloader-inner">\n    <span class="preloader-inner-circle"></span>\n  </span>\n';function gs(e){var t;return e.split("").map((function(e,n){return e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,":"+e.toLowerCase()):e.toLowerCase()})).join("")}function vs(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function bs(e){return is().requestAnimationFrame(e)}function ys(e){return is().cancelAnimationFrame(e)}function xs(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function ws(e){return bs((function(){bs(e)}))}function Cs(){return Date.now()}function ks(e){var t,n,a,r,o=is(),s={},i=e||o.location.href;if("string"==typeof i&&i.length)for(r=(n=(i=i.indexOf("?")>-1?i.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,t=0;t<r;t+=1)a=n[t].replace(/#\S+/g,"").split("="),s[decodeURIComponent(a[0])]=void 0===a[1]?void 0:decodeURIComponent(a.slice(1).join("="))||"";return s}function Es(e,t){void 0===t&&(t="x");var n,a,r,o=is(),s=o.getComputedStyle(e,null);return o.WebKitCSSMatrix?((a=s.transform||s.webkitTransform).split(",").length>6&&(a=a.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new o.WebKitCSSMatrix("none"===a?"":a)):n=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(a=o.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=o.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0}function Ss(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;var n,a=[];function r(e){if(t.length>0){for(var n="",a=0;a<t.length;a+=1)n+=0===a?t[a]:"["+encodeURIComponent(t[a])+"]";return n+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function o(e){return encodeURIComponent(e)}return Object.keys(e).forEach((function(s){var i;if(Array.isArray(e[s])){i=[];for(var l=0;l<e[s].length;l+=1)Array.isArray(e[s][l])||"object"!=typeof e[s][l]?i.push(r(s)+"[]="+o(e[s][l])):((n=t.slice()).push(s),n.push(String(l)),i.push(Ss(e[s][l],n)));i.length>0&&a.push(i.join("&"))}else null===e[s]||""===e[s]?a.push(r(s)+"="):"object"==typeof e[s]?((n=t.slice()).push(s),""!==(i=Ss(e[s],n))&&a.push(i)):void 0!==e[s]&&""!==e[s]?a.push(r(s)+"="+o(e[s])):""===e[s]&&a.push(r(s))})),a.join("&")}function Ts(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function $s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];t.splice(0,1);for(var r=t,o=0;o<r.length;o+=1){var s=t[o];if(null!=s)for(var i=Object.keys(Object(s)),l=0,c=i.length;l<c;l+=1){var u=i[l],p=Object.getOwnPropertyDescriptor(s,u);void 0!==p&&p.enumerable&&(a[u]=s[u])}}return a}function Os(){for(var e,t,n=!0,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];"boolean"==typeof r[0]?(n=r[0],e=r[1],r.splice(0,2),t=r):(e=r[0],r.splice(0,1),t=r);for(var s=0;s<t.length;s+=1){var i=r[s];if(null!=i)for(var l=Object.keys(Object(i)),c=0,u=l.length;c<u;c+=1){var p=l[c],d=Object.getOwnPropertyDescriptor(i,p);void 0!==d&&d.enumerable&&(n?Ts(e[p])&&Ts(i[p])?Os(e[p],i[p]):!Ts(e[p])&&Ts(i[p])?(e[p]={},Os(e[p],i[p])):e[p]=i[p]:e[p]=i[p])}}return e}function Is(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map((function(e){return parseInt(e,16)})):null}function Ns(e,t,n){var a=[e,t,n].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("");return"#"+a}function Rs(e,t,n){e/=255,t/=255,n/=255;var a,r=Math.max(e,t,n),o=Math.min(e,t,n),s=r-o;0===s?a=0:r===e?a=(t-n)/s%6:r===t?a=(n-e)/s+2:r===n&&(a=(e-t)/s+4);var i=(o+r)/2;return a<0&&(a=6+a),[60*a,0===s?0:s/(1-Math.abs(2*i-1)),i]}function Ps(e,t,n){var a,r=(1-Math.abs(2*n-1))*t,o=e/60,s=r*(1-Math.abs(o%2-1));Number.isNaN(e)||void 0===e?a=[0,0,0]:o<=1?a=[r,s,0]:o<=2?a=[s,r,0]:o<=3?a=[0,r,s]:o<=4?a=[0,s,r]:o<=5?a=[s,0,r]:o<=6&&(a=[r,0,s]);var i=n-r/2;return a.map((function(e){return Math.max(0,Math.min(255,Math.round(255*(e+i))))}))}function Ms(e,t,n){var a={h:e,s:0,l:0},r=t,o=n;return a.l=(2-r)*o/2,a.s=a.l&&a.l<1?r*o/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]}function Bs(e,t,n){var a={h:e,s:0,b:0},r=n,o=t*(r<.5?r:1-r);return a.b=r+o,a.s=r>0?2*o/a.b:a.s,[a.h,a.s,a.b]}function As(){for(var e,t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(1===a.length?t=Is(e=a[0]):3===a.length&&(t=a,e=Ns.apply(void 0,t)),!t)return{};var o=Rs.apply(void 0,t),s=[o[0],o[1],Math.max(0,o[2]-.08)],i=[o[0],o[1],Math.max(0,o[2]+.08)],l=Ns.apply(void 0,Ps.apply(void 0,s)),c=Ns.apply(void 0,Ps.apply(void 0,i));return{"--f7-theme-color":e,"--f7-theme-color-rgb":t.join(", "),"--f7-theme-color-shade":l,"--f7-theme-color-tint":c}}function _s(e,t){Object.keys(t).forEach((function(n){Ts(t[n])&&Object.keys(t[n]).forEach((function(a){"function"==typeof t[n][a]&&(t[n][a]=t[n][a].bind(e))})),e[n]=t[n]}))}function Ls(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach((function(t){Array.isArray(t)?e.push.apply(e,Ls.apply(void 0,t)):e.push(t)})),e}function Ds(){return ps||(ps=function(){var e=is(),t=os();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),intersectionObserver:"IntersectionObserver"in e}}()),ps}function Fs(e,t){return void 0===e&&(e={}),ds&&!t||(ds=function(e){var t=(void 0===e?{}:e).userAgent,n=Ds(),a=is(),r=a.navigator.platform,o=t||a.navigator.userAgent,s={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!a.cordova&&!a.phonegap),phonegap:!(!a.cordova&&!a.phonegap),electron:!1,capacitor:!!a.Capacitor,nwjs:!1},i=a.screen.width,l=a.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),u=o.match(/(iPad).*OS\s([\d_]+)/),p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&o.match(/(iPhone\sOS|iOS|iPhone;\sCPU\sOS)\s([\d_]+)/),f=o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0,h=o.indexOf("Edge/")>=0,m=o.indexOf("Gecko/")>=0&&o.indexOf("Firefox/")>=0,g="Win32"===r,v=o.toLowerCase().indexOf("electron")>=0,b="undefined"!=typeof nw&&"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.nw,y="MacIntel"===r;return!u&&y&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(i+"x"+l)>=0&&((u=o.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),y=!1),s.ie=f,s.edge=h,s.firefox=m,c&&(s.os="android",s.osVersion=c[2],s.android=!0,s.androidChrome=o.toLowerCase().indexOf("chrome")>=0),(u||d||p)&&(s.os="ios",s.ios=!0),d&&!p&&(s.osVersion=d[2].replace(/_/g,"."),s.iphone=!0),u&&(s.osVersion=u[2].replace(/_/g,"."),s.ipad=!0),p&&(s.osVersion=p[3]?p[3].replace(/_/g,"."):null,s.ipod=!0),s.ios&&s.osVersion&&o.indexOf("Version/")>=0&&"10"===s.osVersion.split(".")[0]&&(s.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),s.webView=!(!(d||u||p)||!o.match(/.*AppleWebKit(?!.*Safari)/i)&&!a.navigator.standalone)||a.matchMedia&&a.matchMedia("(display-mode: standalone)").matches,s.webview=s.webView,s.standalone=s.webView,s.desktop=!(s.ios||s.android)||v||b,s.desktop&&(s.electron=v,s.nwjs=b,s.macos=y,s.windows=g,s.macos&&(s.os="macos"),s.windows&&(s.os="windows")),s.pixelRatio=a.devicePixelRatio||1,s.prefersColorScheme=function(){var e;return a.matchMedia&&a.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),a.matchMedia&&a.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},s}(e)),ds}var zs=function(){function e(e){void 0===e&&(e=[]);this.eventsParents=e,this.eventsListeners={}}var t=e.prototype;return t.on=function(e,t,n){var a=this;if("function"!=typeof t)return a;var r=n?"unshift":"push";return e.split(" ").forEach((function(e){a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][r](t)})),a},t.once=function(e,t,n){var a=this;if("function"!=typeof t)return a;function r(){a.off(e,r),r.f7proxy&&delete r.f7proxy;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];t.apply(a,o)}return r.f7proxy=t,a.on(e,r,n)},t.off=function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(a,r){(a===t||a.f7proxy&&a.f7proxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n):n},t.emit=function(){var e,t,n,a,r=this;if(!r.eventsListeners)return r;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),n=r,a=r.eventsParents):(e=s[0].events,t=s[0].data,n=s[0].context||r,a=s[0].local?[]:s[0].parents||r.eventsParents);var l=Array.isArray(e)?e:e.split(" "),c=l.map((function(e){return e.replace("local::","")})),u=l.filter((function(e){return e.indexOf("local::")<0}));return c.forEach((function(e){if(r.eventsListeners&&r.eventsListeners[e]){var a=[];r.eventsListeners[e].forEach((function(e){a.push(e)})),a.forEach((function(e){e.apply(n,t)}))}})),a&&a.length>0&&a.forEach((function(e){e.emit.apply(e,[u].concat(t))})),r},e}(),Vs=zs;function Hs(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function js(e,t){return js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},js(e,t)}var Ws=function(e){var t,n;function a(t,n){var a;void 0===t&&(t={}),void 0===n&&(n=[]);var r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a=e.call(this,n)||this);return r.params=t,r.params&&r.params.on&&Object.keys(r.params.on).forEach((function(e){r.on(e,r.params.on[e])})),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,js(t,n);var r,o,s,i=a.prototype;return i.useModuleParams=function(e,t){if(e.params){var n={};Object.keys(e.params).forEach((function(e){void 0!==t[e]&&(n[e]=Os({},t[e]))})),Os(t,e.params),Object.keys(n).forEach((function(e){Os(t[e],n[e])}))}},i.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var a=t.modules[n];a.params&&Os(e,a.params)}))},i.useModule=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=this;if(n.modules){var a="string"==typeof e?n.modules[e]:e;a&&(a.instance&&Object.keys(a.instance).forEach((function(e){var t=a.instance[e];n[e]="function"==typeof t?t.bind(n):t})),a.on&&n.on&&Object.keys(a.on).forEach((function(e){n.on(e,a.on[e])})),a.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(a.vnode).forEach((function(e){Object.keys(a.vnode[e]).forEach((function(t){var r=a.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(r.bind(n))}))}))),a.create&&a.create.bind(n)(t))}},i.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var a=e[n]||{};t.useModule(n,a)}))},a.installModule=function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+Cs();if(t.prototype.modules[n]=e,e.proto&&Object.keys(e.proto).forEach((function(n){t.prototype[n]=e.proto[n]})),e.static&&Object.keys(e.static).forEach((function(n){t[n]=e.static[n]})),e.install){for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];e.install.apply(t,r)}return t},a.use=function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.installModule(e)})),t;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.installModule.apply(t,[e].concat(a))},r=a,s=[{key:"components",set:function(e){this.use&&this.use(e)}}],(o=null)&&Hs(r.prototype,o),s&&Hs(r,s),a}(Vs),Us=Ws;function Gs(e){return Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gs(e)}function qs(e,t){return qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qs(e,t)}function Xs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ys(e,t,n){return Ys=Xs()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&qs(r,n.prototype),r},Ys.apply(null,arguments)}function Ks(e){var t="function"==typeof Map?new Map:void 0;return Ks=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return Ys(e,arguments,Gs(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),qs(a,e)},Ks(e)}var Qs=function(e){var t,n;function a(t){var n,a,r;return n=e.call.apply(e,[this].concat(t))||this,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),r=a.__proto__,Object.defineProperty(a,"__proto__",{get:function(){return r},set:function(e){r.__proto__=e}}),n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(Ks(Array));function Zs(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,Zs(e)):t.push(e)})),t}function Js(e,t){return Array.prototype.filter.call(e,t)}function ei(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function ti(e,t){var n=is(),a=os(),r=[];if(!t&&e instanceof Qs)return e;if(!e)return new Qs(r);if("string"==typeof e){var o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var s="div";0===o.indexOf("<li")&&(s="ul"),0===o.indexOf("<tr")&&(s="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(s="tr"),0===o.indexOf("<tbody")&&(s="table"),0===o.indexOf("<option")&&(s="select");var i=a.createElement(s);i.innerHTML=o;for(var l=0;l<i.childNodes.length;l+=1)r.push(i.childNodes[l])}else r=function(e,t){if("string"!=typeof e)return[e];for(var n=[],a=t.querySelectorAll(e),r=0;r<a.length;r+=1)n.push(a[r]);return n}(e.trim(),t||a)}else if(e.nodeType||e===n||e===a)r.push(e);else if(Array.isArray(e)){if(e instanceof Qs)return e;r=e}return new Qs(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(r))}function ni(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Zs(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,a)})),this}function ai(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Zs(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,a)})),this}function ri(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Zs(t.map((function(e){return e.split(" ")})));this.forEach((function(e){a.forEach((function(t){e.classList.toggle(t)}))}))}function oi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Zs(t.map((function(e){return e.split(" ")})));return Js(this,(function(e){return a.filter((function(t){return e.classList.contains(t)})).length>0})).length>0}function si(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var a in e)this[n][a]=e[a],this[n].setAttribute(a,e[a]);return this}function ii(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function li(e,t){if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n][e]=t;else for(var a in e)this[n][a]=e[a];return this}return this[0]?this[0][e]:this}function ci(e,t){var n;if(void 0===t){if(!(n=this[0]))return;if(n.dom7ElementDataStorage&&e in n.dom7ElementDataStorage)return n.dom7ElementDataStorage[e];var a=n.getAttribute("data-"+e);return a||void 0}for(var r=0;r<this.length;r+=1)(n=this[r]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t;return this}function ui(e){for(var t=0;t<this.length;t+=1){var n=this[t];n.dom7ElementDataStorage&&n.dom7ElementDataStorage[e]&&(n.dom7ElementDataStorage[e]=null,delete n.dom7ElementDataStorage[e])}}function pi(){var e=this[0];if(e){var t={};if(e.dataset)for(var n in e.dataset)t[n]=e.dataset[n];else for(var a=0;a<e.attributes.length;a+=1){var r=e.attributes[a];r.name.indexOf("data-")>=0&&(t[ei(r.name.split("data-")[1])]=r.value)}for(var o in t)"false"===t[o]?t[o]=!1:"true"===t[o]?t[o]=!0:parseFloat(t[o])===1*t[o]&&(t[o]*=1);return t}}function di(e){if(void 0===e){var t=this[0];if(!t)return;if(t.multiple&&"select"===t.nodeName.toLowerCase()){for(var n=[],a=0;a<t.selectedOptions.length;a+=1)n.push(t.selectedOptions[a].value);return n}return t.value}for(var r=0;r<this.length;r+=1){var o=this[r];if(Array.isArray(e)&&o.multiple&&"select"===o.nodeName.toLowerCase())for(var s=0;s<o.options.length;s+=1)o.options[s].selected=e.indexOf(o.options[s].value)>=0;else o.value=e}return this}function fi(e){return this.val(e)}function hi(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this}function mi(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this}function gi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],o=t[2],s=t[3];function i(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),ti(t).is(r))o.apply(t,n);else for(var a=ti(t).parents(),s=0;s<a.length;s+=1)ti(a[s]).is(r)&&o.apply(a[s],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof t[1]&&(a=t[0],o=t[1],s=t[2],r=void 0),s||(s=!1);for(var c,u=a.split(" "),p=0;p<this.length;p+=1){var d=this[p];if(r)for(c=0;c<u.length;c+=1){var f=u[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:o,proxyListener:i}),d.addEventListener(f,i,s)}else for(c=0;c<u.length;c+=1){var h=u[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:o,proxyListener:l}),d.addEventListener(h,l,s)}}return this}function vi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],o=t[2],s=t[3];"function"==typeof t[1]&&(a=t[0],o=t[1],s=t[2],r=void 0),s||(s=!1);for(var i=a.split(" "),l=0;l<i.length;l+=1)for(var c=i[l],u=0;u<this.length;u+=1){var p=this[u],d=void 0;if(!r&&p.dom7Listeners?d=p.dom7Listeners[c]:r&&p.dom7LiveListeners&&(d=p.dom7LiveListeners[c]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var h=d[f];o&&h.listener===o||o&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===o?(p.removeEventListener(c,h.proxyListener,s),d.splice(f,1)):o||(p.removeEventListener(c,h.proxyListener,s),d.splice(f,1))}}return this}function bi(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[0],o=n[1],s=n[2],i=n[3];function l(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];s.apply(this,n),e.off(r,o,l,i),l.dom7proxy&&delete l.dom7proxy}return"function"==typeof n[1]&&(r=n[0],s=n[1],i=n[2],o=void 0),l.dom7proxy=s,e.on(r,o,l,i)}function yi(){for(var e=is(),t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=n[0].split(" "),o=n[1],s=0;s<r.length;s+=1)for(var i=r[s],l=0;l<this.length;l+=1){var c=this[l];if(e.CustomEvent){var u=new e.CustomEvent(i,{detail:o,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(u),c.dom7EventData=[],delete c.dom7EventData}}return this}function xi(e){var t=this;return e&&t.on("transitionend",(function n(a){a.target===this&&(e.call(this,a),t.off("transitionend",n))})),this}function wi(e){var t=this;return e&&t.on("animationend",(function n(a){a.target===this&&(e.call(this,a),t.off("animationend",n))})),this}function Ci(){var e=is();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}function ki(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function Ei(){var e=is();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null}function Si(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Ti(){if(this.length>0){var e=is(),t=os(),n=this[0],a=n.getBoundingClientRect(),r=t.body,o=n.clientTop||r.clientTop||0,s=n.clientLeft||r.clientLeft||0,i=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:a.top+i-o,left:a.left+l-s}}return null}function $i(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function Oi(){for(var e=is(),t=0;t<this.length;t+=1){var n=this[t];"none"===n.style.display&&(n.style.display=""),"none"===e.getComputedStyle(n,null).getPropertyValue("display")&&(n.style.display="block")}return this}function Ii(){var e=is();return this[0]?e.getComputedStyle(this[0],null):{}}function Ni(e,t){var n,a=is();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return a.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this}function Ri(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this}function Pi(e){return ti(Js(this,e))}function Mi(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function Bi(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this}function Ai(e){var t,n,a=is(),r=os(),o=this[0];if(!o||void 0===e)return!1;if("string"==typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=ti(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}if(e===r)return o===r;if(e===a)return o===a;if(e.nodeType||e instanceof Qs){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}return!1}function _i(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function Li(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return ti([]);if(e<0){var n=t+e;return ti(n<0?[]:[this[n]])}return ti([this[e]])}function Di(){for(var e,t=os(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var a=0;a<this.length;a+=1)if("string"==typeof e){var r=t.createElement("div");for(r.innerHTML=e;r.firstChild;)this[a].appendChild(r.firstChild)}else if(e instanceof Qs)for(var o=0;o<e.length;o+=1)this[a].appendChild(e[o]);else this[a].appendChild(e)}return this}function Fi(e){return ti(e).append(this),this}function zi(e){var t,n,a=os();for(t=0;t<this.length;t+=1)if("string"==typeof e){var r=a.createElement("div");for(r.innerHTML=e,n=r.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(r.childNodes[n],this[t].childNodes[0])}else if(e instanceof Qs)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this}function Vi(e){return ti(e).prepend(this),this}function Hi(e){for(var t=ti(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(t.length>1)for(var a=0;a<t.length;a+=1)t[a].parentNode.insertBefore(this[n].cloneNode(!0),t[a])}function ji(e){for(var t=ti(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a+=1)t[a].parentNode.insertBefore(this[n].cloneNode(!0),t[a].nextSibling)}function Wi(e){return this.length>0?e?this[0].nextElementSibling&&ti(this[0].nextElementSibling).is(e)?ti([this[0].nextElementSibling]):ti([]):this[0].nextElementSibling?ti([this[0].nextElementSibling]):ti([]):ti([])}function Ui(e){var t=[],n=this[0];if(!n)return ti([]);for(;n.nextElementSibling;){var a=n.nextElementSibling;e?ti(a).is(e)&&t.push(a):t.push(a),n=a}return ti(t)}function Gi(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&ti(t.previousElementSibling).is(e)?ti([t.previousElementSibling]):ti([]):t.previousElementSibling?ti([t.previousElementSibling]):ti([])}return ti([])}function qi(e){var t=[],n=this[0];if(!n)return ti([]);for(;n.previousElementSibling;){var a=n.previousElementSibling;e?ti(a).is(e)&&t.push(a):t.push(a),n=a}return ti(t)}function Xi(e){return this.nextAll(e).add(this.prevAll(e))}function Yi(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?ti(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return ti(t)}function Ki(e){for(var t=[],n=0;n<this.length;n+=1)for(var a=this[n].parentNode;a;)e?ti(a).is(e)&&t.push(a):t.push(a),a=a.parentNode;return ti(t)}function Qi(e){var t=this;return void 0===e?ti([]):(t.is(e)||(t=t.parents(e).eq(0)),t)}function Zi(e){for(var t=[],n=0;n<this.length;n+=1)for(var a=this[n].querySelectorAll(e),r=0;r<a.length;r+=1)t.push(a[r]);return ti(t)}function Ji(e){for(var t=[],n=0;n<this.length;n+=1)for(var a=this[n].children,r=0;r<a.length;r+=1)e&&!ti(a[r]).is(e)||t.push(a[r]);return ti(t)}function el(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function tl(){return this.remove()}function nl(){for(var e,t,n=this,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];for(e=0;e<r.length;e+=1){var s=ti(r[e]);for(t=0;t<s.length;t+=1)n.push(s[t])}return n}function al(){for(var e=0;e<this.length;e+=1){var t=this[e];if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n+=1)t.childNodes[n].parentNode&&t.childNodes[n].parentNode.removeChild(t.childNodes[n]);t.textContent=""}}return this}function rl(){for(var e=is(),t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[0],o=n[1],s=n[2],i=n[3],l=n[4];return 4===n.length&&"function"==typeof i&&(l=i,r=n[0],o=n[1],s=n[2],l=n[3],i=n[4]),void 0===i&&(i="swing"),this.each((function(){var t,n,a,c,u,p,d,f,h=this,m=o>0||0===o,g=r>0||0===r;if(void 0===i&&(i="swing"),m&&(t=h.scrollTop,s||(h.scrollTop=o)),g&&(n=h.scrollLeft,s||(h.scrollLeft=r)),s){m&&(a=h.scrollHeight-h.offsetHeight,u=Math.max(Math.min(o,a),0)),g&&(c=h.scrollWidth-h.offsetWidth,p=Math.max(Math.min(r,c),0));var v=null;m&&u===t&&(m=!1),g&&p===n&&(g=!1),e.requestAnimationFrame((function a(r){void 0===r&&(r=(new Date).getTime()),null===v&&(v=r);var o,c=Math.max(Math.min((r-v)/s,1),0),b="linear"===i?c:.5-Math.cos(c*Math.PI)/2;m&&(d=t+b*(u-t)),g&&(f=n+b*(p-n)),m&&u>t&&d>=u&&(h.scrollTop=u,o=!0),m&&u<t&&d<=u&&(h.scrollTop=u,o=!0),g&&p>n&&f>=p&&(h.scrollLeft=p,o=!0),g&&p<n&&f<=p&&(h.scrollLeft=p,o=!0),o?l&&l():(m&&(h.scrollTop=d),g&&(h.scrollLeft=f),e.requestAnimationFrame(a))}))}}))}function ol(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],o=t[2],s=t[3];3===t.length&&"function"==typeof o&&(a=t[0],r=t[1],s=t[2],o=t[3]);var i=this;return void 0===a?i.length>0?i[0].scrollTop:null:i.scrollTo(void 0,a,r,o,s)}function sl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],o=t[2],s=t[3];3===t.length&&"function"==typeof o&&(a=t[0],r=t[1],s=t[2],o=t[3]);var i=this;return void 0===a?i.length>0?i[0].scrollLeft:null:i.scrollTo(a,void 0,r,o,s)}function il(e,t){var n,a=is(),r=this,o={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:r,animating:!1,que:[],easingProgress:function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},stop:function(){o.frameId&&a.cancelAnimationFrame(o.frameId),o.animating=!1,o.elements.each((function(e){delete e.dom7AnimateInstance})),o.que=[]},done:function(e){if(o.animating=!1,o.elements.each((function(e){delete e.dom7AnimateInstance})),e&&e(r),o.que.length>0){var t=o.que.shift();o.animate(t[0],t[1])}},animate:function(e,t){if(o.animating)return o.que.push([e,t]),o;var n=[];o.elements.each((function(t,r){var s,i,l,c,u;t.dom7AnimateInstance||(o.elements[r].dom7AnimateInstance=o),n[r]={container:t},Object.keys(e).forEach((function(o){s=a.getComputedStyle(t,null).getPropertyValue(o).replace(",","."),i=parseFloat(s),l=s.replace(i,""),c=parseFloat(e[o]),u=e[o]+l,n[r][o]={initialFullValue:s,initialValue:i,unit:l,finalValue:c,finalFullValue:u,currentValue:i}}))}));var s,i,l=null,c=0,u=0,p=!1;return o.animating=!0,o.frameId=a.requestAnimationFrame((function d(){var f,h;s=(new Date).getTime(),p||(p=!0,t.begin&&t.begin(r)),null===l&&(l=s),t.progress&&t.progress(r,Math.max(Math.min((s-l)/t.duration,1),0),l+t.duration-s<0?0:l+t.duration-s,l),n.forEach((function(a){var r=a;i||r.done||Object.keys(e).forEach((function(a){if(!i&&!r.done){f=Math.max(Math.min((s-l)/t.duration,1),0),h=o.easingProgress(t.easing,f);var p=r[a],d=p.initialValue,m=p.finalValue,g=p.unit;r[a].currentValue=d+h*(m-d);var v=r[a].currentValue;(m>d&&v>=m||m<d&&v<=m)&&(r.container.style[a]=m+g,(u+=1)===Object.keys(e).length&&(r.done=!0,c+=1),c===n.length&&(i=!0)),i?o.done(t.complete):r.container.style[a]=v+g}}))})),i||(o.frameId=a.requestAnimationFrame(d))})),o}};if(0===o.elements.length)return r;for(var s=0;s<o.elements.length;s+=1)o.elements[s].dom7AnimateInstance?n=o.elements[s].dom7AnimateInstance:o.elements[s].dom7AnimateInstance=o;return n||(n=o),"stop"===e?n.stop():n.animate(o.props,o.params),r}function ll(){for(var e=this,t=0;t<e.length;t+=1)e[t].dom7AnimateInstance&&e[t].dom7AnimateInstance.stop()}ti.fn=Qs.prototype;var cl="resize scroll".split(" ");function ul(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(void 0===n[0]){for(var r=0;r<this.length;r+=1)cl.indexOf(e)<0&&(e in this[r]?this[r][e]():ti(this[r]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}var pl=ul("click"),dl=ul("blur"),fl=ul("focus"),hl=ul("focusin"),ml=ul("focusout"),gl=ul("keyup"),vl=ul("keydown"),bl=ul("keypress"),yl=ul("submit"),xl=ul("change"),wl=ul("mousedown"),Cl=ul("mousemove"),kl=ul("mouseup"),El=ul("mouseenter"),Sl=ul("mouseleave"),Tl=ul("mouseout"),$l=ul("mouseover"),Ol=ul("touchstart"),Il=ul("touchend"),Nl=ul("touchmove"),Rl=ul("resize"),Pl=ul("scroll"),Ml=ti;Object.keys(t).forEach((function(e){"$"!==e&&(ti.fn[e]=t[e])}));var Bl=ti;function Al(e,t,n){return Al=_l()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&Ll(r,n.prototype),r},Al.apply(null,arguments)}function _l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ll(e,t){return Ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ll(e,t)}function Dl(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,a=t.constructor,r=t.domProp,o=t.app,s=t.addMethods,i={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Al(a,o?[o].concat(t):t)},get:function(e){if(void 0===e&&(e=n),e instanceof a)return e;var t=Bl(e);return 0!==t.length?t[0][r]:void 0},destroy:function(e){var t=i.get(e);if(t&&t.destroy)return t.destroy()}};return s&&Array.isArray(s)&&s.forEach((function(e){i[e]=function(t){void 0===t&&(t=n);for(var a=i.get(t),r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(a&&a[e])return a[e].apply(a,o)}})),i}function Fl(){return Fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fl.apply(this,arguments)}function zl(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,a=t.constructor,r=t.app,o=Os(Dl({defaultSelector:n,constructor:a,app:r,domProp:"f7Modal"}),{open:function(e,t,n){var o=Bl(e);if(o.length>1&&n){var s=Bl(n).parents(".page");s.length&&o.each((function(e){var t=Bl(e);t.parents(s)[0]===s[0]&&(o=t)}))}if(o.length>1&&(o=o.eq(o.length-1)),o.length){var i=o[0].f7Modal;if(!i){var l=o.dataset();i=new a(r,Fl({el:o},l))}return i.open(t)}},close:function(e,t,o){void 0===e&&(e=n);var s=Bl(e);if(s.length){if(s.length>1){var i;if(o){var l=Bl(o);l.length&&(i=l.parents(s))}s=i&&i.length>0?i:s.eq(s.length-1)}var c=s[0].f7Modal;if(!c){var u=s.dataset();c=new a(r,Fl({el:s},u))}return c.close(t)}}});return o}var Vl=[];var Hl=function(e){var t=this,n=is(),a=os();return new Promise((function(r,o){var s,i,l,c=t.instance;if(e){if("string"==typeof e){var u=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&u&&u[0].length===e.length){if(!c||c&&!c.params.lazyModulesPath)return void o(new Error('Framework7: "lazyModulesPath" app parameter must be specified to fetch module by name'));s=c.params.lazyModulesPath+"/"+e+"/"+e+".js"}else s=e}else"function"==typeof e?l=e:i=e;if(l){var p=l(t,!1);if(!p)return void o(new Error("Framework7: Can't find Framework7 component in specified component function"));if(t.prototype.modules&&t.prototype.modules[p.name])return void r();m(p),r()}if(i){var d=i;if(!d)return void o(new Error("Framework7: Can't find Framework7 component in specified component"));if(t.prototype.modules&&t.prototype.modules[d.name])return void r();m(d),r()}if(s){if(Vl.indexOf(s)>=0)return void r();Vl.push(s);var f=new Promise((function(e,r){t.request.get(s,(function(o){var i="f7_component_loader_callback_"+us(),l=a.createElement("script");l.innerHTML="window."+i+" = function (Framework7, Framework7AutoInstallComponent) {return "+o.trim()+"}",Bl("head").append(l);var c=n[i];delete n[i],Bl(l).remove();var u=c(t,!1);u?(t.prototype.modules&&t.prototype.modules[u.name]||m(u),e()):r(new Error("Framework7: Can't find Framework7 component in "+s+" file"))}),(function(e,t){r(e,t)}))})),h=new Promise((function(e){t.request.get(s.replace(".js",c.rtl?".rtl.css":".css"),(function(t){var n=a.createElement("style");n.innerHTML=t,Bl("head").append(n),e()}),(function(){e()}))}));Promise.all([f,h]).then((function(){r()})).catch((function(e){o(e)}))}}else o(new Error("Framework7: Lazy module must be specified"));function m(e){t.use(e),c&&(c.useModuleParams(e,c.params),c.useModule(e))}}))};function jl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ul(e,t){return Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ul(e,t)}var Gl=function(e){var t,n;function a(t){var n;if(void 0===t&&(t={}),n=e.call(this,t)||this,a.instance&&"undefined"!=typeof window)throw new Error("Framework7 is already initialized and can't be initialized more than once");var r=Fs({userAgent:t.userAgent||void 0}),o=Ds(),s=Os({},t),i=Wl(n);i.device=r,i.support=o;var l=is(),c=os();a.instance=i;var u={version:"1.0.0",id:"io.framework7.myapp",el:"body",theme:"auto",language:l.navigator.language,routes:[],name:"Framework7",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0,userAgent:null,url:null};return i.useModulesParams(u),i.params=Os(u,t),Os(i,{id:i.params.id,name:i.params.name,version:i.params.version,routes:i.params.routes,language:i.params.language,theme:"auto"===i.params.theme?r.ios?"ios":r.desktop&&r.electron?"aurora":"md":i.params.theme,passedParams:s,online:l.navigator.onLine}),t.store&&(i.params.store=t.store),i.$el&&i.$el[0]&&(i.$el[0].f7=i),i.useModules(),i.initStore(),i.params.init&&(r.cordova&&i.params.initOnDeviceReady?Bl(c).on("deviceready",(function(){i.init()})):i.init()),i||Wl(n)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ul(t,n);var r,o,s,i=a.prototype;return i.mount=function(e){var t=this,n=is(),a=os(),r=Bl(e||t.params.el).eq(0);t.$el=r,t.$el&&t.$el[0]&&(t.el=t.$el[0],t.el.f7=t,t.rtl="rtl"===r.css("direction"));var o="(prefers-color-scheme: dark)",s="(prefers-color-scheme: light)";t.mq={},n.matchMedia&&(t.mq.dark=n.matchMedia(o),t.mq.light=n.matchMedia(s)),t.colorSchemeListener=function(e){var n=e.matches,r=e.media;if(n){var i=a.querySelector("html");r===o?(i.classList.add("theme-dark"),t.darkTheme=!0,t.emit("darkThemeChange",!0)):r===s&&(i.classList.remove("theme-dark"),t.darkTheme=!1,t.emit("darkThemeChange",!1))}},t.emit("mount")},i.initStore=function(){var e=this;void 0!==e.params.store&&e.params.store.__store?e.store=e.params.store:e.store=e.createStore(e.params.store)},i.enableAutoDarkTheme=function(){var e=is(),t=os();if(e.matchMedia){var n=this,a=t.querySelector("html");n.mq.dark&&n.mq.light&&(n.mq.dark.addListener(n.colorSchemeListener),n.mq.light.addListener(n.colorSchemeListener)),n.mq.dark&&n.mq.dark.matches?(a.classList.add("theme-dark"),n.darkTheme=!0,n.emit("darkThemeChange",!0)):n.mq.light&&n.mq.light.matches&&(a.classList.remove("theme-dark"),n.darkTheme=!1,n.emit("darkThemeChange",!1))}},i.disableAutoDarkTheme=function(){if(is().matchMedia){var e=this;e.mq.dark&&e.mq.dark.removeListener(e.colorSchemeListener),e.mq.light&&e.mq.light.removeListener(e.colorSchemeListener)}},i.initAppComponent=function(e){var t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},(function(n){t.$el=Bl(n),t.$el[0].f7=t,t.$elComponent=n.f7Component,t.el=t.$el[0],e&&e()}),(function(){}))},i.init=function(e){var t=this;t.mount(e);var n=function(){if(!t.initialized){t.$el.addClass("framework7-initializing"),t.rtl&&Bl("html").attr("dir","rtl"),t.params.autoDarkTheme&&t.enableAutoDarkTheme();var e=is();e.addEventListener("offline",(function(){t.online=!1,t.emit("offline"),t.emit("connection",!1)})),e.addEventListener("online",(function(){t.online=!0,t.emit("online"),t.emit("connection",!0)})),t.$el.addClass("framework7-root"),Bl("html").removeClass("ios md aurora").addClass(t.theme);var n=t.device;t.params.iosTranslucentBars&&"ios"===t.theme&&n.ios&&Bl("html").addClass("ios-translucent-bars"),t.params.iosTranslucentModals&&"ios"===t.theme&&n.ios&&Bl("html").addClass("ios-translucent-modals"),ws((function(){t.$el.removeClass("framework7-initializing")})),t.initialized=!0,t.emit("init")}};return t.params.component||t.params.componentUrl?t.initAppComponent((function(){n()})):n(),t},i.loadModule=function(){return a.loadModule.apply(a,arguments)},i.loadModules=function(){return a.loadModules.apply(a,arguments)},i.getVnodeHooks=function(e,t){var n=this;return n.vnodeHooks&&n.vnodeHooks[e]&&n.vnodeHooks[e][t]||[]},r=a,s=[{key:"Dom7",get:function(){return Bl}},{key:"$",get:function(){return Bl}},{key:"device",get:function(){return Fs()}},{key:"support",get:function(){return Ds()}},{key:"Class",get:function(){return Us}},{key:"Events",get:function(){return Vs}}],(o=[{key:"$",get:function(){return Bl}}])&&jl(r.prototype,o),s&&jl(r,s),a}(Us);Gl.ModalMethods=zl,Gl.ConstructorMethods=Dl,Gl.loadModule=Hl,Gl.loadModules=function(e){return Promise.all(e.map((function(e){return Gl.loadModule(e)})))};var ql=Gl,Xl={name:"device",static:{getDevice:Fs},on:{init:function(){var e=os(),t=Fs(),n=[],a=e.querySelector("html"),r=e.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');a&&(t.standalone&&t.ios&&r&&"black-translucent"===r.content&&n.push("device-full-viewport"),n.push("device-pixel-ratio-"+Math.floor(t.pixelRatio)),t.os&&!t.desktop?n.push("device-"+t.os):t.desktop&&(n.push("device-desktop"),t.os&&n.push("device-"+t.os)),(t.cordova||t.phonegap)&&n.push("device-cordova"),t.capacitor&&n.push("device-capacitor"),n.forEach((function(e){a.classList.add(e)})))}}},Yl={name:"support",static:{getSupport:Ds}},Kl={name:"utils",proto:{utils:e},static:{utils:e}},Ql={name:"resize",create:function(){var e=this;e.getSize=function(){if(!e.el)return{width:0,height:0,left:0,top:0};var t=e.$el.offset(),n=[e.el.offsetWidth,e.el.offsetHeight,t.left,t.top],a=n[0],r=n[1],o=n[2],s=n[3];return e.width=a,e.height=r,e.left=o,e.top=s,{width:a,height:r,left:o,top:s}}},on:{init:function(){var e=this,t=is();e.getSize(),t.addEventListener("resize",(function(){e.emit("resize")}),!1),t.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){var e=os();Fs().ipad&&(e.body.scrollLeft=0,setTimeout((function(){e.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}};function Zl(e){var t="function"==typeof Map?new Map:void 0;return Zl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return Jl(e,arguments,nc(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),tc(a,e)},Zl(e)}function Jl(e,t,n){return Jl=ec()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&tc(r,n.prototype),r},Jl.apply(null,arguments)}function ec(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tc(e,t){return tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tc(e,t)}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(e)}var ac={},rc=0,oc=function(e){Object.assign(this,e)},sc=function(e){var t,n;function a(t){var n;return n=e.call(this)||this,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t),n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,tc(t,n),a}(Zl(Error)),ic=function(e){return new Promise((function(t,n){var a=is(),r=os(),o=Os({},ac);"beforeCreate beforeOpen beforeSend error complete success statusCode".split(" ").forEach((function(e){delete o[e]}));var s=Os({url:a.location.toString(),method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},o),i=Os({},s,e);if(e.abortController&&(i.abortController=e.abortController),i.abortController&&i.abortController.canceled)n(new sc({options:i,status:"canceled",message:"canceled"}));else if(!1!==E("beforeCreate",i)){i.type&&(i.method=i.type);var l,c=i.url.indexOf("?")>=0?"&":"?",u=i.method.toUpperCase();if(("GET"===u||"HEAD"===u||"OPTIONS"===u||"DELETE"===u)&&i.data)(l="string"==typeof i.data?i.data.indexOf("?")>=0?i.data.split("?")[1]:i.data:Ss(i.data)).length&&(i.url+=c+l,"?"===c&&(c="&"));if("json"===i.dataType&&i.url.indexOf("callback=")>=0){var p,d="f7jsonp_"+(Date.now()+(rc+=1)),f=i.url.split("callback="),h=f[0]+"callback="+d;if(f[1].indexOf("&")>=0){var m=f[1].split("&").filter((function(e){return e.indexOf("=")>0})).join("&");m.length>0&&(h+="&"+m)}var g=r.createElement("script");return g.type="text/javascript",g.onerror=function(){clearTimeout(p),E("error",null,"scripterror","scripterror"),n(new sc({options:i,status:"scripterror",message:"scripterror"})),E("complete",null,"scripterror")},g.src=h,a[d]=function(e){clearTimeout(p),E("success",e),g.parentNode.removeChild(g),g=null,delete a[d],t(new oc({options:i,data:e}))},r.querySelector("head").appendChild(g),void(i.timeout>0&&(p=setTimeout((function(){g.parentNode.removeChild(g),g=null,E("error",null,"timeout","timeout"),n(new sc({options:i,status:"timeout",message:"timeout"}))}),i.timeout)))}"GET"!==u&&"HEAD"!==u&&"OPTIONS"!==u&&"DELETE"!==u||!1===i.cache&&(i.url+=c+"_nocache"+Date.now());var v=new XMLHttpRequest;if(i.abortController){var b=!1;i.abortController.onAbort=function(){b||(b=!0,v.abort(),n(new sc({options:i,xhr:v,status:"canceled",message:"canceled"})))}}if(v.requestUrl=i.url,v.requestParameters=i,!1!==E("beforeOpen",v,i)){v.open(u,i.url,i.async,i.user,i.password);var y=null;if(("POST"===u||"PUT"===u||"PATCH"===u)&&i.data)if(i.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(i.data.constructor)>=0)y=i.data;else{var x="---------------------------"+Date.now().toString(16);"multipart/form-data"===i.contentType?v.setRequestHeader("Content-Type","multipart/form-data; boundary="+x):v.setRequestHeader("Content-Type",i.contentType),y="";var w=Ss(i.data);if("multipart/form-data"===i.contentType){w=w.split("&");for(var C=[],k=0;k<w.length;k+=1)C.push('Content-Disposition: form-data; name="'+w[k].split("=")[0]+'"\r\n\r\n'+w[k].split("=")[1]+"\r\n");y="--"+x+"\r\n"+C.join("--"+x+"\r\n")+"--"+x+"--\r\n"}else y="application/json"===i.contentType?JSON.stringify(i.data):w}else y=i.data,v.setRequestHeader("Content-Type",i.contentType);"json"!==i.dataType||i.headers&&i.headers.Accept||v.setRequestHeader("Accept","application/json"),i.headers&&Object.keys(i.headers).forEach((function(e){void 0!==i.headers[e]&&v.setRequestHeader(e,i.headers[e])})),void 0===i.crossDomain&&(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!==a.location.host),i.crossDomain||v.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.xhrFields&&Os(v,i.xhrFields),v.onload=function(){var e;if(v.status>=200&&v.status<300||0===v.status)if("json"===i.dataType){var a;try{e=JSON.parse(v.responseText)}catch(e){a=!0}a?(E("error",v,"parseerror","parseerror"),n(new sc({options:i,xhr:v,status:"parseerror",message:"parseerror"}))):(E("success",e,v.status,v),t(new oc({options:i,data:e,status:v.status,xhr:v})))}else E("success",e="text"===v.responseType||""===v.responseType?v.responseText:v.response,v.status,v),t(new oc({options:i,data:e,status:v.status,xhr:v}));else E("error",v,v.status,v.statusText),n(new sc({options:i,xhr:v,status:v.status,message:v.statusText}));i.statusCode&&(ac.statusCode&&ac.statusCode[v.status]&&ac.statusCode[v.status](v),i.statusCode[v.status]&&i.statusCode[v.status](v)),E("complete",v,v.status)},v.onerror=function(){E("error",v,v.status,v.status),n(new sc({options:i,xhr:v,status:v.status,message:v.statusText})),E("complete",v,"error")},i.timeout>0&&(v.timeout=i.timeout,v.ontimeout=function(){E("error",v,"timeout","timeout"),n(new sc({options:i,xhr:v,status:"timeout",message:"timeout"})),E("complete",v,"timeout")}),!1!==E("beforeSend",v,i)?v.send(y):n(new sc({options:i,xhr:v,status:"canceled",message:"canceled"}))}else n(new sc({options:i,xhr:v,status:"canceled",message:"canceled"}))}else n(new sc({options:i,status:"canceled",message:"canceled"}));function E(e){for(var t,n,a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return ac[e]&&(t=ac[e].apply(ac,r)),i[e]&&(n=i[e].apply(i,r)),"boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!0),(!i.abortController||!i.abortController.canceled||"beforeCreate"!==e&&"beforeOpen"!==e&&"beforeSend"!==e)&&(t&&n)}}))};function lc(e){for(var t=[],n=t[0],a=t[1],r=t[2],o=t[3],s=t[4],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];"function"==typeof l[1]?(n=l[0],r=l[1],o=l[2],s=l[3]):(n=l[0],a=l[1],r=l[2],o=l[3],s=l[4]),[r,o].forEach((function(e){"string"==typeof e&&(s=e,e===r?r=void 0:o=void 0)}));var u={url:n,method:"post"===e||"postJSON"===e?"POST":"GET",data:a,success:r,error:o,dataType:s=s||("json"===e||"postJSON"===e?"json":void 0)};return"postJSON"===e&&Os(u,{contentType:"application/json",processData:!1,crossDomain:!0,data:"string"==typeof a?a:JSON.stringify(a)}),ic(u)}Object.assign(ic,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,["get"].concat(t))},post:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,["post"].concat(t))},json:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,["json"].concat(t))},getJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,["json"].concat(t))},postJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,["postJSON"].concat(t))}}),ic.abortController=function(){var e={canceled:!1,onAbort:null,abort:function(){e.canceled=!0,e.onAbort&&e.onAbort()}};return e},ic.setup=function(e){e.type&&!e.method&&Os(e,{method:e.type}),Os(ac,e)};var cc={name:"request",proto:{request:ic},static:{request:ic}};var uc={name:"touch",params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle",activeStateOnMouseMove:!1,mdTouchRipple:!0,iosTouchRipple:!1,auroraTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle",touchRippleInsetElements:".ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back"}},create:function(){var e=Ds();Os(this,{touchEvents:{start:e.touch?"touchstart":e.pointerEvents?"pointerdown":"mousedown",move:e.touch?"touchmove":e.pointerEvents?"pointermove":"mousemove",end:e.touch?"touchend":e.pointerEvents?"pointerup":"mouseup"}})},on:{init:function(){var e,t,n,a,r,o,s,i,l,c,u,p,d,f=this,h=Fs(),m=Ds(),g=is(),v=os(),b=f.params.touch,y=b[f.theme+"TouchRipple"];function x(e){var t,n=Bl(e),a=n.parents(b.activeStateElements);if(n.closest(".no-active-state").length)return null;if(n.is(b.activeStateElements)&&(t=n),a.length>0&&(t=t?t.add(a):a),t&&t.length>1){for(var r,o=[],s=0;s<t.length;s+=1)r||(o.push(t[s]),(t.eq(s).hasClass("prevent-active-state-propagation")||t.eq(s).hasClass("no-active-state-propagation"))&&(r=!0));t=Bl(o)}return t||n}function w(e){return e.parents(".page-content").length>0}function C(){i&&i.addClass("active-state")}function k(){i&&(i.removeClass("active-state"),i=null)}function E(e,t,n){e&&(c=f.touchRipple.create(f,e,t,n))}function S(){c&&(c.remove(),c=void 0,u=void 0)}function T(n){(u=function(e){var t=b.touchRippleElements,n=Bl(e);if(n.is(t))return!n.hasClass("no-ripple")&&n;if(n.parents(t).length>0){var a=n.parents(t).eq(0);return!a.hasClass("no-ripple")&&a}return!1}(n),u&&0!==u.length)?w(u)?(clearTimeout(p),p=setTimeout((function(){S(),E(u,e,t)}),80)):(S(),E(u,e,t)):u=void 0}function $(){clearTimeout(p),S()}function O(){c||!u||a?S():(clearTimeout(p),E(u,e,t),setTimeout(S,0))}function I(){Bl(".active-state").removeClass("active-state"),y&&O()}h.ios&&h.webView&&g.addEventListener("touchstart",(function(){}));var N=!1,R=null,P=".dialog-button, .actions-button",M=!1,B=null;function A(e,t){f.emit({events:e,data:[t]})}function _(e){A("touchstart touchstart:active",e)}function L(e){A("touchmove touchmove:active",e)}function D(e){A("touchend touchend:active",e)}function F(e){A("touchstart:passive",e)}function z(e){A("touchmove:passive",e)}function V(e){A("touchend:passive",e)}var H=!!m.passiveListener&&{passive:!0},j=!m.passiveListener||{passive:!0,capture:!0},W=!!m.passiveListener&&{passive:!1},U=!m.passiveListener||{passive:!1,capture:!0};v.addEventListener("click",(function(e){A("click",e)}),!0),m.passiveListener?(v.addEventListener(f.touchEvents.start,_,U),v.addEventListener(f.touchEvents.move,L,W),v.addEventListener(f.touchEvents.end,D,W),v.addEventListener(f.touchEvents.start,F,j),v.addEventListener(f.touchEvents.move,z,H),v.addEventListener(f.touchEvents.end,V,H)):(v.addEventListener(f.touchEvents.start,(function(e){_(e),F(e)}),!0),v.addEventListener(f.touchEvents.move,(function(e){L(e),z(e)}),!1),v.addEventListener(f.touchEvents.end,(function(e){D(e),V(e)}),!1)),m.touch?(f.on("click",(function(e){var t=e&&e.detail&&"f7Overswipe"===e.detail,a=e&&e.detail&&"f7Segmented"===e.detail,i=e&&e.detail&&"f7TouchMoveActivable"===e.detail,l=s;return n&&e.target!==n?l=!(t||a||i):i&&(l=!1),b.tapHold&&b.tapHoldPreventClicks&&r&&(l=!0),l&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),b.tapHold&&(o=setTimeout((function(){r=!1}),h.ios||h.androidChrome?100:400)),s=!1,n=null,!l})),f.on("touchstart",(function(c){return a=!1,r=!1,s=!1,d=void 0,c.targetTouches.length>1?(i&&k(),!0):(c.touches.length>1&&i&&k(),b.tapHold&&(o&&clearTimeout(o),o=setTimeout((function(){c&&c.touches&&c.touches.length>1||(r=!0,c.preventDefault(),s=!0,Bl(c.target).trigger("taphold",c),f.emit("taphold",c))}),b.tapHoldDelay)),n=c.target,e=c.targetTouches[0].pageX,t=c.targetTouches[0].pageY,N=c.target.closest(".segmented-strong .button-active, .segmented-strong .tab-link-active"),M="ios"===f.theme&&c.target.closest(P),N&&(R=N.closest(".segmented-strong")),b.activeState&&((i=x(n))&&!w(i)?C():i&&(l=setTimeout(C,80))),y&&T(n),!0)})),f.on("touchmove",(function(r){var c,u,p=!0;"touchmove"===r.type&&(c=r.targetTouches[0],u=b.touchClicksDistanceThreshold);var f=r.targetTouches[0].pageX,h=r.targetTouches[0].pageY;if(void 0===d&&(d=!!(d||Math.abs(h-t)>Math.abs(f-e))),(M||!d&&N&&R)&&r.cancelable&&r.preventDefault(),!d&&N&&R){var m=v.elementFromPoint(r.targetTouches[0].clientX,r.targetTouches[0].clientY).closest(".segmented-strong .button:not(.button-active):not(.tab-link-active)");m&&R.contains(m)&&(Bl(m).trigger("click","f7Segmented"),n=m)}if(u&&c){var g=c.pageX,w=c.pageY;(Math.abs(g-e)>u||Math.abs(w-t)>u)&&(a=!0)}else a=!0;if(a){if(s=!0,M){var E=v.elementFromPoint(r.targetTouches[0].clientX,r.targetTouches[0].clientY);(B=E.closest(P))&&i&&i[0]===B?p=!1:B&&setTimeout((function(){i=x(B),C()}))}b.tapHold&&clearTimeout(o),b.activeState&&p&&(clearTimeout(l),k()),y&&$()}})),f.on("touchend",(function(e){return d=void 0,N=!1,R=null,M=!1,clearTimeout(l),clearTimeout(o),B&&(Bl(B).trigger("click","f7TouchMoveActivable"),B=null),v.activeElement===e.target?(b.activeState&&k(),y&&O(),!0):(b.activeState&&(C(),setTimeout(k,0)),y&&O(),!(b.tapHoldPreventClicks&&r||s)||(e.cancelable&&e.preventDefault(),s=!0,!1))})),v.addEventListener("touchcancel",(function(){n=null,clearTimeout(l),clearTimeout(o),b.activeState&&k(),y&&O()}),{passive:!0})):b.activeState&&(f.on("touchstart",(function(n){var a=x(n.target);a&&(a.addClass("active-state"),"which"in n&&3===n.which&&setTimeout((function(){Bl(".active-state").removeClass("active-state")}),0)),y&&(e=n.pageX,t=n.pageY,T(n.target,n.pageX,n.pageY))})),f.on("touchmove",(function(){b.activeStateOnMouseMove||Bl(".active-state").removeClass("active-state"),y&&$()})),f.on("touchend",I),v.addEventListener("pointercancel",I,{passive:!0})),v.addEventListener("contextmenu",(function(e){b.disableContextMenu&&(h.ios||h.android||h.cordova||g.Capacitor&&g.Capacitor.isNative)&&e.preventDefault(),y&&(i&&k(),O())}))}}};function pc(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var a=e[n];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,o="";if("?"===e[i=n+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0==--r){i++;break}}else if("("===e[i]&&(r++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);o+=e[i++]}else o+=e[i++]+e[i++];if(r)throw new TypeError("Unbalanced pattern at "+n);if(!o)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:o}),n=i}else{for(var s="",i=n+1;i<e.length;){var l=e.charCodeAt(i);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;s+=e[i++]}if(!s)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:s}),n=i}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),a=t.prefixes,r=void 0===a?"./":a,o="[^"+fc(t.delimiter||"/#?")+"]+?",s=[],i=0,l=0,c="",u=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},p=function(e){var t=u(e);if(void 0!==t)return t;var a=n[l],r=a.type,o=a.index;throw new TypeError("Unexpected "+r+" at "+o+", expected "+e)},d=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var f=u("CHAR"),h=u("NAME"),m=u("PATTERN");if(h||m){var g=f||"";-1===r.indexOf(g)&&(c+=g,g=""),c&&(s.push(c),c=""),s.push({name:h||i++,prefix:g,suffix:"",pattern:m||o,modifier:u("MODIFIER")||""})}else{var v=f||u("ESCAPED_CHAR");if(v)c+=v;else if(c&&(s.push(c),c=""),u("OPEN")){g=d();var b=u("NAME")||"",y=u("PATTERN")||"",x=d();p("CLOSE"),s.push({name:b||(y?i++:""),pattern:b&&!y?o:y,prefix:g,suffix:x,modifier:u("MODIFIER")||""})}else p("END")}}return s}function dc(e,t){return function(e,t){void 0===t&&(t={});var n=hc(t),a=t.encode,r=void 0===a?function(e){return e}:a,o=t.validate,s=void 0===o||o,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",n)}));return function(t){for(var n="",a=0;a<e.length;a++){var o=e[a];if("string"!=typeof o){var l=t?t[o.name]:void 0,c="?"===o.modifier||"*"===o.modifier,u="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!u)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===l.length){if(c)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var p=0;p<l.length;p++){var d=r(l[p],o);if(s&&!i[a].test(d))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');n+=o.prefix+d+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var f=u?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+f)}}else{d=r(String(l),o);if(s&&!i[a].test(d))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');n+=o.prefix+d+o.suffix}}else n+=o}return n}}(pc(e,t),t)}function fc(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function hc(e){return e&&e.sensitive?"":"i"}function mc(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var a=n.strict,r=void 0!==a&&a,o=n.start,s=void 0===o||o,i=n.end,l=void 0===i||i,c=n.encode,u=void 0===c?function(e){return e}:c,p="["+fc(n.endsWith||"")+"]|$",d="["+fc(n.delimiter||"/#?")+"]",f=s?"^":"",h=0,m=e;h<m.length;h++){var g=m[h];if("string"==typeof g)f+=fc(u(g));else{var v=fc(u(g.prefix)),b=fc(u(g.suffix));if(g.pattern)if(t&&t.push(g),v||b)if("+"===g.modifier||"*"===g.modifier){var y="*"===g.modifier?"?":"";f+="(?:"+v+"((?:"+g.pattern+")(?:"+b+v+"(?:"+g.pattern+"))*)"+b+")"+y}else f+="(?:"+v+"("+g.pattern+")"+b+")"+g.modifier;else f+="("+g.pattern+")"+g.modifier;else f+="(?:"+v+b+")"+g.modifier}}if(l)r||(f+=d+"?"),f+=n.endsWith?"(?="+p+")":"$";else{var x=e[e.length-1],w="string"==typeof x?d.indexOf(x[x.length-1])>-1:void 0===x;r||(f+="(?:"+d+"(?="+p+"))?"),w||(f+="(?="+d+"|"+p+")")}return new RegExp(f,hc(n))}(pc(e,n),t,n)}function gc(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,a=0,r=n.exec(e.source);r;)t.push({name:r[1]||a++,prefix:"",suffix:"",modifier:"",pattern:""}),r=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var a=e.map((function(e){return gc(e,t,n).source}));return new RegExp("(?:"+a.join("|")+")",hc(n))}(e,t,n):mc(e,t,n)}var vc={queue:[],clearQueue:function(){0!==vc.queue.length&&vc.queue.shift()()},routerQueue:[],clearRouterQueue:function(){if(0!==vc.routerQueue.length){var e=vc.routerQueue.pop(),t=e.router,n=e.stateUrl,a=e.action,r=t.params.animate;!1===t.params.browserHistoryAnimate&&(r=!1),"back"===a&&t.back({animate:r,browserHistory:!1}),"load"===a&&t.navigate(n,{animate:r,browserHistory:!1})}},handle:function(e){if(!vc.blockPopstate){var t=e.state;vc.previousState=vc.state,vc.state=t,vc.allowChange=!0,vc.clearQueue(),(t=vc.state)||(t={}),this.views.forEach((function(e){var n=e.router,a=t[e.id];if(!a&&e.params.browserHistory&&(a={url:e.router.history[0]}),a){var r=a.url||void 0,o=n.params.animate;!1===n.params.browserHistoryAnimate&&(o=!1),r!==n.url&&(n.history.indexOf(r)>=0?n.allowPageChange?n.back({animate:o,browserHistory:!1}):vc.routerQueue.push({action:"back",router:n}):n.allowPageChange?n.navigate(r,{animate:o,browserHistory:!1}):vc.routerQueue.unshift({action:"load",stateUrl:r,router:n}))}}))}},initViewState:function(e,t){var n,a=is(),r=Os({},vc.state||{},((n={})[e]=t,n));vc.state=r,a.history.replaceState(r,"")},push:function(e,t,n){var a,r=is();if("#!/"===n.substr(-3)&&(n=n.replace("#!/","")),vc.allowChange){vc.previousState=vc.state;var o=Os({},vc.previousState||{},((a={})[e]=t,a));vc.state=o,r.history.pushState(o,"",n)}else vc.queue.push((function(){vc.push(e,t,n)}))},replace:function(e,t,n){var a,r=is();if("#!/"===n.substr(-3)&&(n=n.replace("#!/","")),vc.allowChange){vc.previousState=vc.state;var o=Os({},vc.previousState||{},((a={})[e]=t,a));vc.state=o,r.history.replaceState(o,"",n)}else vc.queue.push((function(){vc.replace(e,t,n)}))},go:function(e){var t=is();vc.allowChange=!1,t.history.go(e)},back:function(){var e=is();vc.allowChange=!1,e.history.back()},allowChange:!0,previousState:{},state:{},blockPopstate:!0,init:function(e){var t=is(),n=os();vc.state=t.history.state,Bl(t).on("load",(function(){setTimeout((function(){vc.blockPopstate=!1}),0)})),n.readyState&&"complete"===n.readyState&&(vc.blockPopstate=!1),Bl(t).on("popstate",vc.handle.bind(e))}},bc=vc;var yc=function(e){var t,n,a,r,o,s,i,l,c,u=e,p=u.$el,d=u.$navbarsEl,f=u.app,h=u.params,m=Ds(),g=Fs(),v=!1,b=!1,y={},x=[],w=[],C=!0,k=[],E=[],S=h[f.theme+"SwipeBackAnimateShadow"],T=h[f.theme+"SwipeBackAnimateOpacity"],$=h[f.theme+"SwipeBackActiveArea"],O=h[f.theme+"SwipeBackThreshold"],I=f.rtl?"right center":"left center",N=f.rtl?"calc(100% - var(--f7-navbar-large-title-padding-left) - var(--f7-safe-area-left)) center":"calc(var(--f7-navbar-large-title-padding-left) + var(--f7-safe-area-left)) center";function R(e){var t=void 0===e?{}:e,n=t.progress,a=t.reset,r=t.transition,o=t.reflow,s=["overflow","transform","transform-origin","opacity"];if(!0===r||!1===r)for(var i=0;i<l.length;i+=1){var c=l[i];c&&c.el&&(!0===r&&c.el.classList.add("navbar-page-transitioning"),!1===r&&c.el.classList.remove("navbar-page-transitioning"))}o&&l.length&&l[0]&&l[0].el&&(l[0].el._clientLeft=l[0].el.clientLeft);for(var u=0;u<l.length;u+=1){var p=l[u];if(p&&p.el){!p.className||p.classNameSet||a||(p.el.classList.add(p.className),p.classNameSet=!0),p.className&&a&&p.el.classList.remove(p.className);for(var d=0;d<s.length;d+=1){var f=s[d];p[f]&&(a?p.el.style[f]="":"function"==typeof p[f]?p.el.style[f]=p[f](n):p.el.style[f]=p[f])}}}}function P(e){var n=h[f.theme+"SwipeBack"];!C||!n||v||f.swipeout&&f.swipeout.el||!u.allowPageChange||Bl(e.target).closest(".range-slider, .calendar-months").length>0||Bl(e.target).closest(".page-master, .page-master-detail").length>0&&h.masterDetailBreakpoint>0&&f.width>=h.masterDetailBreakpoint||(b=!1,v=!0,t=void 0,y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,r=Cs(),o=u.dynamicNavbar)}function M(e){if(v){var r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,c="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===t&&(t=!!(t||Math.abs(c-y.y)>Math.abs(r-y.x))||r<y.x&&!f.rtl||r>y.x&&f.rtl),t||e.f7PreventSwipeBack||f.preventSwipeBack)v=!1;else{if(!b){var m=!1,C=Bl(e.target),P=C.closest(".swipeout");P.length>0&&(!f.rtl&&P.find(".swipeout-actions-left").length>0&&(m=!0),f.rtl&&P.find(".swipeout-actions-right").length>0&&(m=!0)),((x=C.closest(".page")).hasClass("no-swipeback")||C.closest(".no-swipeback, .card-opened").length>0)&&(m=!0),(w=p.find(".page-previous:not(.stacked)")).length>1&&(w=w.eq(w.length-1));y.x,p.offset().left;if(n=p.width(),(f.rtl?y.x<p.offset().left-p[0].scrollLeft+(n-$):y.x-p.offset().left>$)&&(m=!0),0!==w.length&&0!==x.length||(m=!0),m)return void(v=!1);S&&0===(s=x.find(".page-shadow-effect")).length&&(s=Bl('<div class="page-shadow-effect"></div>'),x.append(s)),T&&0===(i=w.find(".page-opacity-effect")).length&&(i=Bl('<div class="page-opacity-effect"></div>'),w.append(i)),o&&(k=d.find(".navbar-current:not(.stacked)"),(E=d.find(".navbar-previous:not(.stacked)")).length>1&&(E=E.eq(E.length-1)),l=function(){var e,t,n=[],a=f.rtl?-1:1,r=k.hasClass("navbar-transparent")&&!k.hasClass("navbar-large")&&!k.hasClass("navbar-transparent-visible"),o=k.hasClass("navbar-large"),s=k.hasClass("navbar-large-collapsed"),i=k.hasClass("navbar-large-transparent")||k.hasClass("navbar-large")&&k.hasClass("navbar-transparent"),l=E.hasClass("navbar-transparent")&&!E.hasClass("navbar-large")&&!E.hasClass("navbar-transparent-visible"),c=E.hasClass("navbar-large"),u=E.hasClass("navbar-large-collapsed"),p=E.hasClass("navbar-large-transparent")||E.hasClass("navbar-large")&&E.hasClass("navbar-transparent"),d=o&&!s,m=c&&!u,v=k.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg"),b=E.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg");return h.iosAnimateNavbarBackIcon&&(e=k.hasClass("sliding")||k.find(".navbar-inner.sliding").length?k.find(".left").find(".back .icon + span").eq(0):k.find(".left.sliding").find(".back .icon + span").eq(0),t=E.hasClass("sliding")||E.find(".navbar-inner.sliding").length?E.find(".left").find(".back .icon + span").eq(0):E.find(".left.sliding").find(".back .icon + span").eq(0),e.length&&b.each((function(t){Bl(t).hasClass("title")&&(t.f7NavbarLeftOffset+=e.prev(".icon")[0].offsetWidth)}))),v.each((function(t){var l=Bl(t),c=l.hasClass("subnavbar"),u=l.hasClass("left"),p=l.hasClass("title"),f=l.hasClass("navbar-bg");if((!p&&!f||!r)&&(d||!l.hasClass(".title-large"))){var v={el:t};if(d){if(p)return;if(l.hasClass("title-large"))return n.indexOf(v)<0&&n.push(v),v.overflow="visible",void l.find(".title-large-text").each((function(e){n.push({el:e,transform:function(e){return"translateX("+100*e*a+"%)"}})}))}if(m&&(d||l.hasClass("title-large")&&(n.indexOf(v)<0&&n.push(v),v.opacity=0),u))return n.indexOf(v)<0&&n.push(v),v.opacity=function(e){return 1-Math.pow(e,.33)},void l.find(".back span").each((function(e){n.push({el:e,"transform-origin":I,transform:function(e){return"translateX(calc("+e+" * (var(--f7-navbarTitleLargeOffset) - var(--f7-navbarLeftTextOffset)))) translateY(calc("+e+" * (var(--f7-navbar-large-title-height) - var(--f7-navbar-large-title-padding-vertical) / 2))) scale("+(1+1*e)+")"}})}));if(f)return n.indexOf(v)<0&&n.push(v),d||m||(s?(i&&(v.className="ios-swipeback-navbar-bg-large"),v.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))"}):v.transform=function(e){return"translateX("+100*e*a+"%)"}),!d&&m&&(v.className="ios-swipeback-navbar-bg-large",v.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-1 * "+(1-e)+" * var(--f7-navbar-large-title-height)))"}),d&&m&&(v.transform=function(e){return"translateX("+100*e*a+"%)"}),void(d&&!m&&(v.transform=function(e){return"translateX("+100*e*a+"%) translateY(calc(-"+e+" * var(--f7-navbar-large-title-height)))"}));if(!l.hasClass("title-large")){var b=l.hasClass("sliding")||l.parents(".navbar-inner.sliding").length;if(n.indexOf(v)<0&&n.push(v),(!c||c&&!b)&&(v.opacity=function(e){return 1-Math.pow(e,.33)}),b){var y=v;if(u&&e.length&&h.iosAnimateNavbarBackIcon){var x={el:e[0]};y=x,n.push(x)}y.transform=function(e){var t=e*y.el.f7NavbarRightOffset;return 1===g.pixelRatio&&(t=Math.round(t)),c&&o?"translate3d("+t+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),b.each((function(e){var r=Bl(e),o=r.hasClass("subnavbar"),s=r.hasClass("left"),i=r.hasClass("title"),f=r.hasClass("navbar-bg");if(!i&&!f||!l){var v={el:e};if(m){if(i)return;if(n.indexOf(v)<0&&n.push(v),r.hasClass("title-large"))return v.opacity=1,v.overflow="visible",void r.find(".title-large-text").each((function(e){n.push({el:e,"transform-origin":N,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateX(calc("+(1-e)+" * (var(--f7-navbarLeftTextOffset) - var(--f7-navbarTitleLargeOffset)))) translateY(calc("+(e-1)+" * var(--f7-navbar-large-title-height) + "+(1-e)+" * var(--f7-navbar-large-title-padding-vertical))) scale("+(.5+.5*e)+")"}})}))}if(f)return n.indexOf(v)<0&&n.push(v),d||m||(u?(p&&(v.className="ios-swipeback-navbar-bg-large"),v.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))"}):v.transform=function(e){return"translateX("+(100*e-100)*a+"%)"}),!d&&m&&(v.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-1 * "+(1-e)+" * var(--f7-navbar-large-title-height)))"}),d&&!m&&(v.className="ios-swipeback-navbar-bg-large",v.transform=function(e){return"translateX("+(100*e-100)*a+"%) translateY(calc(-"+e+" * var(--f7-navbar-large-title-height)))"}),void(d&&m&&(v.transform=function(e){return"translateX("+(100*e-100)*a+"%)"}));if(!r.hasClass("title-large")){var b=r.hasClass("sliding")||E.children(".navbar-inner.sliding").length;if(n.indexOf(v)<0&&n.push(v),(!o||o&&!b)&&(v.opacity=function(e){return Math.pow(e,3)}),b){var y=v;if(s&&t.length&&h.iosAnimateNavbarBackIcon){var x={el:t[0]};y=x,n.push(x)}y.transform=function(e){var t=y.el.f7NavbarLeftOffset*(1-e);return 1===g.pixelRatio&&(t=Math.round(t)),o&&c?"translate3d("+t+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),n}()),Bl(".sheet.modal-in").length>0&&f.sheet&&f.sheet.close(Bl(".sheet.modal-in"))}e.f7PreventSwipePanel=!0,b=!0,f.preventSwipePanelBySwipeBack=!0,e.preventDefault();var M=f.rtl?-1:1;(a=(r-y.x-O)*M)<0&&(a=0);var B=Math.min(Math.max(a/n,0),1),A={percentage:B,progress:B,currentPageEl:x[0],previousPageEl:w[0],currentNavbarEl:k[0],previousNavbarEl:E[0]};p.trigger("swipeback:move",A),u.emit("swipebackMove",A);var _=a*M,L=(a/5-n/5)*M;f.rtl?(_=Math.max(_,-n),L=Math.max(L,0)):(_=Math.min(_,n),L=Math.min(L,0)),1===g.pixelRatio&&(_=Math.round(_),L=Math.round(L)),u.swipeBackActive=!0,Bl([x[0],w[0]]).addClass("page-swipeback-active"),x.transform("translate3d("+_+"px,0,0)"),S&&(s[0].style.opacity=1-1*B),"ios"===f.theme&&w.transform("translate3d("+L+"px,0,0)"),T&&(i[0].style.opacity=1-1*B),o&&R({progress:B})}}}function B(){if(f.preventSwipePanelBySwipeBack=!1,!v||!b)return v=!1,void(b=!1);v=!1,b=!1,u.swipeBackActive=!1;var e=Bl([x[0],w[0]]);if(e.removeClass("page-swipeback-active"),0===a)return e.transform(""),s&&s.length>0&&s.remove(),i&&i.length>0&&i.remove(),void(o&&R({reset:!0}));var t=Cs()-r,l=!1;(t<300&&a>10||t>=300&&a>n/2)&&(x.removeClass("page-current").addClass("page-next"+("ios"!==f.theme?" page-next-on-right":"")),w.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),s&&(s[0].style.opacity=""),i&&(i[0].style.opacity=""),o&&(u.setNavbarPosition(k,"next"),u.setNavbarPosition(E,"current",!1)),l=!0),e.addClass("page-transitioning page-transitioning-swipeback"),g.ios&&(x[0]._clientLeft=x[0].clientLeft),e.transform(""),o&&R({progress:l?1:0,transition:!0,reflow:!!g.ios}),C=!1,u.allowPageChange=!1;var c={currentPageEl:x[0],previousPageEl:w[0],currentNavbarEl:k[0],previousNavbarEl:E[0]};l?(u.currentRoute=w[0].f7Page.route,u.currentPage=w[0],u.pageCallback("beforeOut",x,k,"current","next",{route:x[0].f7Page.route,swipeBack:!0}),u.pageCallback("beforeIn",w,E,"previous","current",{route:w[0].f7Page.route,swipeBack:!0},x[0]),p.trigger("swipeback:beforechange",c),u.emit("swipebackBeforeChange",c)):(p.trigger("swipeback:beforereset",c),u.emit("swipebackBeforeReset",c)),x.transitionEnd((function(){e.removeClass("page-transitioning page-transitioning-swipeback"),o&&R({reset:!0,transition:!1}),C=!0,u.allowPageChange=!0,l?(1===u.history.length&&u.history.unshift(u.url),u.history.pop(),u.saveHistory(),h.browserHistory&&bc.back(),u.pageCallback("afterOut",x,k,"current","next",{route:x[0].f7Page.route,swipeBack:!0}),u.pageCallback("afterIn",w,E,"previous","current",{route:w[0].f7Page.route,swipeBack:!0}),h.stackPages&&u.initialPages.indexOf(x[0])>=0?(x.addClass("stacked"),o&&k.addClass("stacked")):(u.pageCallback("beforeRemove",x,k,"next",{swipeBack:!0}),u.removePage(x),o&&u.removeNavbar(k)),p.trigger("swipeback:afterchange",c),u.emit("swipebackAfterChange",c),u.emit("routeChanged",u.currentRoute,u.previousRoute,u),h.preloadPreviousPage&&u.back(u.history[u.history.length-2],{preload:!0})):(p.trigger("swipeback:afterreset",c),u.emit("swipebackAfterReset",c)),s&&s.length>0&&s.remove(),i&&i.length>0&&i.remove()}))}c=!("touchstart"!==f.touchEvents.start||!m.passiveListener)&&{passive:!0,capture:!1},p.on(f.touchEvents.start,P,c),f.on("touchmove:active",M),f.on("touchend:passive",B),u.on("routerDestroy",(function(){var e=!("touchstart"!==f.touchEvents.start||!m.passiveListener)&&{passive:!0,capture:!1};p.off(f.touchEvents.start,P,e),f.off("touchmove:active",M),f.off("touchend:passive",B)}))};function xc(e,t,n){var a=this,r=t.route.redirect,o="forward"===e?"navigate":"back";if(n.initial&&a.params.browserHistory&&(n.replaceState=!0,n.history=!0),"function"==typeof r){a.allowPageChange=!1;var s=r.call(a,{router:a,to:t,resolve:function(e,t){void 0===t&&(t={}),a.allowPageChange=!0,a[o](e,Os({},n,t))},reject:function(){a.allowPageChange=!0},direction:e,app:a.app});return s&&"string"==typeof s?(a.allowPageChange=!0,a[o](s,n)):a}return a[o](r,n)}function wc(e,t,n,a,r,o,s,i){var l=[];Array.isArray(n)?l.push.apply(l,n):n&&"function"==typeof n&&l.push(n),t&&(Array.isArray(t)?l.push.apply(l,t):l.push(t)),function t(){0!==l.length?l.shift().call(e,{router:e,to:a,from:r,resolve:function(){t()},reject:function(){s()},direction:i,app:e.app}):o()}()}function Cc(e,t,n,a,r){var o=this;function s(){e&&e.route&&(o.params.routesBeforeEnter||e.route.beforeEnter)?(o.allowPageChange=!1,wc(o,o.params.routesBeforeEnter,e.route.beforeEnter,e,t,(function(){o.allowPageChange=!0,n()}),(function(){a()}),r)):n()}t&&t.route&&(o.params.routesBeforeLeave||t.route.beforeLeave)?(o.allowPageChange=!1,wc(o,o.params.routesBeforeLeave,t.route.beforeLeave,e,t,(function(){o.allowPageChange=!0,s()}),(function(){a()}),r)):s()}function kc(e,t){if(!e.view)throw new Error("Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router."+t+"(...)")}function Ec(e,t,n,a){function r(e){e.then((function(e){n({component:e.default||e._default||e})})).catch((function(e){throw a(),new Error(e)}))}if(t instanceof Promise)r(t);else{var o=t.call(e);o instanceof Promise?r(o):n({component:o})}}function Sc(){return Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sc.apply(this,arguments)}function Tc(e,t,n){void 0===n&&(n={});var a,r,o,s=os(),i=Bl(t),l=e.app,c=e.view,u=Os(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1,history:!0,reloadCurrent:e.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:e.params.reloadDetail,on:{}},n),p=e.params.masterDetailBreakpoint>0,d=p&&u.route&&u.route.route&&(!0===u.route.route.master||"function"==typeof u.route.route.master&&u.route.route.master(l,e)),f=0,h=e.currentRoute.modal;if(h||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){e.currentRoute&&e.currentRoute.route&&e.currentRoute.route[t]&&(h=!0,o=t)})),h){var m=e.currentRoute.modal||e.currentRoute.route.modalInstance||l[o].get(),g=e.history[e.history.length-2],v=e.findMatchingRoute(g);!v&&g&&(v={url:g,path:g.split("?")[0],query:ks(g),route:{path:g.split("?")[0],url:g}}),e.modalRemove(m)}var b,y,x,w,C=e.dynamicNavbar,k=e.$el,E=i,S=u.reloadPrevious||u.reloadCurrent||u.reloadAll;if(e.allowPageChange=!1,0===E.length)return e.allowPageChange=!0,e;E.length&&e.removeThemeElements(E),C&&(x=E.children(".navbar"),y=e.$navbarsEl,0===x.length&&E[0]&&E[0].f7Page&&(x=E[0].f7Page.$navbarEl)),u.route&&u.route.route&&u.route.route.keepAlive&&!u.route.route.keepAliveData&&(u.route.route.keepAliveData={pageEl:i[0]});var T,$,O,I,N=k.children(".page:not(.stacked)").filter((function(e){return e!==E[0]}));if(C&&(T=y.children(".navbar:not(.stacked)").filter((function(e){return e!==x[0]}))),u.reloadPrevious&&N.length<2)return e.allowPageChange=!0,e;if(p&&!u.reloadAll){for(var R=0;R<N.length;R+=1)a||!N[R].classList.contains("page-master")||(a=N[R]);if(($=!d&&a)&&a)for(var P=0;P<N.length;P+=1)N[P].classList.contains("page-master-detail")&&(r=N[P]);O=$&&u.reloadDetail&&l.width>=e.params.masterDetailBreakpoint&&a}$&&(I=!r||O||u.reloadAll||u.reloadCurrent);var M="next";if(u.reloadCurrent||u.reloadAll||O?M="current":u.reloadPrevious&&(M="previous"),E.removeClass("page-previous page-current page-next").addClass("page-"+M+(d?" page-master":"")+($?" page-master-detail":"")+(I?" page-master-detail-root":"")).removeClass("stacked").trigger("page:unstack").trigger("page:position",{position:M}),e.emit("pageUnstack",E[0]),e.emit("pagePosition",E[0],M),(d||$)&&(E.trigger("page:role",{role:d?"master":"detail",root:!!I}),e.emit("pageRole",E[0],{role:d?"master":"detail",detailRoot:!!I})),C&&x.length&&(x.removeClass("navbar-previous navbar-current navbar-next").addClass("navbar-"+M+(d?" navbar-master":"")+($?" navbar-master-detail":"")+(I?" navbar-master-detail-root":"")).removeClass("stacked"),x.trigger("navbar:position",{position:M}),e.emit("navbarPosition",x[0],M),(d||$)&&e.emit("navbarRole",x[0],{role:d?"master":"detail",detailRoot:!!I})),u.reloadCurrent||O)O?(b=N.filter((function(e){return!e.classList.contains("page-master")})),C&&(w=Bl(b.map((function(e){return l.navbar.getElByPage(e)})))),b.length>1&&a&&(f=b.length-1,Bl(a).removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",a),C&&(Bl(l.navbar.getElByPage(a)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",l.navbar.getElByPage(a))))):(b=N.eq(N.length-1),C&&(w=Bl(l.navbar.getElByPage(b))));else if(u.reloadPrevious)b=N.eq(N.length-2),C&&(w=Bl(l.navbar.getElByPage(b)));else if(u.reloadAll)b=N.filter((function(e){return e!==E[0]})),C&&(w=T.filter((function(e){return e!==x[0]})));else{var B=[],A=[];if(N.length>1){var _=0;for(_=0;_<N.length-1;_+=1)if(a&&N[_]===a)N.eq(_).addClass("page-master-stacked"),N.eq(_).trigger("page:masterstack"),e.emit("pageMasterStack",N[_]),C&&(Bl(l.navbar.getElByPage(a)).addClass("navbar-master-stacked"),e.emit("navbarMasterStack",l.navbar.getElByPage(a)));else{var L=l.navbar.getElByPage(N.eq(_));e.params.stackPages?(N.eq(_).addClass("stacked"),N.eq(_).trigger("page:stack"),e.emit("pageStack",N[_]),C&&Bl(L).addClass("stacked")):(B.push(N[_]),e.pageCallback("beforeRemove",N[_],T&&T[_],"previous",void 0,u),e.removePage(N[_]),C&&L&&(A.push(L),e.removeNavbar(L)))}}b=k.children(".page:not(.stacked)").filter((function(e){return e!==E[0]&&B.indexOf(e)<0})),C&&(w=y.children(".navbar:not(.stacked)").filter((function(e){return e!==x[0]&&A.indexOf(A)<0}))),B=[],A=[]}if($&&!u.reloadAll&&((b.length>1||O)&&(b=b.filter((function(e){return!e.classList.contains("page-master")}))),w&&(w.length>1||O)&&(w=w.filter((function(e){return!e.classList.contains("navbar-master")})))),e.params.browserHistory&&(u.browserHistory||u.replaceState)&&!u.reloadPrevious){var D=e.params.browserHistoryRoot||"";bc[u.reloadCurrent||O&&r||u.reloadAll||u.replaceState?"replace":"push"](c.id,{url:u.route.url},D+e.params.browserHistorySeparator+u.route.url)}u.reloadPrevious||(e.currentPageEl=E[0],C&&x.length?e.currentNavbarEl=x[0]:delete e.currentNavbarEl,e.currentRoute=u.route);var F=u.route.url;u.history&&(((u.reloadCurrent||O&&r)&&e.history.length)>0||u.replaceState?(O&&f>0&&(e.history=e.history.slice(0,e.history.length-f)),e.history[e.history.length-(u.reloadPrevious?2:1)]=F):u.reloadPrevious?e.history[e.history.length-2]=F:u.reloadAll?e.history=[F]:e.history.push(F)),e.saveHistory();var z=E.parents(s).length>0,V=E[0].f7Component;if(u.reloadPrevious?(V&&!z?V.mount((function(e){Bl(e).insertBefore(b)})):E.insertBefore(b),C&&x.length&&(x.find(".title-large").length&&x.addClass("navbar-large"),w.length?x.insertBefore(w):(e.$navbarsEl.parents(s).length||e.$el.prepend(e.$navbarsEl),y.append(x)))):(b.next(".page")[0]!==E[0]&&(V&&!z?V.mount((function(e){k.append(e)})):k.append(E[0])),C&&x.length&&(x.find(".title-large").length&&x.addClass("navbar-large"),e.$navbarsEl.parents(s).length||e.$el.prepend(e.$navbarsEl),y.append(x[0]))),z?u.route&&u.route.route&&u.route.route.keepAlive&&!E[0].f7PageMounted&&(E[0].f7PageMounted=!0,e.pageCallback("mounted",E,x,M,S?M:"current",u,b)):e.pageCallback("mounted",E,x,M,S?M:"current",u,b),(u.reloadCurrent||O)&&b.length>0?e.params.stackPages&&e.initialPages.indexOf(b[0])>=0?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&w.addClass("stacked")):(e.pageCallback("beforeOut",b,w,"current",void 0,u),e.pageCallback("afterOut",b,w,"current",void 0,u),e.pageCallback("beforeRemove",b,w,"current",void 0,u),e.removePage(b),C&&w&&w.length&&e.removeNavbar(w)):u.reloadAll?b.each((function(t,n){var a=Bl(t),r=Bl(l.navbar.getElByPage(a));e.params.stackPages&&e.initialPages.indexOf(a[0])>=0?(a.addClass("stacked"),a.trigger("page:stack"),e.emit("pageStack",a[0]),C&&r.addClass("stacked")):(a.hasClass("page-current")&&(e.pageCallback("beforeOut",b,w,"current",void 0,u),e.pageCallback("afterOut",b,w,"current",void 0,u)),e.pageCallback("beforeRemove",a,w&&w.eq(n),"previous",void 0,u),e.removePage(a),C&&r.length&&e.removeNavbar(r))})):u.reloadPrevious&&(e.params.stackPages&&e.initialPages.indexOf(b[0])>=0?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&w.addClass("stacked")):(e.pageCallback("beforeRemove",b,w,"previous",void 0,u),e.removePage(b),C&&w&&w.length&&e.removeNavbar(w))),u.route.route.tab&&e.tabLoad(u.route.route.tab,Os({},u,{history:!1,browserHistory:!1})),p&&c.checkMasterDetailBreakpoint(),e.pageCallback("init",E,x,M,S?M:"current",u,b),u.reloadCurrent||u.reloadAll||O)return e.allowPageChange=!0,e.pageCallback("beforeIn",E,x,M,"current",u),E.removeAttr("aria-hidden"),C&&x&&x.removeAttr("aria-hidden"),e.pageCallback("afterIn",E,x,M,"current",u),u.reloadCurrent&&u.clearPreviousHistory&&e.clearPreviousHistory(),O&&(e.setPagePosition(Bl(a),"previous"),a.f7Page&&a.f7Page.navbarEl&&e.setNavbarPosition(Bl(a.f7Page.navbarEl),"previous")),e;if(u.reloadPrevious)return e.allowPageChange=!0,e;function H(){e.setPagePosition(E,"current",!1),e.setPagePosition(b,"previous",!b.hasClass("page-master")),C&&(e.setNavbarPosition(x,"current",!1),e.setNavbarPosition(w,"previous",!w.hasClass("navbar-master"))),e.allowPageChange=!0,e.pageCallback("afterOut",b,w,"current","previous",u),e.pageCallback("afterIn",E,x,"next","current",u);var t=(e.params.preloadPreviousPage||e.params[l.theme+"SwipeBack"])&&!d;t||(E.hasClass("smart-select-page")||E.hasClass("photo-browser-page")||E.hasClass("autocomplete-page")||E.hasClass("color-picker-page"))&&(t=!0),t||(e.params.stackPages?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&w.addClass("stacked")):E.attr("data-name")&&"smart-select-page"===E.attr("data-name")||(e.pageCallback("beforeRemove",b,w,"previous",void 0,u),e.removePage(b),C&&w.length&&e.removeNavbar(w))),u.clearPreviousHistory&&e.clearPreviousHistory(),e.emit("routeChanged",e.currentRoute,e.previousRoute,e),e.params.browserHistory&&bc.clearRouterQueue()}function j(){e.setPagePosition(b,"current",!1),e.setPagePosition(E,"next",!1),C&&(e.setNavbarPosition(w,"current",!1),e.setNavbarPosition(x,"next",!1))}if(e.pageCallback("beforeOut",b,w,"current","previous",u),e.pageCallback("beforeIn",E,x,"next","current",u),!u.animate||d&&l.width>=e.params.masterDetailBreakpoint)H();else{var W=e.params[e.app.theme+"PageLoadDelay"],U=e.params.transition;u.transition&&(U=u.transition),!U&&e.currentRoute&&e.currentRoute.route&&(U=e.currentRoute.route.transition),!U&&e.currentRoute&&e.currentRoute.route.options&&(U=e.currentRoute.route.options.transition),U&&(E[0].f7PageTransition=U),W?setTimeout((function(){j(),e.animate(b,E,w,x,"forward",U,(function(){H()}))}),W):(j(),e.animate(b,E,w,x,"forward",U,(function(){H()})))}return e}function $c(e,t,n,a){if(void 0===t&&(t={}),void 0===n&&(n={}),!e.allowPageChange&&!a)return e;var r=t,o=n,s=r.url,i=r.content,l=r.el,c=r.pageName,u=r.component,p=r.componentUrl;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&e.currentRoute.route&&e.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===e.url)return e.allowPageChange=!0,!1;var d=Object.keys(o.route.params).length===Object.keys(e.currentRoute.params).length;if(d&&Object.keys(o.route.params).forEach((function(t){t in e.currentRoute.params&&e.currentRoute.params[t]===o.route.params[t]||(d=!1)})),d)return!!o.route.route.tab&&e.tabLoad(o.route.route.tab,o);if(!d&&o.route.route.tab&&e.currentRoute.route.tab&&e.currentRoute.parentPath===o.route.parentPath)return e.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;if(!o.route&&s&&(o.route=e.parseRouteUrl(s),Os(o.route,{route:{url:s,path:s}})),(s||p||u)&&(e.allowPageChange=!1),i)Tc(e,e.getPageEl(i),o);else if(l)Tc(e,e.getPageEl(l),o);else if(c)Tc(e,e.$el.children('.page[data-name="'+c+'"]').eq(0),o);else if(u||p)try{e.pageComponentLoader({routerEl:e.el,component:u,componentUrl:p,options:o,resolve:function(t,n){return Tc(e,t,Os(o,n))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((function(t){Tc(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}function Oc(e,t,n){var a,r,o,s,i,l,c,u,p=Fs(),d=os(),f=Bl(t),h=e.app,m=e.view,g=Os(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1},n),v=e.params.masterDetailBreakpoint>0,b=v&&g.route&&g.route.route&&(!0===g.route.route.master||"function"==typeof g.route.route.master&&g.route.route.master(h,e)),y=e.dynamicNavbar,x=f,w=e.$el.children(".page-current"),C=0===w.length&&g.preload,k=v&&w.hasClass("page-master");if(x.length&&e.removeThemeElements(x),y&&(s=x.children(".navbar"),o=e.$navbarsEl,0===s.length&&x[0]&&x[0].f7Page&&(s=x[0].f7Page.$navbarEl),i=o.find(".navbar-current")),e.allowPageChange=!1,0===x.length||0===w.length&&!g.preload)return e.allowPageChange=!0,e;if(e.removeThemeElements(x),g.route&&g.route.route&&g.route.route.keepAlive&&!g.route.route.keepAliveData&&(g.route.route.keepAliveData={pageEl:f[0]}),v){for(var E=e.$el.children(".page:not(.stacked)").filter((function(e){return e!==x[0]})),S=0;S<E.length;S+=1)a||!E[S].classList.contains("page-master")||(a=E[S]);!(l=!b&&a&&e.history.indexOf(g.route.url)>e.history.indexOf(a.f7Page.route.url))&&!b&&a&&a.f7Page&&g.route.route.masterRoute&&(l=g.route.route.masterRoute.path===a.f7Page.route.route.path)}if(l&&a&&a.f7Page&&(c=e.history.indexOf(g.route.url)-e.history.indexOf(a.f7Page.route.url)==1),x.addClass("page-"+(C?"current":"previous")+(b?" page-master":"")+(l?" page-master-detail":"")+(c?" page-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:C?"current":"previous"}),e.emit("pageUnstack",x[0]),e.emit("pagePosition",x[0],C?"current":"previous"),(b||l)&&(x.trigger("page:role",{role:b?"master":"detail",root:!!c}),e.emit("pageRole",x[0],{role:b?"master":"detail",detailRoot:!!c})),y&&s.length>0&&(s.addClass("navbar-"+(C?"current":"previous")+(b?" navbar-master":"")+(l?" navbar-master-detail":"")+(c?" navbar-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden"),s.trigger("navbar:position",{position:C?"current":"previous"}),e.emit("navbarPosition",s[0],C?"current":"previous"),(b||c)&&e.emit("navbarRole",s[0],{role:b?"master":"detail",detailRoot:!!c})),g.force&&(w.prev(".page-previous:not(.stacked)").length>0||0===w.prev(".page-previous").length))if(e.history.indexOf(g.route.url)>=0?(u=e.history.length-e.history.indexOf(g.route.url)-1,e.history=e.history.slice(0,e.history.indexOf(g.route.url)+2),m.history=e.history):e.history[[e.history.length-2]]?e.history[e.history.length-2]=g.route.url:e.history.unshift(e.url),u&&e.params.stackPages)w.prevAll(".page-previous").each((function(t){var n,o=Bl(t);y&&(n=Bl(h.navbar.getElByPage(o))),o[0]!==x[0]&&o.index()>x.index()&&(e.initialPages.indexOf(o[0])>=0?(o.addClass("stacked"),o.trigger("page:stack"),e.emit("pageStack",o[0]),y&&n.addClass("stacked")):(e.pageCallback("beforeRemove",o,n,"previous",void 0,g),o[0]===a&&(r=!0),e.removePage(o),y&&n.length>0&&e.removeNavbar(n)))}));else{var T,$=w.prev(".page-previous:not(.stacked)");y&&(T=Bl(h.navbar.getElByPage($))),e.params.stackPages&&e.initialPages.indexOf($[0])>=0?($.addClass("stacked"),$.trigger("page:stack"),e.emit("pageStack",$[0]),T.addClass("stacked")):$.length>0&&(e.pageCallback("beforeRemove",$,T,"previous",void 0,g),$[0]===a&&(r=!0),e.removePage($),y&&T.length&&e.removeNavbar(T))}var O=x.parents(d).length>0,I=x[0].f7Component;function N(){C&&(!O&&I?I.mount((function(t){e.$el.append(t)})):e.$el.append(x)),0===x.next(w).length&&(!O&&I?I.mount((function(e){Bl(e).insertBefore(w)})):x.insertBefore(w)),y&&s.length&&(s.find(".title-large").length&&s.addClass("navbar-large"),s.insertBefore(i),i.length>0?s.insertBefore(i):(e.$navbarsEl.parents(d).length||e.$el.prepend(e.$navbarsEl),o.append(s))),O?g.route&&g.route.route&&g.route.route.keepAlive&&!x[0].f7PageMounted&&(x[0].f7PageMounted=!0,e.pageCallback("mounted",x,s,"previous","current",g,w)):e.pageCallback("mounted",x,s,"previous","current",g,w)}if(g.preload){N(),g.route.route.tab&&e.tabLoad(g.route.route.tab,Os({},g,{history:!1,browserHistory:!1,preload:!0})),b&&(x.removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",x[0]),y&&(Bl(h.navbar.getElByPage(x)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",h.navbar.getElByPage(x)))),e.pageCallback("init",x,s,"previous","current",g,w),C&&(e.pageCallback("beforeIn",x,s,"current",void 0,g),e.pageCallback("afterIn",x,s,"current",void 0,g));var R=x.prevAll(".page-previous:not(.stacked):not(.page-master)");return R.length>0&&R.each((function(t){var n,a=Bl(t);y&&(n=Bl(h.navbar.getElByPage(a))),e.params.stackPages&&e.initialPages.indexOf(t)>=0?(a.addClass("stacked"),a.trigger("page:stack"),e.emit("pageStack",a[0]),y&&n.addClass("stacked")):(e.pageCallback("beforeRemove",a,n,"previous",void 0),e.removePage(a),y&&n.length&&e.removeNavbar(n))})),e.allowPageChange=!0,e}if(!(p.ie||p.edge||p.firefox&&!p.ios)&&e.params.browserHistory&&g.browserHistory)if(g.replaceState){var P=e.params.browserHistoryRoot||"";bc.replace(m.id,{url:g.route.url},P+e.params.browserHistorySeparator+g.route.url)}else u?bc.go(-u):bc.back();if(g.replaceState?e.history[e.history.length-1]=g.route.url:(1===e.history.length&&e.history.unshift(e.url),e.history.pop()),e.saveHistory(),e.currentPageEl=x[0],y&&s.length?e.currentNavbarEl=s[0]:delete e.currentNavbarEl,e.currentRoute=g.route,(p.ie||p.edge||p.firefox&&!p.ios)&&e.params.browserHistory&&g.browserHistory)if(g.replaceState){var M=e.params.browserHistoryRoot||"";bc.replace(m.id,{url:g.route.url},M+e.params.browserHistorySeparator+g.route.url)}else u?bc.go(-u):bc.back();function B(){e.setPagePosition(x,"current",!1),e.setPagePosition(w,"next",!0),y&&(e.setNavbarPosition(s,"current",!1),e.setNavbarPosition(i,"next",!0)),e.pageCallback("afterOut",w,i,"current","next",g),e.pageCallback("afterIn",x,s,"previous","current",g),e.params.stackPages&&e.initialPages.indexOf(w[0])>=0?(w.addClass("stacked"),w.trigger("page:stack"),e.emit("pageStack",w[0]),y&&i.addClass("stacked")):(e.pageCallback("beforeRemove",w,i,"next",void 0,g),e.removePage(w),y&&i.length&&e.removeNavbar(i)),e.allowPageChange=!0,e.emit("routeChanged",e.currentRoute,e.previousRoute,e),(e.params.preloadPreviousPage||e.params[h.theme+"SwipeBack"])&&e.history[e.history.length-2]&&!b&&e.back(e.history[e.history.length-2],{preload:!0}),e.params.browserHistory&&bc.clearRouterQueue()}if(N(),g.route.route.tab&&e.tabLoad(g.route.route.tab,Os({},g,{history:!1,browserHistory:!1})),v&&(k||r)&&m.checkMasterDetailBreakpoint(!1),e.pageCallback("init",x,s,"previous","current",g,w),e.pageCallback("beforeOut",w,i,"current","next",g),e.pageCallback("beforeIn",x,s,"previous","current",g),!g.animate||k&&h.width>=e.params.masterDetailBreakpoint)B();else{var A=e.params.transition;w[0]&&w[0].f7PageTransition&&(A=w[0].f7PageTransition,delete w[0].f7PageTransition),g.transition&&(A=g.transition),!A&&e.previousRoute&&e.previousRoute.route&&(A=e.previousRoute.route.transition),!A&&e.previousRoute&&e.previousRoute.route&&e.previousRoute.route.options&&(A=e.previousRoute.route.options.transition),e.setPagePosition(w,"current"),e.setPagePosition(x,"previous",!1),y&&(e.setNavbarPosition(i,"current"),e.setNavbarPosition(s,"previous",!1)),e.animate(w,x,i,s,"backward",A,(function(){B()}))}return e}function Ic(e,t,n,a){if(!e.allowPageChange&&!a)return e;var r=t,o=n,s=r.url,i=r.content,l=r.el,c=r.pageName,u=r.component,p=r.componentUrl;if(o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return!1;if(!o.route&&s&&(o.route=e.parseRouteUrl(s)),(s||p||u)&&(e.allowPageChange=!1),i)Oc(e,e.getPageEl(i),o);else if(l)Oc(e,e.getPageEl(l),o);else if(c)Oc(e,e.$el.children('.page[data-name="'+c+'"]').eq(0),o);else if(u||p)try{e.pageComponentLoader({routerEl:e.el,component:u,componentUrl:p,options:o,resolve:function(t,n){return Oc(e,t,Os(o,n))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((function(t){Oc(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}function Nc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rc(e,t){return Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rc(e,t)}var Pc=function(e){var t,n;function a(t,n){var a,r=Nc(a=e.call(this,{},[void 0===n?t:n])||this);r.isAppRouter=void 0===n,r.isAppRouter?Os(!1,r,{app:t,params:t.params.view,routes:t.routes||[],cache:t.cache}):Os(!1,r,{app:t,view:n,viewId:n.id,id:n.params.routerId,params:n.params,routes:n.routes,history:n.history,scrollHistory:n.scrollHistory,cache:t.cache,dynamicNavbar:"ios"===t.theme&&n.params.iosDynamicNavbar,initialPages:[],initialNavbars:[]}),r.useModules(),r.allowPageChange=!0;var o={},s={};return Object.defineProperty(r,"currentRoute",{enumerable:!0,configurable:!0,set:function(e){void 0===e&&(e={}),s=Os({},o),(o=e)&&(r.url=o.url,r.emit("routeChange",e,s,r))},get:function(){return o}}),Object.defineProperty(r,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}}),r||Nc(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Rc(t,n);var r=a.prototype;return r.mount=function(){var e=this,t=e.view;Os(!1,e,{tempDom:os().createElement("div"),$el:t.$el,el:t.el,$navbarsEl:t.$navbarsEl,navbarsEl:t.navbarsEl}),e.emit("local::mount routerMount",e)},r.animatableNavElements=function(e,t,n,a,r){var o,s,i=this,l=i.dynamicNavbar,c=i.params.iosAnimateNavbarBackIcon;function u(e,t){var n,a=e.hasClass("sliding")||t.hasClass("sliding"),r=e.hasClass("subnavbar"),o=!a||!r,s=e.find(".back .icon");return a&&c&&e.hasClass("left")&&s.length>0&&s.next("span").length&&(e=s.next("span"),n=!0),{$el:e,isIconLabel:n,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:a,isSubnavbar:r,needsOpacityTransition:o}}return l&&(o=[],s=[],e.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(t){var s=Bl(t);s.hasClass("left")&&a&&"forward"===r||s.hasClass("title")&&n||o.push(u(s,e.children(".navbar-inner")))})),t.hasClass("navbar-master")&&i.params.masterDetailBreakpoint>0&&i.app.width>=i.params.masterDetailBreakpoint||t.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(e){var o=Bl(e);o.hasClass("left")&&n&&!a&&"forward"===r||o.hasClass("left")&&n&&"backward"===r||o.hasClass("title")&&a||s.push(u(o,t.children(".navbar-inner")))})),[s,o].forEach((function(e){e.forEach((function(t){var n=t,a=t.isSliding,r=t.$el,i=e===s?o:s;a&&r.hasClass("title")&&i&&i.forEach((function(e){if(e.isIconLabel){var t=e.$el[0];n.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:o,oldNavEls:s}},r.animate=function(e,t,n,a,r,o,s){var i=this;if(i.params.animateCustom)i.params.animateCustom.apply(i,[e,t,n,a,r,s]);else{var l=i.dynamicNavbar,c="ios"===i.app.theme;if(o){var u="router-transition-custom router-transition-"+o+"-"+r;return("forward"===r?t:e).animationEnd((function(){i.$el.removeClass(u),l&&i.$navbarsEl.length&&(a&&i.$navbarsEl.prepend(a),n&&i.$navbarsEl.prepend(n)),s&&s()})),l&&(a&&t&&(i.setNavbarPosition(a,""),a.removeClass("navbar-next navbar-previous navbar-current"),t.prepend(a)),n&&e&&(i.setNavbarPosition(n,""),n.removeClass("navbar-next navbar-previous navbar-current"),e.prepend(n))),void i.$el.addClass(u)}var p,d,f,h,m,g,v,b="router-transition-"+r+" router-transition";if(c&&l){i.params.masterDetailBreakpoint>0&&i.app.width>=i.params.masterDetailBreakpoint&&(n.hasClass("navbar-master")&&a.hasClass("navbar-master-detail")||n.hasClass("navbar-master-detail")&&a.hasClass("navbar-master"))||(g=n&&n.hasClass("navbar-large"),v=a&&a.hasClass("navbar-large"),f=g&&!n.hasClass("navbar-large-collapsed"),h=v&&!a.hasClass("navbar-large-collapsed"),m=f&&!h||h&&!f);var y=i.animatableNavElements(a,n,h,f,r);p=y.newNavEls,d=y.oldNavEls}("forward"===r?t:e).animationEnd((function(){i.dynamicNavbar&&(a&&(a.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.addClass("navbar-no-title-large-transition"),ws((function(){a.removeClass("navbar-no-title-large-transition")}))),n&&n.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),a.hasClass("sliding")||a.children(".navbar-inner.sliding").length?a.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):a.find(".sliding").transform(""),n.hasClass("sliding")||n.children(".navbar-inner.sliding").length?n.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):n.find(".sliding").transform("")),i.$el.removeClass(b),s&&s()})),l?(x(0),ws((function(){i.$el.addClass(b),m&&(i.el._clientLeft=i.el.clientLeft),x(1)}))):i.$el.addClass(b)}function x(e){c&&l&&(1===e&&(h&&(a.addClass("router-navbar-transition-to-large"),n.addClass("router-navbar-transition-to-large")),f&&(a.addClass("router-navbar-transition-from-large"),n.addClass("router-navbar-transition-from-large"))),p.forEach((function(t){var n=t.$el,a="forward"===r?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&v?n[0].style.setProperty("transform","translate3d("+a*(1-e)+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)","important"):n.transform("translate3d("+a*(1-e)+"px,0,0)"))})),d.forEach((function(t){var n=t.$el,a="forward"===r?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&g?n.transform("translate3d("+a*e+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)"):n.transform("translate3d("+a*e+"px,0,0)"))})))}},r.removeModal=function(e){this.removeEl(e)},r.removeTabContent=function(e){Bl(e).html("")},r.removeNavbar=function(e){this.removeEl(e)},r.removePage=function(e){var t=Bl(e),n=t&&t[0]&&t[0].f7Page;n&&n.route&&n.route.route&&n.route.route.keepAlive?t.remove():this.removeEl(e)},r.removeEl=function(e){if(e){var t=this,n=Bl(e);0!==n.length&&(n.find(".tab").each((function(e){Bl(e).children().each((function(e){e.f7Component&&(Bl(e).trigger("tab:beforeremove"),e.f7Component.destroy())}))})),n[0].f7Component&&n[0].f7Component.destroy&&n[0].f7Component.destroy(),t.params.removeElements&&(t.params.removeElementsWithTimeout?setTimeout((function(){n.remove()}),t.params.removeElementsTimeout):n.remove()))}},r.getPageEl=function(e){var t=this;if("string"==typeof e)t.tempDom.innerHTML=e;else{if(Bl(e).hasClass("page"))return e;t.tempDom.innerHTML="",Bl(t.tempDom).append(e)}return t.findElement(".page",t.tempDom)},r.findElement=function(e,t,n){var a=this,r=a.view,o=a.app,s=Bl(t),i=e;n&&(i+=":not(.stacked)");var l=s.find(i).filter((function(e){return 0===Bl(e).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length}));return l.length>1&&("string"==typeof r.selector&&(l=s.find(r.selector+" "+i)),l.length>1&&(l=s.find("."+o.params.viewMainClass+" "+i))),1===l.length?l:(n||(l=a.findElement(i,s,!0)),l&&1===l.length?l:l&&l.length>1?Bl(l[0]):void 0)},r.flattenRoutes=function(e){void 0===e&&(e=this.routes);var t=this,n=[];return e.forEach((function(e){var a=!1;if("tabs"in e&&e.tabs){var r=e.tabs.map((function(t){var n=Os({},e,{path:(e.path+"/"+t.path).replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete n.tabs,delete n.routes,n}));a=!0,n=n.concat(t.flattenRoutes(r))}if("detailRoutes"in e){var o=e.detailRoutes.map((function(t){var n=Os({},t);return n.masterRoute=e,n.masterRoutePath=e.path,n}));n=n.concat(e,t.flattenRoutes(o))}if("routes"in e){var s=e.routes.map((function(t){var n=Os({},t);return n.path=(e.path+"/"+n.path).replace("///","/").replace("//","/"),n}));n=a?n.concat(t.flattenRoutes(s)):n.concat(e,t.flattenRoutes(s))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||n.push(e)})),n},r.parseRouteUrl=function(e){if(!e)return{};var t=ks(e),n=e.split("#")[1],a=e.split("#")[0].split("?")[0];return{query:t,hash:n,params:{},url:e,path:a}},r.generateUrl=function(e){if(void 0===e&&(e={}),"string"==typeof e)return e;var t=e,n=t.name,a=t.path,r=t.params,o=t.query;if(!n&&!a)throw new Error('Framework7: "name" or "path" parameter is required');var s=this,i=n?s.findRouteByKey("name",n):s.findRouteByKey("path",a);if(!i)throw n?new Error('Framework7: route with name "'+n+'" not found'):new Error('Framework7: route with path "'+a+'" not found');var l=s.constructRouteUrl(i,{params:r,query:o});if(!l)throw new Error("Framework7: can't construct URL for route with name \""+n+'"');return l},r.constructRouteUrl=function(e,t){var n,a=void 0===t?{}:t,r=a.params,o=a.query,s=e.path,i=dc(s);try{n=i(r||{})}catch(e){throw new Error("Framework7: error constructing route URL from passed params:\nRoute: "+s+"\n"+e.toString())}return o&&("string"==typeof o?n+="?"+o:Object.keys(o).length&&(n+="?"+Ss(o))),n},r.findTabRouteUrl=function(e){var t,n=this,a=Bl(e),r=n.currentRoute.route.parentPath,o=a.attr("id");return n.flattenRoutes(n.routes).forEach((function(e){e.parentPath===r&&e.tab&&e.tab.id===o&&(t=n.currentRoute.params&&Object.keys(n.currentRoute.params).length>0?n.constructRouteUrl(e,{params:n.currentRoute.params,query:n.currentRoute.query}):e.path)})),t},r.findRouteByKey=function(e,t){var n,a=this.routes;return this.flattenRoutes(a).forEach((function(a){n||a[e]===t&&(n=a)})),n},r.findMatchingRoute=function(e){if(e){var t,n=this,a=n.routes,r=n.flattenRoutes(a),o=n.parseRouteUrl(e),s=o.path,i=o.query,l=o.hash,c=o.params;return r.forEach((function(n){if(!t){var a,r,o=[],u=[n.path];if(n.alias&&("string"==typeof n.alias?u.push(n.alias):Array.isArray(n.alias)&&n.alias.forEach((function(e){u.push(e)}))),u.forEach((function(e){a||(a=gc(e,o).exec(s))})),a)o.forEach((function(e,t){if("number"!=typeof e.name){var n=a[t+1];c[e.name]=null==n?n:decodeURIComponent(n)}})),n.parentPath&&(r=s.split("/").slice(0,n.parentPath.split("/").length-1).join("/")),t={query:i,hash:l,params:c,url:e,path:s,parentPath:r,route:n,name:n.name}}})),t}},r.replaceRequestUrlParams=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=e;return"string"==typeof n&&n.indexOf("{{")>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((function(e){var a=new RegExp("{{"+e+"}}","g");n=n.replace(a,t.route.params[e]||"")})),n},r.removeFromXhrCache=function(e){for(var t=this.cache.xhr,n=!1,a=0;a<t.length;a+=1)t[a].url===e&&(n=a);!1!==n&&t.splice(n,1)},r.xhrRequest=function(e,t){var n=this,a=n.params,r=t.ignoreCache,o=e,s=o.indexOf("?")>=0;return a.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+=(s?"&":"?")+Ss(t.route.query),s=!0),a.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+=(s?"&":"?")+Ss(t.route.params),s=!0),o.indexOf("{{")>=0&&(o=n.replaceRequestUrlParams(o,t)),a.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),new Promise((function(e,s){if(a.xhrCache&&!r&&o.indexOf("nocache")<0&&a.xhrCacheIgnore.indexOf(o)<0)for(var i=0;i<n.cache.xhr.length;i+=1){var l=n.cache.xhr[i];if(l.url===o&&Cs()-l.time<a.xhrCacheDuration)return void e(l.content)}n.xhrAbortController=n.app.request.abortController(),n.app.request({abortController:n.xhrAbortController,url:o,method:"GET",beforeSend:function(e){n.emit("routerAjaxStart",e,t)},complete:function(r,i){n.emit("routerAjaxComplete",r),"error"!==i&&"timeout"!==i&&r.status>=200&&r.status<300||0===r.status?(a.xhrCache&&""!==r.responseText&&(n.removeFromXhrCache(o),n.cache.xhr.push({url:o,time:Cs(),content:r.responseText})),n.emit("routerAjaxSuccess",r,t),e(r.responseText)):(n.emit("routerAjaxError",r,t),s(r))},error:function(e){n.emit("routerAjaxError",e,t),s(e)}})}))},r.setNavbarPosition=function(e,t,n){e.removeClass("navbar-previous navbar-current navbar-next"),t&&e.addClass("navbar-"+t),!1===n?e.removeAttr("aria-hidden"):!0===n&&e.attr("aria-hidden","true"),e.trigger("navbar:position",{position:t}),this.emit("navbarPosition",e[0],t)},r.setPagePosition=function(e,t,n){e.removeClass("page-previous page-current page-next"),e.addClass("page-"+t),!1===n?e.removeAttr("aria-hidden"):!0===n&&e.attr("aria-hidden","true"),e.trigger("page:position",{position:t}),this.emit("pagePosition",e[0],t)},r.removeThemeElements=function(e){var t,n=this.app.theme;"ios"===n?t=".md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios":"md"===n?t=".ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md":"aurora"===n&&(t=".ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora"),Bl(e).find(t).remove()},r.getPageData=function(e,t,n,a,r,o){void 0===r&&(r={});var s,i,l=this,c=Bl(e).eq(0),u=Bl(t).eq(0),p=c[0].f7Page||{};if(("next"===n&&"current"===a||"current"===n&&"previous"===a)&&(s="forward"),("current"===n&&"next"===a||"previous"===n&&"current"===a)&&(s="backward"),p&&!p.fromPage){var d=Bl(o);d.length&&(i=d[0].f7Page)}(i=p.pageFrom||i)&&i.pageFrom&&(i.pageFrom=null);var f={app:l.app,view:l.view,router:l,$el:c,el:c[0],$pageEl:c,pageEl:c[0],$navbarEl:u,navbarEl:u[0],name:c.attr("data-name"),position:n,from:n,to:a,direction:s,route:p.route?p.route:r,pageFrom:i};return c[0].f7Page=f,f},r.pageCallback=function(e,t,n,a,r,o,s){if(void 0===o&&(o={}),t){var i=this,l=Bl(t);if(l.length){var c=Bl(n),u=o.route,p=i.params.restoreScrollTopOnBack&&!(i.params.masterDetailBreakpoint>0&&l.hasClass("page-master")&&i.app.width>=i.params.masterDetailBreakpoint),d=l[0].f7Page&&l[0].f7Page.route&&l[0].f7Page.route.route&&l[0].f7Page.route.route.keepAlive;"beforeRemove"===e&&d&&(e="beforeUnmount");var f="page"+(e[0].toUpperCase()+e.slice(1,e.length)),h="page:"+e.toLowerCase(),m={};(m="beforeRemove"===e&&l[0].f7Page?Os(l[0].f7Page,{from:a,to:r,position:a}):i.getPageData(l[0],c[0],a,r,u,s)).swipeBack=!!o.swipeBack;var g=o.route?o.route.route:{},v=g.on,b=void 0===v?{}:v,y=g.once,x=void 0===y?{}:y;if(o.on&&Os(b,o.on),o.once&&Os(x,o.once),"mounted"===e&&k(),"init"===e){if(p&&("previous"===a||!a)&&"current"===r&&i.scrollHistory[m.route.url]&&!l.hasClass("no-restore-scroll")){var w=l.find(".page-content");w.length>0&&(w=w.filter((function(e){return 0===Bl(e).parents(".tab:not(.tab-active)").length&&!Bl(e).is(".tab:not(.tab-active)")}))),w.scrollTop(i.scrollHistory[m.route.url])}if(k(),l[0].f7PageInitialized)return l.trigger("page:reinit",m),void i.emit("pageReinit",m);l[0].f7PageInitialized=!0}if(p&&"beforeOut"===e&&"current"===a&&"previous"===r){var C=l.find(".page-content");C.length>0&&(C=C.filter((function(e){return 0===Bl(e).parents(".tab:not(.tab-active)").length&&!Bl(e).is(".tab:not(.tab-active)")}))),i.scrollHistory[m.route.url]=C.scrollTop()}p&&"beforeOut"===e&&"current"===a&&"next"===r&&delete i.scrollHistory[m.route.url],l.trigger(h,m),i.emit(f,m),"beforeRemove"!==e&&"beforeUnmount"!==e||(l[0].f7RouteEventsAttached&&(l[0].f7RouteEventsOn&&Object.keys(l[0].f7RouteEventsOn).forEach((function(e){l.off(gs(e),l[0].f7RouteEventsOn[e])})),l[0].f7RouteEventsOnce&&Object.keys(l[0].f7RouteEventsOnce).forEach((function(e){l.off(gs(e),l[0].f7RouteEventsOnce[e])})),l[0].f7RouteEventsAttached=null,l[0].f7RouteEventsOn=null,l[0].f7RouteEventsOnce=null,delete l[0].f7RouteEventsAttached,delete l[0].f7RouteEventsOn,delete l[0].f7RouteEventsOnce),d||(l[0].f7Page&&l[0].f7Page.navbarEl&&delete l[0].f7Page.navbarEl.f7Page,l[0].f7Page=null))}}function k(){l[0].f7RouteEventsAttached||(l[0].f7RouteEventsAttached=!0,b&&Object.keys(b).length>0&&(l[0].f7RouteEventsOn=b,Object.keys(b).forEach((function(e){b[e]=b[e].bind(i),l.on(gs(e),b[e])}))),x&&Object.keys(x).length>0&&(l[0].f7RouteEventsOnce=x,Object.keys(x).forEach((function(e){x[e]=x[e].bind(i),l.once(gs(e),x[e])}))))}},r.saveHistory=function(){var e=this,t=is();e.view.history=e.history,e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&(t.localStorage["f7router-"+e.view.id+"-history"]=JSON.stringify(e.history))},r.restoreHistory=function(){var e=this,t=is();e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&t.localStorage["f7router-"+e.view.id+"-history"]&&(e.history=JSON.parse(t.localStorage["f7router-"+e.view.id+"-history"]),e.view.history=e.history)},r.clearHistory=function(){var e=this;e.history=[],e.view&&(e.view.history=[]),e.saveHistory()},r.updateCurrentUrl=function(e){var t=this;kc(t,"updateCurrentUrl"),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);var n=t.parseRouteUrl(e),a=n.query,r=n.hash,o=n.params,s=n.url,i=n.path;if(t.currentRoute&&Os(t.currentRoute,{query:a,hash:r,params:o,url:s,path:i}),t.params.browserHistory){var l=t.params.browserHistoryRoot||"";bc.replace(t.view.id,{url:e},l+t.params.browserHistorySeparator+e)}t.saveHistory(),t.emit("routeUrlUpdate",t.currentRoute,t)},r.getInitialUrl=function(){var e=this;if(e.initialUrl)return{initialUrl:e.initialUrl,historyRestored:e.historyRestored};var t,n=e.app,a=e.view,r=os(),o=is(),s=n.params.url&&"string"==typeof n.params.url&&"undefined"!=typeof URL?new URL(n.params.url):r.location,i=e.params.url,l=s.href.split(s.origin)[1],c=e.params,u=c.browserHistory,p=c.browserHistoryOnLoad,d=c.browserHistorySeparator,f=e.params.browserHistoryRoot;return(o.cordova||o.Capacitor&&o.Capacitor.isNative)&&u&&!d&&!f&&s.pathname.indexOf("index.html")&&(console.warn("Framework7: wrong or not complete browserHistory configuration, trying to guess browserHistoryRoot"),f=s.pathname.split("index.html")[0]),u&&p?(f&&l.indexOf(f)>=0&&""===(l=l.split(f)[1])&&(l="/"),i=d.length>0&&l.indexOf(d)>=0?l.split(d)[1]:l,e.restoreHistory(),e.history.indexOf(i)>=0?e.history=e.history.slice(0,e.history.indexOf(i)+1):e.params.url===i?e.history=[i]:bc.state&&bc.state[a.id]&&bc.state[a.id].url===e.history[e.history.length-1]?i=e.history[e.history.length-1]:e.history=[l.split(d)[0]||"/",i],e.history.length>1?t=!0:e.history=[],e.saveHistory()):(i||(i=l),s.search&&i.indexOf("?")<0&&(i+=s.search),s.hash&&i.indexOf("#")<0&&(i+=s.hash)),e.initialUrl=i,e.historyRestored=t,{initialUrl:i,historyRestored:t}},r.init=function(){var e=this,t=e.app,n=e.view,a=os();e.mount();var r=e.getInitialUrl(),o=r.initialUrl,s=r.historyRestored;(n&&e.params.iosSwipeBack&&"ios"===t.theme||n&&e.params.mdSwipeBack&&"md"===t.theme||n&&e.params.auroraSwipeBack&&"aurora"===t.theme)&&yc(e);var i,l=e.params,c=l.browserHistory,u=l.browserHistoryOnLoad,p=l.browserHistoryAnimateOnLoad,d=l.browserHistoryInitialMatch;if(e.history.length>1){var f=d?o:e.history[0];(i=e.findMatchingRoute(f))||(i=Os(e.parseRouteUrl(f),{route:{url:f,path:f.split("?")[0]}}))}else(i=e.findMatchingRoute(o))||(i=Os(e.parseRouteUrl(o),{route:{url:o,path:o.split("?")[0]}}));if(e.params.stackPages&&e.$el.children(".page").each((function(t){var n=Bl(t);e.initialPages.push(n[0]),e.dynamicNavbar&&n.children(".navbar").length>0&&e.initialNavbars.push(n.children(".navbar")[0])})),0===e.$el.children(".page:not(.stacked)").length&&o&&e.params.loadInitialPage)e.navigate(o,{initial:!0,reloadCurrent:!0,browserHistory:!1,animate:!1,once:{modalOpen:function(){s&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))},pageAfterIn:function(){s&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))}}});else if(e.$el.children(".page:not(.stacked)").length){var h;if(e.currentRoute=i,e.$el.children(".page:not(.stacked)").each((function(r){var o,s=Bl(r);e.setPagePosition(s,"current"),e.dynamicNavbar&&((o=s.children(".navbar")).length>0?(e.$navbarsEl.parents(a).length||e.$el.prepend(e.$navbarsEl),e.setNavbarPosition(o,"current"),e.$navbarsEl.append(o),o.children(".title-large").length&&o.addClass("navbar-large"),s.children(".navbar").remove()):(e.$navbarsEl.addClass("navbar-hidden"),o.children(".title-large").length&&e.$navbarsEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&(!0===e.currentRoute.route.master||"function"==typeof e.currentRoute.route.master&&e.currentRoute.route.master(t,e))&&e.params.masterDetailBreakpoint>0&&(s.addClass("page-master"),s.trigger("page:role",{role:"master"}),o&&o.length&&o.addClass("navbar-master"),n.checkMasterDetailBreakpoint());var i={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&Os(i,e.currentRoute.route.options),e.currentPageEl=s[0],e.dynamicNavbar&&o.length&&(e.currentNavbarEl=o[0]),e.removeThemeElements(s),e.dynamicNavbar&&o.length&&e.removeThemeElements(o),i.route.route.tab&&(h=!0,e.tabLoad(i.route.route.tab,Os({},i))),e.pageCallback("init",s,o,"current",void 0,i),e.pageCallback("beforeIn",s,o,"current",void 0,i),e.pageCallback("afterIn",s,o,"current",void 0,i)})),s)if(d)(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0});else e.navigate(o,{initial:!0,browserHistory:!1,history:!1,animate:p,once:{pageAfterIn:function(){(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>2&&e.back({preload:!0})}}});s||h||(e.history.push(o),e.saveHistory())}!(o&&c&&u)||bc.state&&bc.state[n.id]||bc.initViewState(n.id,{url:o}),e.emit("local::init routerInit",e)},r.destroy=function(){var e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},a}(Us);Pc.prototype.navigate=function(e,t){void 0===t&&(t={});var n,a,r,o,s,i,l,c=this;if(c.swipeBackActive)return c;if("string"==typeof e?n=e:(n=e.url,a=e.route,r=e.name,o=e.path,s=e.query,i=e.params),r||o)return(n=c.generateUrl({path:o,name:r,params:i,query:s}))?c.navigate(n,t):c;var u=c.app;if(kc(c,"navigate"),"#"===n||""===n)return c;var p=n.replace("./","");if("/"!==p[0]&&0!==p.indexOf("#")){var d=c.currentRoute.parentPath||c.currentRoute.path;p=((d?d+"/":"/")+p).replace("///","/").replace("//","/")}if(!(l=a?Os(c.parseRouteUrl(p),{route:Os({},a)}):c.findMatchingRoute(p)))return c;if(l.route&&l.route.viewName){var f=l.route.viewName,h=u.views[f];if(!h)throw new Error('Framework7: There is no View with "'+f+'" name that was specified in this route');if(h!==c.view)return h.router.navigate(e,t)}if(l.route.redirect)return xc.call(c,"forward",l,t);var m={};if(l.route.options?Os(m,l.route.options,t):Os(m,t),m.openIn&&(!c.params.ignoreOpenIn||c.params.ignoreOpenIn&&c.history.length>0))return function(e,t,n){var a={url:t,route:{path:t,options:Sc({},n,{openIn:void 0})}},r=Sc({},n);if("popup"===n.openIn&&(r.content='<div class="popup popup-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.popup=r),"loginScreen"===n.openIn&&(r.content='<div class="login-screen login-screen-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.loginScreen=r),"sheet"===n.openIn&&(r.content='<div class="sheet-modal sheet-modal-router-open-in" data-url="'+t+'"><div class="sheet-modal-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',a.route.sheet=r),"popover"===n.openIn&&(r.targetEl=n.clickedEl||n.targetEl,r.content='<div class="popover popover-router-open-in" data-url="'+t+'"><div class="popover-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',a.route.popover=r),n.openIn.indexOf("panel")>=0){var o=n.openIn.split(":"),s=o[1]||"left",i=o[2]||"cover";r.targetEl=n.clickedEl||n.targetEl,r.content='<div class="panel panel-router-open-in panel-'+s+" panel-"+i+'" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',a.route.panel=r}return e.navigate(a)}(c,p,m);function g(){var e=!1;function t(e,t){c.allowPageChange=!1;var n=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(a){if(e[a]){n=!0;var r=Os({},l,{route:e});c.allowPageChange=!0,c.modalLoad(a,r,Os(m,t),"forward")}})),n||$c(c,e,Os(m,t),!0)}function n(){c.allowPageChange=!0}"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){l.route[t]&&!e&&(e=!0,c.modalLoad(t,l,m,"forward"))})),l.route.keepAlive&&l.route.keepAliveData&&($c(c,{el:l.route.keepAliveData.pageEl},m,!1),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var n;l.route[t]&&!e&&(e=!0,$c(c,((n={})[t]=l.route[t],n),m,!1))})),e||(l.route.async&&(c.allowPageChange=!1,l.route.async.call(c,{router:c,to:m.route,from:c.currentRoute,resolve:t,reject:n,direction:"forward",app:u})),l.route.asyncComponent&&Ec(c,l.route.asyncComponent,t,n))}function v(){c.allowPageChange=!0}if(m.route=l,c.params.masterDetailBreakpoint>0&&l.route.masterRoute){var b=!0,y=!1;if(c.currentRoute&&c.currentRoute.route&&(!(!0===c.currentRoute.route.master||"function"==typeof c.currentRoute.route.master&&c.currentRoute.route.master(u,c))||c.currentRoute.route!==l.route.masterRoute&&c.currentRoute.route.path!==l.route.masterRoute.path||(b=!1),!c.currentRoute.route.masterRoute||c.currentRoute.route.masterRoute!==l.route.masterRoute&&c.currentRoute.route.masterRoute.path!==l.route.masterRoute.path||(b=!1,y=!0)),b||y&&t.reloadAll)return c.navigate({path:l.route.masterRoute.path,params:l.params||{}},{animate:!1,reloadAll:t.reloadAll,reloadCurrent:t.reloadCurrent,reloadPrevious:t.reloadPrevious,browserHistory:!t.initial,history:!t.initial,once:{pageAfterIn:function(){c.navigate(e,Os({},t,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!t.initial,browserHistory:!t.initial}))}}}),c}return Cc.call(c,l,c.currentRoute,(function(){l.route.modules?u.loadModules(Array.isArray(l.route.modules)?l.route.modules:[l.route.modules]).then((function(){g()})).catch((function(){v()})):g()}),(function(){v()}),"forward"),c},Pc.prototype.refreshPage=function(){var e=this;return kc(e,"refreshPage"),e.navigate(e.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})},Pc.prototype.tabLoad=function(e,t){void 0===t&&(t={});var n,a,r=this,o=Os({animate:r.params.animate,browserHistory:!0,history:!0,parentPageEl:null,preload:!1,on:{}},t);o.route&&(o.preload||o.route===r.currentRoute||(a=r.previousRoute,r.currentRoute=o.route),o.preload?(n=o.route,a=r.currentRoute):(n=r.currentRoute,a||(a=r.previousRoute)),r.params.browserHistory&&o.browserHistory&&!o.reloadPrevious&&bc.replace(r.view.id,{url:o.route.url},(r.params.browserHistoryRoot||"")+r.params.browserHistorySeparator+o.route.url),o.history&&(r.history[Math.max(r.history.length-1,0)]=o.route.url,r.saveHistory()));var s,i=Bl(o.parentPageEl||r.currentPageEl);s=i.length&&i.find("#"+e.id).length?i.find("#"+e.id).eq(0):r.view.selector?r.view.selector+" #"+e.id:"#"+e.id;var l,c=r.app.tab.show({tabEl:s,animate:o.animate,tabRoute:o.route}),u=c.$newTabEl,p=c.$oldTabEl,d=c.animated,f=c.onTabsChanged;if(u&&u.parents(".page").length>0&&o.route){var h=u.parents(".page")[0].f7Page;h&&o.route&&(h.route=o.route)}if(u[0].f7RouterTabLoaded)return p&&p.length?(d?f((function(){r.emit("routeChanged",r.currentRoute,r.previousRoute,r)})):r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r):r;function m(t,n){var a=t.url,o=t.content,s=t.el,i=t.component,l=t.componentUrl;function c(t){r.allowPageChange=!0,t&&("string"==typeof t?u.html(t):(u.html(""),t.f7Component?t.f7Component.mount((function(e){u.append(e)})):u.append(t)),u[0].f7RouterTabLoaded=!0,function(t){r.removeThemeElements(u);var n=u;"string"!=typeof t&&(n=Bl(t)),n.trigger("tab:init tab:mounted",e),r.emit("tabInit tabMounted",u[0],e),p&&p.length&&(d?f((function(){r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r.params.unloadTabContent&&r.tabRemove(p,u,e)})):(r.emit("routeChanged",r.currentRoute,r.previousRoute,r),r.params.unloadTabContent&&r.tabRemove(p,u,e)))}(t))}if(o)c(o);else if(s)c(s);else if(i||l)try{r.tabComponentLoader({tabEl:u[0],component:i,componentUrl:l,options:n,resolve:c,reject:function(){return r.allowPageChange=!0,r}})}catch(e){throw r.allowPageChange=!0,e}else a&&(r.xhrAbortController&&(r.xhrAbortController.abort(),r.xhrAbortController=!1),r.xhrRequest(a,n).then((function(e){c(e)})).catch((function(){r.allowPageChange=!0})))}function g(e,t){m(e,Os(o,t))}function v(){r.allowPageChange=!0}return"url content component el componentUrl".split(" ").forEach((function(t){var n;e[t]&&(l=!0,m(((n={})[t]=e[t],n),o))})),e.async?e.async.call(r,{router:r,to:n,from:a,resolve:g,reject:v,app:r.app}):e.asyncComponent?Ec(r,e.asyncComponent,g,v):l||(r.allowPageChange=!0),r},Pc.prototype.tabRemove=function(e,t,n){var a;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each((function(e){e.f7Component&&(a=!0,Bl(e).trigger("tab:beforeremove",n),e.f7Component.destroy())})),a||e.trigger("tab:beforeremove",n),this.emit("tabBeforeRemove",e[0],t[0],n),this.removeTabContent(e[0],n)},Pc.prototype.modalLoad=function(e,t,n,a){void 0===n&&(n={});var r,o=this,s=o.app,i="panel"===e,l=i?"panel":"modal",c=Os({animate:o.params.animate,browserHistory:!0,history:!0,on:{},once:{}},n),u=Os({},t.route[e]),p=t.route,d=function(e,t){var n,a=c.on,r=c.once;"open"===t&&(n=a.modalOpen||r.modalOpen||a.panelOpen||r.panelOpen),"close"===t&&(n=a.modalClose||r.modalClose||a.panelClose||r.panelClose),"closed"===t&&(n=a.modalClosed||r.modalClosed||a.panelClosed||r.panelClosed),n&&n(e)};function f(){var n=s[e].create(u);p.modalInstance=n;var a=n.el;function r(){n.close()}n.on(l+"Open",(function(){a||(o.removeThemeElements(n.el),n.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,n),o.emit((i?"":"modalInit")+" "+e+"Init "+e+"Mounted",n.el,t,n)),o.once("swipeBackMove",r),d(n,"open")})),n.on(l+"Close",(function(){o.off("swipeBackMove",r),n.closeByRouter||o.back(),d(n,"close")})),n.on(l+"Closed",(function(){n.$el.trigger(e.toLowerCase()+":beforeremove",t,n),n.emit((i?"":"modalBeforeRemove ")+e+"BeforeRemove",n.el,t,n);var a=n.el.f7Component;d(n,"closed"),a&&a.destroy(),xs((function(){(a||u.component||u.asyncComponent)&&o.removeModal(n.el),n.destroy(),delete n.route,delete p.modalInstance}))})),c.route&&(o.params.browserHistory&&c.browserHistory&&bc.push(o.view.id,{url:c.route.url,modal:e},(o.params.browserHistoryRoot||"")+o.params.browserHistorySeparator+c.route.url),c.route!==o.currentRoute&&(n.route=Os(c.route,{modal:n}),o.currentRoute=n.route),c.history&&!c.reloadCurrent&&(o.history.push(c.route.url),o.saveHistory())),a&&(o.removeThemeElements(n.el),n.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,n),o.emit(l+"Init "+e+"Init "+e+"Mounted",n.el,t,n)),n.open(!1===c.animate||!0===c.animate?c.animate:void 0)}function h(e,t){var n=e.url,a=e.content,r=e.component,i=e.componentUrl;function l(e){e&&("string"==typeof e?u.content=e:e.f7Component?e.f7Component.mount((function(e){u.el=e,s.$el.append(e)})):u.el=e,f())}if(a)l(a);else if(r||i)try{o.modalComponentLoader({rootEl:s.el,component:r,componentUrl:i,options:t,resolve:l,reject:function(){return o.allowPageChange=!0,o}})}catch(e){throw o.allowPageChange=!0,e}else n?(o.xhrAbortController&&(o.xhrAbortController.abort(),o.xhrAbortController=!1),o.xhrRequest(n,t).then((function(e){u.content=e,f()})).catch((function(){o.allowPageChange=!0}))):f()}function m(e,t){h(e,Os(c,t))}function g(){o.allowPageChange=!0}return"url content component el componentUrl template".split(" ").forEach((function(e){var t;u[e]&&!r&&(r=!0,h(((t={})[e]=u[e],t),c))})),r||"actions"!==e||f(),u.async&&u.async.call(o,{router:o,to:c.route,from:o.currentRoute,resolve:m,reject:g,direction:a,app:s}),u.asyncComponent&&Ec(o,u.asyncComponent,m,g),o},Pc.prototype.modalRemove=function(e){Os(e,{closeByRouter:!0}),e.close()},Pc.prototype.back=function(){var e,t,n,a=this,r=Fs();if(a.swipeBackActive)return a;"object"==typeof(arguments.length<=0?void 0:arguments[0])?t=(arguments.length<=0?void 0:arguments[0])||{}:(e=arguments.length<=0?void 0:arguments[0],t=(arguments.length<=1?void 0:arguments[1])||{});var o=t,s=o.name,i=o.params,l=o.query;if(s)return(e=a.generateUrl({name:s,params:i,query:l}))?a.back(e,Os({},t,{name:null,params:null,query:null})):a;var c=a.app;kc(a,"back");var u,p=a.currentRoute.modal;if(p||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(e){a.currentRoute.route[e]&&(p=!0,u=e)})),p&&!t.preload){var d,f=a.currentRoute.modal||a.currentRoute.route.modalInstance||c[u].get(),h=a.history[a.history.length-2];if(f&&f.$el){var m=f.$el.prevAll(".modal-in");if(m.length&&m[0].f7Modal){var g=m[0];a.$el.parents(g).length||(d=g.f7Modal.route)}}if(d||(d=a.findMatchingRoute(h)),!d&&h&&(d={url:h,path:h.split("?")[0],query:ks(h),route:{path:h.split("?")[0],url:h}}),!(e&&0!==e.replace(/[# ]/g,"").trim().length||d&&f))return a;var v=t.force&&d&&e;if(d&&f){var b=r.ie||r.edge||r.firefox&&!r.ios,y=a.params.browserHistory&&!1!==t.browserHistory,x=a.currentRoute&&a.currentRoute.route&&a.currentRoute.route.options&&!1===a.currentRoute.route.options.browserHistory;!y||b||x||bc.back(),a.currentRoute=d,a.history.pop(),a.saveHistory(),y&&b&&!x&&bc.back(),a.modalRemove(f),v&&a.navigate(e,{reloadCurrent:!0})}else f&&(a.modalRemove(f),e&&a.navigate(e,{reloadCurrent:!0}));return a}var w,C=a.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(a.params.masterDetailBreakpoint>0){var k=[];a.$el.children(".page").each((function(e){k.push(e.className)}));var E=a.$el.children(".page-current").prevAll(".page-master").eq(0);if(E.length){var S=a.history[a.history.length-2],T=a.findMatchingRoute(S);T&&E[0].f7Page&&T.route===E[0].f7Page.route.route&&(C=E,t.preload||(w=c.width>=a.params.masterDetailBreakpoint))}}if(!t.force&&C.length&&!w){if(a.params.browserHistory&&C[0].f7Page&&a.history[a.history.length-2]!==C[0].f7Page.route.url)return a.back(a.history[a.history.length-2],Os(t,{force:!0})),a;var $=C[0].f7Page.route;return t.preload&&C.hasClass("stacked")?(Ic(a,{el:C},Os(t,{route:$})),a):(Cc.call(a,$,a.currentRoute,(function(){Ic(a,{el:C},Os(t,{route:$}))}),(function(){}),"backward"),a)}if("#"===e&&(e=void 0),e&&"/"!==e[0]&&0!==e.indexOf("#")&&(e=((a.path||"/")+e).replace("//","/")),!e&&a.history.length>1&&(e=a.history[a.history.length-2]),w&&!t.force&&a.history[a.history.length-3])return a.back(a.history[a.history.length-3],Os({},t||{},{force:!0,animate:!1}));if(w&&!t.force)return a;if((n=a.findMatchingRoute(e))||e&&(n={url:e,path:e.split("?")[0],query:ks(e),route:{path:e.split("?")[0],url:e}}),!n)return a;if(n.route.redirect)return xc.call(a,"backward",n,t);var O,I={};if(n.route.options?Os(I,n.route.options,t):Os(I,t),I.route=n,I.force&&a.params.stackPages&&(a.$el.children(".page-previous.stacked").each((function(e){e.f7Page&&e.f7Page.route&&e.f7Page.route.url===n.url&&(O=!0,Ic(a,{el:e},I))})),O))return a;function N(){var e=!1;function t(e,t){a.allowPageChange=!1,Ic(a,e,Os(I,t),!0)}function r(){a.allowPageChange=!0}n.route.keepAlive&&n.route.keepAliveData&&(Ic(a,{el:n.route.keepAliveData.pageEl},I),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var r;n.route[t]&&!e&&(e=!0,Ic(a,((r={})[t]=n.route[t],r),I))})),e||(n.route.async&&(a.allowPageChange=!1,n.route.async.call(a,{router:a,to:n,from:a.currentRoute,resolve:t,reject:r,direction:"backward",app:c})),n.route.asyncComponent&&Ec(a,n.route.asyncComponent,t,r))}function R(){a.allowPageChange=!0}return I.preload?N():Cc.call(a,n,a.currentRoute,(function(){n.route.modules?c.loadModules(Array.isArray(n.route.modules)?n.route.modules:[n.route.modules]).then((function(){N()})).catch((function(){R()})):N()}),(function(){R()}),"backward"),a},Pc.prototype.clearPreviousHistory=function(){var e=this;kc(e,"clearPreviousHistory");var t=e.history[e.history.length-1];!function(e){kc(e,"clearPreviousPages");var t=e.app,n=e.dynamicNavbar;e.$el.children(".page").filter((function(t){return!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||t!==e.currentPageEl})).each((function(a){var r=Bl(a),o=Bl(t.navbar.getElByPage(r));e.params.stackPages&&e.initialPages.indexOf(r[0])>=0?(r.addClass("stacked"),n&&o.addClass("stacked")):(e.pageCallback("beforeRemove",r,o,"previous",void 0,{}),e.removePage(r),n&&o.length&&e.removeNavbar(o))}))}(e),e.history=[t],e.view.history=[t],e.saveHistory()};var Mc=Pc,Bc={name:"router",static:{Router:Mc},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){var e=this;e.app?e.params.router&&(e.router=new Mc(e.app,e)):e.router=new Mc(e)}};var Ac=function(e){var t=e.app,n=Ds();if(!e.resizableInitialized){Os(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var a=Bl("html"),r=e.$el;if(r){var o,s,i,l,c,u,p,d={};(o=e.$el.children(".view-resize-handler")).length||(e.$el.append('<div class="view-resize-handler"></div>'),o=e.$el.children(".view-resize-handler")),e.$resizeHandlerEl=o,r.addClass("view-resizable");var f=!!n.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".view-resize-handler",m,f),t.on("touchmove:active",g),t.on("touchend:passive",v),t.on("resize",b),e.on("beforeOpen",b),e.once("viewDestroy",(function(){r.removeClass("view-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".view-resize-handler",m,f),t.off("touchmove:active",g),t.off("touchend:passive",v),t.off("resize",b),e.off("beforeOpen",b)}))}}function h(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;var n=parseInt(e,10);return Number.isNaN(n)?null:n}function m(t){if(e.resizable&&r.hasClass("view-resizable")&&r.hasClass("view-master-detail")){d.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,d.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,i=!1,s=!0;var n=r.children(".page-master");u=h(n.css("min-width")),p=h(n.css("max-width"))}}function g(n){if(s){n.f7PreventSwipePanel=!0;var f="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX;i||(c=o[0].offsetLeft+o[0].offsetWidth,r.addClass("view-resizing"),a.css("cursor","col-resize")),i=!0,n.preventDefault(),l=f-d.x;var h=c+l;u&&!Number.isNaN(u)&&(h=Math.max(h,u)),p&&!Number.isNaN(p)&&(h=Math.min(h,p)),h=Math.min(Math.max(h,0),t.width),e.resizableWidth=h,a[0].style.setProperty("--f7-page-master-width",h+"px"),r.trigger("view:resize",h),e.emit("local::resize viewResize",e,h)}}function v(){if(Bl("html").css("cursor",""),!s||!i)return s=!1,void(i=!1);s=!1,i=!1,a[0].style.setProperty("--f7-page-master-width",e.resizableWidth+"px"),r.removeClass("view-resizing")}function b(){e.resizableWidth&&(u=h(o.css("min-width")),p=h(o.css("max-width")),u&&!Number.isNaN(u)&&e.resizableWidth<u&&(e.resizableWidth=Math.max(e.resizableWidth,u)),p&&!Number.isNaN(p)&&e.resizableWidth>p&&(e.resizableWidth=Math.min(e.resizableWidth,p)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),a[0].style.setProperty("--f7-page-master-width",e.resizableWidth+"px"))}};function _c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lc(e,t){return Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lc(e,t)}var Dc=function(e){var t,n;function a(t,n,a){var r;void 0===a&&(a={});var o,s=_c(r=e.call(this,a,[t])||this);if(!s.params.routerId&&!Bl(n).length){var i="Framework7: can't create a View instance because ";throw new Error(i+="string"==typeof n?'the selector "'+n+"\" didn't match any element":"el must be an HTMLElement or Dom7 object")}return s.params=Os({el:n},{routes:[],routesAdd:[]},t.params.view,a),s.params.routes.length>0?s.routes=s.params.routes:s.routes=[].concat(t.routes,s.params.routesAdd),Os(!1,s,{app:t,name:s.params.name,main:s.params.main,history:[],scrollHistory:{}}),s.useModules(),t.views.push(s),s.main&&(t.views.main=s),s.name&&(t.views[s.name]=s),s.index=t.views.indexOf(s),o=s.name?"view_"+s.name:s.main?"view_main":"view_"+s.index,s.id=o,s.params.init?(t.initialized?s.init():t.on("init",(function(){s.init()})),s||_c(r)):s||_c(r)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Lc(t,n);var r=a.prototype;return r.destroy=function(){var e=this,t=e.app;e.$el.trigger("view:beforedestroy"),e.emit("local::beforeDestroy viewBeforeDestroy",e),t.off("resize",e.checkMasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].f7View=null,delete e.$el[0].f7View,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit("local::destroy viewDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},r.checkMasterDetailBreakpoint=function(e){var t=this,n=t.app,a=t.$el.hasClass("view-master-detail"),r=n.width>=t.params.masterDetailBreakpoint&&t.$el.children(".page-master").length;void 0===e&&r||!0===e?(t.$el.addClass("view-master-detail"),a||(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint"))):(t.$el.removeClass("view-master-detail"),a&&(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint")))},r.initMasterDetail=function(){var e=this,t=e.app;e.checkMasterDetailBreakpoint=e.checkMasterDetailBreakpoint.bind(e),e.checkMasterDetailBreakpoint(),e.params.masterDetailResizable&&Ac(e),t.on("resize",e.checkMasterDetailBreakpoint)},r.mount=function(e){var t,n,a=this,r=a.app,o=a.params.el||e,s=Bl(o);t="string"==typeof o?o:(s.attr("id")?"#"+s.attr("id"):"")+(s.attr("class")?"."+s.attr("class").replace(/ /g,".").replace(".active",""):""),"ios"===r.theme&&a.params.iosDynamicNavbar&&0===(n=s.children(".navbars").eq(0)).length&&(n=Bl('<div class="navbars"></div>')),Os(a,{$el:s,el:s[0],main:a.main||s.hasClass("view-main"),$navbarsEl:n,navbarsEl:n?n[0]:void 0,selector:t}),a.main&&(r.views.main=a),s&&s[0]&&(s[0].f7View=a),a.emit("local::mount viewMount",a)},r.init=function(e){var t=this;t.mount(e),t.params.router&&(t.params.masterDetailBreakpoint>0&&t.initMasterDetail(),t.router.init(),t.$el.trigger("view:init"),t.emit("local::init viewInit",t))},a}(Us);Dc.use(Bc);var Fc=Dc;var zc={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){!function(e){e.on("click",(function(t){var n=is(),a=Bl(t.target),r=a.closest("a"),o=r.length>0,s=o&&r.attr("href");if(o&&(r.is(e.params.clicks.externalLinks)||s&&s.indexOf("javascript:")>=0)){var i=r.attr("target");s&&n.cordova&&n.cordova.InAppBrowser&&("_system"===i||"_blank"===i)?(t.preventDefault(),n.cordova.InAppBrowser.open(s,i)):s&&n.Capacitor&&n.Capacitor.Plugins&&n.Capacitor.Plugins.Browser&&("_system"===i||"_blank"===i)&&(t.preventDefault(),n.Capacitor.Plugins.Browser.open({url:s}))}else{Object.keys(e.modules).forEach((function(n){var r=e.modules[n].clicks;r&&(t.preventF7Router||Object.keys(r).forEach((function(n){var o=a.closest(n).eq(0);o.length>0&&r[n].call(e,o,o.dataset(),t)})))}));var l={};if(o&&(t.preventDefault(),l=r.dataset()),l.clickedEl=r[0],!t.preventF7Router&&!r.hasClass("prevent-router")&&!r.hasClass("router-prevent")&&(s&&s.length>0&&"#"!==s[0]||r.hasClass("back"))){var c;if(l.view&&"current"===l.view?c=e.views.current:l.view?c=Bl(l.view)[0].f7View:(c=a.parents(".view")[0]&&a.parents(".view")[0].f7View,!r.hasClass("back")&&c&&c.params.linksView&&("string"==typeof c.params.linksView?c=Bl(c.params.linksView)[0].f7View:c.params.linksView instanceof Fc&&(c=c.params.linksView))),c||e.views.main&&(c=e.views.main),!c||!c.router)return;r[0].f7RouteProps&&(l.props=r[0].f7RouteProps),r.hasClass("back")?c.router.back(s,l):c.router.navigate(s,l)}}}))}(this)}}},Vc={name:"history",static:{history:bc},on:{init:function(){bc.init(this)}}},Hc={registrations:[],register:function(e,t){var n=this;return"serviceWorker"in is().navigator&&n.serviceWorker.container?new Promise((function(a,r){n.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){Hc.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),a(e)})).catch((function(e){n.emit("serviceWorkerRegisterError",e),r(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,n=this;return"serviceWorker"in is().navigator&&n.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:Hc.registrations,Promise.all(t.map((function(e){return new Promise((function(t,a){e.unregister().then((function(){Hc.registrations.indexOf(e)>=0&&Hc.registrations.splice(Hc.registrations.indexOf(e),1),n.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){n.emit("serviceWorkerUnregisterError",e,t),a(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},jc={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){var e=this,t=is();Os(e,{serviceWorker:{container:"serviceWorker"in t.navigator?t.navigator.serviceWorker:void 0,registrations:Hc.registrations,register:Hc.register.bind(e),unregister:Hc.unregister.bind(e)}})},on:{init:function(){var e=is();if("serviceWorker"in e.navigator){var t=this;if(!(t.device.cordova||e.Capacitor&&e.Capacitor.isNative)&&t.serviceWorker.container){var n=t.params.serviceWorker.path,a=t.params.serviceWorker.scope;if(n&&(!Array.isArray(n)||n.length))(Array.isArray(n)?n:[n]).forEach((function(e){t.serviceWorker.register(e,a)}))}}}}};function Wc(){return Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wc.apply(this,arguments)}var Uc=function(e){void 0===e&&(e={});var t={__store:!0},n=Wc({},e.state||{}),a=Wc({},e.actions||{}),r=Wc({},e.getters||{}),o=Os({},n),s=[],i={},l={};Object.keys(r).forEach((function(e){i[e]=[],l[e]=[]}));var c=function(e){return r[e]({state:t.state})},u=function(e,t){l[e]||(l[e]=[]),l[e].push(t)};t.__removeCallback=function(e){!function(e){Object.keys(l).forEach((function(t){var n=l[t];n.indexOf(e)>=0&&n.splice(n.indexOf(e),1)}))}(e)};var p=function(e,t){if(void 0===t&&(t=!0),"constructor"!==e){s=[];var n=c(e);!function(e,t){i[e]||(i[e]=[]),t.forEach((function(t){i[e].indexOf(t)<0&&i[e].push(t)}))}(e,s);var a={value:n,onUpdated:function(t){u(e,t)}};if(!t)return a;var r=function(e){a.value=e};return a.__callback=r,u(e,r),a}};return t.state=new Proxy(o,{set:function(e,t,n){var a;return e[t]=n,a=t,Object.keys(i).filter((function(e){return i[e].indexOf(a)>=0})).forEach((function(e){l[e]&&l[e].length&&l[e].forEach((function(t){t(c(e))}))})),!0},get:function(e,t){return s.push(t),e[t]}}),t.getters=new Proxy(r,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!0)}}),t._gettersPlain=new Proxy(r,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!1)}}),t.dispatch=function(e,n){return new Promise((function(r,o){if(!a[e])throw o(),new Error('Framework7: Store action "'+e+'" is not found');r(a[e]({state:t.state,dispatch:t.dispatch},n))}))},t},Gc={name:"store",static:{createStore:Uc},proto:{createStore:Uc}},qc=function(){var e=is();return e.Capacitor&&e.Capacitor.isNative&&e.Capacitor.Plugins&&e.Capacitor.Plugins.StatusBar},Xc={hide:function(){var e=is();Fs().cordova&&e.StatusBar&&e.StatusBar.hide(),qc()&&e.Capacitor.Plugins.StatusBar.hide()},show:function(){var e=is();Fs().cordova&&e.StatusBar&&e.StatusBar.show(),qc()&&e.Capacitor.Plugins.StatusBar.show()},onClick:function(){var e;(e=Bl(".popup.modal-in").length>0?Bl(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Bl(".panel.panel-in").length>0?Bl(".panel.panel-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Bl(".views > .view.tab-active").length>0?Bl(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Bl(".views").length>0?Bl(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):this.$el.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"))&&e.length>0&&(e.hasClass("tab")&&(e=e.parent(".tabs").children(".page-content.tab-active")),e.length>0&&e.scrollTop(0,300))},setTextColor:function(e){var t=is();Fs().cordova&&t.StatusBar&&("white"===e?t.StatusBar.styleLightContent():t.StatusBar.styleDefault()),qc()&&("white"===e?t.Capacitor.Plugins.StatusBar.setStyle({style:"DARK"}):t.Capacitor.Plugins.StatusBar.setStyle({style:"LIGHT"}))},setBackgroundColor:function(e){var t=is();Fs().cordova&&t.StatusBar&&t.StatusBar.backgroundColorByHexString(e),qc()&&t.Capacitor.Plugins.StatusBar.setBackgroundColor({color:e})},isVisible:function(){var e=is(),t=Fs();return new Promise((function(n){t.cordova&&e.StatusBar&&n(e.StatusBar.isVisible),qc()&&e.Capacitor.Plugins.StatusBar.getInfo().then((function(e){n(e.visible)})),n(!1)}))},overlaysWebView:function(e){void 0===e&&(e=!0);var t=is();Fs().cordova&&t.StatusBar&&t.StatusBar.overlaysWebView(e),qc()&&t.Capacitor.Plugins.StatusBar.setOverlaysWebView({overlay:e})},init:function(){var e=is(),t=Fs(),n=this.params.statusbar;if(n.enabled){var a=t.cordova&&e.StatusBar,r=qc();(a||r)&&(n.scrollTopOnClick&&Bl(e).on("statusTap",Xc.onClick.bind(this)),t.ios&&(n.iosOverlaysWebView?Xc.overlaysWebView(!0):Xc.overlaysWebView(!1),"white"===n.iosTextColor?Xc.setTextColor("white"):Xc.setTextColor("black")),t.android&&(n.androidOverlaysWebView?Xc.overlaysWebView(!0):Xc.overlaysWebView(!1),"white"===n.androidTextColor?Xc.setTextColor("white"):Xc.setTextColor("black"))),n.iosBackgroundColor&&t.ios&&Xc.setBackgroundColor(n.iosBackgroundColor),n.androidBackgroundColor&&t.android&&Xc.setBackgroundColor(n.androidBackgroundColor)}}},Yc={name:"statusbar",params:{statusbar:{enabled:!0,scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:"black",androidBackgroundColor:null}},create:function(){_s(this,{statusbar:Xc})},on:{init:function(){Xc.init.call(this)}}};var Kc={name:"view",params:{view:{init:!0,name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,componentCache:!0,preloadPreviousPage:!0,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,masterDetailResizable:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,loadInitialPage:!0,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,auroraSwipeBack:!1,auroraSwipeBackAnimateShadow:!1,auroraSwipeBackAnimateOpacity:!0,auroraSwipeBackActiveArea:30,auroraSwipeBackThreshold:0,browserHistory:!1,browserHistoryRoot:void 0,browserHistoryAnimate:!0,browserHistoryAnimateOnLoad:!1,browserHistorySeparator:"#!",browserHistoryOnLoad:!0,browserHistoryInitialMatch:!1,browserHistoryStoreHistory:!0,animate:!0,iosDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,auroraPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:Fc},create:function(){var e=this;Os(e,{views:Os([],{create:function(t,n){return new Fc(e,t,n)},get:function(e){var t=Bl(e);if(t.length&&t[0].f7View)return t[0].f7View}})}),Object.defineProperty(e.views,"current",{enumerable:!0,configurable:!0,get:function(){return function(e){var t=Bl(".popover.modal-in .view"),n=Bl(".popup.modal-in .view"),a=Bl(".panel.panel-in .view"),r=Bl(".views");0===r.length&&(r=e.$el);var o=r.children(".view");if(0===o.length&&(o=r.children(".tabs").children(".view")),o.length>1&&o.hasClass("tab")&&0===(o=r.children(".view.tab-active")).length&&(o=r.children(".tabs").children(".view.tab-active")),t.length>0&&t[0].f7View)return t[0].f7View;if(n.length>0&&n[0].f7View)return n[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1)return e.views.main}}(e)}}),e.view=e.views},on:{init:function(){var e=this;Bl(".view-init").each((function(t){if(!t.f7View){var n=Bl(t).dataset();e.views.create(t,n)}}))},"modalOpen panelOpen":function(e){var t=this;e.$el.find(".view-init").each((function(e){if(!e.f7View){var n=Bl(e).dataset();t.views.create(e,n)}}))},"modalBeforeDestroy panelBeforeDestroy":function(e){e&&e.$el&&e.$el.find(".view-init").each((function(e){var t=e.f7View;t&&t.destroy()}))}},vnode:{"view-init":{insert:function(e){var t=e.elm;if(!t.f7View){var n=Bl(t).dataset();this.views.create(t,n)}},destroy:function(e){var t=e.elm.f7View;t&&t.destroy()}}}},Qc={size:function(e){var t=this,n=Bl(e);if(n.hasClass("navbars"))n=n.children(".navbar").each((function(e){t.navbar.size(e)}));else{var a=n.children(".navbar-inner");if(a.length){var r=a.hasClass("navbar-inner-centered-title")||t.params.navbar[t.theme+"CenterTitle"],o="ios"===t.theme&&!t.params.navbar[t.theme+"CenterTitle"];if((r||o)&&!(n.hasClass("stacked")||n.parents(".stacked").length>0||n.parents(".tab:not(.tab-active)").length>0||n.parents(".popup:not(.modal-in)").length>0)){"ios"!==t.theme&&t.params.navbar[t.theme+"CenterTitle"]&&a.addClass("navbar-inner-centered-title"),"ios"!==t.theme||t.params.navbar.iosCenterTitle||a.addClass("navbar-inner-left-title");var s,i,l,c,u=n.parents(".view").eq(0),p=t.rtl?a.children(".right"):a.children(".left"),d=t.rtl?a.children(".left"):a.children(".right"),f=a.children(".title"),h=a.children(".subnavbar"),m=0===p.length,g=0===d.length,v=m?0:p.outerWidth(!0),b=g?0:d.outerWidth(!0),y=f.outerWidth(!0),x=a.styles(),w=a[0].offsetWidth-parseInt(x.paddingLeft,10)-parseInt(x.paddingRight,10),C=n.hasClass("navbar-previous"),k=a.hasClass("sliding");u.length>0&&u[0].f7View&&(i=(s=u[0].f7View.router)&&s.dynamicNavbar),g&&(l=w-y),m&&(l=0),m||g||(l=(w-b-y+v)/2);var E=(w-y)/2;w-v-b>y?(E<v&&(E=v),E+y>w-b&&(E=w-b-y),c=E-l):c=0;var S=t.rtl?-1:1;if(i&&"ios"===t.theme){if(f.hasClass("sliding")||f.length>0&&k){var T=-(l+c)*S,$=(w-l-c-y)*S;if(C&&s&&s.params.iosAnimateNavbarBackIcon){var O=n.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");O.length>0&&(T+=O[0].offsetLeft)}f[0].f7NavbarLeftOffset=T,f[0].f7NavbarRightOffset=$}if(!m&&(p.hasClass("sliding")||k))if(t.rtl)p[0].f7NavbarLeftOffset=-(w-p[0].offsetWidth)/2*S,p[0].f7NavbarRightOffset=v*S;else if(p[0].f7NavbarLeftOffset=-v,p[0].f7NavbarRightOffset=(w-p[0].offsetWidth)/2,s&&s.params.iosAnimateNavbarBackIcon&&p.find(".back .icon").length>0&&p.find(".back .icon ~ span").length){var I=p[0].f7NavbarLeftOffset,N=p[0].f7NavbarRightOffset;p[0].f7NavbarLeftOffset=0,p[0].f7NavbarRightOffset=0,p.find(".back .icon ~ span")[0].f7NavbarLeftOffset=I,p.find(".back .icon ~ span")[0].f7NavbarRightOffset=N-p.find(".back .icon")[0].offsetWidth}g||!d.hasClass("sliding")&&!k||(t.rtl?(d[0].f7NavbarLeftOffset=-b*S,d[0].f7NavbarRightOffset=(w-d[0].offsetWidth)/2*S):(d[0].f7NavbarLeftOffset=-(w-d[0].offsetWidth)/2,d[0].f7NavbarRightOffset=b)),h.length&&(h.hasClass("sliding")||k)&&(h[0].f7NavbarLeftOffset=t.rtl?h[0].offsetWidth:-h[0].offsetWidth,h[0].f7NavbarRightOffset=-h[0].f7NavbarLeftOffset)}if(r){var R=c;t.rtl&&m&&g&&f.length>0&&(R=-R),f.css({left:R+"px"})}}}}},hide:function(e,t,n,a){void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===a&&(a=!1);var r=this,o=Bl(e),s=o.hasClass("navbar")&&o.parent(".navbars").length&&!a;if(s&&(o=o.parents(".navbars")),o.length&&!o.hasClass("navbar-hidden")){var i="navbar-hidden"+(t?" navbar-transitioning":"");(s?o.find(".navbar-current .title-large").length:o.find(".title-large").length)&&(i+=" navbar-large-hidden"),n&&(i+=" navbar-hidden-statusbar"),o.transitionEnd((function(){o.removeClass("navbar-transitioning")})),o.addClass(i),s?o.children(".navbar").each((function(e){Bl(e).trigger("navbar:hide"),r.emit("navbarHide",e)})):(o.trigger("navbar:hide"),r.emit("navbarHide",o[0]))}},show:function(e,t,n){void 0===e&&(e=".navbar-hidden"),void 0===t&&(t=!0),void 0===n&&(n=!1);var a=this,r=Bl(e),o=r.hasClass("navbar")&&r.parent(".navbars").length&&!n;o&&(r=r.parents(".navbars")),r.length&&r.hasClass("navbar-hidden")&&(t&&(r.addClass("navbar-transitioning"),r.transitionEnd((function(){r.removeClass("navbar-transitioning")}))),r.removeClass("navbar-hidden navbar-large-hidden navbar-hidden-statusbar"),o?r.children(".navbar").each((function(e){Bl(e).trigger("navbar:show"),a.emit("navbarShow",e)})):(r.trigger("navbar:show"),a.emit("navbarShow",r[0])))},getElByPage:function(e){var t,n,a;if(e.$navbarEl||e.$el?(a=e,t=e.$el):(t=Bl(e)).length>0&&(a=t[0].f7Page),a&&a.$navbarEl&&a.$navbarEl.length>0?n=a.$navbarEl:t&&(n=t.children(".navbar")),n&&(!n||0!==n.length))return n[0]},getPageByEl:function(e){var t,n=Bl(e);return n.parents(".page").length?n.parents(".page")[0]:(n.parents(".view").find(".page").each((function(e){e&&e.f7Page&&e.f7Page.navbarEl&&n[0]===e.f7Page.navbarEl&&(t=e)})),t)},collapseLargeTitle:function(e){var t=this,n=Bl(e);if(!(n.hasClass("navbars")&&((n=n.find(".navbar")).length>1&&(n=Bl(e).find(".navbar-large.navbar-current")),n.length>1||!n.length))){var a=Bl(t.navbar.getPageByEl(n));n.addClass("navbar-large-collapsed"),a.eq(0).addClass("page-with-navbar-large-collapsed").trigger("page:navbarlargecollapsed"),t.emit("pageNavbarLargeCollapsed",a[0]),n.trigger("navbar:collapse"),t.emit("navbarCollapse",n[0])}},expandLargeTitle:function(e){var t=this,n=Bl(e);if(!(n.hasClass("navbars")&&((n=n.find(".navbar-large")).length>1&&(n=Bl(e).find(".navbar-large.navbar-current")),n.length>1||!n.length))){var a=Bl(t.navbar.getPageByEl(n));n.removeClass("navbar-large-collapsed"),a.eq(0).removeClass("page-with-navbar-large-collapsed").trigger("page:navbarlargeexpanded"),t.emit("pageNavbarLargeExpanded",a[0]),n.trigger("navbar:expand"),t.emit("navbarExpand",n[0])}},toggleLargeTitle:function(e){var t=Bl(e);t.hasClass("navbars")&&((t=t.find(".navbar-large")).length>1&&(t=Bl(e).find(".navbar-large.navbar-current")),t.length>1||!t.length)||(t.hasClass("navbar-large-collapsed")?this.navbar.expandLargeTitle(t):this.navbar.collapseLargeTitle(t))},initNavbarOnScroll:function(e,t,n,a,r){var o,s,i,l,c,u,p,d,f,h,m,g,v,b,y=this,x=Ds(),w=Bl(e),C=Bl(t),k=C.find(".title-large"),E=k.length||C.hasClass(".navbar-large"),S=44,T=y.params.navbar.snapPageScrollToLargeTitle,$=y.params.navbar.snapPageScrollToTransparentNavbar;(a||n&&E)&&((f=C.css("--f7-navbar-large-title-height"))&&f.indexOf("px")>=0?(f=parseInt(f,10),Number.isNaN(f)&&k.length?f=k[0].offsetHeight:Number.isNaN(f)&&("ios"===y.theme?f=52:"md"===y.theme?f=48:"aurora"===y.theme&&(f=38))):k.length?f=k[0].offsetHeight:"ios"===y.theme?f=52:"md"===y.theme?f=48:"aurora"===y.theme&&(f=38)),n&&E&&(S+=f);function O(){w.find(".page-content").each((function(e){e.f7ScrollableDistance=e.scrollHeight-e.offsetHeight}))}function I(){C.hasClass("with-searchbar-expandable-enabled")||!g||s<0||(s>=f/2&&s<f?Bl(g).scrollTop(f,100):s<f&&Bl(g).scrollTop(0,200))}function N(){C.hasClass("with-searchbar-expandable-enabled")||!g||s<0||(s>=h/2&&s<h?Bl(g).scrollTop(h,100):s<h&&Bl(g).scrollTop(0,200))}var R=null,P=null;function M(e){g=this,e&&e.target&&e.target!==g||(s=g.scrollTop,m=s,a?function(e){if(!C.hasClass("navbar-hidden")&&!C.parent(".navbars").hasClass("navbar-hidden")){var t=C.hasClass("navbar-large-transparent")||C.hasClass("navbar-large")&&C.hasClass("navbar-transparent");R=P;var n=Math.min(f,e.f7ScrollableDistance||f);P=Math.min(Math.max(s/n,0),1);var a=R>0&&R<1;C.hasClass("with-searchbar-expandable-enabled")||(d=C.hasClass("navbar-large-collapsed"),0===P&&d?y.navbar.expandLargeTitle(C[0]):1!==P||d||y.navbar.collapseLargeTitle(C[0]),0===P&&d||0===P&&a||1===P&&!d||1===P&&a?("md"===y.theme&&C.find(".navbar-inner").css("overflow",""),C.find(".title").css("opacity",""),C.find(".title-large-text, .subnavbar").css("transform",""),t?C.find(".navbar-bg").css("opacity",""):C.find(".navbar-bg").css("transform","")):P>0&&P<1&&("md"===y.theme&&C.find(".navbar-inner").css("overflow","visible"),C.find(".title").css("opacity",P),C.find(".title-large-text, .subnavbar").css("transform","translate3d(0px, "+-1*P*f+"px, 0)"),t?C.find(".navbar-bg").css("opacity",P):C.find(".navbar-bg").css("transform","translate3d(0px, "+-1*P*f+"px, 0)")),T&&(x.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){I(),clearTimeout(b),b=null}),70)):(clearTimeout(v),v=setTimeout((function(){I()}),300))))}}(g):r&&function(){var e=C.hasClass("navbar-hidden")||C.parent(".navbars").hasClass("navbar-hidden");if(!C.hasClass("with-searchbar-expandable-enabled")&&!e){h||(h=t.offsetHeight);var n=s/h,a=C.hasClass("navbar-transparent-visible");if(n=Math.max(Math.min(n,1),0),a&&1===n||!a&&0===n)C.find(".navbar-bg, .title").css("opacity","");else{if(a&&0===n)return C.trigger("navbar:transparenthide"),y.emit("navbarTransparentHide",C[0]),C.removeClass("navbar-transparent-visible"),void C.find(".navbar-bg, .title").css("opacity","");if(!a&&1===n)return C.trigger("navbar:transparentshow"),y.emit("navbarTransparentShow",C[0]),C.addClass("navbar-transparent-visible"),void C.find(".navbar-bg, .title").css("opacity","");C.find(".navbar-bg, .title").css("opacity",n),$&&(x.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){N(),clearTimeout(b),b=null}),70)):(clearTimeout(v),v=setTimeout((function(){N()}),300)))}}}(),w.hasClass("page-previous")||n&&(w.hasClass("page-with-card-opened")||(i=g.scrollHeight,l=g.offsetHeight,c=s+l>=i,p=C.hasClass("navbar-hidden")||C.parent(".navbars").hasClass("navbar-hidden"),c?y.params.navbar.showOnPageScrollEnd&&(u="show"):u=o>s?y.params.navbar.showOnPageScrollTop||s<=S?"show":"hide":s>S?"hide":"show","show"===u&&p?(y.navbar.show(C,!0,!0),p=!1):"hide"!==u||p||(y.navbar.hide(C,!0,!1,!0),p=!0),o=s)))}function B(){m=!1}function A(){clearTimeout(b),b=null,b=setTimeout((function(){!1!==m&&(r&&!a?N():I(),clearTimeout(b),b=null)}),70)}w.on("scroll",".page-content",M,!0),x.touch&&(a&&T||r&&$)&&(y.on("touchstart:passive",B),y.on("touchend:passive",A)),O(),(a||r)&&w.find(".page-content").each((function(e){e.scrollTop>0&&M.call(e)})),y.on("resize",O),w[0].f7DetachNavbarScrollHandlers=function(){y.off("resize",O),delete w[0].f7DetachNavbarScrollHandlers,w.off("scroll",".page-content",M,!0),x.touch&&(a&&T||r&&$)&&(y.off("touchstart:passive",B),y.off("touchend:passive",A))}}},Zc={name:"navbar",create:function(){_s(this,{navbar:Qc})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,auroraCenterTitle:!0,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0,snapPageScrollToTransparentNavbar:!0}},on:{"panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint":function(){var e=this;Bl(".navbar").each((function(t){e.navbar.size(t)}))},pageBeforeRemove:function(e){e.$el[0].f7DetachNavbarScrollHandlers&&e.$el[0].f7DetachNavbarScrollHandlers()},pageBeforeIn:function(e){var t=this;if("ios"===t.theme){var n,a=e.$el.parents(".view")[0].f7View,r=t.navbar.getElByPage(e);if(n=r?Bl(r).parents(".navbars"):e.$el.parents(".view").children(".navbars"),e.$el.hasClass("no-navbar")||a.router.dynamicNavbar&&!r){var o=!!(e.pageFrom&&e.router.history.length>0);t.navbar.hide(n,o)}else t.navbar.show(n)}},pageReinit:function(e){var t=Bl(this.navbar.getElByPage(e));t&&0!==t.length&&this.navbar.size(t)},pageInit:function(e){var t,n,a,r=this,o=Bl(r.navbar.getElByPage(e));o&&0!==o.length&&(r.navbar.size(o),o.find(".title-large").length>0&&o.addClass("navbar-large"),o.hasClass("navbar-large")&&(r.params.navbar.collapseLargeTitleOnScroll&&(t=!0),e.$el.addClass("page-with-navbar-large")),!t&&o.hasClass("navbar-transparent")&&(n=!0),(r.params.navbar.hideOnPageScroll||e.$el.find(".hide-navbar-on-scroll").length||e.$el.hasClass("hide-navbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll"))&&(a=!(e.$el.find(".keep-navbar-on-scroll").length||e.$el.hasClass("keep-navbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))),(t||a||n)&&r.navbar.initNavbarOnScroll(e.el,o[0],a,t,n))},"panelOpen panelSwipeOpen modalOpen":function(e){var t=this;e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))},tabShow:function(e){var t=this;Bl(e).find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))}},clicks:{".navbar .title":function(e,t,n){if(this.params.navbar.scrollTopOnTitleClick&&!(Bl(n.target).closest("a, button").length>0)){var a,r=e.parents(".navbar"),o=r.parents(".navbars");0===(a=r.parents(".page-content")).length&&(r.parents(".page").length>0&&(a=r.parents(".page").find(".page-content")),0===a.length&&o.length&&o.nextAll(".page-current:not(.stacked)").length>0&&(a=o.nextAll(".page-current:not(.stacked)").find(".page-content")),0===a.length&&r.nextAll(".page-current:not(.stacked)").length>0&&(a=r.nextAll(".page-current:not(.stacked)").find(".page-content"))),a&&a.length>0&&(a.hasClass("tab")&&(a=a.parent(".tabs").children(".page-content.tab-active")),a.length>0&&a.scrollTop(0,300))}}},vnode:{navbar:{postpatch:function(e){this.navbar.size(e.elm)}}}},Jc={setHighlight:function(e){var t=Bl(e);if(("ios"!==this.theme||t.hasClass("tabbar-highlight"))&&0!==t.length&&(t.hasClass("tabbar")||t.hasClass("tabbar-labels"))){var n=t.find(".tab-link-highlight"),a=t.find(".tab-link").length;if(0!==a){0===n.length?(t.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),n=t.find(".tab-link-highlight")):n.next().length&&t.children(".toolbar-inner").append(n);var r,o,s=t.find(".tab-link-active");if(t.hasClass("tabbar-scrollable")&&s&&s[0])r=s[0].offsetWidth+"px",o=s[0].offsetLeft+"px";else{var i=s.index();r=100/a+"%",o=100*(this.rtl?-i:i)+"%"}ws((function(){n.css("width",r).transform("translate3d("+o+",0,0)")}))}else n.remove()}},init:function(e){this.toolbar.setHighlight(e)},hide:function(e,t){void 0===t&&(t=!0);var n=Bl(e);if(!n.hasClass("toolbar-hidden")){var a="toolbar-hidden"+(t?" toolbar-transitioning":"");n.transitionEnd((function(){n.removeClass("toolbar-transitioning")})),n.addClass(a),n.trigger("toolbar:hide"),this.emit("toolbarHide",n[0])}},show:function(e,t){void 0===t&&(t=!0);var n=Bl(e);n.hasClass("toolbar-hidden")&&(t&&(n.addClass("toolbar-transitioning"),n.transitionEnd((function(){n.removeClass("toolbar-transitioning")}))),n.removeClass("toolbar-hidden"),n.trigger("toolbar:show"),this.emit("toolbarShow",n[0]))},initToolbarOnScroll:function(e){var t,n,a,r,o,s,i,l=this,c=Bl(e),u=c.parents(".view").children(".toolbar");(0===u.length&&(u=c.find(".toolbar")),0===u.length&&(u=c.parents(".views").children(".tabbar, .tabbar-labels")),0!==u.length)&&(c.on("scroll",".page-content",p,!0),c[0].f7ScrollToolbarHandler=p);function p(e){if(!c.hasClass("page-with-card-opened")&&!c.hasClass("page-previous")){var p=this;e&&e.target&&e.target!==p||(n=p.scrollTop,a=p.scrollHeight,r=p.offsetHeight,o=n+r>=a,i=u.hasClass("toolbar-hidden"),o?l.params.toolbar.showOnPageScrollEnd&&(s="show"):s=t>n?l.params.toolbar.showOnPageScrollTop||n<=44?"show":"hide":n>44?"hide":"show","show"===s&&i?(l.toolbar.show(u),i=!1):"hide"!==s||i||(l.toolbar.hide(u),i=!0),t=n)}}}},eu={name:"toolbar",create:function(){_s(this,{toolbar:Jc})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove:function(e){e.$el[0].f7ScrollToolbarHandler&&e.$el.off("scroll",".page-content",e.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn:function(e){var t=e.$el.parents(".view").children(".toolbar");0===t.length&&(t=e.$el.parents(".views").children(".tabbar, .tabbar-labels")),0===t.length&&(t=e.$el.find(".toolbar")),0!==t.length&&(e.$el.hasClass("no-toolbar")?this.toolbar.hide(t):this.toolbar.show(t))},pageInit:function(e){var t=this;if(e.$el.find(".tabbar, .tabbar-labels").each((function(e){t.toolbar.init(e)})),t.params.toolbar.hideOnPageScroll||e.$el.find(".hide-toolbar-on-scroll").length||e.$el.hasClass("hide-toolbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll")){if(e.$el.find(".keep-toolbar-on-scroll").length||e.$el.hasClass("keep-toolbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))return;t.toolbar.initToolbarOnScroll(e.el)}},init:function(){var e=this;e.$el.find(".tabbar, .tabbar-labels").each((function(t){e.toolbar.init(t)}))}},vnode:{tabbar:{insert:function(e){this.toolbar.init(e.elm)}}}},tu={name:"subnavbar",on:{pageInit:function(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar"),e.$el.find(".subnavbar").filter((function(t){return Bl(t).parents(".page")[0]===e.$el[0]})).length&&e.$el.addClass("page-with-subnavbar")}}},nu=function(){function e(e,t,n,a){var r=this;if(t){var o=t[0].getBoundingClientRect(),s=o.left,i=o.top,l=o.width,c=o.height,u=n-s,p=a-i,d=Math.max(Math.pow(Math.pow(c,2)+Math.pow(l,2),.5),48),f=!1,h=e.params.touch.touchRippleInsetElements||"";if(h&&t.is(h)&&(f=!0),f&&(d=Math.max(Math.min(l,c),48)),f||"hidden"!==t.css("overflow"))r.rippleTransform="translate3d("+(l/2-u)+"px, "+(c/2-p)+"px, 0) scale(1)";else{var m=(d/2+Math.pow(Math.pow(u-l/2,2)+Math.pow(p-c/2,2),.5))/(d/2);r.rippleTransform="translate3d(0px, 0px, 0) scale("+m+")"}return f&&t.addClass("ripple-inset"),r.$rippleWaveEl=Bl('<div class="ripple-wave" style="width: '+d+"px; height: "+d+"px; margin-top:-"+d/2+"px; margin-left:-"+d/2+"px; left:"+u+"px; top:"+p+"px; --f7-ripple-transform: "+r.rippleTransform+'"></div>'),t.prepend(r.$rippleWaveEl),r.$rippleWaveEl.animationEnd((function(){r.$rippleWaveEl&&(r.$rippleWaveEl.hasClass("ripple-wave-out")||(r.$rippleWaveEl.addClass("ripple-wave-in"),r.shouldBeRemoved&&r.out()))})),r}}var t=e.prototype;return t.destroy=function(){var e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},t.out=function(){var e=this,t=this.$rippleWaveEl;clearTimeout(e.removeTimeout),t.addClass("ripple-wave-out"),e.removeTimeout=setTimeout((function(){e.destroy()}),300),t.animationEnd((function(){clearTimeout(e.removeTimeout),e.destroy()}))},t.remove=function(){var e=this;e.shouldBeRemoved||(e.removeTimeout=setTimeout((function(){e.destroy()}),400),e.shouldBeRemoved=!0,e.$rippleWaveEl.hasClass("ripple-wave-in")&&e.out())},e}();function au(e,t,n){return au=ru()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&ou(r,n.prototype),r},au.apply(null,arguments)}function ru(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ou(e,t){return ou=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ou(e,t)}var su={name:"touch-ripple",static:{TouchRipple:nu},create:function(){this.touchRipple={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return au(nu,t)}}}};function iu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lu(e,t){return lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lu(e,t)}var cu=[],uu=[];var pu=function(e){var t,n;function a(t,n){var a,r=iu(a=e.call(this,n,[t])||this),o={};r.useModulesParams(o),r.params=Os(o,n),r.opened=!1;var s=r.params.containerEl?Bl(r.params.containerEl).eq(0):t.$el;return s.length||(s=t.$el),r.$containerEl=s,r.containerEl=s[0],r.useModules(),iu(a)||iu(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,lu(t,n);var r=a.prototype;return r.onOpen=function(){var e=this;e.opened=!0,cu.push(e),Bl("html").addClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:open "+e.type.toLowerCase()+":open"),e.emit("local::open modalOpen "+e.type+"Open",e)},r.onOpened=function(){var e=this;e.$el.trigger("modal:opened "+e.type.toLowerCase()+":opened"),e.emit("local::opened modalOpened "+e.type+"Opened",e)},r.onClose=function(){var e=this;e.opened=!1,e.type&&e.$el&&(cu.splice(cu.indexOf(e),1),Bl("html").removeClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:close "+e.type.toLowerCase()+":close"),e.emit("local::close modalClose "+e.type+"Close",e))},r.onClosed=function(){var e=this;e.type&&e.$el&&(e.$el.removeClass("modal-out"),e.$el.hide(),e.$el.trigger("modal:closed "+e.type.toLowerCase()+":closed"),e.emit("local::closed modalClosed "+e.type+"Closed",e))},r.open=function(e){var t,n=this,a=os(),r=n.app,o=n.$el,s=n.$backdropEl,i=n.type,l=!0;if(void 0!==e?l=e:void 0!==n.params.animate&&(l=n.params.animate),!o||o.hasClass("modal-in"))return!1===e&&o[0]&&"dialog"!==i&&(o[0].style.display="block"),n;if("dialog"===i&&r.params.modal.queueDialogs&&(Bl(".dialog.modal-in").length>0?t=!0:cu.length>0&&cu.forEach((function(e){"dialog"===e.type&&(t=!0)})),t))return uu.push(n),n;var c=o.parent(),u=o.parents(a).length>0;function p(){o.hasClass("modal-out")?n.onClosed():o.hasClass("modal-in")&&n.onOpened()}return c.is(n.$containerEl)||(n.$containerEl.append(o),n.once(i+"Closed",(function(){u?c.append(o):o.remove()}))),o.show(),n._clientLeft=o[0].clientLeft,l?(s&&(s.removeClass("not-animated"),s.addClass("backdrop-in")),o.animationEnd((function(){p()})),o.transitionEnd((function(){p()})),o.removeClass("modal-out not-animated").addClass("modal-in"),n.onOpen()):(s&&s.addClass("backdrop-in not-animated"),o.removeClass("modal-out").addClass("modal-in not-animated"),n.onOpen(),n.onOpened()),n},r.close=function(e){var t=this,n=t.$el,a=t.$backdropEl,r=!0;if(void 0!==e?r=e:void 0!==t.params.animate&&(r=t.params.animate),!n||!n.hasClass("modal-in"))return uu.indexOf(t)>=0&&uu.splice(uu.indexOf(t),1),t;if(a){var o=!0;"popup"===t.type&&t.$el.prevAll(".popup.modal-in").add(t.$el.nextAll(".popup.modal-in")).each((function(e){var n=e.f7Modal;n&&n.params.closeByBackdropClick&&n.params.backdrop&&n.backdropEl===t.backdropEl&&(o=!1)})),o&&(a[r?"removeClass":"addClass"]("not-animated"),a.removeClass("backdrop-in"))}function s(){n.hasClass("modal-out")?t.onClosed():n.hasClass("modal-in")&&t.onOpened()}return n[r?"removeClass":"addClass"]("not-animated"),r?(n.animationEnd((function(){s()})),n.transitionEnd((function(){s()})),n.removeClass("modal-in").addClass("modal-out"),t.onClose()):(n.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),t.onClose(),t.onClosed()),"dialog"===t.type&&0!==uu.length&&uu.shift().open(),t},r.destroy=function(){var e=this;e.destroyed||(e.emit("local::beforeDestroy modalBeforeDestroy "+e.type+"BeforeDestroy",e),e.$el&&(e.$el.trigger("modal:beforedestroy "+e.type.toLowerCase()+":beforedestroy"),e.$el.length&&e.$el[0].f7Modal&&delete e.$el[0].f7Modal),vs(e),e.destroyed=!0)},a}(Us),du=pu;function fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hu(e,t){return hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hu(e,t)}var mu=function(e){var t,n;function a(t,n){var a,r,o,s=Os({backdrop:!0,closeByBackdropClick:!0,on:{}},n),i=fu(a=e.call(this,t,s)||this);if(i.params=s,(r=i.params.el?Bl(i.params.el):Bl(i.params.content))&&r.length>0&&r[0].f7Modal)return r[0].f7Modal||fu(a);if(0===r.length)return i.destroy()||fu(a);function l(e){i&&!i.destroyed&&o&&e.target===o[0]&&i.close()}return i.params.backdrop&&0===(o=t.$el.children(".custom-modal-backdrop")).length&&(o=Bl('<div class="custom-modal-backdrop"></div>'),t.$el.append(o)),i.on("customModalOpened",(function(){i.params.closeByBackdropClick&&i.params.backdrop&&t.on("click",l)})),i.on("customModalClose",(function(){i.params.closeByBackdropClick&&i.params.backdrop&&t.off("click",l)})),Os(i,{app:t,$el:r,el:r[0],$backdropEl:o,backdropEl:o&&o[0],type:"customModal"}),r[0].f7Modal=i,i||fu(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,hu(t,n),a}(du),gu=mu,vu={name:"modal",static:{Modal:du,CustomModal:gu},create:function(){var e=this;e.customModal={create:function(t){return new gu(e,t)}}},params:{modal:{queueDialogs:!0}}},bu=function(e,t){for(var n=t||{},a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];var s=r||[],i=Object.keys(n).map((function(e){return"_"===e[0]?n[e]?e.replace("_",""):"":e+'="'+n[e]+'"'})).filter((function(e){return!!e})).join(" ");if(["path","img","circle","polygon","line","input"].indexOf(e)>=0)return("<"+e+" "+i+" />").trim();var l=s.filter((function(e){return!!e})).map((function(e){return Array.isArray(e)?e.join(""):e})).join("");return("<"+e+" "+i+">"+l+"</"+e+">").trim()};function yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xu(e,t){return xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xu(e,t)}var wu=function(e){var t,n;function a(t,n){var a,r=Os({title:t.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},n);void 0===r.closeByBackdropClick&&(r.closeByBackdropClick=t.params.dialog.closeByBackdropClick),void 0===r.backdrop&&(r.backdrop=t.params.dialog.backdrop);var o,s,i,l=yu(a=e.call(this,t,r)||this),c=Fs(),u=os(),p=r.title,d=r.text,f=r.content,h=r.buttons,m=r.verticalButtons,g=r.cssClass,v=r.backdrop;if(l.params=r,l.params.el)o=Bl(l.params.el);else{var b=["dialog"];0===h.length&&b.push("dialog-no-buttons"),h.length>0&&b.push("dialog-buttons-"+h.length),m&&b.push("dialog-buttons-vertical"),g&&b.push(g);var y="";h.length>0&&(y=bu("div",{class:"dialog-buttons"},h.map((function(e){return bu("span",{class:"dialog-button"+(e.bold?" dialog-button-bold":"")+(e.color?" color-"+e.color:"")+(e.cssClass?" "+e.cssClass:"")},e.text)}))));var x=bu("div",{class:b.join(" ")},bu("div",{class:"dialog-inner"},p&&bu("div",{class:"dialog-title"},p),d&&bu("div",{class:"dialog-text"},d),f),y);o=Bl(x)}if(o&&o.length>0&&o[0].f7Modal)return o[0].f7Modal||yu(a);if(0===o.length)return l.destroy()||yu(a);function w(e){var t=Bl(this).index(),n=h[t];n.onClick&&n.onClick(l,e),l.params.onClick&&l.params.onClick(l,t),!1!==n.close&&l.close()}function C(e){var t=e.keyCode;h.forEach((function(n,a){n.keyCodes&&n.keyCodes.indexOf(t)>=0&&(u.activeElement&&u.activeElement.blur(),n.onClick&&n.onClick(l,e),l.params.onClick&&l.params.onClick(l,a),!1!==n.close&&l.close())}))}function k(e){var t=e.target;0===Bl(t).closest(l.el).length&&l.params.closeByBackdropClick&&l.backdropEl&&l.backdropEl===t&&l.close()}return v&&0===(s=t.$el.children(".dialog-backdrop")).length&&(s=Bl('<div class="dialog-backdrop"></div>'),t.$el.append(s)),h&&h.length>0&&(l.on("open",(function(){o.find(".dialog-button").each((function(e,t){h[t].keyCodes&&(i=!0),Bl(e).on("click",w)})),!i||c.ios||c.android||c.cordova||c.capacitor||Bl(u).on("keydown",C)})),l.on("close",(function(){o.find(".dialog-button").each((function(e){Bl(e).off("click",w)})),!i||c.ios||c.android||c.cordova||c.capacitor||Bl(u).off("keydown",C),i=!1}))),Os(l,{app:t,$el:o,el:o[0],$backdropEl:s,backdropEl:s&&s[0],type:"dialog",setProgress:function(e,n){return t.progressbar.set(o.find(".progressbar"),e,n),l},setText:function(e){var t=o.find(".dialog-text");return 0===t.length&&(t=Bl('<div class="dialog-text"></div>'),void 0!==p?t.insertAfter(o.find(".dialog-title")):o.find(".dialog-inner").prepend(t)),t.html(e),l.params.text=e,l},setTitle:function(e){var t=o.find(".dialog-title");return 0===t.length&&(t=Bl('<div class="dialog-title"></div>'),o.find(".dialog-inner").prepend(t)),t.html(e),l.params.title=e,l}}),l.on("opened",(function(){l.params.closeByBackdropClick&&t.on("click",k)})),l.on("close",(function(){l.params.closeByBackdropClick&&t.off("click",k)})),o[0].f7Modal=l,l.params.destroyOnClose&&l.once("closed",(function(){setTimeout((function(){l.destroy()}),0)})),l||yu(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,xu(t,n),a}(du),Cu=wu;function ku(){return ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ku.apply(this,arguments)}var Eu={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",backdrop:!0,closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0,autoFocus:!0}},static:{Dialog:Cu},create:function(){var e=this;function t(){return e.params.dialog.title||e.name}var n=e.params.dialog.destroyPredefinedDialogs,a=e.params.dialog.keyboardActions,r=e.params.dialog.autoFocus?{on:{opened:function(e){e.$el.find("input").eq(0).focus()}}}:{};e.dialog=Os(zl({app:e,constructor:Cu,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var i=o[0],l=o[1],c=o[2];return 2===o.length&&"function"==typeof o[1]&&(i=o[0],c=o[1],l=o[2]),new Cu(e,{title:void 0===l?t():l,text:i,buttons:[{text:e.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:a?[13,27]:null}],destroyOnClose:n}).open()},prompt:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var l=s[0],c=s[1],u=s[2],p=s[3],d=s[4];return"function"==typeof s[1]&&(l=s[0],u=s[1],p=s[2],d=s[3],c=s[4]),d=null==d?"":d,new Cu(e,ku({title:void 0===c?t():c,text:l,content:'<div class="dialog-input-field input"><input type="text" class="dialog-input" value="'+d+'"></div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:a?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:a?[13]:null}],onClick:function(e,t){var n=e.$el.find(".dialog-input").val();0===t&&p&&p(n),1===t&&u&&u(n)},destroyOnClose:n},r)).open()},confirm:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var i=o[0],l=o[1],c=o[2],u=o[3];return"function"==typeof o[1]&&(i=o[0],c=o[1],u=o[2],l=o[3]),new Cu(e,{title:void 0===l?t():l,text:i,buttons:[{text:e.params.dialog.buttonCancel,onClick:u,keyCodes:a?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,onClick:c,keyCodes:a?[13]:null}],destroyOnClose:n}).open()},login:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var l=s[0],c=s[1],u=s[2],p=s[3];return"function"==typeof s[1]&&(l=s[0],u=s[1],p=s[2],c=s[3]),new Cu(e,ku({title:void 0===c?t():c,text:l,content:'\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="text" name="dialog-username" placeholder="'+e.params.dialog.usernamePlaceholder+'" class="dialog-input">\n              </div>\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="password" name="dialog-password" placeholder="'+e.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:a?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:a?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-username"]').val(),a=e.$el.find('[name="dialog-password"]').val();0===t&&p&&p(n,a),1===t&&u&&u(n,a)},destroyOnClose:n},r)).open()},password:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var l=s[0],c=s[1],u=s[2],p=s[3];return"function"==typeof s[1]&&(l=s[0],u=s[1],p=s[2],c=s[3]),new Cu(e,ku({title:void 0===c?t():c,text:l,content:'\n              <div class="dialog-input-field input">\n                <input type="password" name="dialog-password" placeholder="'+e.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:a?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:a?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-password"]').val();0===t&&p&&p(n),1===t&&u&&u(n)},destroyOnClose:n},r)).open()},preloader:function(t,a){var r={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms}[e.theme+"PreloaderContent"]||"";return new Cu(e,{title:null==t?e.params.dialog.preloaderTitle:t,content:'<div class="preloader'+(a?" color-"+a:"")+'">'+r+"</div>",cssClass:"dialog-preloader",destroyOnClose:n}).open()},progress:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=a[0],s=a[1],i=a[2];2===a.length?"number"==typeof a[0]?(s=a[0],i=a[1],o=a[2]):"string"==typeof a[0]&&"string"==typeof a[1]&&(o=a[0],i=a[1],s=a[2]):1===a.length&&"number"==typeof a[0]&&(s=a[0],o=a[1],i=a[2]);var l=void 0===s,c=new Cu(e,{title:void 0===o?e.params.dialog.progressTitle:o,cssClass:"dialog-progress",content:'\n              <div class="progressbar'+(l?"-infinite":"")+(i?" color-"+i:"")+'">\n                '+(l?"":"<span></span>")+"\n              </div>\n            ",destroyOnClose:n});return l||c.setProgress(s),c.open()}})}};function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tu(e,t){return Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tu(e,t)}var $u=function(e){var t,n;function a(t,n){var a,r,o,s,i,l=Os({on:{}},t.params.popup,n),c=Su(a=e.call(this,t,l)||this),u=is(),p=os(),d=Ds(),f=Fs();if(c.params=l,(r=c.params.el?Bl(c.params.el).eq(0):Bl(c.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&r.length>0&&r[0].f7Modal)return r[0].f7Modal||Su(a);if(0===r.length)return c.destroy()||Su(a);function h(e){var t=e.target,n=Bl(t);if(!(!f.desktop&&f.cordova&&(u.Keyboard&&u.Keyboard.isVisible||u.cordova.plugins&&u.cordova.plugins.Keyboard&&u.cordova.plugins.Keyboard.isVisible))&&0===n.closest(c.el).length&&c.params&&c.params.closeByBackdropClick&&c.params.backdrop&&c.backdropEl&&c.backdropEl===t){var a=!0;c.$el.nextAll(".popup.modal-in").each((function(e){var t=e.f7Modal;t&&t.params.closeByBackdropClick&&t.params.backdrop&&t.backdropEl===c.backdropEl&&(a=!1)})),a&&c.close()}}function m(e){27===e.keyCode&&c.params.closeOnEscape&&c.close()}function g(e){return(t.height-2*e)/t.height}c.params.backdrop&&c.params.backdropEl?o=Bl(c.params.backdropEl):c.params.backdrop&&0===(o=c.$containerEl.children(".popup-backdrop")).length&&(o=Bl('<div class="popup-backdrop"></div>'),c.$containerEl.append(o)),Os(c,{app:t,push:r.hasClass("popup-push")||c.params.push,$el:r,el:r[0],$backdropEl:o,backdropEl:o&&o[0],type:"popup",$htmlEl:Bl("html")}),c.params.push&&r.addClass("popup-push");var v,b,y,x,w,C,k,E,S,T,$,O=!0,I=!1,N=!1;function R(e){!I&&O&&c.params.swipeToClose&&(c.params.swipeHandler&&0===Bl(e.target).closest(c.params.swipeHandler).length||(I=!0,N=!1,v={x:"touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchstart"===e.type?e.targetTouches[0].pageY:e.pageY},x=Cs(),y=void 0,c.params.swipeHandler||"touchstart"!==e.type||(C=Bl(e.target).closest(".page-content")[0])))}function P(e){if(I){if(b={x:"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY},void 0===y&&(y=!!(y||Math.abs(b.x-v.x)>Math.abs(b.y-v.y))),y)return I=!1,void(N=!1);w=v.y-b.y,i&&s&&w>0&&(w=0);var n=w<0?"to-bottom":"to-top";if(r.transition(0),"string"==typeof c.params.swipeToClose&&n!==c.params.swipeToClose)return r.transform(""),void r.transition("");if(N)c.emit("local::swipeMove popupSwipeMove",c),c.$el.trigger("popup:swipemove");else{if(i&&s&&(T=r[0].offsetHeight,0===($=r.prevAll(".popup.modal-in").eq(0)).length&&($=t.$el.children(".view, .views"))),C&&(k=C.scrollTop,S=C.scrollHeight,E=C.offsetHeight,!(S===E||"to-bottom"===n&&0===k||"to-top"===n&&k===S-E)))return r.transform(""),r.transition(""),I=!1,void(N=!1);N=!0,c.emit("local::swipeStart popupSwipeStart",c),c.$el.trigger("popup:swipestart")}if(e.preventDefault(),i&&s){var a=1-Math.abs(w/T),o=1-(1-g(s))*a;$.hasClass("popup")?$.hasClass("popup-push")?$.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0, calc(-1 * "+a+" * (var(--f7-popup-push-offset) + 10px)) , 0px) scale("+o+")","important")})):$.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0, 0px , 0px) scale("+o+")","important")})):$.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0,0,0) scale("+o+")","important")}))}r.transition(0).transform("translate3d(0,"+-w+"px,0)")}}function M(){if(I=!1,N){c.emit("local::swipeEnd popupSwipeEnd",c),c.$el.trigger("popup:swipeend"),N=!1,O=!1,r.transition(""),i&&s&&$.transition("").transform("");var e=w<=0?"to-bottom":"to-top";if("string"==typeof c.params.swipeToClose&&e!==c.params.swipeToClose)return r.transform(""),void(O=!0);var t=Math.abs(w),n=(new Date).getTime()-x;n<300&&t>20||n>=300&&t>100?xs((function(){"to-bottom"===e?r.addClass("swipe-close-to-bottom"):r.addClass("swipe-close-to-top"),r.transform(""),c.emit("local::swipeclose popupSwipeClose",c),c.$el.trigger("popup:swipeclose"),c.close(),O=!0})):(O=!0,r.transform(""))}}var B,A=!!d.passiveListener&&{passive:!0};c.params.swipeToClose&&(r.on(t.touchEvents.start,R,A),t.on("touchmove",P),t.on("touchend:passive",M),c.once("popupDestroy",(function(){r.off(t.touchEvents.start,R,A),t.off("touchmove",P),t.off("touchend:passive",M)})));var _=function(){var e=i;c.push&&(i=c.push&&(t.width<630||t.height<630||r.hasClass("popup-tablet-fullscreen"))),i&&!e?L():i&&e?c.$htmlEl[0].style.setProperty("--f7-popup-push-scale",g(s)):!i&&e&&(c.$htmlEl.removeClass("with-modal-popup-push"),c.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))},L=function(){t.off("resize",_),c.push&&(i=c.push&&(t.width<630||t.height<630||r.hasClass("popup-tablet-fullscreen"))),i&&(s=parseInt(r.css("--f7-popup-push-offset"),10),Number.isNaN(s)&&(s=0),s&&(r.addClass("popup-push"),c.$htmlEl.addClass("with-modal-popup-push"),c.$htmlEl[0].style.setProperty("--f7-popup-push-scale",g(s)))),t.on("resize",_)};return c.on("open",(function(){B=!1,c.params.closeOnEscape&&Bl(p).on("keydown",m),r.prevAll(".popup.modal-in").addClass("popup-behind"),L()})),c.on("opened",(function(){r.removeClass("swipe-close-to-bottom swipe-close-to-top"),c.params.closeByBackdropClick&&t.on("click",h)})),c.on("close",(function(){B=c.$el.prevAll(".popup-push.modal-in").length>0,c.params.closeOnEscape&&Bl(p).off("keydown",m),c.params.closeByBackdropClick&&t.off("click",h),r.prevAll(".popup.modal-in").eq(0).removeClass("popup-behind"),i&&s&&!B&&(c.$htmlEl.removeClass("with-modal-popup-push"),c.$htmlEl.addClass("with-modal-popup-push-closing")),t.off("resize",_)})),c.on("closed",(function(){r.removeClass("popup-behind"),i&&s&&!B&&(c.$htmlEl.removeClass("with-modal-popup-push-closing"),c.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))})),r[0].f7Modal=c,c||Su(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Tu(t,n),a}(du),Ou=$u,Iu={name:"popup",params:{popup:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeOnEscape:!1,swipeToClose:!1,swipeHandler:null,push:!1,containerEl:null}},static:{Popup:Ou},create:function(){this.popup=zl({app:this,constructor:Ou,defaultSelector:".popup.modal-in",parentSelector:".popup"})},clicks:{".popup-open":function(e,t){void 0===t&&(t={});this.popup.open(t.popup,t.animate,e)},".popup-close":function(e,t){void 0===t&&(t={});this.popup.close(t.popup,t.animate,e)}}};function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ru(e,t){return Ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ru(e,t)}var Pu=function(e){var t,n;function a(t,n){var a,r,o=Os({on:{}},n),s=Nu(a=e.call(this,t,o)||this);return s.params=o,(r=s.params.el?Bl(s.params.el).eq(0):Bl(s.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&r.length>0&&r[0].f7Modal?r[0].f7Modal||Nu(a):0===r.length?s.destroy()||Nu(a):(Os(s,{app:t,$el:r,el:r[0],type:"loginScreen"}),r[0].f7Modal=s,s||Nu(a))}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ru(t,n),a}(du),Mu=Pu,Bu={name:"loginScreen",static:{LoginScreen:Mu},create:function(){this.loginScreen=zl({app:this,constructor:Mu,defaultSelector:".login-screen.modal-in"})},clicks:{".login-screen-open":function(e,t){void 0===t&&(t={});this.loginScreen.open(t.loginScreen,t.animate,e)},".login-screen-close":function(e,t){void 0===t&&(t={});this.loginScreen.close(t.loginScreen,t.animate,e)}}};function Au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _u(e,t){return _u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_u(e,t)}var Lu=function(e){var t,n;function a(t,n){var a,r,o=Os({on:{}},t.params.popover,n),s=Au(a=e.call(this,t,o)||this),i=Fs(),l=is(),c=os();if(s.params=o,(r=s.params.el?Bl(s.params.el).eq(0):Bl(s.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&r.length>0&&r[0].f7Modal)return r[0].f7Modal||Au(a);var u,p,d=Bl(s.params.targetEl).eq(0);if(0===r.length)return s.destroy()||Au(a);s.params.backdrop&&s.params.backdropEl?u=Bl(s.params.backdropEl):s.params.backdrop&&0===(u=s.$containerEl.children(".popover-backdrop")).length&&(u=Bl('<div class="popover-backdrop"></div>'),s.$containerEl.append(u)),0===r.find(".popover-angle").length?(p=Bl('<div class="popover-angle"></div>'),r.prepend(p)):p=r.find(".popover-angle");var f=s.open;function h(){s.resize()}Os(s,{app:t,$el:r,el:r[0],$targetEl:d,targetEl:d[0],$angleEl:p,angleEl:p[0],$backdropEl:u,backdropEl:u&&u[0],type:"popover",open:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1];return"boolean"==typeof t[0]&&(r=t[0],a=t[1]),a&&(s.$targetEl=Bl(a),s.targetEl=s.$targetEl[0]),f.call(s,r)}}),s.on("popoverOpen",(function(){s.resize(),t.on("resize",h),Bl(l).on("keyboardDidShow keyboardDidHide",h),s.on("popoverClose popoverBeforeDestroy",(function(){t.off("resize",h),Bl(l).off("keyboardDidShow keyboardDidHide",h)}))}));var m=null;function g(e){m=e.target}function v(e){var t=e.target,n=Bl(t);!i.desktop&&i.cordova&&(l.Keyboard&&l.Keyboard.isVisible||l.cordova.plugins&&l.cordova.plugins.Keyboard&&l.cordova.plugins.Keyboard.isVisible)||0===n.closest(s.el).length&&(s.params.closeByBackdropClick&&s.params.backdrop&&s.backdropEl&&s.backdropEl===t&&m===t||s.params.closeByOutsideClick&&m===t)&&s.close()}function b(e){27===e.keyCode&&s.params.closeOnEscape&&s.close()}return s.params.closeOnEscape&&(s.on("popoverOpen",(function(){Bl(c).on("keydown",b)})),s.on("popoverClose",(function(){Bl(c).off("keydown",b)}))),s.on("popoverOpened",(function(){(s.params.closeByOutsideClick||s.params.closeByBackdropClick)&&(t.on("touchstart",g),t.on("click",v))})),s.on("popoverClose",(function(){(s.params.closeByOutsideClick||s.params.closeByBackdropClick)&&(t.off("touchstart",g),t.off("click",v))})),r[0].f7Modal=s,s||Au(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,_u(t,n),a.prototype.resize=function(){var e=this,t=e.app,n=e.$el,a=e.$targetEl,r=e.$angleEl,o=e.params,s=o.targetX,i=o.targetY;n.css({left:"",top:""});var l,c,u,p,d,f,h=[n.width(),n.height()],m=h[0],g=h[1],v=0;"ios"===t.theme||"aurora"===t.theme?(r.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}),v=r.width()/2):n.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle").css({left:"",top:""});var b=parseInt(Bl("html").css("--f7-safe-area-top"),10),y=parseInt(Bl("html").css("--f7-safe-area-left"),10),x=parseInt(Bl("html").css("--f7-safe-area-right"),10);if(Number.isNaN(b)&&(b=0),Number.isNaN(y)&&(y=0),Number.isNaN(x)&&(x=0),a&&a.length>0){u=a.outerWidth(),p=a.outerHeight();var w=a.offset();d=w.left-t.left,f=w.top-t.top;var C=a.parents(".page");C.length>0&&(f-=C[0].scrollTop)}else void 0!==s&&"undefined"!==i&&(d=s,f=i,u=e.params.targetWidth||0,p=e.params.targetHeight||0);var k,E=0,S=0,T=0,$="md"===t.theme?"bottom":"top";"md"===t.theme?(g<t.height-f-p?($="bottom",S=f+p):g<f-b?(S=f-g,$="top"):($="middle",S=p/2+f-g/2),S=Math.max(8,Math.min(S,t.height-g-8)),d<t.width/2?(k="right",E="middle"===$?d+u:d):(k="left",E="middle"===$?d-m:d+u-m),E=Math.max(8,Math.min(E,t.width-m-8-x),y),n.addClass("popover-on-"+$+" popover-on-"+k)):(g+v<f-b?S=f-g-v:g+v<t.height-f-p?($="bottom",S=f+p+v):($="middle",T=S=p/2+f-g/2,T-=S=Math.max(5,Math.min(S,t.height-g-5))),"top"===$||"bottom"===$?(T=E=u/2+d-m/2,E=Math.max(5,Math.min(E,t.width-m-5)),y&&(E=Math.max(E,y)),x&&E+m>t.width-5-x&&(E=t.width-5-x-m),"top"===$&&r.addClass("on-bottom"),"bottom"===$&&r.addClass("on-top"),l=m/2-v+(T-=E),l=Math.max(Math.min(l,m-2*v-13),13),r.css({left:l+"px"})):"middle"===$&&(E=d-m-v,r.addClass("on-right"),(E<5||E+m+x>t.width||E<y)&&(E<5&&(E=d+u+v),E+m+x>t.width&&(E=t.width-m-5-x),E<y&&(E=y),r.removeClass("on-right").addClass("on-left")),c=g/2-v+T,c=Math.max(Math.min(c,g-2*v-13),13),r.css({top:c+"px"})));n.css({top:S+"px",left:E+"px"})},a}(du),Du=Lu,Fu={name:"popover",params:{popover:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeByOutsideClick:!0,closeOnEscape:!1,containerEl:null}},static:{Popover:Du},create:function(){var e=this;e.popover=Os(zl({app:e,constructor:Du,defaultSelector:".popover.modal-in"}),{open:function(t,n,a){var r=Bl(t);if(r.length>1){var o=Bl(n).parents(".page");o.length&&r.each((function(e){var t=Bl(e);t.parents(o)[0]===o[0]&&(r=t)}))}r.length>1&&(r=r.eq(r.length-1));var s=r[0].f7Modal,i=r.dataset();return s||(s=new Du(e,Object.assign({el:r,targetEl:n},i))),s.open(n,a)}})},clicks:{".popover-open":function(e,t){void 0===t&&(t={});this.popover.open(t.popover,e,t.animate)},".popover-close":function(e,t){void 0===t&&(t={});this.popover.close(t.popover,t.animate,e)}}};function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e,t){return Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vu(e,t)}var Hu=function(e){var t,n;function a(t,n){var a,r,o,s,i=Os({on:{}},t.params.actions,n),l=zu(a=e.call(this,t,i)||this),c=Fs(),u=is(),p=os();if(l.params=i,l.params.buttons&&(r=l.params.buttons,Array.isArray(r[0])||(r=[r])),l.groups=r,l.params.el?o=Bl(l.params.el).eq(0):l.params.content?o=Bl(l.params.content).filter((function(e){return 1===e.nodeType})).eq(0):l.params.buttons&&(l.params.convertToPopover&&(l.popoverHtml=l.renderPopover()),l.actionsHtml=l.render()),o&&o.length>0&&o[0].f7Modal)return o[0].f7Modal||zu(a);if(o&&0===o.length&&!l.actionsHtml&&!l.popoverHtml)return l.destroy()||zu(a);l.params.backdrop&&l.params.backdropEl?s=Bl(l.params.backdropEl):l.params.backdrop&&0===(s=l.$containerEl.children(".actions-backdrop")).length&&(s=Bl('<div class="actions-backdrop"></div>'),l.$containerEl.append(s));var d,f=l.open,h=l.close;function m(e){var t,n,a=Bl(this);if(a.hasClass("list-button")||a.hasClass("item-link")?(t=a.parents("li").index(),n=a.parents(".list").index()):(t=a.index(),n=a.parents(".actions-group").index()),void 0!==r){var o=r[n][t];o.onClick&&o.onClick(l,e),l.params.onClick&&l.params.onClick(l,e),!1!==o.close&&l.close()}}function g(e){var t=e.target,n=Bl(t);!c.desktop&&c.cordova&&(u.Keyboard&&u.Keyboard.isVisible||u.cordova.plugins&&u.cordova.plugins.Keyboard&&u.cordova.plugins.Keyboard.isVisible)||0===n.closest(l.el).length&&(l.params.closeByBackdropClick&&l.params.backdrop&&l.backdropEl&&l.backdropEl===t||l.params.closeByOutsideClick)&&l.close()}function v(e){27===e.keyCode&&l.params.closeOnEscape&&l.close()}return l.open=function(e){var n=!1,a=l.params,r=a.targetEl,o=a.targetX,s=a.targetY,i=a.targetWidth,u=a.targetHeight;return l.params.convertToPopover&&(r||void 0!==o&&void 0!==s)&&(l.params.forceToPopover||c.ios&&c.ipad||t.width>=768||c.desktop&&"aurora"===t.theme)&&(n=!0),n&&l.popoverHtml?((d=t.popover.create({containerEl:l.params.containerEl,content:l.popoverHtml,backdrop:l.params.backdrop,targetEl:r,targetX:o,targetY:s,targetWidth:i,targetHeight:u,on:{open:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:open "+l.type.toLowerCase()+":open"),l.emit("local::open modalOpen "+l.type+"Open",l)},opened:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:opened "+l.type.toLowerCase()+":opened"),l.emit("local::opened modalOpened "+l.type+"Opened",l)},close:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:close "+l.type.toLowerCase()+":close"),l.emit("local::close modalClose "+l.type+"Close",l)},closed:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:closed "+l.type.toLowerCase()+":closed"),l.emit("local::closed modalClosed "+l.type+"Closed",l)}}})).open(e),d.once("popoverOpened",(function(){d.$el.find(".list-button, .item-link").each((function(e){Bl(e).on("click",m)}))})),d.once("popoverClosed",(function(){d.$el.find(".list-button, .item-link").each((function(e){Bl(e).off("click",m)})),xs((function(){d.destroy(),d=void 0}))}))):(l.$el=l.actionsHtml?Bl(l.actionsHtml):l.$el,l.$el[0].f7Modal=l,l.groups&&(l.$el.find(".actions-button").each((function(e){Bl(e).on("click",m)})),l.once("actionsClosed",(function(){l.$el.find(".actions-button").each((function(e){Bl(e).off("click",m)}))}))),l.el=l.$el[0],f.call(l,e)),l},l.close=function(e){return d?d.close(e):h.call(l,e),l},Os(l,{app:t,$el:o,el:o?o[0]:void 0,$backdropEl:s,backdropEl:s&&s[0],type:"actions"}),l.params.closeOnEscape&&(l.on("open",(function(){Bl(p).on("keydown",v)})),l.on("close",(function(){Bl(p).off("keydown",v)}))),l.on("opened",(function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&t.on("click",g)})),l.on("close",(function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&t.off("click",g)})),o&&(o[0].f7Modal=l),l||zu(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Vu(t,n);var r=a.prototype;return r.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.groups,n=e.params.cssClass;return bu("div",{class:"actions-modal"+(e.params.grid?" actions-grid":"")+" "+(n||"")},t.map((function(e){return bu("div",{class:"actions-group"},e.map((function(e){var t=["actions-"+(e.label?"label":"button")],n=e.color,a=e.bg,r=e.bold,o=e.disabled,s=e.label,i=e.text,l=e.icon;return n&&t.push("color-"+n),a&&t.push("bg-color-"+a),r&&t.push("actions-button-bold"),o&&t.push("disabled"),s?bu("div",{class:t.join(" ")},i):bu("div",{class:t.join(" ")},l&&bu("div",{class:"actions-button-media"},l),bu("div",{class:"actions-button-text"},i))})))})))},r.renderPopover=function(){var e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e);var t=e.groups,n=e.params.cssClass;return bu("div",{class:"popover popover-from-actions "+(n||"")},bu("div",{class:"popover-inner"},t.map((function(e){return bu("div",{class:"list"},bu("ul",null,e.map((function(e){var t=[],n=e.color,a=e.bg,r=e.bold,o=e.disabled,s=e.label,i=e.text,l=e.icon;return n&&t.push("color-"+n),a&&t.push("bg-color-"+a),r&&t.push("popover-from-actions-bold"),o&&t.push("disabled"),s?(t.push("popover-from-actions-label"),'<li class="'+t.join(" ")+'">'+i+"</li>"):l?(t.push("item-link item-content"),bu("li",null,bu("a",{class:t.join(" ")},bu("div",{class:"item-media"},l),bu("div",{class:"item-inner"},bu("div",{class:"item-title"},i))))):(t.push("list-button"),bu("li",null,bu("a",{class:t.join(" ")},i)))}))))}))))},a}(du),ju=Hu,Wu={name:"actions",params:{actions:{convertToPopover:!0,forceToPopover:!1,backdrop:!0,backdropEl:void 0,cssClass:null,closeByBackdropClick:!0,closeOnEscape:!1,render:null,renderPopover:null,containerEl:null}},static:{Actions:ju},create:function(){this.actions=zl({app:this,constructor:ju,defaultSelector:".actions-modal.modal-in"})},clicks:{".actions-open":function(e,t){void 0===t&&(t={});this.actions.open(t.actions,t.animate,e)},".actions-close":function(e,t){void 0===t&&(t={});this.actions.close(t.actions,t.animate,e)}}};function Uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e,t){return Gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gu(e,t)}var qu=function(e){var t,n;function a(t,n){var a,r,o,s,i,l=Os({on:{}},t.params.sheet,n),c=Uu(a=e.call(this,t,l)||this),u=is(),p=os(),d=Ds(),f=Fs();if(c.params=l,void 0===c.params.backdrop&&(c.params.backdrop="ios"!==t.theme),(r=c.params.el?Bl(c.params.el).eq(0):Bl(c.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&r.length>0&&r[0].f7Modal)return r[0].f7Modal||Uu(a);if(0===r.length)return c.destroy()||Uu(a);function h(e){var t=e.target,n=Bl(t);!f.desktop&&f.cordova&&(u.Keyboard&&u.Keyboard.isVisible||u.cordova.plugins&&u.cordova.plugins.Keyboard&&u.cordova.plugins.Keyboard.isVisible)||0===n.closest(c.el).length&&(c.params.closeByBackdropClick&&c.params.backdrop&&c.backdropEl&&c.backdropEl===t||c.params.closeByOutsideClick)&&c.close()}function m(e){27===e.keyCode&&c.params.closeOnEscape&&c.close()}function g(e){return(t.height-2*e)/t.height}c.params.backdrop&&c.params.backdropEl?o=Bl(c.params.backdropEl):c.params.backdrop&&0===(o=c.$containerEl.children(".sheet-backdrop")).length&&(o=Bl('<div class="sheet-backdrop"></div>'),c.$containerEl.append(o)),Os(c,{app:t,push:r.hasClass("sheet-modal-push")||c.params.push,$el:r,el:r[0],$backdropEl:o,backdropEl:o&&o[0],type:"sheet",$htmlEl:Bl("html")}),c.params.push&&r.addClass("sheet-modal-push");var v,b,y,x,w,C,k,E,S,T,$,O,I,N,R,P,M,B,A=!1,_=!1;function L(e){A||!c.params.swipeToClose&&!c.params.swipeToStep||c.params.swipeHandler&&0===Bl(e.target).closest(c.params.swipeHandler).length||(A=!0,_=!1,v={x:"touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchstart"===e.type?e.targetTouches[0].pageY:e.pageY},x=Cs(),y=void 0,C=r.hasClass("sheet-modal-top"),c.params.swipeHandler||"touchstart"!==e.type||(R=Bl(e.target).closest(".page-content")[0]))}function D(e){if(A){if(b={x:"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY},void 0===y&&(y=!!(y||Math.abs(b.x-v.x)>Math.abs(b.y-v.y))),y)return A=!1,void(_=!1);var n,a=(w=v.y-b.y)<0?"to-bottom":"to-top";if(!_){if(R&&!r.hasClass("modal-in-swipe-step")&&(P=R.scrollTop,M=R.scrollHeight,B=R.offsetHeight,!(M===B||"to-bottom"===a&&0===P||"to-top"===a&&P===M-B)))return r.transform(""),A=!1,void(_=!1);c.push&&i&&(I=t.$el.children(".view, .views")),T=r[0].offsetHeight,E=Es(r[0],"y"),C?($=c.params.swipeToClose?-T:-k,O=0):($=0,O=c.params.swipeToClose?T:k),_=!0}if(S=E-w,S=Math.min(Math.max(S,$),O),e.preventDefault(),c.push&&i){var o=(S-E)/T;c.params.swipeToStep&&(o=C?S/k:1-(k-S)/k),o=Math.abs(o);var s=1-(o=Math.min(Math.max(o,0),1)),l=1-(1-g(i))*s;I.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0,0,0) scale("+l+")","important")})),c.params.swipeToStep&&I.css("border-radius",N*s+"px")}if(r.transition(0).transform("translate3d(0,"+S+"px,0)"),c.params.swipeToStep)n=C?1-S/k:(k-S)/k,n=Math.min(Math.max(n,0),1),r.trigger("sheet:stepprogress",n),c.emit("local::stepProgress sheetStepProgress",c,n)}}function F(){if(A=!1,_){_=!1,r.transform("").transition(""),c.push&&i&&(I.transition("").transform(""),I.css("border-radius",""));var e=w<0?"to-bottom":"to-top",t=Math.abs(w);if(0!==t&&S!==E){var n=(new Date).getTime()-x;if(c.params.swipeToStep){var a=C?"to-bottom":"to-top",o=C?"to-top":"to-bottom",s=Math.abs(S),l=Math.abs(k);if(n<300&&t>10)return e===a&&s<l&&(r.removeClass("modal-in-swipe-step"),r.trigger("sheet:stepprogress",1),c.emit("local::stepProgress sheetStepProgress",c,1),c.emit("local::_swipeStep",!1),r.trigger("sheet:stepopen"),c.emit("local::stepOpen sheetStepOpen",c),c.push&&i&&(c.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",g(i)),I.css("border-radius",""))),e===o&&s>l&&(c.params.swipeToClose?c.close():(r.addClass("modal-in-swipe-step"),r.trigger("sheet:stepprogress",0),c.emit("local::stepProgress sheetStepProgress",c,0),c.emit("local::_swipeStep",!0),r.trigger("sheet:stepclose"),c.emit("local::stepClose sheetStepClose",c),c.push&&i&&(c.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),I.css("border-radius","0px")))),void(e===o&&s<=l&&(r.addClass("modal-in-swipe-step"),r.trigger("sheet:stepprogress",0),c.emit("local::stepProgress sheetStepProgress",c,0),c.emit("local::_swipeStep",!0),r.trigger("sheet:stepclose"),c.emit("local::stepClose sheetStepClose",c),c.push&&i&&(c.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),I.css("border-radius","0px"))));if(n>=300){var u=!r.hasClass("modal-in-swipe-step");u?u&&(s>l+(T-l)/2?c.params.swipeToClose&&c.close():s>l/2&&(r.addClass("modal-in-swipe-step"),r.trigger("sheet:stepprogress",0),c.emit("local::stepProgress sheetStepProgress",c,0),c.emit("local::_swipeStep",!0),r.trigger("sheet:stepclose"),c.emit("local::stepClose sheetStepClose",c),c.push&&i&&(c.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),I.css("border-radius","0px")))):s<l/2?(r.removeClass("modal-in-swipe-step"),r.trigger("sheet:stepprogress",1),c.emit("local::stepProgress sheetStepProgress",c,1),c.emit("local::_swipeStep",!1),r.trigger("sheet:stepopen"),c.emit("local::stepOpen sheetStepOpen",c),c.push&&i&&(c.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",g(i)),I.css("border-radius",""))):s-l>(T-l)/2&&c.params.swipeToClose&&c.close()}}else{if(e!==(C?"to-top":"to-bottom"))return;(n<300&&t>20||n>=300&&t>T/2)&&c.close()}}}}function z(){c.setSwipeStep(!0)}c.setSwipeStep=function(e){void 0===e&&(e=!0);var t=r.find(".sheet-modal-swipe-step").eq(0);t.length&&(k=r.hasClass("sheet-modal-top")?-(t.offset().top-r.offset().top+t[0].offsetHeight):r[0].offsetHeight-(t.offset().top-r.offset().top+t[0].offsetHeight),r[0].style.setProperty("--f7-sheet-swipe-step",k+"px"),e||(r.addClass("modal-in-swipe-step"),c.emit("local::_swipeStep",!0)))};var V=!!d.passiveListener&&{passive:!0};return(c.params.swipeToClose||c.params.swipeToStep)&&(r.on(t.touchEvents.start,L,V),t.on("touchmove",D),t.on("touchend:passive",F),c.once("sheetDestroy",(function(){r.off(t.touchEvents.start,L,V),t.off("touchmove",D),t.off("touchend:passive",F)}))),c.on("open",(function(){c.params.closeOnEscape&&Bl(p).on("keydown",m),r.prevAll(".popup.modal-in").addClass("popup-behind"),c.params.swipeToStep&&(c.setSwipeStep(!1),t.on("resize",z)),c.params.scrollToEl&&function(){var e=Bl(c.params.scrollToEl).eq(0);if(0!==e.length&&0!==(s=e.parents(".page-content")).length){var t,n=parseInt(s.css("padding-top"),10),a=parseInt(s.css("padding-bottom"),10),o=s[0].offsetHeight-n-r.height(),i=s[0].scrollHeight-n-r.height(),l=s.scrollTop(),u=e.offset().top-n+e[0].offsetHeight;if(u>o){var p=l+u-o;p+o>i&&(t=p+o-i+a,o===i&&(t=r.height()),s.css({"padding-bottom":t+"px"})),s.scrollTop(p,300)}}}(),c.push&&(i=parseInt(r.css("--f7-sheet-push-offset"),10),Number.isNaN(i)&&(i=0),i&&(r.addClass("sheet-modal-push"),c.$htmlEl.addClass("with-modal-sheet-push"),c.params.swipeToStep?(I=t.$el.children(".view, .views"),N=parseFloat(r.css("border-"+(C?"bottom":"top")+"-left-radius")),I.css("border-radius","0px")):c.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",g(i))))})),c.on("opened",(function(){(c.params.closeByOutsideClick||c.params.closeByBackdropClick)&&t.on("click",h)})),c.on("close",(function(){c.params.swipeToStep&&(r.removeClass("modal-in-swipe-step"),c.emit("local::_swipeStep",!1),t.off("resize",z)),c.params.closeOnEscape&&Bl(p).off("keydown",m),c.params.scrollToEl&&s&&s.length>0&&s.css({"padding-bottom":""}),(c.params.closeByOutsideClick||c.params.closeByBackdropClick)&&t.off("click",h),r.prevAll(".popup.modal-in").eq(0).removeClass("popup-behind"),c.push&&i&&(c.$htmlEl.removeClass("with-modal-sheet-push"),c.$htmlEl.addClass("with-modal-sheet-push-closing"))})),c.on("closed",(function(){c.push&&i&&(c.$htmlEl.removeClass("with-modal-sheet-push-closing"),c.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"))})),c.stepOpen=function(){r.removeClass("modal-in-swipe-step"),c.emit("local::_swipeStep",!1),c.push&&(i||(i=parseInt(r.css("--f7-sheet-push-offset"),10),Number.isNaN(i)&&(i=0)),i&&c.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",g(i)))},c.stepClose=function(){r.addClass("modal-in-swipe-step"),c.emit("local::_swipeStep",!0),c.push&&c.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale")},c.stepToggle=function(){r.toggleClass("modal-in-swipe-step"),c.emit("local::_swipeStep",r.hasClass("modal-in-swipe-step"))},r[0].f7Modal=c,c||Uu(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Gu(t,n),a}(du),Xu=qu,Yu={name:"sheet",params:{sheet:{push:!1,backdrop:void 0,backdropEl:void 0,closeByBackdropClick:!0,closeByOutsideClick:!1,closeOnEscape:!1,swipeToClose:!1,swipeToStep:!1,swipeHandler:null,containerEl:null}},static:{Sheet:Xu},create:function(){var e=this;e.sheet=Os({},zl({app:e,constructor:Xu,defaultSelector:".sheet-modal.modal-in"}),{stepOpen:function(t){var n=e.sheet.get(t);if(n&&n.stepOpen)return n.stepOpen()},stepClose:function(t){var n=e.sheet.get(t);if(n&&n.stepClose)return n.stepClose()},stepToggle:function(t){var n=e.sheet.get(t);if(n&&n.stepToggle)return n.stepToggle()}})},clicks:{".sheet-open":function(e,t){void 0===t&&(t={});Bl(".sheet-modal.modal-in").length>0&&t.sheet&&Bl(t.sheet)[0]!==Bl(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(t.sheet,t.animate,e)},".sheet-close":function(e,t){void 0===t&&(t={});this.sheet.close(t.sheet,t.animate,e)}}};function Ku(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e,t){return Qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qu(e,t)}var Zu=function(e){var t,n;function a(t,n){var a,r=Os({on:{}},t.params.toast,n),o=Ku(a=e.call(this,t,r)||this),s=is();o.app=t,o.params=r;var i,l,c=o.params,u=c.closeButton,p=c.closeTimeout;if(o.params.el)i=Bl(o.params.el);else{var d=o.render();i=Bl(d)}return i&&i.length>0&&i[0].f7Modal?i[0].f7Modal||Ku(a):0===i.length?o.destroy()||Ku(a):(Os(o,{$el:i,el:i[0],type:"toast"}),i[0].f7Modal=o,u&&(i.find(".toast-button").on("click",(function(){o.emit("local::closeButtonClick toastCloseButtonClick",o),o.close()})),o.on("beforeDestroy",(function(){i.find(".toast-button").off("click")}))),o.on("open",(function(){Bl(".toast.modal-in").each((function(e){var n=t.toast.get(e);e!==o.el&&n&&n.close()})),p&&(l=xs((function(){o.close()}),p))})),o.on("close",(function(){s.clearTimeout(l)})),o.params.destroyOnClose&&o.once("closed",(function(){setTimeout((function(){o.destroy()}),0)})),o||Ku(a))}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Qu(t,n),a.prototype.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params,n=t.position,a=t.horizontalPosition,r=t.cssClass,o=t.icon,s=t.text,i=t.closeButton,l=t.closeButtonColor,c=t.closeButtonText;return bu("div",{class:"toast toast-"+n+" "+("top"===n||"bottom"===n?"toast-horizontal-"+a:"")+" "+(r||"")+" "+(o?"toast-with-icon":"")},bu("div",{class:"toast-content"},o&&bu("div",{class:"toast-icon"},o),bu("div",{class:"toast-text"},s),i&&!o&&bu("a",{class:"toast-button button "+(l?"color-"+l:"")},c)))},a}(du),Ju=Zu,ep={name:"toast",static:{Toast:Ju},create:function(){var e=this;e.toast=Os({},zl({app:e,constructor:Ju,defaultSelector:".toast.modal-in"}),{show:function(t){return Os(t,{destroyOnClose:!0}),new Ju(e,t).open()}})},params:{toast:{icon:null,text:null,position:"bottom",horizontalPosition:"left",closeButton:!1,closeButtonColor:null,closeButtonText:"Ok",closeTimeout:null,cssClass:null,render:null,containerEl:null}}},tp={init:function(e){var t={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms},n=Bl(e);0===n.length||n.children(".preloader-inner").length>0||n.children(".preloader-inner-line").length>0||n.append(t[this.theme+"PreloaderContent"])},visible:!1,show:function(e){void 0===e&&(e="white");if(!tp.visible){var t={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms}[this.theme+"PreloaderContent"]||"";Bl("html").addClass("with-modal-preloader"),this.$el.append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'+e+'">'+t+"</div>\n      </div>\n    "),tp.visible=!0}},showIn:function(e,t){void 0===t&&(t="white");var n={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms}[this.theme+"PreloaderContent"]||"";Bl(e||"html").addClass("with-modal-preloader"),Bl(e||this.$el).append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'+t+'">'+n+"</div>\n      </div>\n    ")},hide:function(){tp.visible&&(Bl("html").removeClass("with-modal-preloader"),this.$el.find(".preloader-backdrop, .preloader-modal").remove(),tp.visible=!1)},hideIn:function(e){Bl(e||"html").removeClass("with-modal-preloader"),Bl(e||this.$el).find(".preloader-backdrop, .preloader-modal").remove()}},np={name:"preloader",create:function(){_s(this,{preloader:tp})},on:{photoBrowserOpen:function(e){var t=this;e.$el.find(".preloader").each((function(e){t.preloader.init(e)}))},tabMounted:function(e){var t=this;Bl(e).find(".preloader").each((function(e){t.preloader.init(e)}))},pageInit:function(e){var t=this;e.$el.find(".preloader").each((function(e){t.preloader.init(e)}))}},vnode:{preloader:{insert:function(e){var t=e.elm;this.preloader.init(t)}}}},ap={set:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[0],o=n[1],s=n[2];if("number"==typeof n[0]&&(o=n[0],s=n[1],r=e.$el),null==o)return r;o||(o=0);var i=Bl(r||e.$el);if(0===i.length)return r;var l,c=Math.min(Math.max(o,0),100);if(0===(l=i.hasClass("progressbar")?i.eq(0):i.children(".progressbar")).length||l.hasClass("progressbar-infinite"))return l;var u=l.children("span");return 0===u.length&&(u=Bl("<span></span>"),l.append(u)),u.transition(void 0!==s?s:"").transform("translate3d("+(-100+c)*(e.rtl?-1:1)+"%,0,0)"),l[0]},show:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[0],o=n[1],s=n[2],i="determined";2===n.length?"string"!=typeof n[0]&&"object"!=typeof n[0]||"string"!=typeof n[1]?"number"==typeof n[0]&&"string"==typeof n[1]&&(o=n[0],s=n[1],r=e.$el):(r=n[0],s=n[1],o=n[2],i="infinite"):1===n.length?"number"==typeof n[0]?(r=e.$el,o=n[0]):"string"==typeof n[0]&&(i="infinite",r=e.$el,s=n[0]):0===n.length&&(i="infinite",r=e.$el);var l,c=Bl(r);if(0!==c.length)return c.hasClass("progressbar")||c.hasClass("progressbar-infinite")?l=c:0===(l=c.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)")).length&&(l=Bl('\n          <span class="progressbar'+("infinite"===i?"-infinite":"")+(s?" color-"+s:"")+' progressbar-in">\n            '+("infinite"===i?"":"<span></span>")+"\n          </span>"),c.append(l)),void 0!==o&&e.progressbar.set(l,o),l[0]},hide:function(e,t){void 0===t&&(t=!0);var n,a=Bl(e||this.$el);if(0!==a.length)return 0===(n=a.hasClass("progressbar")||a.hasClass("progressbar-infinite")?a:a.children(".progressbar, .progressbar-infinite")).length||!n.hasClass("progressbar-in")||n.hasClass("progressbar-out")||n.removeClass("progressbar-in").addClass("progressbar-out").animationEnd((function(){t&&n.remove()})),n}},rp={name:"progressbar",create:function(){_s(this,{progressbar:ap})},on:{tabMounted:function(e){var t=this;Bl(e).find(".progressbar").each((function(e){var n=Bl(e);t.progressbar.set(n,n.attr("data-progress"))}))},pageInit:function(e){var t=this;e.$el.find(".progressbar").each((function(e){var n=Bl(e);t.progressbar.set(n,n.attr("data-progress"))}))}},vnode:{progressbar:{insert:function(e){var t=e.elm;this.progressbar.set(t,t.getAttribute("data-progress"))},update:function(e){var t=e.elm;this.progressbar.set(t,t.getAttribute("data-progress"))}}}},op={init:function(){var e,t,n,a,r,o,s,i,l,c,u,p,d,f,h,m,g,v,b,y,x,w=this,C=os();function k(a,i){t=!1,e=!0,x=!1,n="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,r=Bl(a.target).closest("li").eq(0),d=r.index(),s=r.parents(".sortable");var l=r.parents(".list-group");l.length&&l.parents(s).length&&(s=l),o=s.children("ul").children("li:not(.disallow-sorting):not(.no-sorting)"),w.panel&&(w.panel.allowOpen=!1),w.swipeout&&(w.swipeout.allow=!1),i&&(r.addClass("sorting"),s.addClass("sortable-sorting"),x=!0)}var E=!!Ds().passiveListener&&{passive:!1,capture:!1};Bl(C).on(w.touchEvents.start,".list.sortable .sortable-handler",k,E),w.on("touchmove:active",(function(d){if(e&&r){var x="touchmove"===d.type?d.targetTouches[0].pageY:d.pageY;if(!t){f=r.parents(".page"),h=r.parents(".page-content");var C=parseInt(h.css("padding-top"),10),k=parseInt(h.css("padding-bottom"),10);y=h[0].scrollTop,g=f.offset().top+C,m=f.height()-C-k,r.addClass("sorting"),s.addClass("sortable-sorting"),v=r[0].offsetTop,l=r[0].offsetTop,c=r.parent().height()-v-r.height(),i=r[0].offsetHeight,b=r.offset().top}t=!0,d.preventDefault(),d.f7PreventSwipePanel=!0,a=x-n;var E=h[0].scrollTop-y,S=Math.min(Math.max(a+E,-l),c);r.transform("translate3d(0,"+S+"px,0)");var T,$=44,O=!0;a+E+$<-l&&(O=!1),a+E-$>c&&(O=!1),p=void 0,u=void 0,O&&(b+a+i+$>g+m&&(T=b+a+i+$-(g+m)),b+a<g+$&&(T=b+a-g-$),T&&(h[0].scrollTop+=T)),o.each((function(e){var t=Bl(e);if(t[0]!==r[0]){var n,a=t[0].offsetTop,o=t.height(),l=v+S,c=t[0].f7Translate;l>=a-o/2&&r.index()<t.index()?(n=-i,t.transform("translate3d(0, "+n+"px,0)"),u=t,p=void 0):l<=a+o/2&&r.index()>t.index()?(n=i,t[0].f7Translate=n,t.transform("translate3d(0, "+n+"px,0)"),u=void 0,p||(p=t)):(n=void 0,t.transform("translate3d(0, 0%,0)")),c!==n&&(t.trigger("sortable:move"),w.emit("sortableMove",t[0],s[0])),t[0].f7Translate=n}}))}})),w.on("touchend:passive",(function(){if(!e||!t)return e&&!t&&(w.panel&&(w.panel.allowOpen=!0),w.swipeout&&(w.swipeout.allow=!0),x&&(r.removeClass("sorting"),s.removeClass("sortable-sorting"))),e=!1,void(t=!1);var n;w.panel&&(w.panel.allowOpen=!0),w.swipeout&&(w.swipeout.allow=!0),o.transform(""),r.removeClass("sorting"),s.removeClass("sortable-sorting"),u?n=u.index():p&&(n=p.index());var a=s.dataset().sortableMoveElements;if(void 0===a&&(a=w.params.sortable.moveElements),a&&(u&&r.insertAfter(u),p&&r.insertBefore(p)),(u||p)&&s.hasClass("virtual-list")){void 0===(d=r[0].f7VirtualListIndex)&&(d=r.attr("data-virtual-list-index")),p?void 0===(n=p[0].f7VirtualListIndex)&&(n=p.attr("data-virtual-list-index")):void 0===(n=u[0].f7VirtualListIndex)&&(n=u.attr("data-virtual-list-index")),n=null!==n?parseInt(n,10):void 0;var i=s[0].f7VirtualList;d&&(d=parseInt(d,10)),n&&(n=parseInt(n,10)),i&&i.moveItem(d,n)}void 0===n||Number.isNaN(n)||n===d||(r.trigger("sortable:sort",{from:d,to:n}),w.emit("sortableSort",r[0],{from:d,to:n,el:r[0]},s[0])),p=void 0,u=void 0,e=!1,t=!1})),Bl(C).on("taphold",".sortable-tap-hold",(function(e,t){k(t,!0)}))},enable:function(e){void 0===e&&(e=".list.sortable");var t=Bl(e);0!==t.length&&(t.addClass("sortable-enabled"),t.trigger("sortable:enable"),this.emit("sortableEnable",t[0]))},disable:function(e){void 0===e&&(e=".list.sortable");var t=Bl(e);0!==t.length&&(t.removeClass("sortable-enabled"),t.trigger("sortable:disable"),this.emit("sortableDisable",t[0]))},toggle:function(e){void 0===e&&(e=".list.sortable");var t=Bl(e);0!==t.length&&(t.hasClass("sortable-enabled")?this.sortable.disable(t):this.sortable.enable(t))}},sp={name:"sortable",params:{sortable:{moveElements:!0}},create:function(){_s(this,{sortable:op})},on:{init:function(){this.params.sortable&&this.sortable.init()}},clicks:{".sortable-enable":function(e,t){void 0===t&&(t={});this.sortable.enable(t.sortable)},".sortable-disable":function(e,t){void 0===t&&(t={});this.sortable.disable(t.sortable)},".sortable-toggle":function(e,t){void 0===t&&(t={});this.sortable.toggle(t.sortable)}}},ip={init:function(){var e,t,n,a,r,o,s,i,l,c,u,p,d,f,h,m,g,v,b,y,x,w=this,C=os(),k={};var E=!!Ds().passiveListener&&{passive:!0};w.on("touchstart",(function(e){if(ip.el){var t=Bl(e.target);Bl(ip.el).is(t[0])||t.parents(".swipeout").is(ip.el)||t.hasClass("modal-in")||(t.attr("class")||"").indexOf("-backdrop")>0||t.hasClass("actions-modal")||t.parents(".actions-modal.modal-in, .dialog.modal-in").length>0||w.swipeout.close(ip.el)}})),Bl(C).on(w.touchEvents.start,"li.swipeout",(function(r){w.swipeout.allow&&(t=!1,e=!0,n=void 0,k.x="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,k.y="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY,a=(new Date).getTime(),o=Bl(this))}),E),w.on("touchmove:active",(function(a){if(e){var C="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,E="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if(void 0===n&&(n=!!(n||Math.abs(E-k.y)>Math.abs(C-k.x))),n)e=!1;else{if(!t){if(Bl(".list.sortable-opened").length>0)return;s=o.find(".swipeout-content"),i=o.find(".swipeout-actions-right"),l=o.find(".swipeout-actions-left"),c=null,u=null,h=null,m=null,b=null,v=null,l.length>0&&(c=l.outerWidth(),h=l.children("a"),v=l.find(".swipeout-overswipe")),i.length>0&&(u=i.outerWidth(),m=i.children("a"),b=i.find(".swipeout-overswipe")),(d=o.hasClass("swipeout-opened"))&&(f=o.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),o.removeClass("swipeout-transitioning"),w.params.swipeout.noFollow||(o.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),o.removeClass("swipeout-opened"))}if(t=!0,a.cancelable&&a.preventDefault(),r=C-k.x,p=r,d&&("right"===f?p-=u:p+=c),p>0&&0===l.length||p<0&&0===i.length){if(!d)return e=!1,t=!1,s.transform(""),m&&m.length>0&&m.transform(""),void(h&&h.length>0&&h.transform(""));p=0}var S,T;if(p<0?g="to-left":p>0?g="to-right":g||(g="to-left"),a.f7PreventSwipePanel=!0,w.params.swipeout.noFollow)return d?("right"===f&&r>0&&w.swipeout.close(o),"left"===f&&r<0&&w.swipeout.close(o)):(r<0&&i.length>0&&w.swipeout.open(o,"right"),r>0&&l.length>0&&w.swipeout.open(o,"left")),e=!1,void(t=!1);if(y=!1,x=!1,i.length>0){var $=p;if(T=$/u,$<-u){var O=$/-u;$=-u-Math.pow(-$-u,.8),p=$,b.length>0&&O>w.params.swipeout.overswipeRatio&&(x=!0)}"to-left"!==g&&(T=0,$=0),m.each((function(e){var t=Bl(e);void 0===e.f7SwipeoutButtonOffset&&(t[0].f7SwipeoutButtonOffset=e.offsetLeft),S=e.f7SwipeoutButtonOffset,b.length>0&&t.hasClass("swipeout-overswipe")&&"to-left"===g&&(t.css({left:(x?-S:0)+"px"}),x?(t.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),w.emit("swipeoutOverswipeEnter",o[0])),t.addClass("swipeout-overswipe-active")):(t.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),w.emit("swipeoutOverswipeExit",o[0])),t.removeClass("swipeout-overswipe-active"))),t.transform("translate3d("+($-S*(1+Math.max(T,-1)))+"px,0,0)")}))}if(l.length>0){var I=p;if(T=I/c,I>c){var N=I/u;I=c+Math.pow(I-c,.8),p=I,v.length>0&&N>w.params.swipeout.overswipeRatio&&(y=!0)}"to-right"!==g&&(I=0,T=0),h.each((function(e,t){var n=Bl(e);void 0===e.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=c-e.offsetLeft-e.offsetWidth),S=e.f7SwipeoutButtonOffset,v.length>0&&n.hasClass("swipeout-overswipe")&&"to-right"===g&&(n.css({left:(y?S:0)+"px"}),y?(n.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),w.emit("swipeoutOverswipeEnter",o[0])),n.addClass("swipeout-overswipe-active")):(n.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),w.emit("swipeoutOverswipeExit",o[0])),n.removeClass("swipeout-overswipe-active"))),h.length>1&&n.css("z-index",h.length-t),n.transform("translate3d("+(I+S*(1-Math.min(T,1)))+"px,0,0)")}))}o.trigger("swipeout",T),w.emit("swipeout",o[0],T),s.transform("translate3d("+p+"px,0,0)")}}})),w.on("touchend:passive",(function(){if(!e||!t)return e=!1,void(t=!1);e=!1,t=!1;var n,f,v,b,C=(new Date).getTime()-a,k="to-left"===g?i:l,E="to-left"===g?u:c;if(n=C<300&&(r<-10&&"to-left"===g||r>10&&"to-right"===g)||C>=300&&Math.abs(p)>E/2?"open":"close",C<300&&(0===Math.abs(p)&&(n="close"),Math.abs(p)===E&&(n="open")),"open"===n){ip.el=o[0],o.trigger("swipeout:open"),w.emit("swipeoutOpen",o[0]),o.addClass("swipeout-opened swipeout-transitioning");var S="to-left"===g?-E:E;if(s.transform("translate3d("+S+"px,0,0)"),k.addClass("swipeout-actions-opened"),f="to-left"===g?m:h)for(v=0;v<f.length;v+=1)Bl(f[v]).transform("translate3d("+S+"px,0,0)");x&&i.find(".swipeout-overswipe").trigger("click","f7Overswipe"),y&&l.find(".swipeout-overswipe").trigger("click","f7Overswipe")}else o.trigger("swipeout:close"),w.emit("swipeoutClose",o[0]),ip.el=void 0,o.addClass("swipeout-transitioning").removeClass("swipeout-opened"),s.transform(""),k.removeClass("swipeout-actions-opened");h&&h.length>0&&h!==f&&h.each((function(e){var t=Bl(e);void 0===(b=e.f7SwipeoutButtonOffset)&&(t[0].f7SwipeoutButtonOffset=c-e.offsetLeft-e.offsetWidth),t.transform("translate3d("+b+"px,0,0)")})),m&&m.length>0&&m!==f&&m.each((function(e){var t=Bl(e);void 0===(b=e.f7SwipeoutButtonOffset)&&(t[0].f7SwipeoutButtonOffset=e.offsetLeft),t.transform("translate3d("+-b+"px,0,0)")})),s.transitionEnd((function(){d&&"open"===n||!d&&"close"===n||(o.trigger("open"===n?"swipeout:opened":"swipeout:closed"),w.emit("open"===n?"swipeoutOpened":"swipeoutClosed",o[0]),o.removeClass("swipeout-transitioning"),d&&"close"===n&&(i.length>0&&m.transform(""),l.length>0&&h.transform("")))}))}))},allow:!0,el:void 0,open:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=n[0],o=n[1],s=n[2];"function"==typeof n[1]&&(r=n[0],s=n[1],o=n[2]);var i=Bl(r).eq(0);if(0!==i.length&&i.hasClass("swipeout")&&!i.hasClass("swipeout-opened")){o||(o=i.find(".swipeout-actions-right").length>0?"right":"left");var l=i.find(".swipeout-actions-"+o),c=i.find(".swipeout-content");if(0!==l.length){i.trigger("swipeout:open").addClass("swipeout-opened").removeClass("swipeout-transitioning"),e.emit("swipeoutOpen",i[0]),l.addClass("swipeout-actions-opened");var u=l.children("a"),p=l.outerWidth(),d="right"===o?-p:p;u.length>1&&u.each((function(e,t){var n=Bl(e);"right"===o?n.transform("translate3d("+-e.offsetLeft+"px,0,0)"):n.css("z-index",u.length-t).transform("translate3d("+(p-e.offsetWidth-e.offsetLeft)+"px,0,0)")})),i.addClass("swipeout-transitioning"),c.transitionEnd((function(){i.trigger("swipeout:opened"),e.emit("swipeoutOpened",i[0]),s&&s.call(i[0])})),ws((function(){u.transform("translate3d("+d+"px,0,0)"),c.transform("translate3d("+d+"px,0,0)")})),ip.el=i[0]}}},close:function(e,t){var n=this,a=Bl(e).eq(0);if(0!==a.length&&a.hasClass("swipeout-opened")){var r,o=a.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",s=a.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),i=s.children("a"),l=s.outerWidth();n.swipeout.allow=!1,a.trigger("swipeout:close"),n.emit("swipeoutClose",a[0]),a.removeClass("swipeout-opened").addClass("swipeout-transitioning"),a.find(".swipeout-content").transform("").transitionEnd(c),r=setTimeout(c,500),i.each((function(e){var t=Bl(e);"right"===o?t.transform("translate3d("+-e.offsetLeft+"px,0,0)"):t.transform("translate3d("+(l-e.offsetWidth-e.offsetLeft)+"px,0,0)"),t.css({left:"0px"}).removeClass("swipeout-overswipe-active")})),ip.el&&ip.el===a[0]&&(ip.el=void 0)}function c(){n.swipeout.allow=!0,a.hasClass("swipeout-opened")||(a.removeClass("swipeout-transitioning"),i.transform(""),a.trigger("swipeout:closed"),n.emit("swipeoutClosed",a[0]),t&&t.call(a[0]),r&&clearTimeout(r))}},delete:function(e,t){var n=this,a=Bl(e).eq(0);0!==a.length&&(ip.el=void 0,a.trigger("swipeout:delete"),n.emit("swipeoutDelete",a[0]),a.css({height:a.outerHeight()+"px"}),a.transitionEnd((function(){if(a.trigger("swipeout:deleted"),n.emit("swipeoutDeleted",a[0]),t&&t.call(a[0]),a.parents(".virtual-list").length>0){var e=a.parents(".virtual-list")[0].f7VirtualList,r=a[0].f7VirtualListIndex;e&&void 0!==r&&e.deleteItem(r)}else n.params.swipeout.removeElements?n.params.swipeout.removeElementsWithTimeout?setTimeout((function(){a.remove()}),n.params.swipeout.removeElementsTimeout):a.remove():a.removeClass("swipeout-deleting swipeout-transitioning")})),ws((function(){a.addClass("swipeout-deleting swipeout-transitioning").css({height:"0px"}).find(".swipeout-content").transform("translate3d(-100%,0,0)")})))}},lp={name:"swipeout",params:{swipeout:{actionsNoFold:!1,noFollow:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,overswipeRatio:1.2}},create:function(){_s(this,{swipeout:ip})},clicks:{".swipeout-open":function(e,t){void 0===t&&(t={});this.swipeout.open(t.swipeout,t.side)},".swipeout-close":function(e){var t=e.closest(".swipeout");0!==t.length&&this.swipeout.close(t)},".swipeout-delete":function(e,t){void 0===t&&(t={});var n=this,a=e.closest(".swipeout");if(0!==a.length){var r=t,o=r.confirm,s=r.confirmTitle;t.confirm?n.dialog.confirm(o,s,(function(){n.swipeout.delete(a)})):n.swipeout.delete(a)}}},on:{init:function(){this.params.swipeout&&this.swipeout.init()}}},cp={toggleClicked:function(e){var t=e.closest(".accordion-item").eq(0);t.length||(t=e.parents("li").eq(0));var n=e.parents(".accordion-item-content").eq(0);n.length&&n.parents(t).length||e.parents("li").length>1&&e.parents("li")[0]!==t[0]||this.accordion.toggle(t)},open:function(e){var t=this,n=Bl(e),a=!1;function r(){a=!0}if(n.trigger("accordion:beforeopen",{prevent:r},r),t.emit("accordionBeforeOpen",n[0],r),!a){var o=n.parents(".accordion-list").eq(0),s=n.children(".accordion-item-content");if(s.removeAttr("aria-hidden"),0===s.length&&(s=n.find(".accordion-item-content")),0!==s.length){var i=o.length>0&&n.parent().children(".accordion-item-opened");i.length>0&&t.accordion.close(i),s.transitionEnd((function(){n.hasClass("accordion-item-opened")?(s.transition(0),s.css("height","auto"),ws((function(){s.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])}))):(s.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))})),s.css("height",s[0].scrollHeight+"px"),n.trigger("accordion:open"),n.addClass("accordion-item-opened"),t.emit("accordionOpen",n[0])}}},close:function(e){var t=this,n=Bl(e),a=!1;function r(){a=!0}if(n.trigger("accordion:beforeclose",{prevent:r},r),t.emit("accordionBeforeClose",n[0],r),!a){var o=n.children(".accordion-item-content");0===o.length&&(o=n.find(".accordion-item-content")),n.removeClass("accordion-item-opened"),o.attr("aria-hidden",!0),o.transition(0),o.css("height",o[0].scrollHeight+"px"),o.transitionEnd((function(){n.hasClass("accordion-item-opened")?(o.transition(0),o.css("height","auto"),ws((function(){o.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])}))):(o.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))})),ws((function(){o.transition(""),o.css("height",""),n.trigger("accordion:close"),t.emit("accordionClose",n[0])}))}},toggle:function(e){var t=Bl(e);0!==t.length&&(t.hasClass("accordion-item-opened")?this.accordion.close(e):this.accordion.open(e))}},up={name:"accordion",create:function(){_s(this,{accordion:cp})},clicks:{".accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a":function(e){cp.toggleClicked.call(this,e)}}};function pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dp(e,t){return dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dp(e,t)}var fp=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o=pp(a=e.call(this,n,[t])||this),s=Fs(),i=os();"md"===t.theme?r=48:"ios"===t.theme?r=44:"aurora"===t.theme&&(r=38);var l={cols:1,height:r,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1,renderExternal:void 0,setListHeight:!0,searchByItem:void 0,searchAll:void 0,ul:null,createUl:!0,scrollableParentEl:void 0,renderItem:function(e){return('\n          <li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title">'+e+"</div>\n              </div>\n            </div>\n          </li>\n        ").trim()},on:{}};if(o.useModulesParams(l),o.params=Os(l,n),void 0!==o.params.height&&o.params.height||(o.params.height=r),o.$el=Bl(n.el),o.el=o.$el[0],0===o.$el.length)return pp(a);o.$el[0].f7VirtualList=o,o.items=o.params.items,o.params.showFilteredItemsOnly&&(o.filteredItems=[]),o.params.renderItem&&(o.renderItem=o.params.renderItem),o.$pageContentEl=o.$el.parents(".page-content"),o.pageContentEl=o.$pageContentEl[0],o.$scrollableParentEl=o.params.scrollableParentEl?Bl(o.params.scrollableParentEl).eq(0):o.$pageContentEl,!o.$scrollableParentEl.length&&o.$pageContentEl.length&&(o.$scrollableParentEl=o.$pageContentEl),o.scrollableParentEl=o.$scrollableParentEl[0],void 0!==o.params.updatableScroll?o.updatableScroll=o.params.updatableScroll:(o.updatableScroll=!0,s.ios&&s.osVersion.split(".")[0]<8&&(o.updatableScroll=!1));var c,u=o.params.ul;o.$ul=u?Bl(o.params.ul):o.$el.children("ul"),0===o.$ul.length&&o.params.createUl&&(o.$el.append("<ul></ul>"),o.$ul=o.$el.children("ul")),o.ul=o.$ul[0],c=o.ul||o.params.createUl?o.$ul:o.$el,Os(o,{$itemsWrapEl:c,itemsWrapEl:c[0],domCache:{},displayDomCache:{},tempDomElement:i.createElement("ul"),lastRepaintY:null,fragment:i.createDocumentFragment(),pageHeight:void 0,rowsPerScreen:void 0,rowsBefore:void 0,rowsAfter:void 0,rowsToRender:void 0,maxBufferHeight:0,listHeight:void 0,dynamicHeight:"function"==typeof o.params.height}),o.useModules();var p,d,f,h,m=o.handleScroll.bind(o),g=o.handleResize.bind(o);return o.attachEvents=function(){p=o.$el.parents(".page").eq(0),d=o.$el.parents(".tab").filter((function(e){return 0===Bl(e).parent(".tabs").parent(".tabs-animated-wrap, .tabs-swipeable-wrap").length})).eq(0),f=o.$el.parents(".panel").eq(0),h=o.$el.parents(".popup").eq(0),o.$scrollableParentEl.on("scroll",m),p.length&&p.on("page:reinit",g),d.length&&d.on("tab:show",g),f.length&&f.on("panel:open",g),h.length&&h.on("popup:open",g),t.on("resize",g)},o.detachEvents=function(){o.$scrollableParentEl.off("scroll",m),p.length&&p.off("page:reinit",g),d.length&&d.off("tab:show",g),f.length&&f.off("panel:open",g),h.length&&h.off("popup:open",g),t.off("resize",g)},o.init(),o||pp(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,dp(t,n);var r=a.prototype;return r.setListSize=function(){var e=this,t=e.filteredItems||e.items;if(e.pageHeight=e.$scrollableParentEl[0].offsetHeight,e.dynamicHeight){e.listHeight=0,e.heights=[];for(var n=0;n<t.length;n+=1){var a=e.params.height(t[n]);e.listHeight+=a,e.heights.push(a)}}else e.listHeight=Math.ceil(t.length/e.params.cols)*e.params.height,e.rowsPerScreen=Math.ceil(e.pageHeight/e.params.height),e.rowsBefore=e.params.rowsBefore||2*e.rowsPerScreen,e.rowsAfter=e.params.rowsAfter||e.rowsPerScreen,e.rowsToRender=e.rowsPerScreen+e.rowsBefore+e.rowsAfter,e.maxBufferHeight=e.rowsBefore/2*e.params.height;(e.updatableScroll||e.params.setListHeight)&&e.$itemsWrapEl.css({height:e.listHeight+"px"})},r.render=function(e,t){var n=this;e&&(n.lastRepaintY=null);var a=-(n.$el[0].getBoundingClientRect().top-n.$scrollableParentEl[0].getBoundingClientRect().top);if(void 0!==t&&(a=t),null===n.lastRepaintY||Math.abs(a-n.lastRepaintY)>n.maxBufferHeight||!n.updatableScroll&&n.$scrollableParentEl[0].scrollTop+n.pageHeight>=n.$scrollableParentEl[0].scrollHeight){n.lastRepaintY=a;var r,o,s,i=n.filteredItems||n.items,l=0,c=0;if(n.dynamicHeight){var u,p=0;n.maxBufferHeight=n.pageHeight;for(var d=0;d<n.heights.length;d+=1)u=n.heights[d],void 0===r&&(p+u>=a-2*n.pageHeight*n.params.dynamicHeightBufferSize?r=d:l+=u),void 0===o&&((p+u>=a+2*n.pageHeight*n.params.dynamicHeightBufferSize||d===n.heights.length-1)&&(o=d+1),c+=u),p+=u;o=Math.min(o,i.length)}else(r=(parseInt(a/n.params.height,10)-n.rowsBefore)*n.params.cols)<0&&(r=0),o=Math.min(r+n.rowsToRender*n.params.cols,i.length);var f,h=[];for(n.reachEnd=!1,f=r;f<o;f+=1){var m=void 0,g=n.items.indexOf(i[f]);f===r&&(n.currentFromIndex=g),f===o-1&&(n.currentToIndex=g),n.filteredItems?n.items[g]===n.filteredItems[n.filteredItems.length-1]&&(n.reachEnd=!0):g===n.items.length-1&&(n.reachEnd=!0),n.params.renderExternal?h.push(i[f]):n.domCache[g]?(m=n.domCache[g]).f7VirtualListIndex=g:(n.renderItem?n.tempDomElement.innerHTML=n.renderItem(i[f],g).trim():n.tempDomElement.innerHTML=i[f].toString().trim(),m=n.tempDomElement.childNodes[0],n.params.cache&&(n.domCache[g]=m),m.f7VirtualListIndex=g),f===r&&(s=n.dynamicHeight?l:f*n.params.height/n.params.cols),n.params.renderExternal||(m.style.top=s+"px",n.emit("local::itemBeforeInsert vlItemBeforeInsert",n,m,i[f]),n.fragment.appendChild(m))}n.updatableScroll||(n.dynamicHeight?n.itemsWrapEl.style.height=c+"px":n.itemsWrapEl.style.height=f*n.params.height/n.params.cols+"px"),n.params.renderExternal?i&&0===i.length&&(n.reachEnd=!0):(n.emit("local::beforeClear vlBeforeClear",n,n.fragment),n.itemsWrapEl.innerHTML="",n.emit("local::itemsBeforeInsert vlItemsBeforeInsert",n,n.fragment),i&&0===i.length?(n.reachEnd=!0,n.params.emptyTemplate&&(n.itemsWrapEl.innerHTML=n.params.emptyTemplate)):n.itemsWrapEl.appendChild(n.fragment),n.emit("local::itemsAfterInsert vlItemsAfterInsert",n,n.fragment)),void 0!==t&&e&&n.$scrollableParentEl.scrollTop(t,0),n.params.renderExternal&&n.params.renderExternal(n,{fromIndex:r,toIndex:o,listHeight:n.listHeight,topPosition:s,items:h})}},r.filterItems=function(e,t){void 0===t&&(t=!0);var n=this;n.filteredItems=[];for(var a=0;a<e.length;a+=1)n.filteredItems.push(n.items[e[a]]);t&&(n.$scrollableParentEl[0].scrollTop=0),n.update()},r.resetFilter=function(){var e=this;e.params.showFilteredItemsOnly?e.filteredItems=[]:(e.filteredItems=null,delete e.filteredItems),e.update()},r.scrollToItem=function(e){var t=this;if(e>t.items.length)return!1;var n=0;if(t.dynamicHeight)for(var a=0;a<e;a+=1)n+=t.heights[a];else n=e*t.params.height;var r=t.$el[0].offsetTop;return t.render(!0,r+n-parseInt(t.$scrollableParentEl.css("padding-top"),10)),!0},r.handleScroll=function(){this.render()},r.isVisible=function(){var e=this;return!!(e.el.offsetWidth||e.el.offsetHeight||e.el.getClientRects().length)},r.handleResize=function(){var e=this;e.isVisible()&&(e.setListSize(),e.render(!0))},r.appendItems=function(e){for(var t=0;t<e.length;t+=1)this.items.push(e[t]);this.update()},r.appendItem=function(e){this.appendItems([e])},r.replaceAllItems=function(e){var t=this;t.items=e,delete t.filteredItems,t.domCache={},t.update()},r.replaceItem=function(e,t){var n=this;n.items[e]=t,n.params.cache&&delete n.domCache[e],n.update()},r.prependItems=function(e){for(var t=this,n=e.length-1;n>=0;n-=1)t.items.unshift(e[n]);if(t.params.cache){var a={};Object.keys(t.domCache).forEach((function(n){a[parseInt(n,10)+e.length]=t.domCache[n]})),t.domCache=a}t.update()},r.prependItem=function(e){this.prependItems([e])},r.moveItem=function(e,t){var n=this,a=e,r=t;if(a!==r){var o=n.items.splice(a,1)[0];if(r>=n.items.length?(n.items.push(o),r=n.items.length-1):n.items.splice(r,0,o),n.params.cache){var s={};Object.keys(n.domCache).forEach((function(e){var t=parseInt(e,10),o=a<r?a:r,i=a<r?r:a,l=a<r?-1:1;(t<o||t>i)&&(s[t]=n.domCache[t]),t===o&&(s[i]=n.domCache[t]),t>o&&t<=i&&(s[t+l]=n.domCache[t])})),n.domCache=s}n.update()}},r.insertItemBefore=function(e,t){var n=this;if(0!==e)if(e>=n.items.length)n.appendItem(t);else{if(n.items.splice(e,0,t),n.params.cache){var a={};Object.keys(n.domCache).forEach((function(t){var r=parseInt(t,10);r>=e&&(a[r+1]=n.domCache[r])})),n.domCache=a}n.update()}else n.prependItem(t)},r.deleteItems=function(e){for(var t,n=this,a=0,r=function(r){var o=e[r];void 0!==t&&o>t&&(a=-r),o+=a,t=e[r];var s=n.items.splice(o,1)[0];if(n.filteredItems&&n.filteredItems.indexOf(s)>=0&&n.filteredItems.splice(n.filteredItems.indexOf(s),1),n.params.cache){var i={};Object.keys(n.domCache).forEach((function(e){var t=parseInt(e,10);t===o?delete n.domCache[o]:parseInt(e,10)>o?i[t-1]=n.domCache[e]:i[t]=n.domCache[e]})),n.domCache=i}},o=0;o<e.length;o+=1)r(o);n.update()},r.deleteAllItems=function(){var e=this;e.items=[],delete e.filteredItems,e.params.cache&&(e.domCache={}),e.update()},r.deleteItem=function(e){this.deleteItems([e])},r.clearCache=function(){this.domCache={}},r.update=function(e){var t=this;e&&t.params.cache&&(t.domCache={}),t.setListSize(),t.render(!0)},r.init=function(){var e=this;e.attachEvents(),e.setListSize(),e.render()},r.destroy=function(){var e=this;e.detachEvents(),e.$el[0].f7VirtualList=null,delete e.$el[0].f7VirtualList,vs(e),e=null},a}(Us),hp=fp,mp={name:"virtualList",static:{VirtualList:hp},create:function(){this.virtualList=Dl({defaultSelector:".virtual-list",constructor:hp,app:this,domProp:"f7VirtualList"})}};function gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vp(e,t){return vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vp(e,t)}var bp=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o,s,i,l=gp(a=e.call(this,n,[t])||this),c={el:null,listEl:null,indexes:"auto",iosItemHeight:14,mdItemHeight:14,auroraItemHeight:14,scrollList:!0,label:!1,renderItem:function(e,t){return("\n          <li>"+e+"</li>\n        ").trim()},renderSkipPlaceholder:function(){return'<li class="list-index-skip-placeholder"></li>'},on:{}};if(l.useModulesParams(c),l.params=Os(c,n),!l.params.el)return l||gp(a);if((r=Bl(l.params.el))[0].f7ListIndex)return r[0].f7ListIndex||gp(a);if(0===(i=r.find("ul")).length&&(i=Bl("<ul></ul>"),r.append(i)),l.params.listEl&&(o=Bl(l.params.listEl)),"auto"===l.params.indexes&&!o)return l||gp(a);function u(){var e={index:l};l.calcSize(),e!==l.height&&l.render()}function p(e){var t=Bl(e.target).closest("li");if(t.length){var n=t.index();if(l.skipRate>0){var a=n/(t.siblings("li").length-1);n=Math.round((l.indexes.length-1)*a)}var r=l.indexes[n];l.$el.trigger("listindex:click",{content:r,index:n}),l.emit("local::click listIndexClick",l,r,n),l.$el.trigger("listindex:select",{content:r,index:n}),l.emit("local::select listIndexSelect",l,r,n),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(r,n)}}o?s=o.parents(".page-content").eq(0):0===(s=r.siblings(".page-content").eq(0)).length&&(s=r.parents(".page").eq(0).find(".page-content").eq(0)),r[0].f7ListIndex=l,Os(l,{app:t,$el:r,el:r&&r[0],$ul:i,ul:i&&i[0],$listEl:o,listEl:o&&o[0],$pageContentEl:s,pageContentEl:s&&s[0],indexes:n.indexes,height:0,skipRate:0}),l.useModules();var d,f,h,m,g,v={},b=null;function y(e){var t=i.children();t.length&&(h=t[0].getBoundingClientRect().top,m=t[t.length-1].getBoundingClientRect().top+t[0].offsetHeight,v.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,v.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=!0,f=!1,b=null)}function x(e){if(d){!f&&l.params.label&&(g=Bl('<span class="list-index-label"></span>'),r.append(g)),f=!0;var t="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;e.preventDefault();var n=(t-h)/(m-h);n=Math.min(Math.max(n,0),1);var a=Math.round((l.indexes.length-1)*n),o=l.indexes[a],s=m-h,i=(l.height-s)/2+(1-n)*s;a!==b&&(l.params.label&&g.html(o).transform("translateY(-"+i+"px)"),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(o,a)),b=a,l.$el.trigger("listindex:select"),l.emit("local::select listIndexSelect",l,o,a)}}function w(){d&&(d=!1,f=!1,l.params.label&&(g&&g.remove(),g=void 0))}var C=!!Ds().passiveListener&&{passive:!0};return l.attachEvents=function(){r.parents(".tab").on("tab:show",u),r.parents(".page").on("page:reinit",u),r.parents(".panel").on("panel:open",u),r.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").on("modal:open",u),t.on("resize",u),r.on("click",p),r.on(t.touchEvents.start,y,C),t.on("touchmove:active",x),t.on("touchend:passive",w)},l.detachEvents=function(){r.parents(".tab").off("tab:show",u),r.parents(".page").off("page:reinit",u),r.parents(".panel").off("panel:open",u),r.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").off("modal:open",u),t.off("resize",u),r.off("click",p),r.off(t.touchEvents.start,y,C),t.off("touchmove:active",x),t.off("touchend:passive",w)},l.init(),l||gp(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,vp(t,n);var r=a.prototype;return r.scrollListToIndex=function(e,t){var n,a=this,r=a.$listEl,o=a.$pageContentEl,s=a.app;if(!r||!o||0===o.length)return a;if(r.find(".list-group-title, .item-divider").each((function(t){if(!n){var a=Bl(t);a.text()===e&&(n=a)}})),!n||0===n.length)return a;var i=n.parent().offset().top,l=parseInt(o.css("padding-top"),10),c=o[0].scrollTop,u=n.offset().top;if(o.parents(".page-with-navbar-large").length){var p=s.navbar.getElByPage(o.parents(".page-with-navbar-large").eq(0)),d=Bl(p).find(".title-large");d.length&&(l-=d[0].offsetHeight||0)}return i<=l?o.scrollTop(i+c-l):o.scrollTop(u+c-l),a},r.renderSkipPlaceholder=function(){return this.params.renderSkipPlaceholder.call(this)},r.renderItem=function(e,t){return this.params.renderItem.call(this,e,t)},r.render=function(){var e,t=this,n=t.$ul,a=t.indexes,r=t.skipRate,o=a.map((function(n,a){if(a%r!=0&&r>0)return e=!0,"";var o=t.renderItem(n,a);return e&&(o=t.renderSkipPlaceholder()+o),e=!1,o})).join("");return n.html(o),t},r.calcSize=function(){var e=this,t=e.app,n=e.params,a=e.el,r=e.indexes,o=a.offsetHeight,s=n[t.theme+"ItemHeight"],i=Math.floor(o/s),l=r.length,c=0;return l>i&&(c=Math.ceil((2*l-1)/i)),e.height=o,e.skipRate=c,e},r.calcIndexes=function(){var e=this;return"auto"===e.params.indexes?(e.indexes=[],e.$listEl.find(".list-group-title, .item-divider").each((function(t){var n=Bl(t).text();e.indexes.indexOf(n)<0&&e.indexes.push(n)}))):e.indexes=e.params.indexes,e},r.update=function(){var e=this;return e.calcIndexes(),e.calcSize(),e.render(),e},r.init=function(){var e=this;e.calcIndexes(),e.calcSize(),e.render(),e.attachEvents()},r.destroy=function(){var e=this;e.$el.trigger("listindex:beforedestroy",e),e.emit("local::beforeDestroy listIndexBeforeDestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7ListIndex=null,delete e.$el[0].f7ListIndex),vs(e),e=null},a}(Us),yp=bp,xp={name:"listIndex",static:{ListIndex:yp},create:function(){this.listIndex=Dl({defaultSelector:".list-index",constructor:yp,app:this,domProp:"f7ListIndex"})},on:{tabMounted:function(e){var t=this;Bl(e).find(".list-index-init").each((function(e){var n=Os(Bl(e).dataset(),{el:e});t.listIndex.create(n)}))},tabBeforeRemove:function(e){Bl(e).find(".list-index-init").each((function(e){e.f7ListIndex&&e.f7ListIndex.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".list-index-init").each((function(e){var n=Os(Bl(e).dataset(),{el:e});t.listIndex.create(n)}))},pageBeforeRemove:function(e){e.$el.find(".list-index-init").each((function(e){e.f7ListIndex&&e.f7ListIndex.destroy()}))}},vnode:{"list-index-init":{insert:function(e){var t=e.elm,n=Os(Bl(t).dataset(),{el:t});this.listIndex.create(n)},destroy:function(e){var t=e.elm;t.f7ListIndex&&t.f7ListIndex.destroy()}}}},wp={show:function(){for(var e,t,n,a,r,o=this,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];1===i.length&&i[0]&&i[0].constructor===Object?(e=i[0].tabEl,t=i[0].tabLinkEl,n=i[0].animate,a=i[0].tabRoute,r=i[0].animatedInit):(e=i[0],t=i[1],n=i[2],a=i[3],"boolean"==typeof i[1]&&(e=i[0],n=i[1],t=i[2],a=i[3],i.length>2&&t.constructor===Object&&(e=i[0],n=i[1],a=i[2],t=i[3]))),void 0===n&&(n=!0);var c,u=Bl(e);if(a&&u[0]&&(u[0].f7TabRoute=a),!r&&(0===u.length||u.hasClass("tab-active")))return{$newTabEl:u,newTabEl:u[0]};t&&(c=Bl(t));var p=u.parent(".tabs");if(0===p.length)return{$newTabEl:u,newTabEl:u[0]};o.swipeout&&(o.swipeout.allowOpen=!0);var d=[];function f(e){d.push(e)}function h(){d.forEach((function(e){e()}))}var m,g=!1;if(p.parent().hasClass("tabs-animated-wrap")){p.parent()[n?"removeClass":"addClass"]("not-animated");var v=parseFloat(p.css("transition-duration").replace(",","."));n&&v&&(p.transitionEnd(h),g=!0);var b=100*(o.rtl?u.index():-u.index());p.transform("translate3d("+b+"%,0,0)")}p.parent().hasClass("tabs-swipeable-wrap")&&o.swiper&&((m=p.parent()[0].swiper)&&m.activeIndex!==u.index()?(g=!0,m.once("slideChangeTransitionEnd",(function(){h()})).slideTo(u.index(),n?void 0:0)):m&&m.animating&&(g=!0,m.once("slideChangeTransitionEnd",(function(){h()}))));var y=p.children(".tab-active");if(y.removeClass("tab-active"),!r&&(!m||m&&!m.animating||m&&a)&&(y.hasClass("view")&&y.children(".page").length&&y.children(".page").each((function(e){Bl(e).trigger("page:tabhide"),o.emit("pageTabHide",e)})),y.trigger("tab:hide"),o.emit("tabHide",y[0])),u.addClass("tab-active"),!r&&(!m||m&&!m.animating||m&&a)&&(u.hasClass("view")&&u.children(".page").length&&u.children(".page").each((function(e){Bl(e).trigger("page:tabshow"),o.emit("pageTabShow",e)})),u.trigger("tab:show"),o.emit("tabShow",u[0])),!c&&((!(c=Bl("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+u.attr("id")+'"]'))||c&&0===c.length)&&Bl("[data-tab]").each((function(e){u.is(Bl(e).attr("data-tab"))&&(c=Bl(e))})),a&&(!c||c&&0===c.length)&&0===(c=Bl('[data-route-tab-id="'+a.route.tab.id+'"]')).length&&(c=Bl('.tab-link[href="'+a.url+'"]')),c.length>1&&u.parents(".page").length&&(c=c.filter((function(e){return Bl(e).parents(".page")[0]===u.parents(".page")[0]})),"ios"===o.theme&&0===c.length&&a))){var x=u.parents(".page"),w=Bl(o.navbar.getElByPage(x));0===(c=w.find('[data-route-tab-id="'+a.route.tab.id+'"]')).length&&(c=w.find('.tab-link[href="'+a.url+'"]'))}if(c.length>0){var C;if(y&&y.length>0){var k=y.attr("id");k&&(!(C=Bl('.tab-link[href="#'+k+'"]'))||C&&0===C.length)&&(C=Bl('.tab-link[data-route-tab-id="'+k+'"]')),(!C||C&&0===C.length)&&Bl("[data-tab]").each((function(e){y.is(Bl(e).attr("data-tab"))&&(C=Bl(e))})),(!C||C&&0===C.length)&&(C=c.siblings(".tab-link-active"))}else a&&(C=c.siblings(".tab-link-active"));if(C&&C.length>1&&y&&y.parents(".page").length&&(C=C.filter((function(e){return Bl(e).parents(".page")[0]===y.parents(".page")[0]}))),C&&C.length>0&&C.removeClass("tab-link-active"),c&&c.length>0){c.addClass("tab-link-active");var E=c.parents(".tabbar, .tabbar-labels"),S=o.toolbar&&E.length>0&&(E.hasClass("tabbar-highlight")||"ios"!==o.theme);S&&o.toolbar.setHighlight(E)}}return{$newTabEl:u,newTabEl:u[0],$oldTabEl:y,oldTabEl:y[0],onTabsChanged:f,animated:g}}},Cp={name:"tabs",create:function(){Os(this,{tab:{show:wp.show.bind(this)}})},on:{"pageInit tabMounted":function(e){var t=Bl(e.el||e).find(".tabs-animated-wrap > .tabs > .tab-active")[0];if(t){this.tab.show({tabEl:t,animatedInit:!0,animate:!1})}}},clicks:{".tab-link":function(e,t){if(void 0===t&&(t={}),e.attr("href")&&0===e.attr("href").indexOf("#")||e.attr("data-tab")){this.tab.show({tabEl:t.tab||e.attr("href"),tabLinkEl:e,animate:t.animate})}}}};var kp=function(e){var t=e.app;if(!e.swipeInitialized){Os(e,{swipeable:!0,swipeInitialized:!0});var n,a,r,o,s,i,l,c,u,p,d,f,h,m=e.params,g=e.$el,v=e.$backdropEl,b=e.side,y=e.effect,x={},w=0;t.on("touchstart:passive",C),t.on("touchmove:active",k),t.on("touchend:passive",E),t.on("gesturestart",S),t.on("gestureend",T),e.on("panelDestroy",(function(){t.off("touchstart:passive",C),t.off("touchmove:active",k),t.off("touchend:passive",E),t.off("gesturestart",S),t.off("gestureend",T)}))}function C(c){if(e.swipeable&&!r&&t.panel.allowOpen&&(m.swipe||m.swipeOnlyClose)&&!a&&!(Bl(".modal-in:not(.toast):not(.notification), .photo-browser-in").length>0)){var u=(n=t.panel.get("left"===b?"right":"left")||{}).opened&&n.$el&&!n.$el.hasClass("panel-in-breakpoint");if((e.opened||!u)&&(m.swipeOnlyClose||!u)&&(!c.target||"input"!==c.target.nodeName.toLowerCase()||"range"!==c.target.type)&&!(Bl(c.target).closest(".range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened").length>0)&&(x.x="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,x.y="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY,!m.swipeOnlyClose||e.opened)){if(m.swipeActiveArea&&!e.opened){if("left"===b&&x.x>m.swipeActiveArea)return;if("right"===b&&x.x<t.width-m.swipeActiveArea)return}w=0,h=Bl(e.getViewEl()),o=!1,a=!0,s=void 0,i=!1,l=Cs(),f=void 0}}}function k(n){if(a&&!r&&!i&&!((w+=1)<2))if(n.f7PreventSwipePanel||t.preventSwipePanelBySwipeBack||t.preventSwipePanel)a=!1;else{var l="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,C="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY;if(void 0===s&&(s=!!(s||Math.abs(C-x.y)>Math.abs(l-x.x))),s)a=!1;else{if(!f){if(f=l>x.x?"to-right":"to-left",m.swipeActiveArea>0&&!e.opened){if("left"===b&&x.x>m.swipeActiveArea)return void(a=!1);if("right"===b&&x.x<t.width-m.swipeActiveArea)return void(a=!1)}if(g.hasClass("panel-in-breakpoint"))return void(a=!1);if("left"===b&&"to-left"===f&&!g.hasClass("panel-in")||"right"===b&&"to-right"===f&&!g.hasClass("panel-in"))return void(a=!1)}var k=e.opened?0:-m.swipeThreshold;"right"===b&&(k=-k),o||(e.opened||(e.insertToRoot(),g.addClass("panel-in-swipe"),v.css("visibility","visible"),g.trigger("panel:swipeopen"),e.emit("local::swipeOpen panelSwipeOpen",e)),d=g[0].offsetWidth,"reveal"===y&&g.hasClass("panel-in-collapsed")&&(d-=parseFloat(h.css("margin-"+b))),g.transition(0)),o=!0,n.cancelable&&n.preventDefault(),c=l-x.x+k,"right"===b?"cover"===y||"push"===y?((u=c+(e.opened?0:d))<0&&(u=0),u>d&&(u=d)):((u=c-(e.opened?d:0))>0&&(u=0),u<-d&&(u=-d)):((u=c+(e.opened?d:0))<0&&(u=0),u>d&&(u=d));var S=Math.abs(u/d);if("reveal"===y)m.swipeNoFollow||(h.transform("translate3d("+u+"px,0,0)").transition(0),v.transform("translate3d("+u+"px,0,0)").transition(0)),g.trigger("panel:swipe",Math.abs(u/d)),e.emit("local::swipe panelSwipe",e,Math.abs(u/d));else{if("left"===b&&(u-=d),!m.swipeNoFollow&&(v.transition(0),p=1-Math.abs(u/d),v.css({opacity:p}),g.transform("translate3d("+u+"px,0,0)").transition(0),"push"===y)){var T="left"===b?u+d:u-d;h.transform("translate3d("+T+"px,0,0)").transition(0),v.transform("translate3d("+T+"px,0,0)").transition(0)}g.trigger("panel:swipe",Math.abs(u/d)),e.emit("local::swipe panelSwipe",e,Math.abs(u/d))}if(m.swipeNoFollow)(e.opened&&0===S||!e.opened&&1===S)&&(i=!0,E(n))}}}function E(t){if(!a||!o)return a=!1,void(o=!1);var n="gesturestart"===t.type||r;a=!1,o=!1;var s,i=(new Date).getTime()-l,p=(0===u||Math.abs(u)===d)&&!m.swipeNoFollow,f=m.swipeThreshold||0;"swap"===(s=n?"reset":e.opened?"cover"===y||"push"===y?0===u?"reset":i<300&&Math.abs(u)>0?"swap":i>=300&&Math.abs(u)<d/2?"reset":"swap":u===-d?"reset":i<300&&Math.abs(u)>=0||i>=300&&Math.abs(u)<=d/2?"left"===b&&u===d?"reset":"swap":"reset":Math.abs(c)<f?"reset":"cover"===y||"push"===y?0===u||i<300&&Math.abs(u)>0||i>=300&&Math.abs(u)<d/2?"swap":"reset":0===u?"reset":i<300&&Math.abs(u)>0||i>=300&&Math.abs(u)>=d/2?"swap":"reset")&&(e.opened?e.close(!p):e.open(!p));var x=!0;if("reset"===s&&!e.opened)if(p)g.removeClass("panel-in-swipe");else{x=!1;var w="reveal"===y?h:g;e.setStateClasses("before-closing"),w.transitionEnd((function(){g.hasClass("panel-in")||(g.removeClass("panel-in-swipe"),e.setStateClasses("after-closing"))}))}"reveal"!==y&&"push"!==y||ws((function(){h.transition(""),h.transform("")})),x&&g.removeClass("panel-in-swipe"),g.transition("").transform(""),v.transform("").transition("").css({opacity:"",visibility:""})}function S(e){r=!0,E(e)}function T(){r=!1}};var Ep=function(e){var t=e.app,n=Ds();if(!e.resizableInitialized){Os(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var a=Bl("html"),r=e.$el,o=e.$backdropEl,s=e.side,i=e.effect;if(r){var l,c,u,p,d,f,h,m,g={};0===e.$el.find(".panel-resize-handler").length&&e.$el.append('<div class="panel-resize-handler"></div>'),e.$resizeHandlerEl=e.$el.children(".panel-resize-handler"),r.addClass("panel-resizable");var v=!!n.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".panel-resize-handler",y,v),t.on("touchmove:active",x),t.on("touchend:passive",w),t.on("resize",C),e.on("beforeOpen",C),e.once("panelDestroy",(function(){r.removeClass("panel-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".panel-resize-handler",y,v),t.off("touchmove:active",x),t.off("touchend:passive",w),t.off("resize",C),e.off("beforeOpen",C)}))}}function b(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;var n=parseInt(e,10);return Number.isNaN(n)?null:n}function y(t){e.resizable&&r.hasClass("panel-resizable")&&(g.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,g.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,c=!1,l=!0,f=b(r.css("min-width")),h=b(r.css("max-width")),m=r.hasClass("panel-in-breakpoint"))}function x(n){if(l){var v="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX;c||(p=r[0].offsetWidth,r.transition(0),r.addClass("panel-resizing"),a.css("cursor","col-resize"),("cover"!==i||m)&&(d=Bl(e.getViewEl()),e.$containerEl&&e.$containerEl.hasClass("page")&&d.add(e.$containerEl.children(".page-content, .tabs, .fab"))),"cover"===i||m||(o.transition(0),d.transition(0))),c=!0,n.preventDefault(),u=v-g.x;var b="left"===s?p+u:p-u;f&&!Number.isNaN(f)&&(b=Math.max(b,f)),h&&!Number.isNaN(h)&&(b=Math.min(b,h)),b=Math.min(Math.max(b,0),t.width),e.resizableWidth=b,r[0].style.width=b+"px","cover"===i||m?m&&d&&d.css("margin-"+s,b+"px"):(d&&d.transform("translate3d("+("left"===s?b:-b)+"px, 0, 0)"),o&&o.transform("translate3d("+("left"===s?b:-b)+"px, 0, 0)")),r.trigger("panel:resize",b),e.emit("local::resize panelResize",e,b)}}function w(){if(Bl("html").css("cursor",""),!l||!c)return l=!1,void(c=!1);l=!1,c=!1,a[0].style.setProperty("--f7-panel-"+s+"-width",e.resizableWidth+"px"),r[0].style.width="","cover"===i||m||(d.transform(""),o.transform("")),r.removeClass("panel-resizing"),ws((function(){r.transition(""),"cover"!==i&&(o.transition(""),d&&d.transition(""))}))}function C(){e.opened&&e.resizableWidth&&(f=b(r.css("min-width")),h=b(r.css("max-width")),f&&!Number.isNaN(f)&&e.resizableWidth<f&&(e.resizableWidth=Math.max(e.resizableWidth,f)),h&&!Number.isNaN(h)&&e.resizableWidth>h&&(e.resizableWidth=Math.min(e.resizableWidth,h)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),a[0].style.setProperty("--f7-panel-"+s+"-width",e.resizableWidth+"px"))}};function Sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tp(e,t){return Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tp(e,t)}var $p=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o=Os({on:{}},t.params.panel,n),s=Sp(a=e.call(this,o,[t])||this);if(s.params=o,s.$containerEl=s.params.containerEl?Bl(s.params.containerEl).eq(0):t.$el,s.containerEl=s.$containerEl[0],s.containerEl||(s.$containerEl=t.$el,s.containerEl=t.$el[0]),s.params.el?r=Bl(s.params.el).eq(0):s.params.content&&(r=Bl(s.params.content).filter((function(e){return 1===e.nodeType})).eq(0)),0===r.length)return s||Sp(a);if(r[0].f7Panel)return r[0].f7Panel||Sp(a);r[0].f7Panel=s;var i,l=s.params,c=l.side,u=l.effect,p=l.resizable;return void 0===c&&(c=r.hasClass("panel-left")?"left":"right"),void 0===u&&(u=r.hasClass("panel-cover")?"cover":r.hasClass("panel-push")?"push":"reveal"),void 0===p&&(p=r.hasClass("panel-resizable")),s.params.backdrop&&s.params.backdropEl?i=Bl(s.params.backdropEl):s.params.backdrop&&0===(i=s.$containerEl.children(".panel-backdrop")).length&&(i=Bl('<div class="panel-backdrop"></div>'),s.$containerEl.prepend(i)),Os(s,{app:t,side:c,effect:u,resizable:p,$el:r,el:r[0],opened:!1,$backdropEl:i,backdropEl:i&&i[0]}),s.useModules(),s.init(),s||Sp(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Tp(t,n);var r=a.prototype;return r.getViewEl=function(){var e=this;return e.$containerEl.children(".views").length>0?e.$containerEl.children(".views")[0]:e.$containerEl.children(".view")[0]},r.setStateClasses=function(e){var t=this,n=t.side,a=t.el,r=t.getViewEl(),o=r&&r.contains(a),s=!r||o?t.$containerEl:Bl("html");"open"===e&&s.addClass("with-panel with-panel-"+t.side+"-"+t.effect),"before-closing"===e&&s.addClass("with-panel-closing"),"closing"===e&&(s.addClass("with-panel-closing"),s.removeClass("with-panel with-panel-"+t.side+"-"+t.effect)),"after-closing"===e&&s.removeClass("with-panel-closing"),"closed"===e&&s.removeClass("with-panel-"+n+"-reveal with-panel-"+n+"-cover with-panel-"+n+"-push with-panel")},r.enableVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!1,e.setVisibleBreakpoint(),e},r.disableVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!0,e.setVisibleBreakpoint(),e},r.toggleVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!e.visibleBreakpointDisabled,e.setVisibleBreakpoint(),e},r.setVisibleBreakpoint=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.visibleBreakpointResizeHandler||(t.visibleBreakpointResizeHandler=function(){t.setVisibleBreakpoint()},n.on("resize",t.visibleBreakpointResizeHandler));var a,r,o=t.side,s=t.$el,i=t.$containerEl,l=t.params,c=t.visibleBreakpointDisabled,u=l.visibleBreakpoint,p=Bl(t.getViewEl()),d=s.hasClass("panel-in-breakpoint");if(i&&i.hasClass("page")&&p.add(i.children(".page-content, .tabs, .fab")),n.width>=u&&null!=u&&!c)d?p.css(((a={})["margin-"+o]=s.width()+"px",a)):(t.setStateClasses("closed"),s.addClass("panel-in-breakpoint").removeClass("panel-in panel-in-collapsed"),t.onOpen(!1),t.onOpened(),p.css(((r={})["margin-"+o]=s.width()+"px",r)),n.allowPanelOpen=!0,e&&(t.emit("local::breakpoint panelBreakpoint",t),t.$el.trigger("panel:breakpoint")));else if(d){var f;s.removeClass("panel-in-breakpoint panel-in"),t.onClose(),t.onClosed(),p.css(((f={})["margin-"+o]="",f)),e&&(t.emit("local::breakpoint panelBreakpoint",t),t.$el.trigger("panel:breakpoint"))}},r.enableCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!1,e.setCollapsedBreakpoint(),e},r.disableCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!0,e.setCollapsedBreakpoint(),e},r.toggleCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!e.collapsedBreakpointDisabled,e.setCollapsedBreakpoint(),e},r.setCollapsedBreakpoint=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.collapsedBreakpointResizeHandler||(t.collapsedBreakpointResizeHandler=function(){t.setCollapsedBreakpoint()},n.on("resize",t.collapsedBreakpointResizeHandler));var a=t.$el,r=t.params,o=t.collapsedBreakpointDisabled;if(!a.hasClass("panel-in-breakpoint")){var s=r.collapsedBreakpoint,i=a.hasClass("panel-in-collapsed");n.width>=s&&null!=s&&!o?i||(t.setStateClasses("closed"),a.addClass("panel-in-collapsed").removeClass("panel-in"),t.collapsed=!0,n.allowPanelOpen=!0,e&&(t.emit("local::collapsedBreakpoint panelCollapsedBreakpoint",t),t.$el.trigger("panel:collapsedbreakpoint"))):i&&(a.removeClass("panel-in-collapsed panel-in"),t.collapsed=!1,e&&(t.emit("local::collapsedBreakpoint panelCollapsedBreakpoint",t),t.$el.trigger("panel:collapsedbreakpoint")))}},r.enableResizable=function(){var e=this;return e.resizableInitialized?(e.resizable=!0,e.$el.addClass("panel-resizable")):Ep(e),e},r.disableResizable=function(){var e=this;return e.resizable=!1,e.$el.removeClass("panel-resizable"),e},r.enableSwipe=function(){var e=this;return e.swipeInitialized?e.swipeable=!0:kp(e),e},r.disableSwipe=function(){return this.swipeable=!1,this},r.onOpen=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.opened=!0,n.panel.allowOpen=!1,t.$el.trigger("panel:beforeopen"),t.emit("local::beforeOpen panelBeforeOpen",t),e&&t.setStateClasses("open"),t.$el.trigger("panel:open"),t.emit("local::open panelOpen",t)},r.onOpened=function(){var e=this;e.app.panel.allowOpen=!0,e.$el.trigger("panel:opened"),e.emit("local::opened panelOpened",e)},r.onClose=function(){var e=this,t=e.app;e.opened=!1,t.panel.allowOpen=!1,e.$el.trigger("panel:beforeclose"),e.emit("local::beforeClose panelBeforeClose",e),e.setStateClasses("closing"),e.$el.trigger("panel:close"),e.emit("local::close panelClose",e)},r.onClosed=function(){var e=this,t=e.app;if(t.panel.allowOpen=!0,e.setStateClasses("after-closing"),e.$el.removeClass("panel-out"),e.$backdropEl){var n=t.panel.get(".panel-in");(!n||n&&!n.$backdropEl)&&e.$backdropEl.removeClass("panel-backdrop-in")}e.$el.trigger("panel:closed"),e.emit("local::closed panelClosed",e)},r.toggle=function(e){void 0===e&&(e=!0);var t=this,n=t.params.visibleBreakpoint;return t.app.width>=n&&null!=n?t.toggleVisibleBreakpoint():(t.opened?t.close(e):t.open(e),t)},r.insertToRoot=function(){var e=this,t=os(),n=e.$el,a=e.$backdropEl,r=e.$containerEl,o=n.parent(),s=n.parents(t).length>0;if(!o.is(r)||n.prevAll(".views, .view").length){var i=r.children(".panel, .views, .view").eq(0),l=r.children(".panel-backdrop").eq(0);i.length?n.insertBefore(i):l?n.insertBefore(l):r.prepend(n),a&&a.length&&(!a.parent().is(r)&&0===a.nextAll(".panel").length||a.parent().is(r)&&0===a.nextAll(".panel").length)&&a.insertBefore(n),e.once("panelClosed",(function(){s?o.append(n):n.remove()}))}},r.open=function(e){void 0===e&&(e=!0);var t=this,n=t.app;if(!n.panel.allowOpen)return!1;var a=t.effect,r=t.$el,o=t.$backdropEl,s=t.opened,i=t.$containerEl;if(!r||r.hasClass("panel-in"))return t;if(t.insertToRoot(),s||r.hasClass("panel-in-breakpoint")||r.hasClass("panel-in"))return!1;var l=n.panel.get(".panel-in");l&&l!==t&&l.close(e),r[e?"removeClass":"addClass"]("not-animated"),r.addClass("panel-in"),o&&(o.addClass("panel-backdrop-in"),o[e?"removeClass":"addClass"]("not-animated")),"cover"!==t.effect&&"push"!==t.effect||(t._clientLeft=r[0].clientLeft);var c=Bl(t.getViewEl());i&&i.hasClass("page")&&c.add(i.children(".page-content, .tabs"));var u="reveal"===a?c:r;return e?(o&&o.removeClass("not-animated"),function e(){u.transitionEnd((function(n){Bl(n.target).is(u)?r.hasClass("panel-out")?t.onClosed():t.onOpened():e()}))}(),r.removeClass("panel-out not-animated").addClass("panel-in"),t.onOpen()):(o&&o.addClass("not-animated"),r.removeClass("panel-out").addClass("panel-in not-animated"),t.onOpen(),t.onOpened()),!0},r.close=function(e){void 0===e&&(e=!0);var t=this,n=t.effect,a=t.$el,r=t.$backdropEl,o=t.opened,s=t.$containerEl;if(!o||a.hasClass("panel-in-breakpoint")||!a.hasClass("panel-in"))return t;a[e?"removeClass":"addClass"]("not-animated"),r&&r[e?"removeClass":"addClass"]("not-animated");var i=Bl(t.getViewEl());return s&&s.hasClass("page")&&i.add(s.children(".page-content, .tabs")),e?(("reveal"===n?i:a).transitionEnd((function(){a.hasClass("panel-out")?t.onClosed():a.hasClass("panel-in")&&t.onOpened(),t.setStateClasses("after-closing")})),a.removeClass("panel-in").addClass("panel-out"),t.onClose()):(a.addClass("not-animated").removeClass("panel-in").addClass("panel-out"),t.onClose(),t.onClosed()),t},r.init=function(){var e=this;void 0!==e.params.visibleBreakpoint&&e.setVisibleBreakpoint(),void 0!==e.params.collapsedBreakpoint&&e.setCollapsedBreakpoint(),e.params.swipe&&e.enableSwipe(),e.resizable&&e.enableResizable()},r.destroy=function(){var e=this,t=e.app,n=e.$containerEl;if(e.$el){if(e.emit("local::beforeDestroy panelBeforeDestroy",e),e.$el.trigger("panel:beforedestroy"),e.visibleBreakpointResizeHandler&&t.off("resize",e.visibleBreakpointResizeHandler),e.collapsedBreakpointResizeHandler&&t.off("resize",e.collapsedBreakpointResizeHandler),e.$el.hasClass("panel-in-breakpoint")||e.$el.hasClass("panel-in-collapsed")){var a,r=Bl(e.getViewEl());n&&n.hasClass("page")&&r.add(n.children(".page-content, .tabs")),e.$el.removeClass("panel-in-breakpoint panel-in-collapsed panel-in"),r.css(((a={})["margin-"+e.side]="",a)),e.emit("local::breakpoint panelBreakpoint",e),e.$el.trigger("panel:breakpoint")}e.$el.trigger("panel:destroy"),e.emit("local::destroy panelDestroy",e),e.el&&(e.el.f7Panel=null,delete e.el.f7Panel),vs(e),e=null}},a}(Us),Op=$p,Ip={name:"panel",params:{panel:{opened:void 0,side:void 0,effect:void 0,resizable:void 0,backdrop:!0,backdropEl:void 0,visibleBreakpoint:void 0,collapsedBreakpoint:void 0,swipe:!1,swipeNoFollow:!1,swipeOnlyClose:!1,swipeActiveArea:0,swipeThreshold:0,closeByBackdropClick:!0,containerEl:void 0}},static:{Panel:Op},create:function(){var e=this;Os(e,{panel:{allowOpen:!0,create:function(t){return new Op(e,t)},get:function(e){if(void 0===e&&(e=".panel"),e instanceof Op)return e;"left"!==e&&"right"!==e||(e=".panel-"+e);var t=Bl(e);return 0===t.length||t.length>1?void 0:t[0].f7Panel},destroy:function(t){void 0===t&&(t=".panel");var n=e.panel.get(t);if(n&&n.destroy)return n.destroy()},open:function(t,n){void 0===t&&(t=".panel"),"left"!==t&&"right"!==t||(t=".panel-"+t);var a=e.panel.get(t);return a&&a.open?a.open(n):a?void 0:(a=e.panel.create({el:t})).open(n)},close:function(t,n){void 0===t&&(t=".panel-in"),"left"!==t&&"right"!==t||(t=".panel-"+t);var a=e.panel.get(t);return a&&a.open?a.close(n):a?void 0:(a=e.panel.create({el:t})).close(n)},toggle:function(t,n){void 0===t&&(t=".panel"),"left"!==t&&"right"!==t||(t=".panel-"+t);var a=e.panel.get(t);return a&&a.toggle?a.toggle(n):a?void 0:(a=e.panel.create({el:t})).toggle(n)}}})},on:{init:function(){var e=this;Bl(".panel-init").each((function(t){var n=Object.assign({el:t},Bl(t).dataset()||{});e.panel.create(n)}))},pageInit:function(e){var t=this;e.$el.find(".panel-init").each((function(e){var n=Object.assign({el:e},Bl(e).dataset()||{});t.panel.create(n)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".panel-init").each((function(e){var n=t.panel.get(e);n&&n.destroy&&n.destroy()}))}},vnode:{"panel-init":{insert:function(e){var t=e.elm,n=Object.assign({el:t},Bl(t).dataset()||{});this.panel.create(n)},destroy:function(e){var t=e.elm,n=this.panel.get(t);n&&n.destroy&&n.destroy()}}},clicks:{".panel-open":function(e,t){void 0===t&&(t={});this.panel.open(t.panel,t.animate)},".panel-close":function(e,t){void 0===t&&(t={});this.panel.close(t.panel,t.animate)},".panel-toggle":function(e,t){void 0===t&&(t={});this.panel.toggle(t.panel,t.animate)},".panel-backdrop":function(){var e=this,t=Bl(".panel-in:not(.panel-out)");if(t.length){var n=t[0]&&t[0].f7Panel;t.trigger("panel:backdrop-click"),n&&n.emit("backdropClick",n),e.emit("panelBackdropClick",n||t[0]),e.params.panel.closeByBackdropClick&&e.panel.close()}}}},Np={open:function(e,t){void 0===e&&(e=".card-expandable"),void 0===t&&(t=!0);var n=this,a=Fs(),r=os(),o=Ds(),s=Bl(e).eq(0);if(s&&s.length&&!(s.hasClass("card-opened")||s.hasClass("card-opening")||s.hasClass("card-closing"))){var i,l=s.parents(".page").eq(0);if(l.length)if(!l.find(".card-opened").length)if(s.trigger("card:beforeopen",{prevent:K}),n.emit("cardBeforeOpen",s[0],K),!i){var c,u,p,d=Object.assign({animate:t},n.params.card,s.dataset()),f=s.parents(".page-content");s.attr("data-backdrop-el")&&(c=Bl(s.attr("data-backdrop-el"))),!c&&d.backdrop&&((c=f.find(".card-backdrop")).length||(c=Bl('<div class="card-backdrop"></div>'),f.append(c))),d.hideNavbarOnOpen&&((u=l.children(".navbar")).length||l[0].f7Page&&(u=l[0].f7Page.$navbarEl)),d.hideToolbarOnOpen&&((p=l.children(".toolbar")).length||(p=l.parents(".view").children(".toolbar")),p.length||(p=l.parents(".views").children(".toolbar")));var h,m=s.css("transform");m&&m.match(/[2-9]/)&&(h=!0);var g=s.children(".card-content"),v=Bl(r.createElement("div")).addClass("card-expandable-size");s.append(v);var b,y=s[0].offsetWidth,x=s[0].offsetHeight,w=l[0].offsetWidth,C=l[0].offsetHeight,k=v[0].offsetWidth||w,E=v[0].offsetHeight||C;u&&!d.hideStatusbarOnOpen&&E===C&&(b=parseInt(u.css("--f7-safe-area-top"),10),Number.isNaN(b)&&(b=0)),b&&(E-=b);var S,T,$=k/y,O=E/x,I=s.offset(),N=l.offset();if(b&&(N.top+=b/2),I.left-=N.left,h){var R=m.replace(/matrix\(|\)/g,"").split(",").map((function(e){return e.trim()}));if(R&&R.length>1){var P=parseFloat(R[0]);S=I.left-y*(1-P)/2,T=I.top-N.top-x*(1-P)/2,n.rtl&&(S-=s[0].scrollLeft)}else S=s[0].offsetLeft,T=s[0].offsetTop-(f.length?f[0].scrollTop:0)}else S=I.left,T=I.top-N.top,n.rtl&&(S-=s[0].scrollLeft);T-=(C-E)/2;var M=k-y-(S-=(w-k)/2);if(n.rtl){var B=[M,S];S=B[0],M=B[1]}var A,_,L,D,F,z,V,H,j,W,U,G,q=E-x-T,X=(M-S)/2,Y=(q-T)/2;d.hideNavbarOnOpen&&u&&u.length&&(u.closest(".navbar-hidden").length?s[0].f7KeepNavbarOnClose=!0:(delete s[0].f7KeepNavbarOnClose,n.navbar.hide(u,d.animate,d.hideStatusbarOnOpen,!0))),d.hideToolbarOnOpen&&p&&p.length&&(p.closest(".toolbar-hidden").length?s[0].f7KeepToolbarOnClose=!0:(delete s[0].f7KeepToolbarOnClose,n.toolbar.hide(p,d.animate))),c&&c.removeClass("card-backdrop-out").addClass("card-backdrop-in"),s.removeClass("card-transitioning"),d.animate&&s.addClass("card-opening"),s.trigger("card:open"),n.emit("cardOpen",s[0]),g.css({width:k+"px",height:E+"px"}).transform("translate3d("+(n.rtl?S+X:-S-X)+"px, 0px, 0) scale("+1/$+", "+1/O+")"),s.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+$+", "+O+")"),d.animate?s.transitionEnd((function(){Q()})):Q(),s[0].detachEventHandlers=function(){n.off("resize",Z),o.touch&&d.swipeToClose&&(n.off("touchstart:passive",J),n.off("touchmove:active",ee),n.off("touchend:passive",te))},n.on("resize",Z),o.touch&&d.swipeToClose&&(n.on("touchstart:passive",J),n.on("touchmove:active",ee),n.on("touchend:passive",te))}}function K(){i=!0}function Q(){l.addClass("page-with-card-opened"),a.ios&&f.length&&(f.css("height",f[0].offsetHeight+1+"px"),setTimeout((function(){f.css("height","")}))),s.addClass("card-opened"),s.removeClass("card-opening"),s.trigger("card:opened"),n.emit("cardOpened",s[0],l[0])}function Z(){if(s.removeClass("card-transitioning"),y=s[0].offsetWidth,x=s[0].offsetHeight,w=l[0].offsetWidth,C=l[0].offsetHeight,k=v[0].offsetWidth||w,E=v[0].offsetHeight||C,b=0,u&&!d.hideStatusbarOnOpen&&E===C&&(b=parseInt(u.css("--f7-safe-area-top"),10),Number.isNaN(b)&&(b=0)),b&&(E-=b),$=k/y,O=E/x,s.transform("translate3d(0px, 0px, 0) scale(1)"),I=s.offset(),N=l.offset(),b&&(N.top+=b/2),I.left-=N.left,I.top-=N.top,S=I.left-(w-k)/2,n.rtl&&(S-=s[0].scrollLeft),T=I.top-(C-E)/2,M=k-y-S,q=E-x-T,n.rtl){var e=[M,S];S=e[0],M=e[1]}X=(M-S)/2,Y=(q-T)/2,s.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+$+", "+O+")"),g.css({width:k+"px",height:E+"px"}).transform("translate3d("+(n.rtl?S+X:-S-X)+"px, 0px, 0) scale("+1/$+", "+1/O+")")}function J(e){Bl(e.target).closest(s).length&&s.hasClass("card-opened")&&(G=s.find(d.scrollableEl),A=G[0]&&G[0]!==g[0]&&!G[0].contains(e.target)?0:G.scrollTop(),_=!0,D=e.targetTouches[0].pageX,F=e.targetTouches[0].pageY,H=void 0,W=!1,U=!1)}function ee(e){if(_){if(z=e.targetTouches[0].pageX,V=e.targetTouches[0].pageY,void 0===H&&(H=!!(H||Math.abs(V-F)>Math.abs(z-D))),U||W||(!H&&e.targetTouches[0].clientX<=50?U=!0:W=!0),!U&&!W||W&&0!==A)return _=!0,void(L=!0);L||s.removeClass("card-transitioning"),L=!0,((j=W?Math.max((V-F)/150,0):Math.max((z-D)/(y/2),0))>0&&W||U)&&(W&&a.ios&&G[0]===g[0]&&(G.css("-webkit-overflow-scrolling","auto"),G.scrollTop(0)),e.preventDefault()),j>1&&(j=Math.pow(j,.3)),j>(W?1.3:1.1)?(_=!1,L=!1,n.card.close(s)):s.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+$*(1-.2*j)+", "+O*(1-.2*j)+")")}}function te(){_&&L&&(_=!1,L=!1,a.ios&&G.css("-webkit-overflow-scrolling",""),j>=.8?n.card.close(s):s.addClass("card-transitioning").transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+$+", "+O+")"))}},close:function(e,t){void 0===e&&(e=".card-expandable.card-opened"),void 0===t&&(t=!0);var n=this,a=Fs(),r=Bl(e).eq(0);if(r&&r.length&&r.hasClass("card-opened")&&!r.hasClass("card-opening")&&!r.hasClass("card-closing")){var o=r.children(".card-content"),s=r.parents(".page-content"),i=r.parents(".page").eq(0);if(i.length){var l,c,u,p=Object.assign({animate:t},n.params.card,r.dataset()),d=r.find(p.scrollableEl);r.attr("data-backdrop-el")&&(u=Bl(r.attr("data-backdrop-el"))),p.backdrop&&(u=r.parents(".page-content").find(".card-backdrop")),p.hideNavbarOnOpen&&((l=i.children(".navbar")).length||i[0].f7Page&&(l=i[0].f7Page.$navbarEl),l&&l.length&&!r[0].f7KeepNavbarOnClose&&n.navbar.show(l,p.animate,!0)),p.hideToolbarOnOpen&&((c=i.children(".toolbar")).length||(c=i.parents(".view").children(".toolbar")),c.length||(c=i.parents(".views").children(".toolbar")),c&&c.length&&!r[0].f7KeepToolbarOnClose&&n.toolbar.show(c,p.animate)),i.removeClass("page-with-card-opened"),a.ios&&s.length&&(s.css("height",s[0].offsetHeight+1+"px"),setTimeout((function(){s.css("height","")}))),u&&u.length&&u.removeClass("card-backdrop-in").addClass("card-backdrop-out"),r.removeClass("card-opened card-transitioning"),p.animate?r.addClass("card-closing"):r.addClass("card-no-transition"),r.transform(""),r.trigger("card:close"),n.emit("cardClose",r[0],i[0]);var f=r.hasClass("card-expandable-animate-width");f&&o.css({width:"",height:""}),o.transform("").scrollTop(0,t?300:0),d.length&&d[0]!==o[0]&&d.scrollTop(0,t?300:0),t?o.transitionEnd((function(){h()})):h(),r[0].detachEventHandlers&&(r[0].detachEventHandlers(),delete r[0].detachEventHandlers)}}function h(){f||o.css({width:"",height:""}),u&&u.length&&u.removeClass("card-backdrop-in card-backdrop-out"),r.removeClass("card-closing card-no-transition"),r.trigger("card:closed"),r.find(".card-expandable-size").remove(),n.emit("cardClosed",r[0],i[0])}},toggle:function(e,t){void 0===e&&(e=".card-expandable");var n=Bl(e).eq(0);n.length&&(n.hasClass("card-opened")?this.card.close(n,t):this.card.open(n,t))}},Rp={name:"card",params:{card:{hideNavbarOnOpen:!0,hideStatusbarOnOpen:!0,hideToolbarOnOpen:!0,scrollableEl:".card-content",swipeToClose:!0,closeByBackdropClick:!0,backdrop:!0}},create:function(){_s(this,{card:Np})},on:{pageBeforeIn:function(e){var t=this;if(t.params.card.hideNavbarOnOpen&&e.navbarEl&&e.$el.find(".card-opened.card-expandable").length&&t.navbar.hide(e.navbarEl,!0,t.params.card.hideStatusbarOnOpen,!0),t.params.card.hideToolbarOnOpen&&e.$el.find(".card-opened.card-expandable").length){var n=e.$el.children(".toolbar");n.length||(n=e.$el.parents(".view").children(".toolbar")),n.length||(n=e.$el.parents(".views").children(".toolbar")),n&&n.length&&t.toolbar.hide(n)}}},clicks:{".card-close":function(e,t){this.card.close(t.card,t.animate)},".card-open":function(e,t){this.card.open(t.card,t.animate)},".card-expandable":function(e,t,n){e.hasClass("card-opened")||e.hasClass("card-opening")||e.hasClass("card-closing")||Bl(n.target).closest(".card-prevent-open, .card-close").length||this.card.open(e)},".card-backdrop-in":function(){var e=!1;this.params.card.closeByBackdropClick&&(e=!0);var t=Bl(".card-opened");t.length&&("true"===t.attr("data-close-by-backdrop-click")?e=!0:"false"===t.attr("data-close-by-backdrop-click")&&(e=!1),e&&this.card.close(t))}}},Pp={store:function(e,t){var n=is(),a=e,r=Bl(e);r.length&&r.is("form")&&r.attr("id")&&(a=r.attr("id")),this.form.data["form-"+a]=t,n.localStorage["f7form-"+a]=JSON.stringify(t)},get:function(e){var t=is(),n=e,a=Bl(e);return a.length&&a.is("form")&&a.attr("id")&&(n=a.attr("id")),t.localStorage["f7form-"+n]?JSON.parse(t.localStorage["f7form-"+n]):this.form.data["form-"+n]?this.form.data["form-"+n]:void 0},remove:function(e){var t=this,n=is(),a=e,r=Bl(e);r.length&&r.is("form")&&r.attr("id")&&(a=r.attr("id")),t.form.data["form-"+a]&&(t.form.data["form-"+a]="",delete t.form.data["form-"+a]),n.localStorage["f7form-"+a]&&(n.localStorage["f7form-"+a]="",n.localStorage.removeItem("f7form-"+a))}},Mp={init:function(e){var t=this,n=Bl(e),a=n.attr("id");if(a){var r=t.form.getFormData(a);r&&t.form.fillFromData(n,r),n.on("change submit",(function(){var e=t.form.convertToData(n);e&&(t.form.storeFormData(a,e),n.trigger("form:storedata",e),t.emit("formStoreData",n[0],e))}))}},destroy:function(e){Bl(e).off("change submit")}};function Bp(e){var t=Bl(e).eq(0);if(0!==t.length){var n={},a=["submit","image","button","file"],r=[];return t.find("input, select, textarea").each((function(e){var o=Bl(e);if(!o.hasClass("ignore-store-data")&&!o.hasClass("no-store-data")){var s=o.attr("name"),i=o.attr("type"),l=e.nodeName.toLowerCase();if(!(a.indexOf(i)>=0)&&!(r.indexOf(s)>=0)&&s)if("select"===l&&o.prop("multiple"))r.push(s),n[s]=[],t.find('select[name="'+s+'"] option').each((function(e){e.selected&&n[s].push(e.value)}));else switch(i){case"checkbox":r.push(s),n[s]=[],t.find('input[name="'+s+'"]').each((function(e){e.checked&&n[s].push(e.value)}));break;case"radio":r.push(s),t.find('input[name="'+s+'"]').each((function(e){e.checked&&(n[s]=e.value)}));break;default:n[s]=o.val()}}})),t.trigger("form:todata",n),this.emit("formToData",t[0],n),n}}function Ap(e,t){var n=Bl(e).eq(0);if(n.length){var a=t,r=n.attr("id");if(!a&&r&&(a=this.form.getFormData(r)),a){var o=["submit","image","button","file"],s=[];n.find("input, select, textarea").each((function(e){var t=Bl(e);if(!t.hasClass("ignore-store-data")&&!t.hasClass("no-store-data")){var r=t.attr("name"),i=t.attr("type"),l=e.nodeName.toLowerCase();if(void 0!==a[r]&&null!==a[r]&&!(o.indexOf(i)>=0)&&!(s.indexOf(r)>=0)&&r){if("select"===l&&t.prop("multiple"))s.push(r),n.find('select[name="'+r+'"] option').each((function(e){var t=e;a[r].indexOf(e.value)>=0?t.selected=!0:t.selected=!1}));else switch(i){case"checkbox":s.push(r),n.find('input[name="'+r+'"]').each((function(e){var t=e;a[r].indexOf(e.value)>=0?t.checked=!0:t.checked=!1}));break;case"radio":s.push(r),n.find('input[name="'+r+'"]').each((function(e){var t=e;a[r]===e.value?t.checked=!0:t.checked=!1}));break;default:t.val(a[r])}"select"!==l&&"input"!==l&&"textarea"!==l||t.trigger("change","fromdata")}}})),n.trigger("form:fromdata",a),this.emit("formFromData",n[0],a)}}}function _p(){var e=this,t=is(),n=os();Bl(n).on("submit change","form.form-ajax-submit, form.form-ajax-submit-onchange",(function(n,a){var r=Bl(this);if(("change"!==n.type||r.hasClass("form-ajax-submit-onchange"))&&("submit"===n.type&&n.preventDefault(),"change"!==n.type||"fromdata"!==a)){var o,s=(r.attr("method")||"GET").toUpperCase(),i=r.prop("enctype")||r.attr("enctype"),l=r.attr("action");if(l)o="POST"===s?"application/x-www-form-urlencoded"===i?e.form.convertToData(r[0]):new t.FormData(r[0]):Ss(e.form.convertToData(r[0])),e.request({method:s,url:l,contentType:i,data:o,beforeSend:function(t){r.trigger("formajax:beforesend",{data:o,xhr:t}),e.emit("formAjaxBeforeSend",r[0],o,t)},error:function(t){r.trigger("formajax:error",{data:o,xhr:t}),e.emit("formAjaxError",r[0],o,t)},complete:function(t){r.trigger("formajax:complete",{data:o,xhr:t}),e.emit("formAjaxComplete",r[0],o,t)},success:function(t,n,a){r.trigger("formajax:success",{data:o,xhr:a}),e.emit("formAjaxSuccess",r[0],o,a)}})}}))}var Lp={name:"form",create:function(){var e=this;Os(e,{form:{data:{},storeFormData:Pp.store.bind(e),getFormData:Pp.get.bind(e),removeFormData:Pp.remove.bind(e),convertToData:Bp.bind(e),fillFromData:Ap.bind(e),storage:{init:Mp.init.bind(e),destroy:Mp.destroy.bind(e)}}})},on:{init:function(){_p.call(this)},tabBeforeRemove:function(e){var t=this;Bl(e).find(".form-store-data").each((function(e){t.form.storage.destroy(e)}))},tabMounted:function(e){var t=this;Bl(e).find(".form-store-data").each((function(e){t.form.storage.init(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".form-store-data").each((function(e){t.form.storage.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".form-store-data").each((function(e){t.form.storage.init(e)}))}}},Dp={ignoreTypes:["checkbox","button","submit","range","radio","image"],createTextareaResizableShadow:function(){var e=os(),t=Bl(e.createElement("textarea"));t.addClass("textarea-resizable-shadow"),t.prop({disabled:!0,readonly:!0}),Dp.textareaResizableShadow=t},textareaResizableShadow:void 0,resizeTextarea:function(e){var t=is(),n=Bl(e);Dp.textareaResizableShadow||Dp.createTextareaResizableShadow();var a=Dp.textareaResizableShadow;if(n.length&&n.hasClass("resizable")){0===Dp.textareaResizableShadow.parents().length&&this.$el.append(a);var r=t.getComputedStyle(n[0]);"padding-top padding-bottom padding-left padding-right margin-left margin-right margin-top margin-bottom width font-size font-family font-style font-weight line-height font-variant text-transform letter-spacing border box-sizing display".split(" ").forEach((function(e){var t=r[e];"font-size line-height letter-spacing width".split(" ").indexOf(e)>=0&&(t=t.replace(",",".")),a.css(e,t)}));var o=n[0].clientHeight;a.val("");var s=a[0].scrollHeight;a.val(n.val()),a.css("height",0);var i=a[0].scrollHeight;o!==i&&(i>s?n.css("height",i+"px"):i<o&&n.css("height",""),(i>s||i<o)&&(n.trigger("textarea:resize",{initialHeight:s,currentHeight:o,scrollHeight:i}),this.emit("textareaResize",{initialHeight:s,currentHeight:o,scrollHeight:i})))}},validate:function(e){var t=Bl(e);if(!t.length)return!0;var n=t.parents(".item-input"),a=t.parents(".input");function r(){t[0].f7ValidateReadonly&&(t[0].readOnly=!0)}t[0].f7ValidateReadonly&&(t[0].readOnly=!1);var o=t[0].validity,s=t.dataset().errorMessage||t[0].validationMessage||"";if(!o)return r(),!0;if(!o.valid){var i=t.nextAll(".item-input-error-message, .input-error-message");return s&&(0===i.length&&(i=Bl('<div class="'+(a.length?"input-error-message":"item-input-error-message")+'"></div>')).insertAfter(t),i.text(s)),i.length>0&&(n.addClass("item-input-with-error-message"),a.addClass("input-with-error-message")),n.addClass("item-input-invalid"),a.addClass("input-invalid"),t.addClass("input-invalid"),r(),!1}return n.removeClass("item-input-invalid item-input-with-error-message"),a.removeClass("input-invalid input-with-error-message"),t.removeClass("input-invalid"),r(),!0},validateInputs:function(e){var t=this;return Bl(e).find("input, textarea, select").map((function(e){return t.input.validate(e)})).indexOf(!1)<0},focus:function(e){var t=Bl(e),n=t.attr("type");Dp.ignoreTypes.indexOf(n)>=0||(t.parents(".item-input").addClass("item-input-focused"),t.parents(".input").addClass("input-focused"),t.addClass("input-focused"))},blur:function(e){var t=Bl(e);t.parents(".item-input").removeClass("item-input-focused"),t.parents(".input").removeClass("input-focused"),t.removeClass("input-focused")},checkEmptyState:function(e){var t=Bl(e);if(t.is("input, select, textarea, .item-input [contenteditable]")||(t=t.find("input, select, textarea, .item-input [contenteditable]").eq(0)),t.length){var n;n=t[0].hasAttribute("contenteditable")?t.find(".text-editor-placeholder").length?"":t.html():t.val();var a=t.parents(".item-input"),r=t.parents(".input");n&&"string"==typeof n&&""!==n.trim()||Array.isArray(n)&&n.length>0?(a.addClass("item-input-with-value"),r.addClass("input-with-value"),t.addClass("input-with-value"),t.trigger("input:notempty"),this.emit("inputNotEmpty",t[0])):(a.removeClass("item-input-with-value"),r.removeClass("input-with-value"),t.removeClass("input-with-value"),t.trigger("input:empty"),this.emit("inputEmpty",t[0]))}},scrollIntoView:function(e,t,n,a){void 0===t&&(t=0);var r=Bl(e),o=r.parents(".page-content, .panel, .card-expandable .card-content").eq(0);if(!o.length)return!1;var s=o[0].offsetHeight,i=o[0].scrollTop,l=parseInt(o.css("padding-top"),10),c=parseInt(o.css("padding-bottom"),10),u=o.offset().top-i,p=r.offset().top-u,d=p+i-l,f=p+i-s+c+r[0].offsetHeight,h=d+(f-d)/2;return i>d?(o.scrollTop(n?h:d,t),!0):i<f?(o.scrollTop(n?h:f,t),!0):(a&&o.scrollTop(n?h:f,t),!1)},init:function(){var e=this,t=Fs(),n=is(),a=os();Dp.createTextareaResizableShadow(),Bl(a).on("click",".input-clear-button",(function(){var t=Bl(this).siblings("input, textarea").eq(0),n=t.val();t.val("").trigger("input change").focus().trigger("input:clear",n),e.emit("inputClear",n)})),Bl(a).on("mousedown",".input-clear-button",(function(e){e.preventDefault()})),Bl(a).on("change input","input, textarea, select, .item-input [contenteditable]",(function(){var t=Bl(this),n=t.attr("type"),a=t[0].nodeName.toLowerCase(),r=t[0].hasAttribute("contenteditable");Dp.ignoreTypes.indexOf(n)>=0||(e.input.checkEmptyState(t),r||(null!==t.attr("data-validate-on-blur")||!t.dataset().validate&&null===t.attr("validate")||e.input.validate(t),"textarea"===a&&t.hasClass("resizable")&&e.input.resizeTextarea(t)))}),!0),Bl(a).on("focus","input, textarea, select, .item-input [contenteditable]",(function(){var r=this;e.params.input.scrollIntoViewOnFocus&&(t.android?Bl(n).once("resize",(function(){a&&a.activeElement===r&&e.input.scrollIntoView(r,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)})):e.input.scrollIntoView(r,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)),e.input.focus(r)}),!0),Bl(a).on("blur","input, textarea, select, .item-input [contenteditable]",(function(){var t=Bl(this),n=t[0].nodeName.toLowerCase();e.input.blur(t),(t.dataset().validate||null!==t.attr("validate")||null!==t.attr("data-validate-on-blur"))&&e.input.validate(t),"textarea"===n&&t.hasClass("resizable")&&Dp.textareaResizableShadow&&Dp.textareaResizableShadow.remove()}),!0),Bl(a).on("invalid","input, textarea, select",(function(t){var n=Bl(this);null!==n.attr("data-validate-on-blur")||!n.dataset().validate&&null===n.attr("validate")||(t.preventDefault(),e.input.validate(n))}),!0)}},Fp={name:"input",params:{input:{scrollIntoViewOnFocus:void 0,scrollIntoViewCentered:!1,scrollIntoViewDuration:0,scrollIntoViewAlways:!1}},create:function(){var e=this;void 0===e.params.input.scrollIntoViewOnFocus&&(e.params.input.scrollIntoViewOnFocus=Fs().android),_s(e,{input:Dp})},on:{init:function(){this.input.init()},tabMounted:function(e){var t=this,n=Bl(e);n.find(".item-input, .input").each((function(e){Bl(e).find("input, select, textarea, [contenteditable]").each((function(e){var n=Bl(e);Dp.ignoreTypes.indexOf(n.attr("type"))>=0||t.input.checkEmptyState(n)}))})),n.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))},pageInit:function(e){var t=this,n=e.$el;n.find(".item-input, .input").each((function(e){Bl(e).find("input, select, textarea, [contenteditable]").each((function(e){var n=Bl(e);Dp.ignoreTypes.indexOf(n.attr("type"))>=0||t.input.checkEmptyState(n)}))})),n.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))},"panelBreakpoint panelCollapsedBreakpoint panelResize panelOpen panelSwipeOpen resize viewMasterDetailBreakpoint":function(e){var t=this;e&&e.$el?e.$el.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)})):Bl("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))}}};function zp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vp(e,t){return Vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vp(e,t)}var Hp=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=zp(a=e.call(this,n,[t])||this),o=Ds(),s={};r.useModulesParams(s),r.params=Os(s,n);var i=r.params.el;if(!i)return r||zp(a);var l=Bl(i);if(0===l.length)return r||zp(a);if(l[0].f7Toggle)return l[0].f7Toggle||zp(a);var c,u=l.children('input[type="checkbox"]');Os(r,{app:t,$el:l,el:l[0],$inputEl:u,inputEl:u[0],disabled:l.hasClass("disabled")||u.hasClass("disabled")||u.attr("disabled")||u[0].disabled}),Object.defineProperty(r,"checked",{enumerable:!0,configurable:!0,set:function(e){r&&void 0!==r.$inputEl&&r.checked!==e&&(u[0].checked=e,r.$inputEl.trigger("change"))},get:function(){return u[0].checked}}),l[0].f7Toggle=r;var p,d,f,h,m,g={};function v(e){c||r.disabled||(g.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=0,c=!0,p=void 0,h=Cs(),m=r.checked,f=l[0].offsetWidth,xs((function(){c&&l.addClass("toggle-active-state")})))}function b(e){if(c&&!r.disabled){var n,a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,s=t.rtl?-1:1;if(void 0===p&&(p=!!(p||Math.abs(o-g.y)>Math.abs(a-g.x))),p)c=!1;else e.preventDefault(),(d=a-g.x)*s<0&&Math.abs(d)>f/3&&m&&(n=!0),d*s>0&&Math.abs(d)>f/3&&!m&&(n=!0),n&&(g.x=a,r.checked=!m,m=!m)}}function y(){if(!c||r.disabled)return p&&l.removeClass("toggle-active-state"),void(c=!1);var e,n=t.rtl?-1:1;c=!1,l.removeClass("toggle-active-state"),Cs()-h<300&&(d*n<0&&m&&(e=!0),d*n>0&&!m&&(e=!0),e&&(r.checked=!m))}function x(){r.$el.trigger("toggle:change"),r.emit("local::change toggleChange",r)}return r.attachEvents=function(){var e=!!o.passiveListener&&{passive:!0};l.on(t.touchEvents.start,v,e),t.on("touchmove",b),t.on("touchend:passive",y),r.$inputEl.on("change",x)},r.detachEvents=function(){var e=!!o.passiveListener&&{passive:!0};l.off(t.touchEvents.start,v,e),t.off("touchmove",b),t.off("touchend:passive",y),r.$inputEl.off("change",x)},r.useModules(),r.init(),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Vp(t,n);var r=a.prototype;return r.toggle=function(){this.checked=!this.checked},r.init=function(){this.attachEvents()},r.destroy=function(){var e=this;e.$el.trigger("toggle:beforedestroy"),e.emit("local::beforeDestroy toggleBeforeDestroy",e),delete e.$el[0].f7Toggle,e.detachEvents(),vs(e),e=null},a}(Us),jp=Hp,Wp={name:"toggle",create:function(){this.toggle=Dl({defaultSelector:".toggle",constructor:jp,app:this,domProp:"f7Toggle"})},static:{Toggle:jp},on:{tabMounted:function(e){var t=this;Bl(e).find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},tabBeforeRemove:function(e){Bl(e).find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},pageBeforeRemove:function(e){e.$el.find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))}},vnode:{"toggle-init":{insert:function(e){var t=e.elm;this.toggle.create({el:t})},destroy:function(e){var t=e.elm;t.f7Toggle&&t.f7Toggle.destroy()}}}};function Up(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gp(e,t){return Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gp(e,t)}var qp=function(e){var t,n;function a(t,n){var a,r=Up(a=e.call(this,n,[t])||this),o=Ds(),s={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1,formatLabel:null,scale:!1,scaleSteps:5,scaleSubSteps:0,formatScaleLabel:null,limitKnobPosition:"ios"===t.theme};r.useModulesParams(s),r.params=Os(s,n);var i=r.params.el;if(!i)return r||Up(a);var l=Bl(i);if(0===l.length)return r||Up(a);if(l[0].f7Range)return l[0].f7Range||Up(a);var c,u=l.dataset();"step min max value scaleSteps scaleSubSteps".split(" ").forEach((function(e){void 0===n[e]&&void 0!==u[e]&&(r.params[e]=parseFloat(u[e]))})),"dual label vertical verticalReversed scale".split(" ").forEach((function(e){void 0===n[e]&&void 0!==u[e]&&(r.params[e]=u[e])})),r.params.value||(void 0!==u.value&&(r.params.value=u.value),void 0!==u.valueLeft&&void 0!==u.valueRight&&(r.params.value=[parseFloat(u.valueLeft),parseFloat(u.valueRight)])),r.params.dual||(r.params.inputEl?c=Bl(r.params.inputEl):l.find('input[type="range"]').length&&(c=l.find('input[type="range"]').eq(0)));var p=r.params,d=p.dual,f=p.step,h=p.label,m=p.min,g=p.max,v=p.value,b=p.vertical,y=p.verticalReversed,x=p.scale,w=p.scaleSteps,C=p.scaleSubSteps,k=p.limitKnobPosition;Os(r,{app:t,$el:l,el:l[0],$inputEl:c,inputEl:c?c[0]:void 0,dual:d,step:f,label:h,min:m,max:g,value:v,previousValue:v,vertical:b,verticalReversed:y,scale:x,scaleSteps:w,scaleSubSteps:C,limitKnobPosition:k}),c&&("step min max".split(" ").forEach((function(e){!n[e]&&c.attr(e)&&(r.params[e]=parseFloat(c.attr(e)),r[e]=parseFloat(c.attr(e)))})),void 0!==c.val()&&(r.params.value=parseFloat(c.val()),r.value=parseFloat(c.val()))),r.dual&&l.addClass("range-slider-dual"),r.label&&l.addClass("range-slider-label"),r.vertical?(l.addClass("range-slider-vertical"),r.verticalReversed&&l.addClass("range-slider-vertical-reversed")):l.addClass("range-slider-horizontal");var E=Bl('<div class="range-bar"></div>'),S=Bl('<div class="range-bar-active"></div>');E.append(S);var T='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '+(r.label?'<div class="range-knob-label"></div>':"")+"\n      </div>\n    ",$=[Bl(T)];r.dual&&$.push(Bl(T)),l.append(E),$.forEach((function(e){l.append(e)}));var O,I,N=[];r.label&&(N.push($[0].find(".range-knob-label")),r.dual&&N.push($[1].find(".range-knob-label"))),r.scale&&r.scaleSteps>=1&&(O=Bl('\n        <div class="range-scale">\n          '+r.renderScale()+"\n        </div>\n      "),l.append(O)),Os(r,{knobs:$,labels:N,$barEl:E,$barActiveEl:S,$scaleEl:O}),l[0].f7Range=r;var R,P,M,B,A,_,L,D,F,z,V,H={};function j(){L=!0}function W(e){if(!I&&(r.params.draggableBar||0!==Bl(e.target).closest(".range-knob").length)){var t;L=!1,H.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,H.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,"touchstart"===e.type&&(D=e.targetTouches[0].identifier),I=!0,R=void 0,P=l.offset(),M=P.left,B=P.top,r.vertical?(t=(H.y-B)/r.rangeHeight,r.verticalReversed||(t=1-t)):t=r.app.rtl?(M+r.rangeWidth-H.x)/r.rangeWidth:(H.x-M)/r.rangeWidth;var n=t*(r.max-r.min)+r.min;r.dual?Math.abs(r.value[0]-n)<Math.abs(r.value[1]-n)?(_=0,A=r.knobs[0],n=[n,r.value[1]]):(_=1,A=r.knobs[1],n=[r.value[0],n]):(A=r.knobs[0],n=t*(r.max-r.min)+r.min),xs((function(){I&&A.addClass("range-knob-active-state")}),70),r.on("change",j),r.setValue(n,!0)}}function U(e){if(I){var t,n;if("touchmove"===e.type)for(var a=0;a<e.targetTouches.length;a+=1)e.targetTouches[a].identifier===D&&(t=e.targetTouches[a].pageX,n=e.targetTouches[a].pageY);else t=e.pageX,n=e.pageY;if(void 0!==t||void 0!==n)if(void 0!==R||r.vertical||(R=!!(R||Math.abs(n-H.y)>Math.abs(t-H.x))),R)I=!1;else{var o;e.preventDefault(),r.vertical?(o=(n-B)/r.rangeHeight,r.verticalReversed||(o=1-o)):o=r.app.rtl?(M+r.rangeWidth-t)/r.rangeWidth:(t-M)/r.rangeWidth;var s,i,l=o*(r.max-r.min)+r.min;if(r.dual)0===_?(s=l)>(i=r.value[1])&&(i=s):(i=l)<(s=r.value[0])&&(s=i),l=[s,i];r.setValue(l,!0)}}}function G(e){if("touchend"===e.type){for(var t,n=0;n<e.changedTouches.length;n+=1)e.changedTouches[n].identifier===D&&(t=!0);if(!t)return}if(!I)return R&&A.removeClass("range-knob-active-state"),void(I=!1);r.off("change",j),I=!1,A.removeClass("range-knob-active-state"),L&&r.$inputEl&&!r.dual&&r.$inputEl.trigger("change"),L=!1,void 0!==r.previousValue&&(r.dual&&(r.previousValue[0]!==r.value[0]||r.previousValue[1]!==r.value[1])||!r.dual&&r.previousValue!==r.value)&&(r.$el.trigger("range:changed",r.value),r.emit("local::changed rangeChanged",r,r.value))}function q(){r.calcSize(),r.layout()}return r.attachEvents=function(){var e=!!o.passiveListener&&{passive:!0};r.$el.on(t.touchEvents.start,W,e),t.on("touchmove",U),t.on("touchend:passive",G),t.on("tabShow",q),t.on("resize",q),(F=r.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast")).on("modal:open",q),(z=r.$el.parents(".panel")).on("panel:open panel:resize",q),(V=r.$el.parents(".page").eq(0)).on("page:reinit",q)},r.detachEvents=function(){var e=!!o.passiveListener&&{passive:!0};r.$el.off(t.touchEvents.start,W,e),t.off("touchmove",U),t.off("touchend:passive",G),t.off("tabShow",q),t.off("resize",q),F&&F.off("modal:open",q),z&&z.off("panel:open panel:resize",q),V&&V.off("page:reinit",q),F=null,z=null,V=null},r.useModules(),r.init(),r||Up(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Gp(t,n);var r=a.prototype;return r.calcSize=function(){var e=this;if(e.vertical){var t=e.$el.outerHeight();if(0===t)return;e.rangeHeight=t,e.knobHeight=e.knobs[0].outerHeight()}else{var n=e.$el.outerWidth();if(0===n)return;e.rangeWidth=n,e.knobWidth=e.knobs[0].outerWidth()}},r.layout=function(){var e=this,t=e.app,n=e.knobWidth,a=e.knobHeight,r=e.rangeWidth,o=e.rangeHeight,s=e.min,i=e.max,l=e.knobs,c=e.$barActiveEl,u=e.value,p=e.label,d=e.labels,f=e.vertical,h=e.verticalReversed,m=e.limitKnobPosition,g=f?a:n,v=f?o:r,b=f?h?"top":"bottom":t.rtl?"right":"left";if(e.dual){var y,x=[(u[0]-s)/(i-s),(u[1]-s)/(i-s)];c.css(((y={})[b]=100*x[0]+"%",y[f?"height":"width"]=100*(x[1]-x[0])+"%",y)),l.forEach((function(t,n){var a=v*x[n];if(m){var r=v*x[n]-g/2;r<0&&(a=g/2),r+g>v&&(a=v-g/2)}t.css(b,a+"px"),p&&d[n].text(e.formatLabel(u[n],d[n][0]))}))}else{var w=(u-s)/(i-s);c.css(f?"height":"width",100*w+"%");var C=v*w;if(m){var k=v*w-g/2;k<0&&(C=g/2),k+g>v&&(C=v-g/2)}l[0].css(b,C+"px"),p&&d[0].text(e.formatLabel(u,d[0][0]))}e.dual&&u.indexOf(s)>=0||!e.dual&&u===s?e.$el.addClass("range-slider-min"):e.$el.removeClass("range-slider-min"),e.dual&&u.indexOf(i)>=0||!e.dual&&u===i?e.$el.addClass("range-slider-max"):e.$el.removeClass("range-slider-max")},r.setValue=function(e,t){var n,a,r=this,o=r.step,s=r.min,i=r.max;if(r.dual){a=[r.value[0],r.value[1]];var l=e;if(Array.isArray(l)||(l=[e,e]),e[0]>e[1]&&(l=[l[0],l[0]]),l=l.map((function(e){return Math.max(Math.min(Math.round(e/o)*o,i),s)})),l[0]===r.value[0]&&l[1]===r.value[1])return r;l.forEach((function(e,t){r.value[t]=e})),n=a[0]!==l[0]||a[1]!==l[1],r.layout()}else{a=r.value;var c=Math.max(Math.min(Math.round(e/o)*o,i),s);r.value=c,r.layout(),n=a!==c}return n&&(r.previousValue=a),n?(r.$el.trigger("range:change",r.value),r.$inputEl&&!r.dual&&(r.$inputEl.val(r.value),t?r.$inputEl.trigger("input"):r.$inputEl.trigger("input change")),t||(r.$el.trigger("range:changed",r.value),r.emit("local::changed rangeChanged",r,r.value)),r.emit("local::change rangeChange",r,r.value),r):r},r.getValue=function(){return this.value},r.formatLabel=function(e,t){var n=this;return n.params.formatLabel?n.params.formatLabel.call(n,e,t):e},r.formatScaleLabel=function(e){var t=this;return t.params.formatScaleLabel?t.params.formatScaleLabel.call(t,e):e},r.renderScale=function(){var e=this,t=e.app,n=e.verticalReversed,a=e.vertical?n?"top":"bottom":t.rtl?"right":"left",r="";return Array.from({length:e.scaleSteps+1}).forEach((function(t,n){var o=(e.max-e.min)/e.scaleSteps,s=e.min+o*n,i=(s-e.min)/(e.max-e.min);r+='<div class="range-scale-step" style="'+a+": "+100*i+'%">'+e.formatScaleLabel(s)+"</div>",e.scaleSubSteps&&e.scaleSubSteps>1&&n<e.scaleSteps&&Array.from({length:e.scaleSubSteps-1}).forEach((function(t,n){var i=o/e.scaleSubSteps,l=(s+i*(n+1)-e.min)/(e.max-e.min);r+='<div class="range-scale-step range-scale-substep" style="'+a+": "+100*l+'%"></div>'}))})),r},r.updateScale=function(){var e=this;if(!e.scale||e.scaleSteps<1)return e.$scaleEl&&e.$scaleEl.remove(),void delete e.$scaleEl;e.$scaleEl||(e.$scaleEl=Bl('<div class="range-scale"></div>'),e.$el.append(e.$scaleEl)),e.$scaleEl.html(e.renderScale())},r.init=function(){var e=this;return e.calcSize(),e.layout(),e.attachEvents(),e},r.destroy=function(){var e=this;e.$el.trigger("range:beforedestroy"),e.emit("local::beforeDestroy rangeBeforeDestroy",e),delete e.$el[0].f7Range,e.detachEvents(),vs(e),e=null},a}(Us),Xp=qp,Yp={name:"range",create:function(){var e=this;e.range=Os(Dl({defaultSelector:".range-slider",constructor:Xp,app:e,domProp:"f7Range"}),{getValue:function(t){void 0===t&&(t=".range-slider");var n=e.range.get(t);if(n)return n.getValue()},setValue:function(t,n){void 0===t&&(t=".range-slider");var a=e.range.get(t);if(a)return a.setValue(n)}})},static:{Range:Xp},on:{tabMounted:function(e){var t=this;Bl(e).find(".range-slider-init").each((function(e){return new Xp(t,{el:e})}))},tabBeforeRemove:function(e){Bl(e).find(".range-slider-init").each((function(e){e.f7Range&&e.f7Range.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".range-slider-init").each((function(e){return new Xp(t,{el:e})}))},pageBeforeRemove:function(e){e.$el.find(".range-slider-init").each((function(e){e.f7Range&&e.f7Range.destroy()}))}},vnode:{"range-slider-init":{insert:function(e){var t=e.elm;this.range.create({el:t})},destroy:function(e){var t=e.elm;t.f7Range&&t.f7Range.destroy()}}}};function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qp(e,t){return Qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qp(e,t)}var Zp=function(e){var t,n;function a(t,n){var a,r=Kp(a=e.call(this,n,[t])||this),o={el:null,inputEl:null,valueEl:null,value:0,formatValue:null,step:1,min:0,max:100,watchInput:!0,autorepeat:!1,autorepeatDynamic:!1,wraps:!1,manualInputMode:!1,decimalPoint:4,buttonsEndInputMode:!0};r.useModulesParams(o),r.params=Os(o,n),r.params.value<r.params.min&&(r.params.value=r.params.min),r.params.value>r.params.max&&(r.params.value=r.params.max);var s=r.params.el;if(!s)return r||Kp(a);var i,l,c=Bl(s);if(0===c.length)return r||Kp(a);if(c[0].f7Stepper)return c[0].f7Stepper||Kp(a);if(r.params.inputEl?i=Bl(r.params.inputEl):c.find(".stepper-input-wrap").find("input, textarea").length&&(i=c.find(".stepper-input-wrap").find("input, textarea").eq(0)),i&&i.length){"step min max".split(" ").forEach((function(e){!n[e]&&i.attr(e)&&(r.params[e]=parseFloat(i.attr(e)))}));var u=parseInt(r.params.decimalPoint,10);Number.isNaN(u)?r.params.decimalPoint=0:r.params.decimalPoint=u;var p=parseFloat(i.val());void 0!==n.value||Number.isNaN(p)||!p&&0!==p||(r.params.value=p)}r.params.valueEl?l=Bl(r.params.valueEl):c.find(".stepper-value").length&&(l=c.find(".stepper-value").eq(0));var d=c.find(".stepper-button-plus"),f=c.find(".stepper-button-minus"),h=r.params,m=h.step,g=h.min,v=h.max,b=h.value,y=h.decimalPoint;Os(r,{app:t,$el:c,el:c[0],$buttonPlusEl:d,buttonPlusEl:d[0],$buttonMinusEl:f,buttonMinusEl:f[0],$inputEl:i,inputEl:i?i[0]:void 0,$valueEl:l,valueEl:l?l[0]:void 0,step:m,min:g,max:v,value:b,decimalPoint:y,typeModeChanged:!1}),c[0].f7Stepper=r;var x,w,C,k,E,S={},T=null,$=!1,O=!1;function I(e,t,n,a,r,o){clearTimeout(E),E=setTimeout((function(){1===e&&(C=!0,$=!0),clearInterval(k),o(),k=setInterval((function(){o()}),r),e<t&&I(e+1,t,n,a,r/2,o)}),1===e?n:a)}function N(e){x||(O||(Bl(e.target).closest(d).length?T="increment":Bl(e.target).closest(f).length&&(T="decrement"),T&&(S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,x=!0,w=void 0,I(1,r.params.autorepeatDynamic?4:1,500,1e3,300,(function(){r[T]()})))))}function R(e){if(x&&!O){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;void 0!==w||$||(w=!!(w||Math.abs(n-S.y)>Math.abs(t-S.x)));var a=Math.pow(Math.pow(t-S.x,2)+Math.pow(n-S.y,2),.5);(w||a>20)&&(x=!1,clearTimeout(E),clearInterval(k))}}function P(){clearTimeout(E),clearInterval(k),T=null,$=!1,x=!1}function M(){O?r.params.buttonsEndInputMode&&(O=!1,r.endTypeMode(!0)):C?C=!1:r.decrement(!0)}function B(){O?r.params.buttonsEndInputMode&&(O=!1,r.endTypeMode(!0)):C?C=!1:r.increment(!0)}function A(e){!e.target.readOnly&&r.params.manualInputMode&&(O=!0,"number"==typeof e.target.selectionStart&&(e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length))}function _(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),O=!1,r.endTypeMode())}function L(){O=!1,r.endTypeMode(!0)}function D(e){O?r.typeValue(e.target.value):e.detail&&e.detail.sentByF7Stepper||r.setValue(e.target.value,!0)}return r.attachEvents=function(){f.on("click",M),d.on("click",B),r.params.watchInput&&i&&i.length&&(i.on("input",D),i.on("click",A),i.on("blur",L),i.on("keyup",_)),r.params.autorepeat&&(t.on("touchstart:passive",N),t.on("touchmove:active",R),t.on("touchend:passive",P))},r.detachEvents=function(){f.off("click",M),d.off("click",B),r.params.watchInput&&i&&i.length&&(i.off("input",D),i.off("click",A),i.off("blur",L),i.off("keyup",_))},r.useModules(),r.init(),r||Kp(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Qp(t,n);var r=a.prototype;return r.minus=function(){return this.decrement()},r.plus=function(){return this.increment()},r.decrement=function(){var e=this;return e.setValue(e.value-e.step,!1,!0)},r.increment=function(){var e=this;return e.setValue(e.value+e.step,!1,!0)},r.setValue=function(e,t,n){var a=this,r=a.step,o=a.min,s=a.max,i=a.value,l=Math.round(e/r)*r;if(a.params.wraps&&n?(l>s&&(l=o),l<o&&(l=s)):l=Math.max(Math.min(l,s),o),Number.isNaN(l)&&(l=i),a.value=l,!(i!==l)&&!t)return a;a.$el.trigger("stepper:change",a.value);var c=a.formatValue(a.value);return a.$inputEl&&a.$inputEl.length&&(a.$inputEl.val(c),a.$inputEl.trigger("input change",{sentByF7Stepper:!0})),a.$valueEl&&a.$valueEl.length&&a.$valueEl.html(c),a.emit("local::change stepperChange",a,a.value),a},r.endTypeMode=function(e){var t=this,n=t.min,a=t.max,r=parseFloat(t.value);if(Number.isNaN(r)&&(r=0),r=Math.max(Math.min(r,a),n),t.value=r,!t.typeModeChanged)return t.$inputEl&&t.$inputEl.length&&!e&&t.$inputEl.blur(),t;t.typeModeChanged=!1,t.$el.trigger("stepper:change",t.value);var o=t.formatValue(t.value);return t.$inputEl&&t.$inputEl.length&&(t.$inputEl.val(o),t.$inputEl.trigger("input change",{sentByF7Stepper:!0}),e||t.$inputEl.blur()),t.$valueEl&&t.$valueEl.length&&t.$valueEl.html(o),t.emit("local::change stepperChange",t,t.value),t},r.typeValue=function(e){var t=this;t.typeModeChanged=!0;var n=String(e);if(1===n.length&&"-"===n)return t;if(n.lastIndexOf(".")+1!==n.length&&n.lastIndexOf(",")+1!==n.length){var a=parseFloat(n.replace(",","."));if(0===a)return t.value=n.replace(",","."),t.$inputEl.val(t.value),t;if(Number.isNaN(a))return t.value=0,t.$inputEl.val(t.value),t;var r=Math.pow(10,t.params.decimalPoint);return a=Math.round(a*r).toFixed(t.params.decimalPoint+1)/r,t.value=parseFloat(String(a).replace(",",".")),t.$inputEl.val(t.value),t}return n.lastIndexOf(".")!==n.indexOf(".")||n.lastIndexOf(",")!==n.indexOf(",")?(n=n.slice(0,-1),t.value=n,t.$inputEl.val(t.value),t):(t.value=n,t.$inputEl.val(n),t)},r.getValue=function(){return this.value},r.formatValue=function(e){var t=this;return t.params.formatValue?t.params.formatValue.call(t,e):e},r.init=function(){var e=this;if(e.attachEvents(),e.$valueEl&&e.$valueEl.length){var t=e.formatValue(e.value);e.$valueEl.html(t)}return e},r.destroy=function(){var e=this;e.$el.trigger("stepper:beforedestroy"),e.emit("local::beforeDestroy stepperBeforeDestroy",e),delete e.$el[0].f7Stepper,e.detachEvents(),vs(e),e=null},a}(Us),Jp=Zp,ed={name:"stepper",create:function(){var e=this;e.stepper=Os(Dl({defaultSelector:".stepper",constructor:Jp,app:e,domProp:"f7Stepper"}),{getValue:function(t){void 0===t&&(t=".stepper");var n=e.stepper.get(t);if(n)return n.getValue()},setValue:function(t,n){void 0===t&&(t=".stepper");var a=e.stepper.get(t);if(a)return a.setValue(n)}})},static:{Stepper:Jp},on:{tabMounted:function(e){var t=this;Bl(e).find(".stepper-init").each((function(e){var n=Bl(e).dataset();t.stepper.create(Os({el:e},n||{}))}))},tabBeforeRemove:function(e){Bl(e).find(".stepper-init").each((function(e){e.f7Stepper&&e.f7Stepper.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".stepper-init").each((function(e){var n=Bl(e).dataset();t.stepper.create(Os({el:e},n||{}))}))},pageBeforeRemove:function(e){e.$el.find(".stepper-init").each((function(e){e.f7Stepper&&e.f7Stepper.destroy()}))}},vnode:{"stepper-init":{insert:function(e){var t=e.elm,n=Bl(t).dataset();this.stepper.create(Os({el:t},n||{}))},destroy:function(e){var t=e.elm;t.f7Stepper&&t.f7Stepper.destroy()}}}};function td(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ad(e,t){return ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ad(e,t)}var rd=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=nd(a=e.call(this,n,[t])||this),o=Os({on:{}},t.params.smartSelect);void 0===o.searchbarDisableButton&&(o.searchbarDisableButton="aurora"!==t.theme),r.useModulesParams(o),r.params=Os({},o,n),r.app=t;var s=Bl(r.params.el).eq(0);if(0===s.length)return r||nd(a);if(s[0].f7SmartSelect)return s[0].f7SmartSelect||nd(a);var i,l=s.find("select").eq(0);if(0===l.length)return r||nd(a);r.params.setValueText&&(0===(i=Bl(r.params.valueEl)).length&&(i=s.find(".item-after")),0===i.length&&(i=Bl('<div class="item-after"></div>')).insertAfter(s.find(".item-title")));var c=n.url;c||(s.attr("href")&&"#"!==s.attr("href")?c=s.attr("href"):l.attr("name")&&(c=l.attr("name").toLowerCase()+"-select/")),c||(c=r.params.url);var u=l[0].multiple,p=u?"checkbox":"radio",d=us();function f(){r.open()}function h(){var e=r.$selectEl.val();r.$el.trigger("smartselect:change",e),r.emit("local::change smartSelectChange",r,e),r.vl&&r.vl.clearCache(),r.setValueText()}function m(){var e,t,n,a=this,o=a.value,s=[];if("checkbox"===a.type){for(var i=0;i<r.selectEl.options.length;i+=1)(e=r.selectEl.options[i]).value===o&&(e.selected=a.checked),e.selected&&(t=(n=e.dataset?e.dataset.displayAs:Bl(e).data("display-value-as"))&&void 0!==n?n:e.textContent,s.push(t.trim()));r.maxLength&&r.checkMaxLength()}else(e=r.$selectEl.find('option[value="'+o+'"]')[0])||(e=r.$selectEl.find("option").filter((function(e){return e.value===o}))[0]),s=[t=(n=e.dataset?e.dataset.displayAs:Bl(e).data("display-as"))&&void 0!==n?n:e.textContent],r.selectEl.value=o;r.$selectEl.trigger("change"),r.params.setValueText&&r.$valueEl.text(r.formatValueText(s)),r.params.closeOnSelect&&"radio"===r.inputType&&r.close()}return Os(r,{$el:s,el:s[0],$selectEl:l,selectEl:l[0],$valueEl:i,valueEl:i&&i[0],url:c,multiple:u,inputType:p,id:d,inputName:p+"-"+d,selectName:l.attr("name"),maxLength:l.attr("maxlength")||n.maxLength}),s[0].f7SmartSelect=r,r.attachEvents=function(){s.on("click",f),s.on("change","select",h)},r.detachEvents=function(){s.off("click",f),s.off("change","select",h)},r.attachInputsEvents=function(){r.$containerEl.on("change",'input[type="checkbox"], input[type="radio"]',m)},r.detachInputsEvents=function(){r.$containerEl.off("change",'input[type="checkbox"], input[type="radio"]',m)},r.useModules(),r.init(),r||nd(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,ad(t,n);var r,o,s,i=a.prototype;return i.setValue=function(e){var t,n,a,r=this,o=e,s=[];if(r.multiple){Array.isArray(o)||(o=[o]);for(var i=0;i<r.selectEl.options.length;i+=1)t=r.selectEl.options[i],o.indexOf(t.value)>=0?t.selected=!0:t.selected=!1,t.selected&&(a=(n=t.dataset?t.dataset.displayAs:Bl(t).data("display-value-as"))&&void 0!==n?n:t.textContent,s.push(a.trim()))}else(t=r.$selectEl.find('option[value="'+o+'"]')[0])&&(s=[a=(n=t.dataset?t.dataset.displayAs:Bl(t).data("display-as"))&&void 0!==n?n:t.textContent]),r.selectEl.value=o;return r.params.setValueText&&r.$valueEl.text(r.formatValueText(s)),r.$selectEl.trigger("change"),r},i.unsetValue=function(){var e=this;e.params.setValueText&&e.$valueEl.text(e.formatValueText([])),e.$selectEl.find("option").each((function(e){e.selected=!1,e.checked=!1})),e.$selectEl[0].value=null,e.$containerEl&&e.$containerEl.find('input[name="'+e.inputName+'"][type="checkbox"], input[name="'+e.inputName+'"][type="radio"]').prop("checked",!1),e.$selectEl.trigger("change")},i.getValue=function(){return this.$selectEl.val()},i.checkMaxLength=function(){var e=this,t=e.$containerEl;e.selectEl.selectedOptions.length>=e.maxLength?t.find('input[type="checkbox"]').each((function(e){e.checked?Bl(e).parents("li").removeClass("disabled"):Bl(e).parents("li").addClass("disabled")})):t.find(".disabled").removeClass("disabled")},i.formatValueText=function(e){var t=this;return t.params.formatValueText?t.params.formatValueText.call(t,e,t):e.join(", ")},i.setValueText=function(e){var t=this,n=[];void 0!==e?n=Array.isArray(e)?e:[e]:t.$selectEl.find("option").each((function(e){var t=Bl(e);if(e.selected){var a=e.dataset?e.dataset.displayAs:t.data("display-value-as");a&&void 0!==a?n.push(a):n.push(e.textContent.trim())}})),t.params.setValueText&&t.$valueEl.text(t.formatValueText(n))},i.getItemsData=function(){var e,t=this,n=t.app.theme,a=[];return t.$selectEl.find("option").each((function(r){var o=Bl(r),s=o.dataset(),i=s.optionImage||t.params.optionImage,l=s.optionIcon||t.params.optionIcon,c="ios"===n&&(s.optionIconIos||t.params.optionIconIos),u="md"===n&&(s.optionIconMd||t.params.optionIconMd),p="aurora"===n&&(s.optionIconAurora||t.params.optionIconAurora),d=i||l||c||u||p,f=s.optionColor,h=s.optionClass||"";o[0].disabled&&(h+=" disabled");var m=o.parent("optgroup")[0],g=m&&m.label,v=!1;m&&m!==e&&(v=!0,e=m,a.push({groupLabel:g,isLabel:v})),a.push({value:o[0].value,text:o[0].textContent.trim(),selected:o[0].selected,groupEl:m,groupLabel:g,image:i,icon:l,iconIos:c,iconMd:u,iconAurora:p,color:f,className:h,disabled:o[0].disabled,id:t.id,hasMedia:d,checkbox:"checkbox"===t.inputType,radio:"radio"===t.inputType,inputName:t.inputName,inputType:t.inputType})})),t.items=a,a},i.renderSearchbar=function(){var e=this;return e.params.renderSearchbar?e.params.renderSearchbar.call(e):bu("form",{class:"searchbar"},bu("div",{class:"searchbar-inner"},bu("div",{class:"searchbar-input-wrap"},bu("input",{type:"search",spellcheck:e.params.searchbarSpellcheck||"false",placeholder:e.params.searchbarPlaceholder}),bu("i",{class:"searchbar-icon"}),bu("span",{class:"input-clear-button"})),e.params.searchbarDisableButton&&bu("span",{class:"searchbar-disable-button"},e.params.searchbarDisableText)))},i.renderItem=function(e,t){var n,a,r=this;if(r.params.renderItem)return r.params.renderItem.call(r,e,t);if(e.isLabel)n='<li class="item-divider">'+e.groupLabel+"</li>";else{var o,s=e.selected;if(r.params.virtualList){var i=r.getValue();s=r.multiple?i.indexOf(e.value)>=0:i===e.value,r.multiple&&(o=r.multiple&&!s&&i.length===parseInt(r.maxLength,10))}var l=e.icon,c=e.iconIos,u=e.iconMd,p=e.iconAurora,d=l||c||u||p,f=(void 0===(a=l||c||u||p||"")&&(a=""),a.indexOf(":")>=0?a.split(":")[1]:""),h=function(e){if(void 0===e&&(e=""),e.indexOf(":")>=0){var t=e.split(":")[0];return"f7"===t&&(t="f7-icons"),"material"===t&&(t="material-icons"),t}return e}(l||c||u||p||"");n=bu("li",{class:(e.className||"")+(o?" disabled":"")},bu("label",{class:"item-"+e.inputType+" item-content"},bu("input",{type:e.inputType,name:e.inputName,value:e.value,_checked:s}),bu("i",{class:"icon icon-"+e.inputType}),e.hasMedia&&bu("div",{class:"item-media"},d&&bu("i",{class:"icon "+h},f),e.image&&bu("img",{src:e.image})),bu("div",{class:"item-inner"},bu("div",{class:"item-title"+(e.color?" text-color-"+e.color:"")},e.text))))}return n},i.renderItems=function(){var e=this;if(e.params.renderItems)return e.params.renderItems.call(e,e.items);var t="\n      "+e.items.map((function(t,n){return""+e.renderItem(t,n)})).join("")+"\n    ";return t},i.renderPage=function(){var e=this;if(e.params.renderPage)return e.params.renderPage.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var a=e.params.cssClass;return bu("div",{class:"page smart-select-page "+a,"data-name":"smart-select-page","data-select-name":e.selectName},bu("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},bu("div",{class:"navbar-bg"}),bu("div",{class:"navbar-inner sliding "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},bu("div",{class:"left"},bu("a",{class:"link back"},bu("i",{class:"icon icon-back"}),bu("span",{class:"if-not-md"},e.params.pageBackLinkText))),t&&bu("div",{class:"title"},t),e.params.searchbar&&bu("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&bu("div",{class:"searchbar-backdrop"}),bu("div",{class:"page-content"},bu("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},bu("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))},i.renderPopup=function(){var e=this;if(e.params.renderPopup)return e.params.renderPopup.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var a=e.params.cssClass||"";return bu("div",{class:"popup smart-select-popup "+a+" "+(e.params.popupTabletFullscreen?"popup-tablet-fullscreen":""),"data-select-name":e.selectName},bu("div",{class:"view"},bu("div",{class:"page smart-select-page "+(e.params.searchbar?"page-with-subnavbar":""),"data-name":"smart-select-page"},bu("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},bu("div",{class:"navbar-bg"}),bu("div",{class:"navbar-inner sliding"},t&&bu("div",{class:"title"},t),bu("div",{class:"right"},bu("a",{class:"link popup-close","data-popup":".smart-select-popup[data-select-name='"+e.selectName+"']"},e.params.popupCloseLinkText)),e.params.searchbar&&bu("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&bu("div",{class:"searchbar-backdrop"}),bu("div",{class:"page-content"},bu("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},bu("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))))},i.renderSheet=function(){var e=this;if(e.params.renderSheet)return e.params.renderSheet.call(e,e.items);var t=e.params.cssClass;return bu("div",{class:"sheet-modal smart-select-sheet "+t,"data-select-name":e.selectName},bu("div",{class:"toolbar toolbar-top "+(e.params.toolbarColorTheme?"color-"+e.params.toolbarColorTheme:"")},bu("div",{class:"toolbar-inner"},bu("div",{class:"left"}),bu("div",{class:"right"},bu("a",{class:"link sheet-close"},e.params.sheetCloseLinkText)))),bu("div",{class:"sheet-modal-inner"},bu("div",{class:"page-content"},bu("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},bu("ul",null,!e.params.virtualList&&e.renderItems(e.items))))))},i.renderPopover=function(){var e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e.items);var t=e.params.cssClass;return bu("div",{class:"popover smart-select-popover "+t,"data-select-name":e.selectName},bu("div",{class:"popover-inner"},bu("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},bu("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))},i.scrollToSelectedItem=function(){var e=this,t=e.params,n=e.$containerEl;if(!e.opened)return e;if(t.virtualList){var a;e.vl.items.forEach((function(e,t){void 0===a&&e.selected&&(a=t)})),void 0!==a&&e.vl.scrollToItem(a)}else{var r=n.find("input:checked").parents("li");if(!r.length)return e;var o=n.find(".page-content, .popover-inner");if(!o.length)return e;o.scrollTop(r.offset().top-o.offset().top-parseInt(o.css("padding-top"),10))}return e},i.onOpen=function(e,t){var n=this,a=n.app,r=Bl(t);if(n.$containerEl=r,n.openedIn=e,n.opened=!0,n.params.virtualList&&(n.vl=a.virtualList.create({el:r.find(".virtual-list"),items:n.items,renderItem:n.renderItem.bind(n),height:n.params.virtualListHeight,searchByItem:function(e,t){return!!(t.text&&t.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0)}})),n.params.scrollToSelectedItem&&n.scrollToSelectedItem(),n.params.searchbar){var o=r.find(".searchbar");if("page"===e&&"ios"===a.theme&&(o=Bl(a.navbar.getElByPage(r)).find(".searchbar")),n.params.appendSearchbarNotFound&&("page"===e||"popup"===e)){var s=null;(s="string"==typeof n.params.appendSearchbarNotFound?Bl('<div class="block searchbar-not-found">'+n.params.appendSearchbarNotFound+"</div>"):"boolean"==typeof n.params.appendSearchbarNotFound?Bl('<div class="block searchbar-not-found">Nothing found</div>'):n.params.appendSearchbarNotFound)&&r.find(".page-content").append(s[0])}var i=Os({el:o,backdropEl:r.find(".searchbar-backdrop"),searchContainer:".smart-select-list-"+n.id,searchIn:".item-title"},"object"==typeof n.params.searchbar?n.params.searchbar:{});n.searchbar=a.searchbar.create(i)}n.maxLength&&n.checkMaxLength(),n.params.closeOnSelect&&n.$containerEl.find('input[type="radio"][name="'+n.inputName+'"]:checked').parents("label").once("click",(function(){n.close()})),n.attachInputsEvents(),n.$el.trigger("smartselect:open"),n.emit("local::open smartSelectOpen",n)},i.onOpened=function(){var e=this;e.$el.trigger("smartselect:opened"),e.emit("local::opened smartSelectOpened",e)},i.onClose=function(){var e=this;e.destroyed||(e.vl&&e.vl.destroy&&(e.vl.destroy(),e.vl=null,delete e.vl),e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),e.detachInputsEvents(),e.$el.trigger("smartselect:close"),e.emit("local::close smartSelectClose",e))},i.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$containerEl=null,delete e.$containerEl,e.$el.trigger("smartselect:closed"),e.emit("local::closed smartSelectClosed",e))},i.openPage=function(){var e=this;if(e.opened)return e;e.getItemsData();var t=e.renderPage(e.items);return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e},i.openPopup=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopup(e.items),push:e.params.popupPush,swipeToClose:e.params.popupSwipeToClose,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},i.openSheet=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderSheet(e.items),backdrop:e.params.sheetBackdrop,scrollToEl:e.$el,closeByOutsideClick:!0,push:e.params.sheetPush,swipeToClose:e.params.sheetSwipeToClose,on:{sheetOpen:function(t){e.onOpen("sheet",t.el)},sheetOpened:function(t){e.onOpened("sheet",t.el)},sheetClose:function(t){e.onClose("sheet",t.el)},sheetClosed:function(t){e.onClosed("sheet",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,sheet:t}}):e.modal=e.app.sheet.create(t).open(),e},i.openPopover=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopover(e.items),targetEl:e.$el,on:{popoverOpen:function(t){e.onOpen("popover",t.el)},popoverOpened:function(t){e.onOpened("popover",t.el)},popoverClose:function(t){e.onClose("popover",t.el)},popoverClosed:function(t){e.onClosed("popover",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popover:t}}):e.modal=e.app.popover.create(t).open(),e},i.open=function(e){var t=this;if(t.opened)return t;var n=!1;function a(){n=!0}return t.$el&&t.$el.trigger("smartselect:beforeopen",{prevent:a}),t.emit("local::beforeOpen smartSelectBeforeOpen",t,a),n||t["open"+(e||t.params.openIn).split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")](),t},i.close=function(){var e=this;return e.opened?(e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back():(e.modal.once("modalClosed",(function(){xs((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},i.init=function(){this.attachEvents(),this.setValueText()},i.destroy=function(){var e=this;e.emit("local::beforeDestroy smartSelectBeforeDestroy",e),e.$el.trigger("smartselect:beforedestroy"),e.detachEvents(),delete e.$el[0].f7SmartSelect,vs(e),e.destroyed=!0},r=a,o=[{key:"view",get:function(){var e,t=this.params,n=this.$el;if(t.view&&(e=t.view),e||(e=n.parents(".view").length&&n.parents(".view")[0].f7View),!e&&"page"===t.openIn)throw Error("Smart Select requires initialized View");return e}}],o&&td(r.prototype,o),s&&td(r,s),a}(Us),od=rd,sd={name:"smartSelect",params:{smartSelect:{el:void 0,valueEl:void 0,setValueText:!0,formatValueText:null,openIn:"page",popupPush:!1,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,sheetBackdrop:!1,pageTitle:void 0,pageBackLinkText:"Back",popupCloseLinkText:"Close",popupTabletFullscreen:!1,sheetCloseLinkText:"Done",searchbar:!1,searchbarPlaceholder:"Search",searchbarDisableText:"Cancel",searchbarDisableButton:void 0,searchbarSpellcheck:!1,closeOnSelect:!1,virtualList:!1,virtualListHeight:void 0,scrollToSelectedItem:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!1,url:"select/",cssClass:"",renderPage:void 0,renderPopup:void 0,renderSheet:void 0,renderPopover:void 0,renderItems:void 0,renderItem:void 0,renderSearchbar:void 0}},static:{SmartSelect:od},create:function(){var e=this;e.smartSelect=Os(Dl({defaultSelector:".smart-select",constructor:od,app:e,domProp:"f7SmartSelect"}),{open:function(t){var n=e.smartSelect.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.smartSelect.get(t);if(n&&n.close)return n.close()}})},on:{tabMounted:function(e){var t=this;Bl(e).find(".smart-select-init").each((function(e){t.smartSelect.create(Os({el:e},Bl(e).dataset()))}))},tabBeforeRemove:function(e){Bl(e).find(".smart-select-init").each((function(e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".smart-select-init").each((function(e){t.smartSelect.create(Os({el:e},Bl(e).dataset()))}))},pageBeforeRemove:function(e){e.$el.find(".smart-select-init").each((function(e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))}},clicks:{".smart-select":function(e,t){e[0].f7SmartSelect||this.smartSelect.create(Os({el:e},t)).open()}},vnode:{"smart-select-init":{insert:function(e){var t=e.elm;this.smartSelect.create(Os({el:t},Bl(t).dataset()))},destroy:function(e){var t=e.elm;t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()}}}};function id(e,t){var n=t.css("min-"+e);return"auto"===n||"none"===n?n=0:n.indexOf("px")>=0?n=parseFloat(n):n.indexOf("%")>=0&&(n=t.parent()[0]["height"===e?"offsetHeight":"offsetWidth"]*parseFloat(n)/100),n}function ld(e,t){var n=t.css("max-"+e);return"auto"===n||"none"===n?n=null:n.indexOf("px")>=0?n=parseFloat(n):n.indexOf("%")>=0&&(n=t.parent()[0]["height"===e?"offsetHeight":"offsetWidth"]*parseFloat(n)/100),n}var cd={init:function(){var e,t,n,a,r,o,s,i,l,c,u,p,d,f,h,m,g,v=this;var b=os();Bl(b).on(v.touchEvents.start,".col > .resize-handler, .row > .resize-handler",(function(i){e||t||(r=Bl(i.target).closest(".resize-handler"),n="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,a="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY,e=!0,o=void 0,s=void 0,g=void 0)})),v.on("touchmove",(function(b){if(e){var y=1===r.parent(".row").length,x=y?"height":"width",w=y?"offsetHeight":"offsetWidth";t||(!(o=r.parent(y?".row":".col")).length||o.hasClass("resizable")&&!o.hasClass("resizable-fixed")||(o=o.prevAll(".resizable:not(.resizable-fixed)").eq(0)),!(s=o.next(y?".row":".col")).length||s.hasClass("resizable")&&!s.hasClass("resizable-fixed")||(s=s.nextAll(".resizable:not(.resizable-fixed)").eq(0)),o.length&&(i=o[0][w],l=id(x,o),c=ld(x,o),f=o.parent()[0][w],h=o.parent().children(y?".row":'[class*="col-"], .col').length,m=parseFloat(o.css(y?"--f7-grid-row-gap":"--f7-grid-gap"))),s.length&&(u=s[0][w],p=id(x,s),d=ld(x,s),o.length||(f=s.parent()[0][w],h=s.parent().children(y?".row":'[class*="col-"], .col').length,m=parseFloat(s.css(y?"--f7-grid-row-gap":"--f7-grid-gap"))))),t=!0;var C="touchmove"===b.type?b.targetTouches[0].pageX:b.pageX,k="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY;if(void 0!==g||y||(g=!!(g||Math.abs(k-a)>Math.abs(C-n))),g)return e=!1,void(t=!1);var E=o.hasClass("resizable-absolute")||s.hasClass("resizable-absolute"),S=!y||y&&!E;if(S&&!s.length||!o.length)return e=!1,void(t=!1);b.preventDefault();var T,$,O=y?k-a:C-n;if(o.length&&((T=i+O)<l&&(O=(T=l)-i),c&&T>c&&(O=(T=c)-i)),s.length&&S&&(($=u-O)<p&&(T=i+(O=u-($=p))),d&&$>d&&(T=i+(O=u-($=d)))),E)return o[0].style[x]=T+"px",S&&(s[0].style[x]=$+"px"),o.trigger("grid:resize"),s.trigger("grid:resize"),v.emit("gridResize",o[0]),void v.emit("gridResize",s[0]);var I=(h-1)*m/h,N=y?h-1+" * var(--f7-grid-row-gap) / "+h:"(var(--f7-cols-per-row) - 1) * var(--f7-grid-gap) / var(--f7-cols-per-row)",R=T+I,P=$+I;o[0].style[x]="calc("+R/f*100+"% - "+N+")",s[0].style[x]="calc("+P/f*100+"% - "+N+")",o.trigger("grid:resize"),s.trigger("grid:resize"),v.emit("gridResize",o[0]),v.emit("gridResize",s[0])}})),v.on("touchend",(function(){e&&(t||(e=!1),e=!1,t=!1)}))}},ud={name:"grid",create:function(){Os(this,{grid:{init:cd.init.bind(this)}})},on:{init:function(){this.grid.init()}}};function pd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function dd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fd(e,t){return fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fd(e,t)}var hd=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o,s=dd(a=e.call(this,n,[t])||this);if(s.params=Os({},t.params.calendar,n),s.params.containerEl&&0===(r=Bl(s.params.containerEl)).length)return s||dd(a);s.params.inputEl&&(o=Bl(s.params.inputEl));var i="horizontal"===s.params.direction,l=1;i&&(l=t.rtl?-1:1),Os(s,{app:t,$containerEl:r,containerEl:r&&r[0],inline:r&&r.length>0,$inputEl:o,inputEl:o&&o[0],initialized:!1,opened:!1,url:s.params.url,isHorizontal:i,inverter:l,animating:!1,allowTouchMove:!0,hasTimePicker:s.params.timePicker&&!s.params.rangePicker&&!s.params.multiple}),s.dayFormatter=function(e){return new Intl.DateTimeFormat(s.params.locale,{day:"numeric"}).format(e).replace(//,"")},s.monthFormatter=function(e){return new Intl.DateTimeFormat(s.params.locale,{month:"long"}).format(e)},s.yearFormatter=function(e){return new Intl.DateTimeFormat(s.params.locale,{year:"numeric"}).format(e)},s.timeSelectorFormatter=function(e){return new Intl.DateTimeFormat(s.params.locale,s.params.timePickerFormat).format(e)};var c=s.timeSelectorFormatter(new Date).toLowerCase();s.is12HoursFormat=c.indexOf("pm")>=0||c.indexOf("am")>=0;var u=s.params,p=u.monthNames,d=u.monthNamesShort,f=u.dayNames,h=u.dayNamesShort,m=s.getIntlNames(),g=m.monthNamesIntl,v=m.monthNamesShortIntl,b=m.dayNamesIntl,y=m.dayNamesShortIntl;function x(){s.open()}function w(e){e.preventDefault()}function C(){s.setValue([]),s.opened&&s.update()}function k(e){var t=Bl(e.target);!s.destroyed&&s.params&&(s.isPopover()||s.opened&&!s.closing&&(t.closest('[class*="backdrop"]').length||(o&&o.length>0?t[0]!==o[0]&&0===t.closest(".sheet-modal, .calendar-modal").length&&s.close():0===Bl(e.target).closest(".sheet-modal, .calendar-modal").length&&s.close())))}return"auto"===p&&(p=g),"auto"===d&&(d=v),"auto"===f&&(f=b),"auto"===h&&(h=y),Os(s,{monthNames:p,monthNamesShort:d,dayNames:f,dayNamesShort:h}),Os(s,{attachInputEvents:function(){s.$inputEl.on("click",x),s.$inputEl.on("input:clear",C),s.params.inputReadOnly&&(s.$inputEl.on("focus mousedown",w),s.$inputEl[0]&&(s.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){s.$inputEl.off("click",x),s.$inputEl.off("input:clear",C),s.params.inputReadOnly&&(s.$inputEl.off("focus mousedown",w),s.$inputEl[0]&&delete s.$inputEl[0].f7ValidateReadonly)},attachHtmlEvents:function(){t.on("click",k)},detachHtmlEvents:function(){t.off("click",k)}}),s.attachCalendarEvents=function(){var e,n,a,r,o,i,l,c,u,p,d,f,h,m=!0,g=s.$el,v=s.$wrapperEl;function b(t){n||e||(e=!0,a="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,o=a,r="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,i=r,l=(new Date).getTime(),d=0,m=!0,h=void 0,c=s.monthsTranslate)}function y(t){if(e){var l=s.isHorizontal;o="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,i="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===h&&(h=!!(h||Math.abs(i-r)>Math.abs(o-a))),l&&h||!s.allowTouchMove?e=!1:(t.preventDefault(),s.animating?e=!1:(m=!1,n||(n=!0,u=v[0].offsetWidth,p=v[0].offsetHeight,v.transition(0)),d=(f=l?o-a:i-r)/(l?u:p),c=100*(s.monthsTranslate*s.inverter+d),v.transform("translate3d("+(l?c:0)+"%, "+(l?0:c)+"%, 0)")))}}function x(){if(!e||!n)return e=!1,void(n=!1);e=!1,n=!1,(new Date).getTime()-l<300?Math.abs(f)<10?s.resetMonth():f>=10?t.rtl?s.nextMonth():s.prevMonth():t.rtl?s.prevMonth():s.nextMonth():d<=-.5?t.rtl?s.prevMonth():s.nextMonth():d>=.5?t.rtl?s.nextMonth():s.prevMonth():s.resetMonth(),setTimeout((function(){m=!0}),100)}function w(e){if(m){var t=Bl(e.target).parents(".calendar-day");if(0===t.length&&Bl(e.target).hasClass("calendar-day")&&(t=Bl(e.target)),0!==t.length&&!t.hasClass("calendar-day-disabled")){s.params.rangePicker||(t.hasClass("calendar-day-next")&&s.nextMonth(),t.hasClass("calendar-day-prev")&&s.prevMonth());var n=parseInt(t.attr("data-year"),10),a=parseInt(t.attr("data-month"),10),r=parseInt(t.attr("data-day"),10);if(s.emit("local::dayClick calendarDayClick",s,t[0],n,a,r),!t.hasClass("calendar-day-selected")||s.params.multiple||s.params.rangePicker){var o=new Date(n,a,r,0,0,0);s.hasTimePicker&&(s.value&&s.value[0]?o.setHours(s.value[0].getHours(),s.value[0].getMinutes()):o.setHours((new Date).getHours(),(new Date).getMinutes())),s.addValue(o)}s.params.closeOnSelect&&(s.params.rangePicker&&2===s.value.length||!s.params.rangePicker)&&s.close()}}}function C(){s.nextMonth()}function k(){s.prevMonth()}function E(){s.nextYear()}function S(){s.prevYear()}function T(){g.append(s.renderMonthPicker())}function $(){var e=Bl(this);if(e.hasClass("calendar-month-picker-item-current"))g.find(".calendar-month-picker").remove();else{g.find(".calendar-month-picker-item-current").add(e).toggleClass("calendar-month-picker-item-current");var t=e.index()-(parseInt(s.$el.find(".calendar-month-current").attr("data-locale-month"),10)-s.currentMonth);s.setYearMonth(s.currentYear,t,0),setTimeout((function(){g.find(".calendar-month-picker").remove()}),200)}}function O(){g.append(s.renderYearPicker());var e=g.find(".calendar-year-picker-item-current"),t=g.find(".calendar-year-picker");e&&e.length&&t.scrollTop(e[0].offsetTop-t[0].offsetHeight/2+e[0].offsetHeight/2)}function I(){var e=Bl(this);if(e.hasClass("calendar-year-picker-item-current"))g.find(".calendar-year-picker").remove();else{g.find(".calendar-year-picker-item-current").add(e).toggleClass("calendar-year-picker-item-current");var t=parseInt(e.attr("data-year"),10);s.setYearMonth(t,void 0,0),setTimeout((function(){g.find(".calendar-year-picker").remove()}),200)}}function N(){s.openTimePicker()}function R(){s.closeTimePicker()}var P=!("touchstart"!==t.touchEvents.start||!Ds().passiveListener)&&{passive:!0,capture:!1};g.find(".calendar-prev-month-button").on("click",k),g.find(".calendar-next-month-button").on("click",C),g.find(".calendar-prev-year-button").on("click",S),g.find(".calendar-next-year-button").on("click",E),s.params.monthPicker&&(g.find(".current-month-value").on("click",T),g.on("click",".calendar-month-picker-item",$)),s.params.yearPicker&&(g.find(".current-year-value").on("click",O),g.on("click",".calendar-year-picker-item",I)),s.hasTimePicker&&(g.find(".calendar-time-selector a").on("click",N),g.on("click",".calendar-time-picker-close",R)),v.on("click",w),s.params.touchMove&&(v.on(t.touchEvents.start,b,P),t.on("touchmove:active",y),t.on("touchend:passive",x)),s.detachCalendarEvents=function(){g.find(".calendar-prev-month-button").off("click",k),g.find(".calendar-next-month-button").off("click",C),g.find(".calendar-prev-year-button").off("click",S),g.find(".calendar-next-year-button").off("click",E),s.params.monthPicker&&(g.find(".current-month-value").off("click",T),g.off("click",".calendar-month-picker-item",$)),s.params.yearPicker&&(g.find(".current-year-value").off("click",O),g.off("click",".calendar-year-picker-item",I)),s.hasTimePicker&&(g.find(".calendar-time-selector a").off("click",N),g.off("click",".calendar-time-picker-close",R)),v.off("click",w),s.params.touchMove&&(v.off(t.touchEvents.start,b,P),t.off("touchmove:active",y),t.off("touchend:passive",x))}},s.init(),s||dd(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,fd(t,n);var r,o,s,i=a.prototype;return i.getIntlNames=function(){for(var e,t,n,a=this.params.locale,r=[],o=[],s=[],i=[],l=new Intl.DateTimeFormat(a,{month:"long"}),c=new Intl.DateTimeFormat(a,{month:"short"}),u=new Intl.DateTimeFormat(a,{weekday:"long"}),p=new Intl.DateTimeFormat(a,{weekday:"short"}),d=0;d<24;d+=1){var f=(new Date).setMonth(d,1),h=this.yearFormatter(f);e&&h!==e&&(t&&(n=!0),t=!0,e=h),e||(e=h),t&&e===h&&!n&&(r.push(l.format(f)),o.push(c.format(f)))}for(var m=(new Date).getDay(),g=0;g<7;g+=1){var v=(new Date).getTime()+24*(g-m)*60*60*1e3;s.push(u.format(v)),i.push(p.format(v))}return{monthNamesIntl:r,monthNamesShortIntl:o,dayNamesIntl:s,dayNamesShortIntl:i}},i.normalizeDate=function(e){var t=new Date(e);return this.hasTimePicker?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()):new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.normalizeValues=function(e){var t=this,n=[];return e&&Array.isArray(e)&&(n=e.map((function(e){return t.normalizeDate(e)}))),n},i.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},i.isPopover=function(){var e=this,t=e.app,n=e.modal,a=e.params,r=Fs();if("sheet"===a.openIn)return!1;if(n&&"popover"!==n.type)return!1;if(!e.inline&&e.inputEl){if("popover"===a.openIn)return!0;if(r.ios)return!!r.ipad;if(t.width>=768)return!0;if(r.desktop&&"aurora"===t.theme)return!0}return!1},i.formatDate=function(e){var t=this,n=new Date(e),a=n.getFullYear(),r=n.getMonth(),o=r+1,s=n.getDate(),i=n.getDay(),l=t.monthNames,c=t.monthNamesShort,u=t.dayNames,p=t.dayNamesShort,d=t.params,f=d.dateFormat,h=d.locale;function m(e){return e<10?"0"+e:e}if("string"==typeof f){var g={yyyy:a,yy:String(a).substring(2),mm:m(o),m:o,MM:l[r],M:c[r],dd:m(s),d:s,DD:u[i],D:p[i]};if(t.params.timePicker){var v=n.getHours(),b=n.getMinutes(),y=n.getSeconds(),x=v;v>12&&(x=v-12),0===v&&(x=12);var w=v>=12&&0!==v?"pm":"am";Object.assign(g,{HH:m(v),H:v,hh:m(x),h:x,ss:m(y),s:y,":mm":m(b),":m":b,a:w,A:w.toUpperCase()})}var C=new RegExp(Object.keys(g).map((function(e){return"("+e+")"})).join("|"),"g");return f.replace(C,(function(e){return e in g?g[e]:e}))}return"function"==typeof f?f(n):new Intl.DateTimeFormat(h,f).format(n)},i.formatValue=function(){var e=this,t=e.value;return e.params.formatValue?e.params.formatValue.call(e,t):t.map((function(t){return e.formatDate(t)})).join(e.params.rangePicker?" - ":", ")},i.addValue=function(e){var t=this,n=t.params,a=n.multiple,r=n.rangePicker,o=n.rangePickerMinDays,s=n.rangePickerMaxDays;if(a){var i;t.value||(t.value=[]);for(var l=0;l<t.value.length;l+=1)new Date(e).getTime()===new Date(t.value[l]).getTime()&&(i=l);void 0===i?t.value.push(e):t.value.splice(i,1),t.updateValue()}else r?(t.value||(t.value=[]),2!==t.value.length&&0!==t.value.length||(t.value=[]),0===t.value.length||Math.abs(t.value[0].getTime()-e.getTime())>=60*(o-1)*60*24*1e3&&(0===s||Math.abs(t.value[0].getTime()-e.getTime())<=60*(s-1)*60*24*1e3)?t.value.push(e):t.value=[],t.value.sort((function(e,t){return e-t})),t.updateValue()):(t.value=[e],t.updateValue())},i.setValue=function(e){var t=this,n=t.value;if(Array.isArray(n)&&Array.isArray(e)&&n.length===e.length){var a=!0;if(n.forEach((function(t,n){t!==e[n]&&(a=!1)})),a)return}t.value=e,t.updateValue()},i.getValue=function(){return this.value},i.updateValue=function(e){var t,n,a=this,r=a.$el,o=a.$wrapperEl,s=a.$inputEl,i=a.value,l=a.params;if(r&&r.length>0)if(o.find(".calendar-day-selected").removeClass("calendar-day-selected calendar-day-selected-range calendar-day-selected-left calendar-day-selected-right"),l.rangePicker&&2===i.length){var c=new Date(i[0]).getTime(),u=new Date(i[1]).getTime();for(t=c;t<=u;t+=864e5){n=new Date(t);var p="calendar-day-selected";c!==u&&(t!==c&&t!==u&&(p+=" calendar-day-selected-range"),t===c&&(p+=" calendar-day-selected-left"),t===u&&(p+=" calendar-day-selected-right")),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass(p)}n=new Date(c),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').removeClass("calendar-day-selected-range").addClass("calendar-day-selected calendar-day-selected-left"),n=new Date(u),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').removeClass("calendar-day-selected-range").addClass("calendar-day-selected calendar-day-selected-right")}else for(t=0;t<a.value.length;t+=1)n=new Date(i[t]),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass("calendar-day-selected");if(e||a.emit("local::change calendarChange",a,i),r&&r.length>0&&a.hasTimePicker&&r.find(".calendar-time-selector a").text(i&&i.length?a.timeSelectorFormatter(i[0]):a.params.timePickerPlaceholder),s&&s.length||l.header){var d=a.formatValue(i);l.header&&r&&r.length&&r.find(".calendar-selected-date").text(d),s&&s.length&&!e&&(s.val(d),s.trigger("change"))}},i.updateCurrentMonthYear=function(e){var t,n,a=this,r=a.$months,o=a.$el,s=a.monthNames;void 0===e?(a.currentMonth=parseInt(r.eq(1).attr("data-month"),10),a.currentYear=parseInt(r.eq(1).attr("data-year"),10),t=r.eq(1).attr("data-locale-month"),n=r.eq(1).attr("data-locale-year")):(a.currentMonth=parseInt(r.eq("next"===e?r.length-1:0).attr("data-month"),10),a.currentYear=parseInt(r.eq("next"===e?r.length-1:0).attr("data-year"),10),t=r.eq("next"===e?r.length-1:0).attr("data-locale-month"),n=r.eq("next"===e?r.length-1:0).attr("data-locale-year")),o.find(".current-month-value").text(s[t]),o.find(".current-year-value").text(n)},i.update=function(){var e=this,t=e.currentYear,n=e.currentMonth,a=e.$wrapperEl,r=new Date(t,n),o=e.renderMonth(r,"prev"),s=e.renderMonth(r),i=e.renderMonth(r,"next");a.transition(0).html(""+o+s+i).transform("translate3d(0,0,0)"),e.$months=a.find(".calendar-month"),e.monthsTranslate=0,e.setMonthsTranslate(),e.$months.each((function(t){e.emit("local::monthAdd calendarMonthAdd",t)}))},i.onMonthChangeStart=function(e){var t=this,n=t.$months,a=t.currentYear,r=t.currentMonth;t.updateCurrentMonthYear(e),n.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var o="next"===e?n.length-1:0;n.eq(o).addClass("calendar-month-current"),n.eq("next"===e?o-1:o+1).addClass("next"===e?"calendar-month-prev":"calendar-month-next"),t.emit("local::monthYearChangeStart calendarMonthYearChangeStart",t,a,r)},i.onMonthChangeEnd=function(e,t){var n,a,r,o=this,s=o.currentYear,i=o.currentMonth,l=o.$wrapperEl,c=o.monthsTranslate;o.animating=!1,l.find(".calendar-month:not(.calendar-month-prev):not(.calendar-month-current):not(.calendar-month-next)").remove(),void 0===e&&(e="next",t=!0),t?(l.find(".calendar-month-next, .calendar-month-prev").remove(),a=o.renderMonth(new Date(s,i),"prev"),n=o.renderMonth(new Date(s,i),"next")):r=o.renderMonth(new Date(s,i),e),("next"===e||t)&&l.append(r||n),("prev"===e||t)&&l.prepend(r||a);var u=l.find(".calendar-month");o.$months=u,o.setMonthsTranslate(c),o.emit("local::monthAdd calendarMonthAdd",o,"next"===e?u.eq(u.length-1)[0]:u.eq(0)[0]),o.emit("local::monthYearChangeEnd calendarMonthYearChangeEnd",o,s,i)},i.setMonthsTranslate=function(e){var t=this,n=t.$months,a=t.isHorizontal,r=t.inverter;e=e||t.monthsTranslate||0,void 0===t.monthsTranslate&&(t.monthsTranslate=e),n.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var o=100*-(e+1)*r,s=100*-e*r,i=100*-(e-1)*r;n.eq(0).transform("translate3d("+(a?o:0)+"%, "+(a?0:o)+"%, 0)").addClass("calendar-month-prev"),n.eq(1).transform("translate3d("+(a?s:0)+"%, "+(a?0:s)+"%, 0)").addClass("calendar-month-current"),n.eq(2).transform("translate3d("+(a?i:0)+"%, "+(a?0:i)+"%, 0)").addClass("calendar-month-next")},i.nextMonth=function(e){var t=this,n=t.params,a=t.$wrapperEl,r=t.inverter,o=t.isHorizontal;void 0!==e&&"object"!=typeof e||(e="",n.animate||(e=0));var s=parseInt(t.$months.eq(t.$months.length-1).attr("data-month"),10),i=parseInt(t.$months.eq(t.$months.length-1).attr("data-year"),10),l=new Date(i,s).getTime(),c=!t.animating;if(n.maxDate&&l>new Date(n.maxDate).getTime())t.resetMonth();else{if(t.monthsTranslate-=1,s===t.currentMonth){var u=100*-t.monthsTranslate*r,p=Bl(t.renderMonth(l,"next")).transform("translate3d("+(o?u:0)+"%, "+(o?0:u)+"%, 0)").addClass("calendar-month-next");a.append(p[0]),t.$months=a.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(t.$months.length-1)[0])}t.animating=!0,t.onMonthChangeStart("next");var d=100*t.monthsTranslate*r;a.transition(e).transform("translate3d("+(o?d:0)+"%, "+(o?0:d)+"%, 0)"),c&&a.transitionEnd((function(){t.onMonthChangeEnd("next")})),n.animate||t.onMonthChangeEnd("next")}},i.prevMonth=function(e){var t=this,n=t.params,a=t.$wrapperEl,r=t.inverter,o=t.isHorizontal;void 0!==e&&"object"!=typeof e||(e="",n.animate||(e=0));var s=parseInt(t.$months.eq(0).attr("data-month"),10),i=parseInt(t.$months.eq(0).attr("data-year"),10),l=new Date(i,s+1,-1).getTime(),c=!t.animating;if(n.minDate){var u=new Date(n.minDate);if(l<(u=new Date(u.getFullYear(),u.getMonth(),1)).getTime())return void t.resetMonth()}if(t.monthsTranslate+=1,s===t.currentMonth){var p=100*-t.monthsTranslate*r,d=Bl(t.renderMonth(l,"prev")).transform("translate3d("+(o?p:0)+"%, "+(o?0:p)+"%, 0)").addClass("calendar-month-prev");a.prepend(d[0]),t.$months=a.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(0)[0])}t.animating=!0,t.onMonthChangeStart("prev");var f=100*t.monthsTranslate*r;a.transition(e).transform("translate3d("+(o?f:0)+"%, "+(o?0:f)+"%, 0)"),c&&a.transitionEnd((function(){t.onMonthChangeEnd("prev")})),n.animate||t.onMonthChangeEnd("prev")},i.resetMonth=function(e){void 0===e&&(e="");var t=this,n=t.$wrapperEl,a=t.inverter,r=t.isHorizontal,o=100*t.monthsTranslate*a;n.transition(e).transform("translate3d("+(r?o:0)+"%, "+(r?0:o)+"%, 0)")},i.setYearMonth=function(e,t,n){var a,r=this,o=r.params,s=r.isHorizontal,i=r.$wrapperEl,l=r.inverter;if(void 0===e&&(e=r.currentYear),void 0===t&&(t=r.currentMonth),void 0!==n&&"object"!=typeof n||(n="",o.animate||(n=0)),a=e<r.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),o.maxDate&&a>new Date(o.maxDate).getTime())return!1;if(o.minDate){var c=new Date(o.minDate);if(a<(c=new Date(c.getFullYear(),c.getMonth(),1)).getTime())return!1}var u=new Date(r.currentYear,r.currentMonth).getTime(),p=a>u?"next":"prev",d=r.renderMonth(new Date(e,t));r.monthsTranslate=r.monthsTranslate||0;var f,h=r.monthsTranslate,m=!r.animating&&0!==n;a>u?(r.monthsTranslate-=1,r.animating||r.$months.eq(r.$months.length-1).remove(),i.append(d),r.$months=i.find(".calendar-month"),f=100*-(h-1)*l,r.$months.eq(r.$months.length-1).transform("translate3d("+(s?f:0)+"%, "+(s?0:f)+"%, 0)").addClass("calendar-month-next")):(r.monthsTranslate+=1,r.animating||r.$months.eq(0).remove(),i.prepend(d),r.$months=i.find(".calendar-month"),f=100*-(h+1)*l,r.$months.eq(0).transform("translate3d("+(s?f:0)+"%, "+(s?0:f)+"%, 0)").addClass("calendar-month-prev")),r.emit("local::monthAdd calendarMonthAdd","next"===p?r.$months.eq(r.$months.length-1)[0]:r.$months.eq(0)[0]),r.animating=!0,r.onMonthChangeStart(p);var g=100*r.monthsTranslate*l;i.transition(n).transform("translate3d("+(s?g:0)+"%, "+(s?0:g)+"%, 0)"),m&&i.transitionEnd((function(){r.onMonthChangeEnd(p,!0)})),o.animate&&0!==n||r.onMonthChangeEnd(p,!0)},i.nextYear=function(){this.setYearMonth(this.currentYear+1)},i.prevYear=function(){this.setYearMonth(this.currentYear-1)},i.dateInRange=function(e,t){var n,a=!1;if(!t)return!1;if(Array.isArray(t))for(n=0;n<t.length;n+=1)t[n].from||t[n].to?t[n].from&&t[n].to?e<=new Date(t[n].to).getTime()&&e>=new Date(t[n].from).getTime()&&(a=!0):t[n].from?e>=new Date(t[n].from).getTime()&&(a=!0):t[n].to&&e<=new Date(t[n].to).getTime()&&(a=!0):t[n].date?e===new Date(t[n].date).getTime()&&(a=!0):e===new Date(t[n]).getTime()&&(a=!0);else t.from||t.to?t.from&&t.to?e<=new Date(t.to).getTime()&&e>=new Date(t.from).getTime()&&(a=!0):t.from?e>=new Date(t.from).getTime()&&(a=!0):t.to&&e<=new Date(t.to).getTime()&&(a=!0):t.date?a=e===new Date(t.date).getTime():"function"==typeof t&&(a=t(new Date(e)));return a},i.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},i.renderMonths=function(e){var t=this;return t.params.renderMonths?t.params.renderMonths.call(t,e):bu("div",{class:"calendar-months-wrapper"},t.renderMonth(e,"prev"),t.renderMonth(e),t.renderMonth(e,"next"))},i.renderMonth=function(e,t){var n=this,a=n.params,r=n.value;if(a.renderMonth)return a.renderMonth.call(n,e,t);var o=new Date(e),s=o.getFullYear(),i=o.getMonth(),l=n.monthNames.indexOf(n.monthFormatter(o));l<0&&(l=i);var c=n.yearFormatter(o);"next"===t&&(o=11===i?new Date(s+1,0):new Date(s,i+1,1)),"prev"===t&&(o=0===i?new Date(s-1,11):new Date(s,i-1,1)),"next"!==t&&"prev"!==t||(i=o.getMonth(),s=o.getFullYear(),(l=n.monthNames.indexOf(n.monthFormatter(o)))<0&&(l=i),c=n.yearFormatter(o));var u,p,d=[],f=(new Date).setHours(0,0,0,0),h=a.minDate?new Date(a.minDate).getTime():null,m=a.maxDate?new Date(a.maxDate).getTime():null,g=n.daysInMonth(new Date(o.getFullYear(),o.getMonth()).getTime()-864e6),v=n.daysInMonth(o),b=6===a.firstDay?0:1,y="",x=a.firstDay-1+0,w=new Date(o.getFullYear(),o.getMonth()).getDay();if(0===w&&(w=7),r&&r.length)for(var C=0;C<r.length;C+=1)d.push(new Date(r[C]).setHours(0,0,0,0));for(var k=1;k<=6;k+=1){for(var E="",S=function(e){var t=void 0,r=(x+=1)-w,o="";1===k&&1===e&&r>b&&1!==a.firstDay&&(r=(x-=7)-w);var l=e-1+a.firstDay>6?e-1-7+a.firstDay:e-1+a.firstDay;r<0?(r=g+r+1,o+=" calendar-day-prev",t=new Date(i-1<0?s-1:s,i-1<0?11:i-1,r).getTime()):(r+=1)>v?(r-=v,o+=" calendar-day-next",t=new Date(i+1>11?s+1:s,i+1>11?0:i+1,r).getTime()):t=new Date(s,i,r).getTime(),t===f&&(o+=" calendar-day-today"),a.rangePicker&&2===d.length?(t>=d[0]&&t<=d[1]&&(o+=" calendar-day-selected"),d[0]!==d[1]&&(t>d[0]&&t<d[1]&&(o+=" calendar-day-selected-range"),t===d[0]&&(o+=" calendar-day-selected-left"),t===d[1]&&(o+=" calendar-day-selected-right"))):d.indexOf(t)>=0&&(o+=" calendar-day-selected"),a.weekendDays.indexOf(l)>=0&&(o+=" calendar-day-weekend");var c="";if(p=!1,a.events&&n.dateInRange(t,a.events)&&(p=!0),p&&(o+=" calendar-day-has-events",c='\n            <span class="calendar-day-events">\n              <span class="calendar-day-event"></span>\n            </span>\n          ',Array.isArray(a.events))){var y=[];a.events.forEach((function(e){var a=e.color||"";y.indexOf(a)<0&&n.dateInRange(t,e)&&y.push(a)})),c='\n              <span class="calendar-day-events">\n                '+y.map((function(e){return('\n                  <span class="calendar-day-event" style="'+(e?"background-color: "+e:"")+'"></span>\n                ').trim()})).join("")+"\n              </span>\n            "}if(a.rangesClasses)for(var C=0;C<a.rangesClasses.length;C+=1)n.dateInRange(t,a.rangesClasses[C].range)&&(o+=" "+a.rangesClasses[C].cssClass);u=!1,(h&&t<h||m&&t>m)&&(u=!0),a.disabled&&n.dateInRange(t,a.disabled)&&(u=!0),u&&(o+=" calendar-day-disabled");var S=(t=new Date(t)).getFullYear(),T=t.getMonth(),$=n.dayFormatter(t);E+=('\n          <div data-year="'+S+'" data-month="'+T+'" data-day="'+r+'" class="calendar-day'+o+'" data-date="'+S+"-"+T+"-"+r+'">\n            <span class="calendar-day-number">'+$+c+"</span>\n          </div>").trim()},T=1;T<=7;T+=1)S(T);y+='<div class="calendar-row">'+E+"</div>"}return y='<div class="calendar-month" data-year="'+s+'" data-month="'+i+'" data-locale-year="'+c+'" data-locale-month="'+l+'">'+y+"</div>"},i.renderWeekHeader=function(){var e=this;if(e.params.renderWeekHeader)return e.params.renderWeekHeader.call(e);for(var t=e.params,n="",a=0;a<7;a+=1){var r=a+t.firstDay>6?a-7+t.firstDay:a+t.firstDay;n+='<div class="calendar-week-day">'+e.dayNamesShort[r]+"</div>"}return bu("div",{class:"calendar-week-header"},n)},i.renderMonthSelector=function(){var e=this;return e.params.renderMonthSelector?e.params.renderMonthSelector.call(e):bu("div",{class:"calendar-month-selector"},bu("a",{class:"link icon-only calendar-prev-month-button"},bu("i",{class:"icon icon-prev"})),e.params.monthPicker?bu("a",{class:"current-month-value link"}):bu("span",{class:"current-month-value"}),bu("a",{class:"link icon-only calendar-next-month-button"},bu("i",{class:"icon icon-next"})))},i.renderMonthPicker=function(){var e=parseInt(this.$el.find(".calendar-month-current").attr("data-locale-month"),10);return bu("div",{class:"calendar-month-picker"},this.monthNames.map((function(t,n){return bu("div",{class:"calendar-month-picker-item "+(e===n?"calendar-month-picker-item-current":"")},bu("span",null,t))})))},i.renderYearSelector=function(){var e=this;return e.params.renderYearSelector?e.params.renderYearSelector.call(e):bu("div",{class:"calendar-year-selector"},bu("a",{class:"link icon-only calendar-prev-year-button"},bu("i",{class:"icon icon-prev"})),e.params.yearPicker?bu("a",{class:"current-year-value link"}):bu("span",{class:"current-year-value"}),bu("a",{class:"link icon-only calendar-next-year-button"},bu("i",{class:"icon icon-next"})))},i.renderYearPicker=function(){var e=this,t=e.currentYear,n=e.params.yearPickerMin||(new Date).getFullYear()-100;e.params.minDate&&(n=Math.max(n,new Date(e.params.minDate).getFullYear()));var a=e.params.yearPickerMax||(new Date).getFullYear()+100;e.params.maxDate&&(a=Math.min(a,new Date(e.params.maxDate).getFullYear()));for(var r=[],o=n;o<=a;o+=1)r.push(o);return bu("div",{class:"calendar-year-picker"},r.map((function(n){return bu("div",{"data-year":n,class:"calendar-year-picker-item "+(n===t?"calendar-year-picker-item-current":"")},bu("span",null,e.yearFormatter((new Date).setFullYear(n))))})))},i.renderTimeSelector=function(){var e,t=this,n=t.value&&t.value[0];return n&&(e=t.timeSelectorFormatter(n)),bu("div",{class:"calendar-time-selector"},bu("a",{class:"link"},e||t.params.timePickerPlaceholder))},i.renderHeader=function(){var e=this;return e.params.renderHeader?e.params.renderHeader.call(e):bu("div",{class:"calendar-header"},bu("div",{class:"calendar-selected-date"},e.params.headerPlaceholder))},i.renderFooter=function(){var e=this,t=e.app;return e.params.renderFooter?e.params.renderFooter.call(e):bu("div",{class:"calendar-footer"},bu("a",{class:("md"===t.theme?"button":"link")+" calendar-close sheet-close popover-close"},e.params.toolbarCloseText))},i.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):bu("div",{class:"toolbar toolbar-top no-shadow"},bu("div",{class:"toolbar-inner"},e.params.monthSelector?e.renderMonthSelector():"",e.params.yearSelector?e.renderYearSelector():""))},i.renderInline=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbar,r=t.header,o=t.footer,s=t.rangePicker,i=t.weekHeader,l=e.value,c=e.hasTimePicker,u=l&&l.length?l[0]:(new Date).setHours(0,0,0);return bu("div",{class:"calendar calendar-inline "+(s?"calendar-range":"")+" "+(n||"")},r&&e.renderHeader(),a&&e.renderToolbar(),i&&e.renderWeekHeader(),bu("div",{class:"calendar-months"},e.renderMonths(u)),c&&e.renderTimeSelector(),o&&e.renderFooter())},i.renderCustomModal=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbar,r=t.header,o=t.footer,s=t.rangePicker,i=t.weekHeader,l=e.value,c=e.hasTimePicker,u=l&&l.length?l[0]:(new Date).setHours(0,0,0);return bu("div",{class:"calendar calendar-modal "+(s?"calendar-range":"")+" "+(n||"")},r&&e.renderHeader(),a&&e.renderToolbar(),i&&e.renderWeekHeader(),bu("div",{class:"calendar-months"},e.renderMonths(u)),c&&e.renderTimeSelector(),o&&e.renderFooter())},i.renderSheet=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbar,r=t.header,o=t.footer,s=t.rangePicker,i=t.weekHeader,l=e.value,c=e.hasTimePicker,u=l&&l.length?l[0]:(new Date).setHours(0,0,0);return bu("div",{class:"sheet-modal calendar calendar-sheet "+(s?"calendar-range":"")+" "+(n||"")},r&&e.renderHeader(),a&&e.renderToolbar(),i&&e.renderWeekHeader(),bu("div",{class:"sheet-modal-inner calendar-months"},e.renderMonths(u)),c&&e.renderTimeSelector(),o&&e.renderFooter())},i.renderPopover=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbar,r=t.header,o=t.footer,s=t.rangePicker,i=t.weekHeader,l=e.value,c=e.hasTimePicker,u=l&&l.length?l[0]:(new Date).setHours(0,0,0);return bu("div",{class:"popover calendar-popover"},bu("div",{class:"popover-inner"},bu("div",{class:"calendar "+(s?"calendar-range":"")+" "+(n||"")},r&&e.renderHeader(),a&&e.renderToolbar(),i&&e.renderWeekHeader(),bu("div",{class:"calendar-months"},e.renderMonths(u)),c&&e.renderTimeSelector(),o&&e.renderFooter())))},i.render=function(){var e=this,t=e.params;if(t.render)return t.render.call(e);if(!e.inline){var n=t.openIn;return"auto"===n&&(n=e.isPopover()?"popover":"sheet"),"popover"===n?e.renderPopover():"sheet"===n?e.renderSheet():e.renderCustomModal()}return e.renderInline()},i.openTimePicker=function(){var e=this,t=e.$el,n=e.app,a=e.is12HoursFormat;if(t&&t.length){t.append('<div class="calendar-time-picker"></div>');for(var r,o=[],s=[],i=a?12:23,l=a?1:0;l<=i;l+=1)o.push(l);for(var c=0;c<=59;c+=1)s.push(c);r=e.value&&e.value.length?[e.value[0].getHours(),e.value[0].getMinutes()]:[(new Date).getHours(),(new Date).getMinutes()],a&&(r.push(r[0]<12?"AM":"PM"),r[0]>12&&(r[0]-=12),0===r[0]&&(r[0]=12)),e.timePickerInstance=n.picker.create({containerEl:t.find(".calendar-time-picker"),value:r,toolbar:!0,rotateEffect:!1,toolbarCloseText:e.params.toolbarCloseText,cols:[{values:o},{divider:!0,content:":"},{values:s,displayValues:s.map((function(e){return e<10?"0"+e:e}))}].concat(a?[{values:["AM","PM"]}]:[])}),e.timePickerInstance.$el.find(".toolbar a").removeClass("sheet-close popover-close").addClass("calendar-time-picker-close")}},i.closeTimePicker=function(){var e=this,t=e.is12HoursFormat;if(e.timePickerInstance){var n=e.timePickerInstance.value,a=parseInt(n[0],10),r=parseInt(n[1],10),o=e.timePickerInstance.value[2];t&&("AM"===o&&12===a?a=0:"PM"===o&&12!==a&&(a+=12));var s=e.value&&e.value.length&&e.value[0];s?(s=new Date(s)).setHours(a,r):(s=new Date).setHours(a,r,0,0),e.setValue([s]),e.timePickerInstance.close(),e.timePickerInstance.destroy(),delete e.timePickerInstance}e.$el&&e.$el.length&&e.$el.find(".calendar-time-picker").remove()},i.onOpen=function(){var e=this,t=e.initialized,n=e.$el,a=e.app,r=e.$inputEl,o=e.inline,s=e.value,i=e.params;e.closing=!1,e.opened=!0,e.opening=!0,e.attachCalendarEvents();var l=!s&&i.value;t?s&&e.setValue(s,0):s?e.setValue(s,0):i.value&&e.setValue(e.normalizeValues(i.value),0),e.updateCurrentMonthYear(),e.monthsTranslate=0,e.setMonthsTranslate(),l?e.updateValue():i.header&&s&&e.updateValue(!0),!o&&r&&r.length&&"md"===a.theme&&r.trigger("focus"),e.initialized=!0,e.$months.each((function(t){e.emit("local::monthAdd calendarMonthAdd",t)})),n&&n.trigger("calendar:open"),r&&r.trigger("calendar:open"),e.emit("local::open calendarOpen",e)},i.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("calendar:opened"),e.$inputEl&&e.$inputEl.trigger("calendar:opened"),e.emit("local::opened calendarOpened",e)},i.onClose=function(){var e=this,t=e.app;if(e.opening=!1,e.closing=!0,e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var n=e.$inputEl.attr("validate"),a=e.$inputEl.attr("required");n&&a&&t.input.validate(e.$inputEl)}e.detachCalendarEvents&&e.detachCalendarEvents(),e.$el&&e.$el.trigger("calendar:close"),e.$inputEl&&e.$inputEl.trigger("calendar:close"),e.emit("local::close calendarClose",e)},i.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||xs((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.timePickerInstance&&(e.timePickerInstance.destroy&&e.timePickerInstance.destroy(),delete e.timePickerInstance),e.$el&&e.$el.trigger("calendar:closed"),e.$inputEl&&e.$inputEl.trigger("calendar:closed"),e.emit("local::closed calendarClosed",e)},i.open=function(){var e=this,t=e.app,n=e.opened,a=e.inline,r=e.$inputEl,o=e.params;if(!n){if(a)return e.$el=Bl(e.render()),e.$el[0].f7Calendar=e,e.$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var s=o.openIn;"auto"===s&&(s=e.isPopover()?"popover":"sheet");var i,l=e.render(),c={targetEl:r,scrollToEl:o.scrollToInput?r:void 0,content:l,backdrop:!0===o.backdrop||"popover"===s&&!1!==t.params.popover.backdrop&&!1!==o.backdrop,closeByBackdropClick:o.closeByBackdropClick,on:{open:function(){var t=this;e.modal=t,e.$el="popover"===s?t.$el.find(".calendar"):t.$el,e.$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$el[0].f7Calendar=e,"customModal"===s&&Bl(e.$el).find(".calendar-close").once("click",(function(){e.close()})),e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};if("sheet"===s&&(c.push=o.sheetPush,c.swipeToClose=o.sheetSwipeToClose),o.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(i={path:e.url},i[s]=c,i)});else e.modal=t[s].create(c),e.modal.open()}},i.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view?e.view.router.back():e.modal.close())},i.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init calendarInit",e);!e.initialized&&e.params.value&&e.setValue(e.normalizeValues(e.params.value)),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init calendarInit",e)},i.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy calendarBeforeDestroy",e),t&&t.trigger("calendar:beforedestroy"),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),e.timePickerInstance&&(e.timePickerInstance.destroy&&e.timePickerInstance.destroy(),delete e.timePickerInstance),t&&t.length&&delete e.$el[0].f7Calendar,vs(e),e.destroyed=!0}},r=a,o=[{key:"view",get:function(){var e,t=this.$inputEl,n=this.app,a=this.params;return a.view?e=a.view:t&&(e=t.parents(".view").length&&t.parents(".view")[0].f7View),e||(e=n.views.main),e}}],o&&pd(r.prototype,o),s&&pd(r,s),a}(Us),md=hd,gd={name:"calendar",static:{Calendar:md},create:function(){var e=this;e.calendar=Dl({defaultSelector:".calendar",constructor:md,app:e,domProp:"f7Calendar"}),e.calendar.close=function(e){void 0===e&&(e=".calendar");var t=Bl(e);if(0!==t.length){var n=t[0].f7Calendar;!n||n&&!n.opened||n.close()}}},params:{calendar:{dateFormat:void 0,monthNames:"auto",monthNamesShort:"auto",dayNames:"auto",dayNamesShort:"auto",locale:void 0,firstDay:1,weekendDays:[0,6],multiple:!1,rangePicker:!1,rangePickerMinDays:1,rangePickerMaxDays:0,direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthSelector:!0,monthPicker:!0,yearSelector:!0,yearPicker:!0,yearPickerMin:void 0,yearPickerMax:void 0,timePicker:!1,timePickerFormat:{hour:"numeric",minute:"numeric"},timePickerPlaceholder:"Select time",weekHeader:!0,value:null,containerEl:null,openIn:"auto",sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,header:!1,headerPlaceholder:"Select date",toolbar:!0,toolbarCloseText:"Done",footer:!1,cssClass:null,routableModals:!1,view:null,url:"date/",backdrop:null,closeByBackdropClick:!0,renderWeekHeader:null,renderMonths:null,renderMonth:null,renderMonthSelector:null,renderYearSelector:null,renderHeader:null,renderFooter:null,renderToolbar:null,renderInline:null,renderPopover:null,renderSheet:null,render:null}}};function vd(e,t){var n=this,a=n.app,r=Bl(e),o=r.index(),s=n.cols[o];if(!s.divider){var i,l,c,u,p;s.$el=r,s.el=r[0],s.$itemsEl=s.$el.find(".picker-items"),s.items=s.$itemsEl.find(".picker-item"),s.replaceValues=function(e,t){s.detachEvents(),s.values=e,s.displayValues=t,s.$itemsEl.html(n.renderColumn(s,!0)),s.items=s.$itemsEl.find(".picker-item"),s.calcSize(),s.setValue(s.values[0],0,!0),s.attachEvents()},s.calcSize=function(){n.params.rotateEffect&&(s.$el.removeClass("picker-column-absolute"),s.width||s.$el.css({width:""}));var e=0,t=s.$el[0].offsetHeight;i=s.items[0].offsetHeight,l=i*s.items.length,c=t/2-l+i/2,u=t/2-i/2,s.width&&(e=s.width,parseInt(e,10)===e&&(e+="px"),s.$el.css({width:e})),n.params.rotateEffect&&(s.width||(s.items.each((function(t){var n=Bl(t).children("span");e=Math.max(e,n[0].offsetWidth)})),s.$el.css({width:e+2+"px"})),s.$el.addClass("picker-column-absolute"))},s.setValue=function(e,t,a){void 0===t&&(t="");var r=s.$itemsEl.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==r&&-1!==r){var o=-r*i+u;s.$itemsEl.transition(t),s.$itemsEl.transform("translate3d(0,"+o+"px,0)"),n.params.updateValuesOnMomentum&&s.activeIndex&&s.activeIndex!==r&&(cancelAnimationFrame(p),s.$itemsEl.transitionEnd((function(){cancelAnimationFrame(p)})),S()),s.updateItems(r,o,t,a)}},s.updateItems=function(e,t,a,r){void 0===t&&(t=Es(s.$itemsEl[0],"y")),void 0===e&&(e=-Math.round((t-u)/i)),e<0&&(e=0),e>=s.items.length&&(e=s.items.length-1);var o=s.activeIndex;s.activeIndex=e,s.$itemsEl.find(".picker-item-selected").removeClass("picker-item-selected"),s.items.transition(a);var l=s.items.eq(e).addClass("picker-item-selected").transform("");n.params.rotateEffect&&s.items.each((function(e){var a=Bl(e),r=(a.index()*i-(u-t))/i,o=Math.ceil(s.height/i/2)+1,l=-18*r;l>180&&(l=180),l<-180&&(l=-180),Math.abs(r)>o?a.addClass("picker-item-far"):a.removeClass("picker-item-far"),a.transform("translate3d(0, "+(-t+u)+"px, "+(n.needsOriginFix?-110:0)+"px) rotateX("+l+"deg)")})),(r||void 0===r)&&(s.value=l.attr("data-picker-value"),s.displayValue=s.displayValues?s.displayValues[e]:s.value,o!==e&&(s.onChange&&s.onChange(n,s.value,s.displayValue),n.updateValue()))};var d,f,h,m,g,v,b,y,x,w,C,k=!0,E=!!Ds().passiveListener&&{passive:!1,capture:!1};s.attachEvents=function(){s.$el.on(a.touchEvents.start,T,E),a.on("touchmove:active",$),a.on("touchend:passive",O),n.params.mousewheel&&s.$el.on("wheel",I),s.items.on("click",N)},s.detachEvents=function(){s.$el.off(a.touchEvents.start,T,E),a.off("touchmove:active",$),a.off("touchend:passive",O),n.params.mousewheel&&s.$el.off("wheel",I),s.items.off("click",N)},s.init=function(){s.calcSize(),s.$itemsEl.transform("translate3d(0,"+u+"px,0)").transition(0),0===o&&s.$el.addClass("picker-column-first"),o===n.cols.length-1&&s.$el.addClass("picker-column-last"),t&&s.updateItems(0,u,0),s.attachEvents()},s.destroy=function(){s.detachEvents()},s.init()}function S(){p=bs((function(){s.updateItems(void 0,void 0,0),S()}))}function T(e){f||d||(e.preventDefault(),d=!0,h="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,m=h,g=(new Date).getTime(),k=!0,v=Es(s.$itemsEl[0],"y"),y=v)}function $(e){d&&(e.preventDefault(),k=!1,m="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,f||(cancelAnimationFrame(p),f=!0,v=Es(s.$itemsEl[0],"y"),y=v,s.$itemsEl.transition(0)),b=void 0,(y=v+(m-h))<c&&(y=c-Math.pow(c-y,.8),b="min"),y>u&&(y=u+Math.pow(y-u,.8),b="max"),s.$itemsEl.transform("translate3d(0,"+y+"px,0)"),s.updateItems(void 0,y,0,n.params.updateValuesOnTouchmove),w=y-x||y,x=y)}function O(){if(!d||!f)return d=!1,void(f=!1);var e;d=!1,f=!1,s.$itemsEl.transition(""),b&&("min"===b?s.$itemsEl.transform("translate3d(0,"+c+"px,0)"):s.$itemsEl.transform("translate3d(0,"+u+"px,0)")),e=(new Date).getTime()-g>300?y:y+w*n.params.momentumRatio,e=Math.max(Math.min(e,u),c);var t=Math.round(Math.abs((e-u)/i));n.params.freeMode||(e=-t*i+u),s.$itemsEl.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),s.updateItems(t,e,"",!0),n.params.updateValuesOnMomentum&&(S(),s.$itemsEl.transitionEnd((function(){cancelAnimationFrame(p)}))),setTimeout((function(){k=!0}),100)}function I(e){var t=e.deltaX,a=e.deltaY;Math.abs(t)>Math.abs(a)||(clearTimeout(C),e.preventDefault(),cancelAnimationFrame(p),v=Es(s.$itemsEl[0],"y"),s.$itemsEl.transition(0),b=void 0,(y=v-a)<c&&(y=c,b="min"),y>u&&(y=u,b="max"),s.$itemsEl.transform("translate3d(0,"+y+"px,0)"),s.updateItems(void 0,y,0,n.params.updateValuesOnMousewheel),C=setTimeout((function(){s.$itemsEl.transition(""),b&&("min"===b?s.$itemsEl.transform("translate3d(0,"+c+"px,0)"):s.$itemsEl.transform("translate3d(0,"+u+"px,0)")),(new Date).getTime();var e=y;e=Math.max(Math.min(e,u),c);var t=Math.round(Math.abs((e-u)/i));n.params.freeMode||(e=-t*i+u),s.$itemsEl.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),s.updateItems(t,e,"",!0)}),200))}function N(){if(k){cancelAnimationFrame(p);var e=Bl(this).attr("data-picker-value");s.setValue(e)}}}function bd(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(e,t){return xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xd(e,t)}var wd=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o,s=yd(a=e.call(this,n,[t])||this),i=Fs(),l=is();if(s.params=Os({},t.params.picker,n),s.params.containerEl&&0===(r=Bl(s.params.containerEl)).length)return s||yd(a);s.params.inputEl&&(o=Bl(s.params.inputEl));var c=s.params.scrollToInput?o:void 0;if(s.params.scrollToEl){var u=Bl(s.params.scrollToEl);u.length>0&&(c=u)}function p(){s.resizeCols()}function d(){s.open()}function f(e){e.preventDefault()}Os(s,{app:t,$containerEl:r,containerEl:r&&r[0],inline:r&&r.length>0,needsOriginFix:i.ios||l.navigator.userAgent.toLowerCase().indexOf("safari")>=0&&l.navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!i.android,cols:[],$inputEl:o,inputEl:o&&o[0],$scrollToEl:c,initialized:!1,opened:!1,url:s.params.url});var h=null;function m(e){h=e.target}function g(e){if(!s.destroyed&&s.params){var t=Bl(e.target);s.isPopover()||s.opened&&!s.closing&&(t.closest('[class*="backdrop"]').length||(o&&o.length>0?h===e.target&&t[0]!==o[0]&&0===t.closest(".sheet-modal").length&&s.close():0===Bl(e.target).closest(".sheet-modal").length&&s.close()))}}return Os(s,{attachResizeEvent:function(){t.on("resize",p)},detachResizeEvent:function(){t.off("resize",p)},attachInputEvents:function(){s.$inputEl.on("click",d),s.params.inputReadOnly&&(s.$inputEl.on("focus mousedown",f),s.$inputEl[0]&&(s.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){s.$inputEl.off("click",d),s.params.inputReadOnly&&(s.$inputEl.off("focus mousedown",f),s.$inputEl[0]&&delete s.$inputEl[0].f7ValidateReadonly)},attachHtmlEvents:function(){t.on("click",g),t.on("touchstart",m)},detachHtmlEvents:function(){t.off("click",g),t.off("touchstart",m)}}),s.init(),s||yd(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,xd(t,n);var r,o,s,i=a.prototype;return i.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},i.resizeCols=function(){var e=this;if(e.opened)for(var t=0;t<e.cols.length;t+=1)e.cols[t].divider||(e.cols[t].calcSize(),e.cols[t].setValue(e.cols[t].value,0,!1))},i.isPopover=function(){var e=this,t=e.app,n=e.modal,a=e.params,r=Fs();if("sheet"===a.openIn)return!1;if(n&&"popover"!==n.type)return!1;if(!e.inline&&e.inputEl){if("popover"===a.openIn)return!0;if(r.ios)return!!r.ipad;if(t.width>=768)return!0;if(r.desktop&&"aurora"===t.theme)return!0}return!1},i.formatValue=function(){var e=this,t=e.value,n=e.displayValue;return e.params.formatValue?e.params.formatValue.call(e,t,n):t.join(" ")},i.setValue=function(e,t){var n=this,a=0;if(0===n.cols.length)return n.value=e,void n.updateValue(e);for(var r=0;r<n.cols.length;r+=1)n.cols[r]&&!n.cols[r].divider&&(n.cols[r].setValue(e[a],t),a+=1)},i.getValue=function(){return this.value},i.updateValue=function(e){var t,n=this,a=e||[],r=[];if(0===n.cols.length)for(var o=n.params.cols.filter((function(e){return!e.divider})),s=0;s<o.length;s+=1)void 0!==(t=o[s]).displayValues&&void 0!==t.values&&-1!==t.values.indexOf(a[s])?r.push(t.displayValues[t.values.indexOf(a[s])]):r.push(a[s]);else for(var i=0;i<n.cols.length;i+=1)n.cols[i].divider||(a.push(n.cols[i].value),r.push(n.cols[i].displayValue));a.indexOf(void 0)>=0||(n.value=a,n.displayValue=r,n.emit("local::change pickerChange",n,n.value,n.displayValue),n.inputEl&&(n.$inputEl.val(n.formatValue()),n.$inputEl.trigger("change")))},i.initColumn=function(e,t){vd.call(this,e,t)},i.destroyColumn=function(e){var t=this,n=Bl(e).index();t.cols[n]&&t.cols[n].destroy&&t.cols[n].destroy()},i.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):bu("div",{class:"toolbar toolbar-top no-shadow"},bu("div",{class:"toolbar-inner"},bu("div",{class:"left"}),bu("div",{class:"right"},bu("a",{class:"link sheet-close popover-close"},e.params.toolbarCloseText))))},i.renderColumn=function(e,t){var n,a,r="picker-column "+(e.textAlign?"picker-column-"+e.textAlign:"")+" "+(e.cssClass||"");return e.divider?n='\n        <div class="'+r+' picker-column-divider">'+e.content+"</div>\n      ":(a=e.values.map((function(t,n){return'\n        <div class="picker-item" data-picker-value="'+t+'">\n          <span>'+(e.displayValues?e.displayValues[n]:t)+"</span>\n        </div>\n      "})).join(""),n='\n        <div class="'+r+'">\n          <div class="picker-items">'+a+"</div>\n        </div>\n      "),t?a.trim():n.trim()},i.renderInline=function(){var e=this,t=e.params,n=t.rotateEffect,a=t.cssClass,r=t.toolbar,o=bu("div",{class:"picker picker-inline "+(n?"picker-3d":"")+" "+(a||"")},r&&e.renderToolbar(),bu("div",{class:"picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),bu("div",{class:"picker-center-highlight"})));return o},i.renderSheet=function(){var e=this,t=e.params,n=t.rotateEffect,a=t.cssClass,r=t.toolbar,o=bu("div",{class:"sheet-modal picker picker-sheet "+(n?"picker-3d":"")+" "+(a||"")},r&&e.renderToolbar(),bu("div",{class:"sheet-modal-inner picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),bu("div",{class:"picker-center-highlight"})));return o},i.renderPopover=function(){var e=this,t=e.params,n=t.rotateEffect,a=t.cssClass,r=t.toolbar,o=bu("div",{class:"popover picker-popover"},bu("div",{class:"popover-inner"},bu("div",{class:"picker "+(n?"picker-3d":"")+" "+(a||"")},r&&e.renderToolbar(),bu("div",{class:"picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),bu("div",{class:"picker-center-highlight"})))));return o},i.render=function(){var e=this;return e.params.render?e.params.render.call(e):e.inline?e.renderInline():e.isPopover()?e.renderPopover():e.renderSheet()},i.onOpen=function(){var e=this,t=e.initialized,n=e.$el,a=e.app,r=e.$inputEl,o=e.inline,s=e.value,i=e.params;e.opened=!0,e.closing=!1,e.opening=!0,e.attachResizeEvent(),n.find(".picker-column").each((function(n){var a=!0;(!t&&i.value||t&&s)&&(a=!1),e.initColumn(n,a)})),t?s&&e.setValue(s,0):s?e.setValue(s,0):i.value&&e.setValue(i.value,0),!o&&r&&r.length&&"md"===a.theme&&r.trigger("focus"),e.initialized=!0,n&&n.trigger("picker:open"),r&&r.trigger("picker:open"),e.emit("local::open pickerOpen",e)},i.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("picker:opened"),e.$inputEl&&e.$inputEl.trigger("picker:opened"),e.emit("local::opened pickerOpened",e)},i.onClose=function(){var e=this,t=e.app;if(e.opening=!1,e.closing=!0,e.detachResizeEvent(),e.cols.forEach((function(e){e.destroy&&e.destroy()})),e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var n=e.$inputEl.attr("validate"),a=e.$inputEl.attr("required");n&&a&&t.input.validate(e.$inputEl)}e.$el&&e.$el.trigger("picker:close"),e.$inputEl&&e.$inputEl.trigger("picker:close"),e.emit("local::close pickerClose",e)},i.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||xs((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.$el&&e.$el.trigger("picker:closed"),e.$inputEl&&e.$inputEl.trigger("picker:closed"),e.emit("local::closed pickerClosed",e)},i.open=function(){var e=this,t=e.app,n=e.opened,a=e.inline,r=e.$inputEl,o=e.$scrollToEl,s=e.params;if(!n){if(0===e.cols.length&&s.cols.length&&s.cols.forEach((function(t){e.cols.push(t)})),a)return e.$el=Bl(e.render()),e.$el[0].f7Picker=e,e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var i,l=e.isPopover(),c=l?"popover":"sheet",u={targetEl:r,scrollToEl:o,content:e.render(),backdrop:void 0!==s.backdrop?s.backdrop:l,on:{open:function(){var t=this;e.modal=t,e.$el=l?t.$el.find(".picker"):t.$el,e.$el[0].f7Picker=e,e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};if("sheet"===c&&(u.push=s.sheetPush,u.swipeToClose=s.sheetSwipeToClose),s.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(i={path:e.url},i[c]=u,i)});else e.modal=t[c].create(u),e.modal.open()}},i.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view?e.view.router.back():e.modal.close())},i.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init pickerInit",e);!e.initialized&&e.params.value&&e.setValue(e.params.value),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init pickerInit",e)},i.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy pickerBeforeDestroy",e),t&&t.trigger("picker:beforedestroy"),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7Picker,vs(e),e.destroyed=!0}},r=a,o=[{key:"view",get:function(){var e,t=this.app,n=this.params,a=this.$inputEl;return n.view?e=n.view:a&&(e=a.parents(".view").length&&a.parents(".view")[0].f7View),e||(e=t.views.main),e}}],o&&bd(r.prototype,o),s&&bd(r,s),a}(Us),Cd=wd,kd={name:"picker",static:{Picker:Cd},create:function(){var e=this;e.picker=Dl({defaultSelector:".picker",constructor:Cd,app:e,domProp:"f7Picker"}),e.picker.close=function(e){void 0===e&&(e=".picker");var t=Bl(e);if(0!==t.length){var n=t[0].f7Picker;!n||n&&!n.opened||n.close()}}},params:{picker:{updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,updateValuesOnMousewheel:!0,mousewheel:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,cols:[],containerEl:null,openIn:"auto",sheetPush:!1,sheetSwipeToClose:void 0,backdrop:void 0,formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,scrollToEl:void 0,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!1,view:null,url:"select/",renderToolbar:null,render:null}}},Ed={handle:function(e,t){var n,a=Bl(e),r=a[0].scrollTop,o=a[0].scrollHeight,s=a[0].offsetHeight,i=a[0].getAttribute("data-infinite-distance"),l=a.find(".virtual-list"),c=a.hasClass("infinite-scroll-top");if(i||(i=50),"string"==typeof i&&i.indexOf("%")>=0&&(i=parseInt(i,10)/100*s),i>s&&(i=s),c)r<i&&(a.trigger("infinite",t),this.emit("infinite",a[0],t));else if(r+s>=o-i){if(l.length>0&&(n=l.eq(-1)[0].f7VirtualList)&&!n.reachEnd&&!n.params.updatableScroll)return;a.trigger("infinite",t),this.emit("infinite",a[0],t)}},create:function(e){var t=Bl(e),n=this;function a(e){n.infiniteScroll.handle(this,e)}t.each((function(e){e.f7InfiniteScrollHandler=a,e.addEventListener("scroll",e.f7InfiniteScrollHandler)}))},destroy:function(e){Bl(e).each((function(e){e.removeEventListener("scroll",e.f7InfiniteScrollHandler),delete e.f7InfiniteScrollHandler}))}},Sd={name:"infiniteScroll",create:function(){_s(this,{infiniteScroll:Ed})},on:{tabMounted:function(e){var t=this,n=Bl(e),a=n.find(".infinite-scroll-content");n.is(".infinite-scroll-content")&&a.add(n),a.each((function(e){t.infiniteScroll.create(e)}))},tabBeforeRemove:function(e){var t=Bl(e),n=this,a=t.find(".infinite-scroll-content");t.is(".infinite-scroll-content")&&a.add(t),a.each((function(e){n.infiniteScroll.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".infinite-scroll-content").each((function(e){t.infiniteScroll.create(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".infinite-scroll-content").each((function(e){t.infiniteScroll.destroy(e)}))}}};function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $d(e,t){return $d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$d(e,t)}var Od=function(e){var t,n;function a(t,n){var a,r=Td(a=e.call(this,{},[t])||this),o=Fs(),s=Ds(),i=Bl(n),l=i.find(".ptr-preloader");r.$el=i,r.el=i[0],r.app=t,r.bottom=r.$el.hasClass("ptr-bottom"),r.useModulesParams({});var c,u,p,d="md"===t.theme,f="ios"===t.theme,h="aurora"===t.theme;r.done=function(){var e=d?l:i;return e.on("transitionend",(function t(n){Bl(n.target).closest(l).length||(i.removeClass("ptr-transitioning ptr-pull-up ptr-pull-down ptr-closing"),i.trigger("ptr:done"),r.emit("local::done ptrDone",i[0]),e.off("transitionend",t))})),i.removeClass("ptr-refreshing").addClass("ptr-transitioning ptr-closing"),r},r.refresh=function(){return i.hasClass("ptr-refreshing")||(i.addClass("ptr-transitioning ptr-refreshing"),i.trigger("ptr:refresh",r.done),r.emit("local::refresh ptrRefresh",i[0],r.done)),r},r.mousewheel="true"===i.attr("data-ptr-mousewheel");var m,g,v,b,y,x,w,C,k,E,S,T,$,O={},I=!1,N=!1,R=!1,P=0,M=!1,B=i.parents(".page");if((B.find(".navbar").length>0||B.parents(".view").children(".navbars").length>0)&&(M=!0),B.hasClass("no-navbar")&&(M=!1),!r.bottom){var A=t.navbar.getElByPage(B[0]);if(A){var _=Bl(A),L=_.hasClass("navbar-large-transparent")||_.hasClass("navbar-large")&&_.hasClass("navbar-transparent"),D=_.hasClass("navbar-transparent")&&!_.hasClass("navbar-large");L?i.addClass("ptr-with-navbar-large-transparent"):D&&i.addClass("ptr-with-navbar-transparent")}}function F(e){void 0===e&&(e=0);var t=l.find(".preloader-inner-line"),n=1/t.length;t.forEach((function(t,a){var r=(e-a*n)/n;t.style.opacity=.27*Math.max(Math.min(r,1),0)}))}function z(){l.find(".preloader-inner-line").css("opacity","")}function V(e){if(u){if("android"!==o.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}i.hasClass("ptr-refreshing")||Bl(e.target).closest(".sortable-handler, .ptr-ignore, .card-expandable.card-opened").length||(p=!1,C=!1,u=!0,m=void 0,y=void 0,"touchstart"===e.type&&(c=e.targetTouches[0].identifier),O.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,O.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function H(e){if(u){var t,a,s;if("touchmove"===e.type){if(c&&e.touches)for(var h=0;h<e.touches.length;h+=1)e.touches[h].identifier===c&&(s=e.touches[h]);s||(s=e.targetTouches[0]),t=s.pageX,a=s.pageY}else t=e.pageX,a=e.pageY;if(t&&a)if(void 0===m&&(m=!!(m||Math.abs(a-O.y)>Math.abs(t-O.x))),m){if(b=i[0].scrollTop,!p){var T;if(i.removeClass("ptr-transitioning"),f&&F(0),k=i[0].scrollHeight,E=i[0].offsetHeight,r.bottom&&(S=k-E),b>k)return void(u=!1);var $=Bl(e.target).closest(".ptr-watch-scroll");if($.length&&$.each((function(e){e!==n&&e.scrollHeight>e.offsetHeight&&"auto"===Bl(e).css("overflow")&&(!r.bottom&&e.scrollTop>0||r.bottom&&e.scrollTop<e.scrollHeight-e.offsetHeight)&&(T=!0)})),T)return void(u=!1);w&&(x=i.attr("data-ptr-distance")).indexOf("%")>=0&&(x=k*parseInt(x,10)/100),P=i.hasClass("ptr-refreshing")?x:0,N=!(k!==E&&"ios"===o.os&&!d),R=!1}if(p=!0,g=a-O.y,void 0===y&&(r.bottom?b!==S:0!==b)&&(y=!0),r.bottom?g<0&&b>=S||b>S:g>0&&b<=0||b<0)"ios"===o.os&&parseInt(o.osVersion.split(".")[0],10)>7&&(r.bottom||0!==b||y||(N=!0),r.bottom&&b===S&&!y&&(N=!0)),N||!r.bottom||d||(i.css("-webkit-overflow-scrolling","auto"),i.scrollTop(S),R=!0),N||R?(e.cancelable&&e.preventDefault(),v=(r.bottom?-1*Math.pow(Math.abs(g),.85):Math.pow(g,.85))+P,d?l.transform("translate3d(0,"+v+"px,0)").find(".ptr-arrow").transform("rotate("+(Math.abs(g)/66*180+100)+"deg)"):(r.bottom||f?i.children().transform("translate3d(0,"+v+"px,0)"):i.transform("translate3d(0,"+v+"px,0)"),f&&l.transform("translate3d(0,0px,0)"))):f&&!r.bottom&&l.transform("translate3d(0,"+b+"px,0)"),f&&!I&&F(N||R?Math.pow(Math.abs(g),.85)/x:Math.abs(g)/(2*x)),(N||R)&&Math.pow(Math.abs(g),.85)>x||!N&&Math.abs(g)>=2*x?(I=!0,i.addClass("ptr-pull-up").removeClass("ptr-pull-down"),z()):(I=!1,i.removeClass("ptr-pull-up").addClass("ptr-pull-down")),C||(i.trigger("ptr:pullstart"),r.emit("local::pullStart ptrPullStart",i[0]),C=!0),i.trigger("ptr:pullmove",{event:e,scrollTop:b,translate:v,touchesDiff:g}),r.emit("local::pullMove ptrPullMove",i[0],{event:e,scrollTop:b,translate:v,touchesDiff:g});else C=!1,i.removeClass("ptr-pull-up ptr-pull-down"),I=!1}else u=!1}}function j(e){return"touchend"===e.type&&e.changedTouches&&e.changedTouches.length>0&&c&&e.changedTouches[0].identifier!==c?(u=!1,m=!1,p=!1,void(c=null)):u&&p?(v&&(i.addClass("ptr-transitioning"),v=0),d?l.transform("").find(".ptr-arrow").transform(""):(l.transform(""),r.bottom||f?i.children().transform(""):i.transform("")),N||!r.bottom||d||i.css("-webkit-overflow-scrolling",""),I?(i.addClass("ptr-refreshing"),i.trigger("ptr:refresh",r.done),r.emit("local::refresh ptrRefresh",i[0],r.done)):i.removeClass("ptr-pull-down"),u=!1,p=!1,void(C&&(i.trigger("ptr:pullend"),r.emit("local::pullEnd ptrPullEnd",i[0])))):(u=!1,void(p=!1))}M||r.bottom||i.addClass("ptr-no-navbar"),i.attr("data-ptr-distance")?w=!0:d?x=66:f?x=44:h&&(x=38);var W=!0,U=0;function G(){W=!0,$=!1,U=0,v&&(i.addClass("ptr-transitioning"),v=0),d?l.transform("").find(".ptr-arrow").transform(""):(l.transform(""),r.bottom?i.children().transform(""):i.transform("")),I?(i.addClass("ptr-refreshing"),i.trigger("ptr:refresh",r.done),r.emit("local::refresh ptrRefresh",i[0],r.done)):i.removeClass("ptr-pull-down"),C&&(i.trigger("ptr:pullend"),r.emit("local::pullEnd ptrPullEnd",i[0]))}function q(e){if(W){var t=e.deltaX,a=e.deltaY;if(!(Math.abs(t)>Math.abs(a)||i.hasClass("ptr-refreshing")||Bl(e.target).closest(".sortable-handler, .ptr-ignore, .card-expandable.card-opened").length)){if(clearTimeout(T),b=i[0].scrollTop,!$){var o;if(i.removeClass("ptr-transitioning"),f&&F(0),k=i[0].scrollHeight,E=i[0].offsetHeight,r.bottom&&(S=k-E),b>k)return void(W=!1);var s=Bl(e.target).closest(".ptr-watch-scroll");if(s.length&&s.each((function(e){e!==n&&e.scrollHeight>e.offsetHeight&&"auto"===Bl(e).css("overflow")&&(!r.bottom&&e.scrollTop>0||r.bottom&&e.scrollTop<e.scrollHeight-e.offsetHeight)&&(o=!0)})),o)return void(W=!1);w&&(x=i.attr("data-ptr-distance")).indexOf("%")>=0&&(x=k*parseInt(x,10)/100)}if(p=!0,g=U-=a,void 0===y&&(r.bottom?b!==S:0!==b)&&(y=!0),r.bottom?g<0&&b>=S||b>S:g>0&&b<=0||b<0)e.cancelable&&e.preventDefault(),v=g,Math.abs(v)>x&&(v=x+Math.pow(Math.abs(v)-x,.7),r.bottom&&(v=-v)),d?l.transform("translate3d(0,"+v+"px,0)").find(".ptr-arrow").transform("rotate("+(Math.abs(g)/66*180+100)+"deg)"):r.bottom?i.children().transform("translate3d(0,"+v+"px,0)"):(i.transform("translate3d(0,"+v+"px,0)"),f&&l.transform("translate3d(0,"+-v+"px,0)")),f&&!I&&F(Math.abs(v)/x),Math.abs(v)>x?(I=!0,i.addClass("ptr-pull-up").removeClass("ptr-pull-down"),z()):(I=!1,i.removeClass("ptr-pull-up").addClass("ptr-pull-down")),C||(i.trigger("ptr:pullstart"),r.emit("local::pullStart ptrPullStart",i[0]),C=!0),i.trigger("ptr:pullmove",{event:e,scrollTop:b,translate:v,touchesDiff:g}),r.emit("local::pullMove ptrPullMove",i[0],{event:e,scrollTop:b,translate:v,touchesDiff:g});else C=!1,i.removeClass("ptr-pull-up ptr-pull-down"),I=!1;T=setTimeout(G,300)}}}return B.length&&i.length?(i[0].f7PullToRefresh=r,r.attachEvents=function(){var e=!!s.passiveListener&&{passive:!0};i.on(t.touchEvents.start,V,e),t.on("touchmove:active",H),t.on("touchend:passive",j),r.mousewheel&&!r.bottom&&i.on("wheel",q)},r.detachEvents=function(){var e=!!s.passiveListener&&{passive:!0};i.off(t.touchEvents.start,V,e),t.off("touchmove:active",H),t.off("touchend:passive",j),r.mousewheel&&!r.bottom&&i.off("wheel",q)},r.useModules(),r.init(),r||Td(a)):r||Td(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,$d(t,n);var r=a.prototype;return r.init=function(){this.attachEvents()},r.destroy=function(){var e=this;e.emit("local::beforeDestroy ptrBeforeDestroy",e),e.$el.trigger("ptr:beforedestroy"),delete e.el.f7PullToRefresh,e.detachEvents(),vs(e),e=null},a}(Us),Id=Od,Nd={name:"pullToRefresh",create:function(){var e=this;e.ptr=Os(Dl({defaultSelector:".ptr-content",constructor:Id,app:e,domProp:"f7PullToRefresh"}),{done:function(t){var n=e.ptr.get(t);if(n)return n.done()},refresh:function(t){var n=e.ptr.get(t);if(n)return n.refresh()}})},static:{PullToRefresh:Id},on:{tabMounted:function(e){var t=this,n=Bl(e),a=n.find(".ptr-content");n.is(".ptr-content")&&a.add(n),a.each((function(e){t.ptr.create(e)}))},tabBeforeRemove:function(e){var t=Bl(e),n=this,a=t.find(".ptr-content");t.is(".ptr-content")&&a.add(t),a.each((function(e){n.ptr.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".ptr-content").each((function(e){t.ptr.create(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".ptr-content").each((function(e){t.ptr.destroy(e)}))}}},Rd={destroy:function(e){var t=Bl(e).closest(".page");t.length&&t[0].f7LazyDestroy&&t[0].f7LazyDestroy()},create:function(e){var t=this,n=is(),a=Ds(),r=Bl(e).closest(".page").eq(0),o=r.find(".lazy");if(0!==o.length||r.hasClass("lazy")){var s=t.params.lazy.placeholder;!1!==s&&o.each((function(e){Bl(e).attr("data-src")&&!Bl(e).attr("src")&&Bl(e).attr("src",s)}));var i=[],l=!1;if(t.params.lazy.observer&&a.intersectionObserver){var c=r[0].f7LazyObserver;return c||(c=new n.IntersectionObserver((function(e,n){e.forEach((function(e){if(e.isIntersecting){if(t.params.lazy.sequential&&l)return void(i.indexOf(e.target)<0&&i.push(e.target));l=!0,t.lazy.loadImage(e.target,u),n.unobserve(e.target)}}))}),{root:r[0]})),o.each((function(e){e.f7LazyObserverAdded||(e.f7LazyObserverAdded=!0,c.observe(e))})),void(r[0].f7LazyDestroy||(r[0].f7LazyDestroy=function(){c.disconnect(),delete r[0].f7LazyDestroy,delete r[0].f7LazyObserver}))}r[0].f7LazyDestroy||(r[0].f7LazyDestroy=function(){r[0].f7LazyAttached=!1,delete r[0].f7LazyAttached,r.off("lazy",p),r.off("scroll",p,!0),r.find(".tab").off("tab:mounted tab:show",p),t.off("resize",p)}),r[0].f7LazyAttached||(r[0].f7LazyAttached=!0,r.on("lazy",p),r.on("scroll",p,!0),r.find(".tab").on("tab:mounted tab:show",p),t.on("resize",p)),p()}function u(e){i.indexOf(e)>=0&&i.splice(i.indexOf(e),1),l=!1,t.params.lazy.sequential&&i.length>0&&(l=!0,t.lazy.loadImage(i[0],u))}function p(){t.lazy.load(r,(function(e){t.params.lazy.sequential&&l?i.indexOf(e)<0&&i.push(e):(l=!0,t.lazy.loadImage(e,u))}))}},isInViewport:function(e){var t=this,n=e.getBoundingClientRect(),a=t.params.lazy.threshold||0;return n.top>=0-a&&n.left>=0-a&&n.top<=t.height+a&&n.left<=t.width+a},loadImage:function(e,t){var n=this,a=is(),r=Bl(e),o=r.attr("data-background"),s=o||r.attr("data-src");function i(){r.removeClass("lazy").addClass("lazy-loaded"),o?r.css("background-image","url("+s+")"):s&&r.attr("src",s),t&&t(e),r.trigger("lazy:loaded"),n.emit("lazyLoaded",r[0])}if(!s)return r.trigger("lazy:load"),n.emit("lazyLoad",r[0]),void i();var l=new a.Image;l.onload=i,l.onerror=function(){r.removeClass("lazy").addClass("lazy-loaded"),o?r.css("background-image","url("+(n.params.lazy.placeholder||"")+")"):r.attr("src",n.params.lazy.placeholder||""),t&&t(e),r.trigger("lazy:error"),n.emit("lazyError",r[0])},l.src=s,r.removeAttr("data-src").removeAttr("data-background"),r.trigger("lazy:load"),n.emit("lazyLoad",r[0])},load:function(e,t){var n=this,a=Bl(e);a.hasClass("page")||(a=a.parents(".page").eq(0)),0!==a.length&&a.find(".lazy").each((function(e){Bl(e).parents(".tab:not(.tab-active)").length>0||n.lazy.isInViewport(e)&&(t?t(e):n.lazy.loadImage(e))}))}},Pd={name:"lazy",params:{lazy:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",threshold:0,sequential:!0,observer:!0}},create:function(){_s(this,{lazy:Rd})},on:{pageInit:function(e){(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageAfterIn:function(e){var t=Ds();this.params.lazy.observer&&t.intersectionObserver||(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageBeforeRemove:function(e){(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.destroy(e.$el)},tabMounted:function(e){var t=Bl(e);(t.find(".lazy").length>0||t.hasClass("lazy"))&&this.lazy.create(t)},tabBeforeRemove:function(e){var t=Ds();if(!this.params.lazy.observer||!t.intersectionObserver){var n=Bl(e);(n.find(".lazy").length>0||n.hasClass("lazy"))&&this.lazy.destroy(n)}}}};function Md(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bd(e,t){return Bd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bd(e,t)}var Ad=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=Md(a=e.call(this,n,[t])||this),o={};r.useModulesParams(o),r.params=Os(o,n);var s=Bl(r.params.el);if(0===s.length)return Md(a);if(r.$el=s,r.el=s[0],r.$el[0].f7DataTable){var i=r.$el[0].f7DataTable;return r.destroy(),i||Md(a)}function l(e){if(!e.detail||!e.detail.sentByF7DataTable){var t=Bl(this),n=t[0].checked,a=t.parents("td,th").index();if(t.parents("thead").length>0)0===a&&s.find("tbody tr")[n?"addClass":"removeClass"]("data-table-row-selected"),s.find("tbody tr td:nth-child("+(a+1)+") input").prop("checked",n).trigger("change",{sentByF7DataTable:!0}),t.prop("indeterminate",!1);else{0===a&&t.parents("tr")[n?"addClass":"removeClass"]("data-table-row-selected");var o=s.find("tbody .checkbox-cell:nth-child("+(a+1)+') input[type="checkbox"]:checked').length,i=s.find("tbody tr").length,l=s.find("thead .checkbox-cell:nth-child("+(a+1)+') input[type="checkbox"]');n?o===i&&l.prop("checked",!0).trigger("change",{sentByF7DataTable:!0}):l.prop("checked",!1),l.prop("indeterminate",o>0&&o<i)}r.checkSelectedHeader()}}function c(){var e,t=Bl(this),n=t.hasClass("sortable-cell-active"),a=t.hasClass("sortable-desc")?"desc":"asc";n?(e="desc"===a?"asc":"desc",t.removeClass("sortable-desc sortable-asc").addClass("sortable-"+e)):(s.find("thead .sortable-cell-active").removeClass("sortable-cell-active"),t.addClass("sortable-cell-active"),e=a),t.trigger("datatable:sort",e),r.emit("local::sort dataTableSort",r,e)}return r.$el[0].f7DataTable=r,Os(r,{collapsible:s.hasClass("data-table-collapsible"),$headerEl:s.find(".data-table-header"),$headerSelectedEl:s.find(".data-table-header-selected")}),r.attachEvents=function(){r.$el.on("change",'.checkbox-cell input[type="checkbox"]',l),r.$el.find("thead .sortable-cell").on("click",c)},r.detachEvents=function(){r.$el.off("change",'.checkbox-cell input[type="checkbox"]',l),r.$el.find("thead .sortable-cell").off("click",c)},r.useModules(),r.init(),r||Md(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Bd(t,n);var r=a.prototype;return r.setCollapsibleLabels=function(){var e=this;e.collapsible&&e.$el.find("tbody td:not(.checkbox-cell)").each((function(t){var n=Bl(t),a=n.index(),r=n.attr("data-collapsible-title");r||""===r||n.attr("data-collapsible-title",e.$el.find("thead th").eq(a).text())}))},r.checkSelectedHeader=function(){var e=this;if(e.$headerEl.length>0&&e.$headerSelectedEl.length>0){var t=e.$el.find("tbody .checkbox-cell input:checked").length;e.$el[t>0?"addClass":"removeClass"]("data-table-has-checked"),e.$headerSelectedEl.find(".data-table-selected-count").text(t)}},r.init=function(){var e=this;e.attachEvents(),e.setCollapsibleLabels(),e.checkSelectedHeader()},r.destroy=function(){var e=this;e.$el.trigger("datatable:beforedestroy"),e.emit("local::beforeDestroy dataTableBeforeDestroy",e),e.attachEvents(),e.$el[0]&&(e.$el[0].f7DataTable=null,delete e.$el[0].f7DataTable),vs(e),e=null},a}(Us),_d=Ad,Ld={name:"dataTable",static:{DataTable:_d},create:function(){this.dataTable=Dl({defaultSelector:".data-table",constructor:_d,app:this,domProp:"f7DataTable"})},on:{tabBeforeRemove:function(e){var t=this;Bl(e).find(".data-table-init").each((function(e){t.dataTable.destroy(e)}))},tabMounted:function(e){var t=this;Bl(e).find(".data-table-init").each((function(e){t.dataTable.create({el:e})}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".data-table-init").each((function(e){t.dataTable.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".data-table-init").each((function(e){t.dataTable.create({el:e})}))}},vnode:{"data-table-init":{insert:function(e){var t=e.elm;this.dataTable.create({el:t})},destroy:function(e){var t=e.elm;this.dataTable.destroy(t)}}}};function Dd(){return Dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Dd.apply(this,arguments)}for(var Fd={morphOpen:function(e,t){var n=this,a=Bl(e),r=Bl(t);if(0!==r.length){r.transition(0).addClass("fab-morph-target-visible");var o={width:r[0].offsetWidth,height:r[0].offsetHeight,offset:r.offset(),borderRadius:r.css("border-radius"),zIndex:r.css("z-index")},s={width:a[0].offsetWidth,height:a[0].offsetHeight,offset:a.offset(),translateX:Es(a[0],"x"),translateY:Es(a[0],"y")};a[0].f7FabMorphData={$targetEl:r,target:o,fab:s};var i=s.offset.left+s.width/2-(o.offset.left+o.width/2)-s.translateX,l=s.offset.top+s.height/2-(o.offset.top+o.height/2)-s.translateY,c=o.width/s.width,u=o.height/s.height,p=Math.ceil(parseInt(o.borderRadius,10)/Math.max(c,u));p>0&&(p+=2),a[0].f7FabMorphResizeHandler=function(){a.transition(0).transform(""),r.transition(0),o.width=r[0].offsetWidth,o.height=r[0].offsetHeight,o.offset=r.offset(),s.offset=a.offset();var e=s.offset.left+s.width/2-(o.offset.left+o.width/2)-s.translateX,t=s.offset.top+s.height/2-(o.offset.top+o.height/2)-s.translateY,n=o.width/s.width,i=o.height/s.height;a.transform("translate3d("+-e+"px, "+-t+"px, 0) scale("+n+", "+i+")")},r.css("opacity",0).transform("scale("+1/c+", "+1/u+")"),a.addClass("fab-opened").css("z-index",o.zIndex-1).transform("translate3d("+-i+"px, "+-l+"px, 0)"),a.transitionEnd((function(){r.transition(""),ws((function(){r.css("opacity",1).transform("scale(1,1)"),a.transform("translate3d("+-i+"px, "+-l+"px, 0) scale("+c+", "+u+")").css("border-radius",p+"px").css("box-shadow","none").css("opacity","0")})),n.on("resize",a[0].f7FabMorphResizeHandler),r.parents(".page-content").length>0&&r.parents(".page-content").on("scroll",a[0].f7FabMorphResizeHandler)}))}},morphClose:function(e){var t=Bl(e),n=t[0].f7FabMorphData;if(n){var a=n.$targetEl,r=n.target,o=n.fab;if(0!==a.length){var s=o.offset.left+o.width/2-(r.offset.left+r.width/2)-o.translateX,i=o.offset.top+o.height/2-(r.offset.top+r.height/2)-o.translateY,l=r.width/o.width,c=r.height/o.height;this.off("resize",t[0].f7FabMorphResizeHandler),a.parents(".page-content").length>0&&a.parents(".page-content").off("scroll",t[0].f7FabMorphResizeHandler),a.css("opacity",0).transform("scale("+1/l+", "+1/c+")"),t.transition("").css("box-shadow","").css("border-radius","").css("opacity","1").transform("translate3d("+-s+"px, "+-i+"px, 0)"),t.transitionEnd((function(){t.css("z-index","").removeClass("fab-opened").transform(""),ws((function(){t.transitionEnd((function(){a.removeClass("fab-morph-target-visible").css("opacity","").transform("").transition("")}))}))}))}}},open:function(e,t){var n=this,a=Bl(e).eq(0),r=a.find(".fab-buttons");if(a.length&&!a.hasClass("fab-opened")&&(r.length||a.hasClass("fab-morph"))){if(n.fab.openedEl){if(n.fab.openedEl===a[0])return;n.fab.close(n.fab.openedEl)}n.fab.openedEl=a[0],a.hasClass("fab-morph")?n.fab.morphOpen(a,t||a.attr("data-morph-to")):a.addClass("fab-opened"),a.siblings(".fab-backdrop").addClass("backdrop-in"),a.trigger("fab:open")}},close:function(e){void 0===e&&(e=".fab-opened");var t=Bl(e).eq(0),n=t.find(".fab-buttons");t.length&&t.hasClass("fab-opened")&&(n.length||t.hasClass("fab-morph"))&&(this.fab.openedEl=null,t.hasClass("fab-morph")?this.fab.morphClose(t):t.removeClass("fab-opened"),t.siblings(".fab-backdrop").removeClass("backdrop-in"),t.trigger("fab:close"))},toggle:function(e){Bl(e).hasClass("fab-opened")?this.fab.close(e):this.fab.open(e)}},zd={name:"fab",create:function(){_s(this,{fab:Dd({openedEl:null},Fd)})},clicks:{".fab > a":function(e){this.fab.toggle(e.parents(".fab"))},".fab-open":function(e,t){void 0===t&&(t={});this.fab.open(t.fab)},".fab-close":function(e,t){void 0===t&&(t={});this.fab.close(t.fab)},".fab-backdrop":function(){this.fab.close()}}},Vd=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Hd={},jd=0;jd<Vd.length;jd+=1)for(var Wd=Vd[jd].letters,Ud=0;Ud<Wd.length;Ud+=1)Hd[Wd[Ud]]=Vd[jd].base;var Gd=function(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return Hd[e]||e}))};function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xd(e,t){return Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xd(e,t)}var Yd=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=qd(a=e.call(this,n,[t])||this),o={el:void 0,inputEl:void 0,inputEvents:"change input compositionend",disableButton:!0,disableButtonEl:void 0,backdropEl:void 0,searchContainer:void 0,searchItem:"li",searchIn:void 0,searchGroup:".list-group",searchGroupTitle:".item-divider, .list-group-title",ignore:".searchbar-ignore",foundEl:".searchbar-found",notFoundEl:".searchbar-not-found",hideOnEnableEl:".searchbar-hide-on-enable",hideOnSearchEl:".searchbar-hide-on-search",backdrop:void 0,removeDiacritics:!0,customSearch:!1,hideDividers:!0,hideGroups:!0,disableOnBackdropClick:!0,expandable:!1,inline:!1};r.useModulesParams(o),r.params=Os(o,n);var s,i=Bl(r.params.el);if(0===i.length)return r||qd(a);if(i[0].f7Searchbar)return i[0].f7Searchbar||qd(a);i[0].f7Searchbar=r;var l,c,u,p,d=i.parents(".navbar");if(i.parents(".page").length>0)s=i.parents(".page");else if(d.length>0&&!(s=Bl(t.navbar.getPageByEl(d[0]))).length){var f=i.parents(".view").find(".page-current");f[0]&&f[0].f7Page&&f[0].f7Page.navbarEl===d[0]&&(s=f)}n.foundEl?l=Bl(n.foundEl):"string"==typeof r.params.foundEl&&s&&(l=s.find(r.params.foundEl)),n.notFoundEl?c=Bl(n.notFoundEl):"string"==typeof r.params.notFoundEl&&s&&(c=s.find(r.params.notFoundEl)),n.hideOnEnableEl?u=Bl(n.hideOnEnableEl):"string"==typeof r.params.hideOnEnableEl&&s&&(u=s.find(r.params.hideOnEnableEl)),n.hideOnSearchEl?p=Bl(n.hideOnSearchEl):"string"==typeof r.params.hideOnSearchEl&&s&&(p=s.find(r.params.hideOnSearchEl));var h,m,g,v,b=r.params.expandable||i.hasClass("searchbar-expandable"),y=r.params.inline||i.hasClass("searchbar-inline");function x(e){e.preventDefault()}function w(e){r.enable(e),r.$el.addClass("searchbar-focused")}function C(){r.$el.removeClass("searchbar-focused"),"aurora"!==t.theme||v&&v.length&&r.params.disableButton||r.query||r.disable()}function k(){var e=r.$inputEl.val().trim();(r.$searchContainer&&r.$searchContainer.length>0&&(r.params.searchIn||r.isVirtualList||r.params.searchIn===r.params.searchItem)||r.params.customSearch)&&r.search(e,!0)}function E(e,t){r.$el.trigger("searchbar:clear",t),r.emit("local::clear searchbarClear",r,t)}function S(e){r.disable(e)}function T(){!r||r&&!r.$el||r.enabled&&(r.$el.removeClass("searchbar-enabled"),r.expandable&&r.$el.parents(".navbar").removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition"))}function $(){!r||r&&!r.$el||r.enabled&&(r.$el.addClass("searchbar-enabled"),r.expandable&&r.$el.parents(".navbar").addClass("with-searchbar-expandable-enabled-no-transition"))}return void 0===r.params.backdrop&&(r.params.backdrop=!y&&"aurora"!==t.theme),r.params.backdrop&&0===(h=r.params.backdropEl?Bl(r.params.backdropEl):s&&s.length>0?s.find(".searchbar-backdrop"):i.siblings(".searchbar-backdrop")).length&&(h=Bl('<div class="searchbar-backdrop"></div>'),s&&s.length?i.parents(s).length>0&&d&&0===i.parents(d).length?h.insertBefore(i):h.insertBefore(s.find(".page-content").eq(0)):h.insertBefore(i)),r.params.searchContainer&&(m=Bl(r.params.searchContainer)),g=r.params.inputEl?Bl(r.params.inputEl):i.find('input[type="search"]').eq(0),r.params.disableButton&&(v=r.params.disableButtonEl?Bl(r.params.disableButtonEl):i.find(".searchbar-disable-button")),Os(r,{app:t,view:t.views.get(i.parents(".view")),$el:i,el:i[0],$backdropEl:h,backdropEl:h&&h[0],$searchContainer:m,searchContainer:m&&m[0],$inputEl:g,inputEl:g[0],$disableButtonEl:v,disableButtonEl:v&&v[0],disableButtonHasMargin:!1,$pageEl:s,pageEl:s&&s[0],$navbarEl:d,navbarEl:d&&d[0],$foundEl:l,foundEl:l&&l[0],$notFoundEl:c,notFoundEl:c&&c[0],$hideOnEnableEl:u,hideOnEnableEl:u&&u[0],$hideOnSearchEl:p,hideOnSearchEl:p&&p[0],previousQuery:"",query:"",isVirtualList:m&&m.hasClass("virtual-list"),virtualList:void 0,enabled:!1,expandable:b,inline:y}),r.attachEvents=function(){i.on("submit",x),r.params.disableButton&&r.$disableButtonEl.on("click",S),r.params.disableOnBackdropClick&&r.$backdropEl&&r.$backdropEl.on("click",S),r.expandable&&"ios"===t.theme&&r.view&&d.length&&r.$pageEl&&(r.$pageEl.on("page:beforeout",T),r.$pageEl.on("page:beforein",$)),r.$inputEl.on("focus",w),r.$inputEl.on("blur",C),r.$inputEl.on(r.params.inputEvents,k),r.$inputEl.on("input:clear",E)},r.detachEvents=function(){i.off("submit",x),r.params.disableButton&&r.$disableButtonEl.off("click",S),r.params.disableOnBackdropClick&&r.$backdropEl&&r.$backdropEl.off("click",S),r.expandable&&"ios"===t.theme&&r.view&&d.length&&r.$pageEl&&(r.$pageEl.off("page:beforeout",T),r.$pageEl.off("page:beforein",$)),r.$inputEl.off("focus",w),r.$inputEl.off("blur",C),r.$inputEl.off(r.params.inputEvents,k),r.$inputEl.off("input:clear",E)},r.useModules(),r.init(),r||qd(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xd(t,n);var r=a.prototype;return r.clear=function(e){var t=this;if(!t.query&&e&&Bl(e.target).hasClass("searchbar-clear"))return t.disable(),t;var n=t.value;return t.$inputEl.val("").trigger("change").focus(),t.$el.trigger("searchbar:clear",n),t.emit("local::clear searchbarClear",t,n),t},r.setDisableButtonMargin=function(){var e=this;if(!e.expandable){var t=e.app;e.$disableButtonEl.transition(0).show(),e.$disableButtonEl.css("margin-"+(t.rtl?"left":"right"),-e.disableButtonEl.offsetWidth+"px"),e._clientLeft=e.$disableButtonEl[0].clientLeft,e.$disableButtonEl.transition(""),e.disableButtonHasMargin=!0}},r.enable=function(e){var t=this;if(t.enabled)return t;var n=t.app,a=os(),r=Fs();function o(){if(t.$backdropEl&&(t.$searchContainer&&t.$searchContainer.length||t.params.customSearch)&&!t.$el.hasClass("searchbar-enabled")&&!t.query&&t.backdropShow(),t.$el.addClass("searchbar-enabled"),(!t.$disableButtonEl||t.$disableButtonEl&&0===t.$disableButtonEl.length)&&t.$el.addClass("searchbar-enabled-no-disable-button"),!t.expandable&&t.$disableButtonEl&&t.$disableButtonEl.length>0&&"md"!==n.theme&&(t.disableButtonHasMargin||t.setDisableButtonMargin(),t.$disableButtonEl.css("margin-"+(n.rtl?"left":"right"),"0px")),t.expandable){var e=t.$el.parents(".navbar");if(e.hasClass("navbar-large")&&t.$pageEl){var a=t.$pageEl.find(".page-content"),r=e.find(".title-large");a.addClass("with-searchbar-expandable-enabled"),e.hasClass("navbar-large")&&e.hasClass("navbar-large-collapsed")&&r.length&&a.length&&(a.transition(0),a[0].scrollTop-=r[0].offsetHeight,setTimeout((function(){a.transition("")}),200))}"md"===n.theme&&e.length?e.addClass("with-searchbar-expandable-enabled"):(e.addClass("with-searchbar-expandable-enabled"),e.hasClass("navbar-large")&&e.addClass("navbar-large-collapsed"))}t.$hideOnEnableEl&&t.$hideOnEnableEl.addClass("hidden-by-searchbar"),t.$el.trigger("searchbar:enable"),t.emit("local::enable searchbarEnable",t)}t.enabled=!0;var s=!1;return!0===e&&a.activeElement!==t.inputEl&&(s=!0),r.ios&&"ios"===n.theme?t.expandable?(s&&t.$inputEl.focus(),o()):(s&&t.$inputEl.focus(),!e||"focus"!==e.type&&!0!==e?o():xs((function(){o()}),400)):(s&&t.$inputEl.focus(),"md"===n.theme&&t.expandable&&t.$el.parents(".page, .view, .navbar-inner, .navbar").scrollLeft(n.rtl?100:0),o()),t},r.disable=function(){var e=this;if(!e.enabled)return e;var t=e.app;if(e.$inputEl.val("").trigger("change"),e.$el.removeClass("searchbar-enabled searchbar-focused searchbar-enabled-no-disable-button"),e.expandable){var n=e.$el.parents(".navbar"),a=e.$pageEl&&e.$pageEl.find(".page-content");if(n.hasClass("navbar-large")&&a.length){var r=n.find(".title-large");if(e.$el.transitionEnd((function(){a.removeClass("with-searchbar-expandable-closing")})),n.hasClass("navbar-large")&&n.hasClass("navbar-large-collapsed")&&r.length){var o=a[0].scrollTop,s=r[0].offsetHeight;o>s&&(a.transition(0),a[0].scrollTop=o+s,setTimeout((function(){a.transition("")}),200))}a.removeClass("with-searchbar-expandable-enabled").addClass("with-searchbar-expandable-closing")}"md"===t.theme&&n.length?(n.removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition").addClass("with-searchbar-expandable-closing"),e.$el.transitionEnd((function(){n.removeClass("with-searchbar-expandable-closing")}))):(n.removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition").addClass("with-searchbar-expandable-closing"),e.$el.transitionEnd((function(){n.removeClass("with-searchbar-expandable-closing")})),e.$pageEl&&e.$pageEl.find(".page-content").trigger("scroll"))}return!e.expandable&&e.$disableButtonEl&&e.$disableButtonEl.length>0&&"md"!==t.theme&&e.$disableButtonEl.css("margin-"+(t.rtl?"left":"right"),-e.disableButtonEl.offsetWidth+"px"),e.$backdropEl&&(e.$searchContainer&&e.$searchContainer.length||e.params.customSearch)&&e.backdropHide(),e.enabled=!1,e.$inputEl.blur(),e.$hideOnEnableEl&&e.$hideOnEnableEl.removeClass("hidden-by-searchbar"),e.$el.trigger("searchbar:disable"),e.emit("local::disable searchbarDisable",e),e},r.toggle=function(){var e=this;return e.enabled?e.disable():e.enable(!0),e},r.backdropShow=function(){var e=this;return e.$backdropEl&&e.$backdropEl.addClass("searchbar-backdrop-in"),e},r.backdropHide=function(){var e=this;return e.$backdropEl&&e.$backdropEl.removeClass("searchbar-backdrop-in"),e},r.search=function(e,t){var n=this;if(n.previousQuery=n.query||"",e===n.previousQuery)return n;t||(n.enabled||n.enable(),n.$inputEl.val(e),n.$inputEl.trigger("input")),n.query=e,n.value=e;var a=n.$searchContainer,r=n.$el,o=n.$foundEl,s=n.$notFoundEl,i=n.$hideOnSearchEl,l=n.isVirtualList;if(e.length>0&&i?i.addClass("hidden-by-searchbar"):i&&i.removeClass("hidden-by-searchbar"),(a&&a.length&&r.hasClass("searchbar-enabled")||n.params.customSearch&&r.hasClass("searchbar-enabled"))&&(0===e.length?n.backdropShow():n.backdropHide()),n.params.customSearch)return r.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery}),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;var c,u=[];if(l){if(n.virtualList=a[0].f7VirtualList,""===e.trim())return n.virtualList.resetFilter(),s&&s.hide(),o&&o.show(),r.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery}),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;if(c=n.params.removeDiacritics?Gd(e):e,n.virtualList.params.searchAll)u=n.virtualList.params.searchAll(c,n.virtualList.items)||[];else if(n.virtualList.params.searchByItem)for(var p=0;p<n.virtualList.items.length;p+=1)n.virtualList.params.searchByItem(c,n.virtualList.items[p],p)&&u.push(p)}else{var d;d=n.params.removeDiacritics?Gd(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),a.find(n.params.searchItem).removeClass("hidden-by-searchbar").each((function(e){var t=Bl(e),a=[],r=n.params.searchIn?t.find(n.params.searchIn):t;n.params.searchIn===n.params.searchItem&&(r=t),r.each((function(e){var t=Bl(e).text().trim().toLowerCase();n.params.removeDiacritics&&(t=Gd(t)),a.push(t)})),a=a.join(" ");for(var o=0,s=0;s<d.length;s+=1)a.indexOf(d[s])>=0&&(o+=1);o===d.length||n.params.ignore&&t.is(n.params.ignore)?u.push(t[0]):t.addClass("hidden-by-searchbar")})),n.params.hideDividers&&a.find(n.params.searchGroupTitle).each((function(e){for(var t=Bl(e),a=t.nextAll(n.params.searchItem),r=!0,o=0;o<a.length;o+=1){var s=a.eq(o);if(s.is(n.params.searchGroupTitle))break;s.hasClass("hidden-by-searchbar")||(r=!1)}var i=n.params.ignore&&t.is(n.params.ignore);r&&!i?t.addClass("hidden-by-searchbar"):t.removeClass("hidden-by-searchbar")})),n.params.hideGroups&&a.find(n.params.searchGroup).each((function(e){var t=Bl(e),a=n.params.ignore&&t.is(n.params.ignore);0!==t.find(n.params.searchItem).filter((function(e){return!Bl(e).hasClass("hidden-by-searchbar")})).length||a?t.removeClass("hidden-by-searchbar"):t.addClass("hidden-by-searchbar")}))}return 0===u.length?(s&&s.show(),o&&o.hide()):(s&&s.hide(),o&&o.show()),l&&n.virtualList&&n.virtualList.filterItems(u),r.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery,foundItems:u}),n.emit("local::search searchbarSearch",n,e,n.previousQuery,u),n},r.init=function(){var e=this;e.expandable&&e.$el&&e.$el.addClass("searchbar-expandable"),e.inline&&e.$el&&e.$el.addClass("searchbar-inline"),e.attachEvents()},r.destroy=function(){var e=this;e.emit("local::beforeDestroy searchbarBeforeDestroy",e),e.$el.trigger("searchbar:beforedestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7Searchbar=null,delete e.$el[0].f7Searchbar),vs(e)},a}(Us),Kd=Yd,Qd={name:"searchbar",static:{Searchbar:Kd},create:function(){this.searchbar=Dl({defaultSelector:".searchbar",constructor:Kd,app:this,domProp:"f7Searchbar",addMethods:"clear enable disable toggle search".split(" ")})},on:{tabMounted:function(e){var t=this;Bl(e).find(".searchbar-init").each((function(e){var n=Bl(e);t.searchbar.create(Os(n.dataset(),{el:e}))}))},tabBeforeRemove:function(e){Bl(e).find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".searchbar-init").each((function(e){var n=Bl(e);t.searchbar.create(Os(n.dataset(),{el:e}))})),"ios"===t.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".searchbar-init").each((function(e){var n=Bl(e);t.searchbar.create(Os(n.dataset(),{el:e}))}))},pageBeforeRemove:function(e){e.$el.find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()})),"ios"===this.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()}))}},clicks:{".searchbar-clear":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.clear()},".searchbar-enable":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.enable(!0)},".searchbar-disable":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.disable()},".searchbar-toggle":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.toggle()}},vnode:{"searchbar-init":{insert:function(e){var t=e.elm,n=Bl(t);this.searchbar.create(Os(n.dataset(),{el:t}))},destroy:function(e){var t=e.elm;t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()}}}};function Zd(){return Zd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zd.apply(this,arguments)}function Jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ef(e,t){return ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ef(e,t)}var tf=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=Jd(a=e.call(this,n,[t])||this),o={autoLayout:!0,messages:[],newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnEdge:!0,firstMessageRule:void 0,lastMessageRule:void 0,tailMessageRule:void 0,sameNameMessageRule:void 0,sameHeaderMessageRule:void 0,sameFooterMessageRule:void 0,sameAvatarMessageRule:void 0,customClassMessageRule:void 0,renderMessage:void 0};r.useModulesParams(o),r.params=Os(o,n);var s=Bl(n.el).eq(0);if(0===s.length)return r||Jd(a);if(s[0].f7Messages)return s[0].f7Messages||Jd(a);s[0].f7Messages=r;var i=s.closest(".page-content").eq(0);return Os(r,{messages:r.params.messages,$el:s,el:s[0],$pageContentEl:i,pageContentEl:i[0]}),r.useModules(),r.init(),r||Jd(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,ef(t,n);var r=a.prototype;return r.getMessageData=function(e){var t=Bl(e),n={name:t.find(".message-name").html(),header:t.find(".message-header").html(),textHeader:t.find(".message-text-header").html(),textFooter:t.find(".message-text-footer").html(),footer:t.find(".message-footer").html(),isTitle:t.hasClass("messages-title"),type:t.hasClass("message-sent")?"sent":"received",text:t.find(".message-text").html(),image:t.find(".message-image").html(),imageSrc:t.find(".message-image img").attr("src"),typing:t.hasClass("message-typing")};n.isTitle&&(n.text=t.html()),n.text&&n.textHeader&&(n.text=n.text.replace('<div class="message-text-header">'+n.textHeader+"</div>","")),n.text&&n.textFooter&&(n.text=n.text.replace('<div class="message-text-footer">'+n.textFooter+"</div>",""));var a=t.find(".message-avatar").css("background-image");return"none"!==a&&""!==a||(a=void 0),a=a&&"string"==typeof a?a.replace("url(","").replace(")","").replace(/"/g,"").replace(/'/g,""):void 0,n.avatar=a,n},r.getMessagesData=function(){var e=this,t=[];return e.$el.find(".message, .messages-title").each((function(n){t.push(e.getMessageData(n))})),t},r.renderMessage=function(e){var t=this,n=Os({type:"sent",attrs:{}},e);return t.params.renderMessage?t.params.renderMessage.call(t,n):n.isTitle?'<div class="messages-title">'+n.text+"</div>":bu("div",Zd({class:"message message-"+n.type+" "+(n.isTyping?"message-typing":"")+" "+(n.cssClass||"")},n.attrs),n.avatar&&bu("div",{class:"message-avatar",style:"background-image:url("+n.avatar+")"}),bu("div",{class:"message-content"},n.name&&bu("div",{class:"message-name"},n.name),n.header&&bu("div",{class:"message-header"},n.header),bu("div",{class:"message-bubble"},n.textHeader&&bu("div",{class:"message-text-header"},n.textHeader),n.image&&bu("div",{class:"message-image"},n.image),n.imageSrc&&!n.image&&bu("div",{class:"message-image"},bu("img",{src:n.imageSrc})),(n.text||n.isTyping)&&bu("div",{class:"message-text"},n.text||"",n.isTyping&&bu("div",{class:"message-typing-indicator"},bu("div",null),bu("div",null),bu("div",null))),n.textFooter&&bu("div",{class:"message-text-footer"},n.textFooter)),n.footer&&bu("div",{class:"message-footer"},n.footer)))},r.renderMessages=function(e,t){void 0===e&&(e=this.messages),void 0===t&&(t=this.params.newMessagesFirst?"prepend":"append");var n=this,a=e.map((function(e){return n.renderMessage(e)})).join("");n.$el[t](a)},r.isFirstMessage=function(){var e,t=this;return!!t.params.firstMessageRule&&(e=t.params).firstMessageRule.apply(e,arguments)},r.isLastMessage=function(){var e,t=this;return!!t.params.lastMessageRule&&(e=t.params).lastMessageRule.apply(e,arguments)},r.isTailMessage=function(){var e,t=this;return!!t.params.tailMessageRule&&(e=t.params).tailMessageRule.apply(e,arguments)},r.isSameNameMessage=function(){var e,t=this;return!!t.params.sameNameMessageRule&&(e=t.params).sameNameMessageRule.apply(e,arguments)},r.isSameHeaderMessage=function(){var e,t=this;return!!t.params.sameHeaderMessageRule&&(e=t.params).sameHeaderMessageRule.apply(e,arguments)},r.isSameFooterMessage=function(){var e,t=this;return!!t.params.sameFooterMessageRule&&(e=t.params).sameFooterMessageRule.apply(e,arguments)},r.isSameAvatarMessage=function(){var e,t=this;return!!t.params.sameAvatarMessageRule&&(e=t.params).sameAvatarMessageRule.apply(e,arguments)},r.isCustomClassMessage=function(){var e,t=this;if(t.params.customClassMessageRule)return(e=t.params).customClassMessageRule.apply(e,arguments)},r.layout=function(){var e=this;e.$el.find(".message, .messages-title").each((function(t,n){var a=Bl(t);e.messages||(e.messages=e.getMessagesData());var r=[],o=e.messages[n],s=e.messages[n-1],i=e.messages[n+1];e.isFirstMessage(o,s,i)&&r.push("message-first"),e.isLastMessage(o,s,i)&&r.push("message-last"),e.isTailMessage(o,s,i)&&r.push("message-tail"),e.isSameNameMessage(o,s,i)&&r.push("message-same-name"),e.isSameHeaderMessage(o,s,i)&&r.push("message-same-header"),e.isSameFooterMessage(o,s,i)&&r.push("message-same-footer"),e.isSameAvatarMessage(o,s,i)&&r.push("message-same-avatar");var l=e.isCustomClassMessage(o,s,i);l&&l.length&&("string"==typeof l&&(l=l.split(" ")),l.forEach((function(e){r.push(e)}))),a.removeClass("message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar"),r.forEach((function(e){a.addClass(e)}))}))},r.clear=function(){this.messages=[],this.$el.html("")},r.removeMessage=function(e,t){void 0===t&&(t=!0);var n,a,r=this;return"number"==typeof e?(n=e,a=r.$el.find(".message, .messages-title").eq(n)):r.messages&&r.messages.indexOf(e)>=0?(n=r.messages.indexOf(e),a=r.$el.children().eq(n)):n=(a=Bl(e)).index(),0===a.length||(a.remove(),r.messages.splice(n,1),r.params.autoLayout&&t&&r.layout()),r},r.removeMessages=function(e,t){void 0===t&&(t=!0);var n=this;if(Array.isArray(e)){var a=[];e.forEach((function(e){a.push(n.$el.find(".message, .messages-title").eq(e))})),a.forEach((function(e){n.removeMessage(e,!1)}))}else Bl(e).each((function(e){n.removeMessage(e,!1)}));return n.params.autoLayout&&t&&n.layout(),n},r.addMessage=function(){for(var e,t,n,a=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return"boolean"==typeof o[1]?(e=o[0],t=o[1],n=o[2]):(e=o[0],n=o[1],t=o[2]),void 0===t&&(t=!0),void 0===n&&(n=a.params.newMessagesFirst?"prepend":"append"),a.addMessages([e],t,n)},r.setScrollData=function(){var e=this,t=e.pageContentEl.scrollHeight,n=e.pageContentEl.offsetHeight,a=e.pageContentEl.scrollTop;return e.scrollData={scrollHeightBefore:t,heightBefore:n,scrollBefore:a},{scrollHeightBefore:t,heightBefore:n,scrollBefore:a}},r.addMessages=function(){for(var e,t,n,a=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];"boolean"==typeof o[1]?(e=o[0],t=o[1],n=o[2]):(e=o[0],n=o[1],t=o[2]),void 0===t&&(t=!0),void 0===n&&(n=a.params.newMessagesFirst?"prepend":"append");var i=a.setScrollData(),l=i.scrollHeightBefore,c=i.scrollBefore,u="",p=a.messages.filter((function(e){return e.isTyping}))[0];e.forEach((function(e){p?"append"===n?a.messages.splice(a.messages.indexOf(p),0,e):a.messages.splice(a.messages.indexOf(p)+1,0,e):a.messages["append"===n?"push":"unshift"](e),u+=a.renderMessage(e)}));var d=Bl(u);return t&&("append"!==n||a.params.newMessagesFirst||d.addClass("message-appear-from-bottom"),"prepend"===n&&a.params.newMessagesFirst&&d.addClass("message-appear-from-top")),p?"append"===n?d.insertBefore(a.$el.find(".message-typing")):d.insertAfter(a.$el.find(".message-typing")):a.$el[n](d),a.params.autoLayout&&a.layout(),"prepend"!==n||p||(a.pageContentEl.scrollTop=c+(a.pageContentEl.scrollHeight-l)),a.params.scrollMessages&&("append"===n&&!a.params.newMessagesFirst||"prepend"===n&&a.params.newMessagesFirst&&!p)&&a.scrollWithEdgeCheck(t),a},r.showTyping=function(e){void 0===e&&(e={});var t=this,n=t.messages.filter((function(e){return e.isTyping}))[0];return n&&t.removeMessage(t.messages.indexOf(n)),t.addMessage(Os({type:"received",isTyping:!0},e)),t},r.hideTyping=function(){var e,t,n=this;if(n.messages.forEach((function(t,n){t.isTyping&&(e=n)})),void 0!==e&&n.$el.find(".message").eq(e).hasClass("message-typing")&&(t=!0,n.removeMessage(e)),!t){var a=n.$el.find(".message-typing");a.length&&n.removeMessage(a)}return n},r.scrollWithEdgeCheck=function(e){var t=this,n=t.scrollData,a=n.scrollBefore,r=n.scrollHeightBefore,o=n.heightBefore;if(t.params.scrollMessagesOnEdge){var s=!1;t.params.newMessagesFirst&&0===a&&(s=!0),!t.params.newMessagesFirst&&a-(r-o)>=-10&&(s=!0),s&&t.scroll(e?void 0:0)}else t.scroll(e?void 0:0)},r.scroll=function(e,t){void 0===e&&(e=300);var n,a=this,r=a.pageContentEl.scrollTop;if(void 0!==t)n=t;else if((n=a.params.newMessagesFirst?0:a.pageContentEl.scrollHeight-a.pageContentEl.offsetHeight)===r)return a;return a.$pageContentEl.scrollTop(n,e),a},r.init=function(){var e=this;e.messages&&0!==e.messages.length||(e.messages=e.getMessagesData()),e.params.messages&&e.params.messages.length&&e.renderMessages(),e.params.autoLayout&&e.layout(),e.params.scrollMessages&&e.scroll(0)},r.destroy=function(){var e=this;e.emit("local::beforeDestroy messagesBeforeDestroy",e),e.$el.trigger("messages:beforedestroy"),e.$el[0]&&(e.$el[0].f7Messages=null,delete e.$el[0].f7Messages),vs(e)},a}(Us),nf=tf,af={name:"messages",static:{Messages:nf},create:function(){this.messages=Dl({defaultSelector:".messages",constructor:nf,app:this,domProp:"f7Messages",addMethods:"renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;Bl(e).find(".messages-init").each((function(e){t.messages.destroy(e)}))},tabMounted:function(e){var t=this;Bl(e).find(".messages-init").each((function(e){t.messages.create({el:e})}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".messages-init").each((function(e){t.messages.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".messages-init").each((function(e){t.messages.create({el:e})}))}},vnode:{"messages-init":{insert:function(e){var t=e.elm;this.messages.create({el:t})},destroy:function(e){var t=e.elm;this.messages.destroy(t)}}}};function rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function of(e,t){return of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},of(e,t)}var sf=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=rf(a=e.call(this,n,[t])||this),o={top:!1,topOffset:0,bottomOffset:0,attachments:[],renderAttachments:void 0,renderAttachment:void 0,maxHeight:null,resizePage:!0};r.useModulesParams(o),r.params=Os(o,n);var s=Bl(r.params.el);if(0===s.length)return r||rf(a);if(s[0].f7Messagebar)return s[0].f7Messagebar||rf(a);s[0].f7Messagebar=r;var i,l=s.parents(".page").eq(0),c=l.find(".page-content").eq(0),u=s.find(".messagebar-area");i=r.params.textareaEl?Bl(r.params.textareaEl):s.find("textarea");var p=s.find(".messagebar-attachments"),d=s.find(".messagebar-sheet");function f(){r.params.resizePage&&r.resizePage()}function h(e){e.preventDefault()}function m(e){var t=Bl(this).index();Bl(e.target).closest(".messagebar-attachment-delete").length?(Bl(this).trigger("messagebar:attachmentdelete",t),r.emit("local::attachmentDelete messagebarAttachmentDelete",r,this,t)):(Bl(this).trigger("messagebar:attachmentclick",t),r.emit("local::attachmentClick messagebarAttachmentClick",r,this,t))}function g(){r.checkEmptyState(),r.$el.trigger("messagebar:change"),r.emit("local::change messagebarChange",r)}function v(){r.sheetHide(),r.$el.addClass("messagebar-focused"),r.$el.trigger("messagebar:focus"),r.emit("local::focus messagebarFocus",r)}function b(){r.$el.removeClass("messagebar-focused"),r.$el.trigger("messagebar:blur"),r.emit("local::blur messagebarBlur",r)}return r.params.top&&s.addClass("messagebar-top"),Os(r,{$el:s,el:s[0],$areaEl:u,areaEl:u[0],$textareaEl:i,textareaEl:i[0],$attachmentsEl:p,attachmentsEl:p[0],attachmentsVisible:p.hasClass("messagebar-attachments-visible"),$sheetEl:d,sheetEl:d[0],sheetVisible:d.hasClass("messagebar-sheet-visible"),$pageEl:l,pageEl:l[0],$pageContentEl:c,pageContentEl:c,top:s.hasClass("messagebar-top")||r.params.top,attachments:[]}),r.attachEvents=function(){s.on("textarea:resize",f),s.on("submit",h),s.on("click",".messagebar-attachment",m),i.on("change input",g),i.on("focus",v),i.on("blur",b),t.on("resize",f)},r.detachEvents=function(){s.off("textarea:resize",f),s.off("submit",h),s.off("click",".messagebar-attachment",m),i.off("change input",g),i.off("focus",v),i.off("blur",b),t.off("resize",f)},r.useModules(),r.init(),r||rf(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,of(t,n);var r=a.prototype;return r.focus=function(){return this.$textareaEl.focus(),this},r.blur=function(){return this.$textareaEl.blur(),this},r.clear=function(){return this.$textareaEl.val("").trigger("change"),this},r.getValue=function(){return this.$textareaEl.val().trim()},r.setValue=function(e){return this.$textareaEl.val(e).trigger("change"),this},r.setPlaceholder=function(e){return this.$textareaEl.attr("placeholder",e),this},r.resizePage=function(){var e=this,t=e.params,n=e.$el,a=e.top,r=e.$pageEl,o=e.$pageContentEl,s=e.$areaEl,i=e.$textareaEl,l=e.$sheetEl,c=e.$attachmentsEl,u=n[0].offsetHeight,p=t.maxHeight;if(a);else{var d=parseInt(o.css("padding-bottom"),10),f=u+t.bottomOffset;if(f!==d&&o.length){var h=parseInt(o.css("padding-top"),10),m=o[0].scrollHeight,g=o[0].offsetHeight,v=o[0].scrollTop===m-g;p||(p=r[0].offsetHeight-h-l.outerHeight()-c.outerHeight()-parseInt(s.css("margin-top"),10)-parseInt(s.css("margin-bottom"),10)),i.css("max-height",p+"px"),o.css("padding-bottom",f+"px"),v&&o.scrollTop(o[0].scrollHeight-g),n.trigger("messagebar:resizepage"),e.emit("local::resizePage messagebarResizePage",e)}}},r.checkEmptyState=function(){var e=this.$el,t=this.$textareaEl.val().trim();t&&t.length?e.addClass("messagebar-with-value"):e.removeClass("messagebar-with-value")},r.attachmentsCreate=function(e){void 0===e&&(e="");var t=this,n=Bl('<div class="messagebar-attachments">'+e+"</div>");return n.insertBefore(t.$textareaEl),Os(t,{$attachmentsEl:n,attachmentsEl:n[0]}),t},r.attachmentsShow=function(e){void 0===e&&(e="");var t=this;return t.$attachmentsEl=t.$el.find(".messagebar-attachments"),0===t.$attachmentsEl.length&&t.attachmentsCreate(e),t.$el.addClass("messagebar-attachments-visible"),t.attachmentsVisible=!0,t.params.resizePage&&t.resizePage(),t},r.attachmentsHide=function(){var e=this;return e.$el.removeClass("messagebar-attachments-visible"),e.attachmentsVisible=!1,e.params.resizePage&&e.resizePage(),e},r.attachmentsToggle=function(){var e=this;return e.attachmentsVisible?e.attachmentsHide():e.attachmentsShow(),e},r.renderAttachment=function(e){var t=this;return t.params.renderAttachment?t.params.renderAttachment.call(t,e):'\n      <div class="messagebar-attachment">\n        <img src="'+e+'">\n        <span class="messagebar-attachment-delete"></span>\n      </div>\n    '},r.renderAttachments=function(){var e,t=this;e=t.params.renderAttachments?t.params.renderAttachments.call(t,t.attachments):""+t.attachments.map((function(e){return t.renderAttachment(e)})).join(""),0===t.$attachmentsEl.length?t.attachmentsCreate(e):t.$attachmentsEl.html(e)},r.sheetCreate=function(e){void 0===e&&(e="");var t=this,n=Bl('<div class="messagebar-sheet">'+e+"</div>");return t.$el.append(n),Os(t,{$sheetEl:n,sheetEl:n[0]}),t},r.sheetShow=function(e){void 0===e&&(e="");var t=this;return t.$sheetEl=t.$el.find(".messagebar-sheet"),0===t.$sheetEl.length&&t.sheetCreate(e),t.$el.addClass("messagebar-sheet-visible"),t.sheetVisible=!0,t.params.resizePage&&t.resizePage(),t},r.sheetHide=function(){var e=this;return e.$el.removeClass("messagebar-sheet-visible"),e.sheetVisible=!1,e.params.resizePage&&e.resizePage(),e},r.sheetToggle=function(){var e=this;return e.sheetVisible?e.sheetHide():e.sheetShow(),e},r.init=function(){var e=this;return e.attachEvents(),e.checkEmptyState(),e},r.destroy=function(){var e=this;e.emit("local::beforeDestroy messagebarBeforeDestroy",e),e.$el.trigger("messagebar:beforedestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7Messagebar=null,delete e.$el[0].f7Messagebar),vs(e)},a}(Us),lf=sf,cf={name:"messagebar",static:{Messagebar:lf},create:function(){this.messagebar=Dl({defaultSelector:".messagebar",constructor:lf,app:this,domProp:"f7Messagebar",addMethods:"clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;Bl(e).find(".messagebar-init").each((function(e){t.messagebar.destroy(e)}))},tabMounted:function(e){var t=this;Bl(e).find(".messagebar-init").each((function(e){t.messagebar.create(Os({el:e},Bl(e).dataset()))}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".messagebar-init").each((function(e){t.messagebar.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".messagebar-init").each((function(e){t.messagebar.create(Os({el:e},Bl(e).dataset()))}))}},vnode:{"messagebar-init":{insert:function(e){var t=e.elm;this.messagebar.create(Os({el:t},Bl(t).dataset()))},destroy:function(e){var t=e.elm;this.messagebar.destroy(t)}}}},uf={addClass:ni,removeClass:ai,hasClass:oi,toggleClass:ri,attr:si,removeAttr:ii,transform:hi,transition:mi,on:gi,off:vi,trigger:yi,transitionEnd:xi,outerWidth:ki,outerHeight:Si,styles:Ii,offset:Ti,css:Ni,each:Ri,html:Mi,text:Bi,is:Ai,index:_i,eq:Li,append:Di,prepend:zi,next:Wi,nextAll:Ui,prev:Gi,prevAll:qi,parent:Yi,parents:Ki,closest:Qi,find:Zi,children:Ji,filter:Pi,remove:el};Object.keys(uf).forEach((function(e){Object.defineProperty(ti.fn,e,{value:uf[e],writable:!0})}));var pf,df,ff,hf=ti;function mf(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function gf(){return Date.now()}function vf(e,t){void 0===t&&(t="x");var n,a,r,o=is(),s=function(e){var t,n=is();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return o.WebKitCSSMatrix?((a=s.transform||s.webkitTransform).split(",").length>6&&(a=a.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new o.WebKitCSSMatrix("none"===a?"":a)):n=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(a=o.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=o.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0}function bf(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function yf(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function xf(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var a=n<0||arguments.length<=n?void 0:arguments[n];if(null!=a&&!yf(a))for(var r=Object.keys(Object(a)).filter((function(e){return t.indexOf(e)<0})),o=0,s=r.length;o<s;o+=1){var i=r[o],l=Object.getOwnPropertyDescriptor(a,i);void 0!==l&&l.enumerable&&(bf(e[i])&&bf(a[i])?a[i].__swiper__?e[i]=a[i]:xf(e[i],a[i]):!bf(e[i])&&bf(a[i])?(e[i]={},a[i].__swiper__?e[i]=a[i]:xf(e[i],a[i])):e[i]=a[i])}}return e}function wf(e,t){Object.keys(t).forEach((function(n){bf(t[n])&&Object.keys(t[n]).forEach((function(a){"function"==typeof t[n][a]&&(t[n][a]=t[n][a].bind(e))})),e[n]=t[n]}))}function Cf(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function kf(e,t,n,a){var r=os();return n&&Object.keys(a).forEach((function(n){if(!t[n]&&!0===t.auto){var o=r.createElement("div");o.className=a[n],e.append(o),t[n]=o}})),t}function Ef(){return pf||(pf=function(){var e=is(),t=os();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),pf}function Sf(e){return void 0===e&&(e={}),df||(df=function(e){var t=(void 0===e?{}:e).userAgent,n=Ef(),a=is(),r=a.navigator.platform,o=t||a.navigator.userAgent,s={ios:!1,android:!1},i=a.screen.width,l=a.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),u=o.match(/(iPad).*OS\s([\d_]+)/),p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===r,h="MacIntel"===r;return!u&&h&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(i+"x"+l)>=0&&((u=o.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),h=!1),c&&!f&&(s.os="android",s.android=!0),(u||d||p)&&(s.os="ios",s.ios=!0),s}(e)),df}function Tf(){return ff||(ff=function(){var e,t=is();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),ff}var $f={name:"resize",create:function(){var e=this;xf(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var n=e.width,a=e.height,r=n,o=a;t.forEach((function(t){var n=t.contentBoxSize,a=t.contentRect,s=t.target;s&&s!==e.el||(r=a?a.width:(n[0]||n).inlineSize,o=a?a.height:(n[0]||n).blockSize)})),r===n&&o===a||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=is();e.params.resizeObserver&&void 0!==is().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=is();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Of(){return Of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Of.apply(this,arguments)}var If={attach:function(e,t){void 0===t&&(t={});var n=is(),a=this,r=new(n.MutationObserver||n.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){a.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}else a.emit("observerUpdate",e[0])}));r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.observer.observers.push(r)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)e.observer.attach(t[n]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},Nf={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){wf(this,{observer:Of({},If,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}},Rf={on:function(e,t,n){var a=this;if("function"!=typeof t)return a;var r=n?"unshift":"push";return e.split(" ").forEach((function(e){a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][r](t)})),a},once:function(e,t,n){var a=this;if("function"!=typeof t)return a;function r(){a.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];t.apply(a,o)}return r.__emitterProxy=t,a.on(e,r,n)},onAny:function(e,t){var n=this;if("function"!=typeof e)return n;var a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[a](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(a,r){(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n):n},emit:function(){var e,t,n,a=this;if(!a.eventsListeners)return a;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=a):(e=o[0].events,t=o[0].data,n=o[0].context||a),t.unshift(n);var i=Array.isArray(e)?e:e.split(" ");return i.forEach((function(e){a.eventsAnyListeners&&a.eventsAnyListeners.length&&a.eventsAnyListeners.forEach((function(a){a.apply(n,[e].concat(t))})),a.eventsListeners&&a.eventsListeners[e]&&a.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),a}};var Pf={updateSize:function(){var e,t,n=this,a=n.$el;e=void 0!==n.params.width&&null!==n.params.width?n.params.width:a[0].clientWidth,t=void 0!==n.params.height&&null!==n.params.height?n.params.height:a[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(a.css("padding-left")||0,10)-parseInt(a.css("padding-right")||0,10),t=t-parseInt(a.css("padding-top")||0,10)-parseInt(a.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),xf(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var a=e.params,r=e.$wrapperEl,o=e.size,s=e.rtlTranslate,i=e.wrongRTL,l=e.virtual&&a.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=r.children("."+e.params.slideClass),p=l?e.virtual.slides.length:u.length,d=[],f=[],h=[],m=a.slidesOffsetBefore;"function"==typeof m&&(m=a.slidesOffsetBefore.call(e));var g=a.slidesOffsetAfter;"function"==typeof g&&(g=a.slidesOffsetAfter.call(e));var v=e.snapGrid.length,b=e.slidesGrid.length,y=a.spaceBetween,x=-m,w=0,C=0;if(void 0!==o){var k,E;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*o),e.virtualSize=-y,s?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),a.slidesPerColumn>1&&(k=Math.floor(p/a.slidesPerColumn)===p/e.params.slidesPerColumn?p:Math.ceil(p/a.slidesPerColumn)*a.slidesPerColumn,"auto"!==a.slidesPerView&&"row"===a.slidesPerColumnFill&&(k=Math.max(k,a.slidesPerView*a.slidesPerColumn)));for(var S,T,$,O=a.slidesPerColumn,I=k/O,N=Math.floor(p/a.slidesPerColumn),R=0;R<p;R+=1){E=0;var P=u.eq(R);if(a.slidesPerColumn>1){var M=void 0,B=void 0,A=void 0;if("row"===a.slidesPerColumnFill&&a.slidesPerGroup>1){var _=Math.floor(R/(a.slidesPerGroup*a.slidesPerColumn)),L=R-a.slidesPerColumn*a.slidesPerGroup*_,D=0===_?a.slidesPerGroup:Math.min(Math.ceil((p-_*O*a.slidesPerGroup)/O),a.slidesPerGroup);M=(B=L-(A=Math.floor(L/D))*D+_*a.slidesPerGroup)+A*k/O,P.css({"-webkit-box-ordinal-group":M,"-moz-box-ordinal-group":M,"-ms-flex-order":M,"-webkit-order":M,order:M})}else"column"===a.slidesPerColumnFill?(A=R-(B=Math.floor(R/O))*O,(B>N||B===N&&A===O-1)&&(A+=1)>=O&&(A=0,B+=1)):B=R-(A=Math.floor(R/I))*I;P.css(t("margin-top"),0!==A?a.spaceBetween&&a.spaceBetween+"px":"")}if("none"!==P.css("display")){if("auto"===a.slidesPerView){var F=getComputedStyle(P[0]),z=P[0].style.transform,V=P[0].style.webkitTransform;if(z&&(P[0].style.transform="none"),V&&(P[0].style.webkitTransform="none"),a.roundLengths)E=e.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else{var H=n(F,"width"),j=n(F,"padding-left"),W=n(F,"padding-right"),U=n(F,"margin-left"),G=n(F,"margin-right"),q=F.getPropertyValue("box-sizing");if(q&&"border-box"===q)E=H+U+G;else{var X=P[0],Y=X.clientWidth;E=H+j+W+U+G+(X.offsetWidth-Y)}}z&&(P[0].style.transform=z),V&&(P[0].style.webkitTransform=V),a.roundLengths&&(E=Math.floor(E))}else E=(o-(a.slidesPerView-1)*y)/a.slidesPerView,a.roundLengths&&(E=Math.floor(E)),u[R]&&(u[R].style[t("width")]=E+"px");u[R]&&(u[R].swiperSlideSize=E),h.push(E),a.centeredSlides?(x=x+E/2+w/2+y,0===w&&0!==R&&(x=x-o/2-y),0===R&&(x=x-o/2-y),Math.abs(x)<.001&&(x=0),a.roundLengths&&(x=Math.floor(x)),C%a.slidesPerGroup==0&&d.push(x),f.push(x)):(a.roundLengths&&(x=Math.floor(x)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(x),f.push(x),x=x+E+y),e.virtualSize+=E+y,w=E,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,s&&i&&("slide"===a.effect||"coverflow"===a.effect)&&r.css({width:e.virtualSize+a.spaceBetween+"px"}),a.setWrapperSize)r.css(((T={})[t("width")]=e.virtualSize+a.spaceBetween+"px",T));if(a.slidesPerColumn>1)if(e.virtualSize=(E+a.spaceBetween)*k,e.virtualSize=Math.ceil(e.virtualSize/a.slidesPerColumn)-a.spaceBetween,r.css((($={})[t("width")]=e.virtualSize+a.spaceBetween+"px",$)),a.centeredSlides){S=[];for(var K=0;K<d.length;K+=1){var Q=d[K];a.roundLengths&&(Q=Math.floor(Q)),d[K]<e.virtualSize+d[0]&&S.push(Q)}d=S}if(!a.centeredSlides){S=[];for(var Z=0;Z<d.length;Z+=1){var J=d[Z];a.roundLengths&&(J=Math.floor(J)),d[Z]<=e.virtualSize-o&&S.push(J)}d=S,Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-o)}if(0===d.length&&(d=[0]),0!==a.spaceBetween){var ee,te=e.isHorizontal()&&s?"marginLeft":t("marginRight");u.filter((function(e,t){return!a.cssMode||t!==u.length-1})).css(((ee={})[te]=y+"px",ee))}if(a.centeredSlides&&a.centeredSlidesBounds){var ne=0;h.forEach((function(e){ne+=e+(a.spaceBetween?a.spaceBetween:0)}));var ae=(ne-=a.spaceBetween)-o;d=d.map((function(e){return e<0?-m:e>ae?ae+g:e}))}if(a.centerInsufficientSlides){var re=0;if(h.forEach((function(e){re+=e+(a.spaceBetween?a.spaceBetween:0)})),(re-=a.spaceBetween)<o){var oe=(o-re)/2;d.forEach((function(e,t){d[t]=e-oe})),f.forEach((function(e,t){f[t]=e+oe}))}}xf(e,{slides:u,snapGrid:d,slidesGrid:f,slidesSizesGrid:h}),p!==c&&e.emit("slidesLengthChange"),d.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==b&&e.emit("slidesGridLengthChange"),(a.watchSlidesProgress||a.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,a=[],r=n.virtual&&n.params.virtual.enabled,o=0;"number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var s=function(e){return r?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){a.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var i=n.activeIndex+t;if(i>n.slides.length&&!r)break;a.push(s(i))}else a.push(s(n.activeIndex));for(t=0;t<a.length;t+=1)if(void 0!==a[t]){var l=a[t].offsetHeight;o=l>o?l:o}o&&n.$wrapperEl.css("height",o+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,a=t.slides,r=t.rtlTranslate;if(0!==a.length){void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;r&&(o=e),a.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<a.length;s+=1){var i=a[s],l=(o+(n.centeredSlides?t.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(o-i.swiperSlideOffset),u=c+t.slidesSizesGrid[s];(c>=0&&c<t.size-1||u>1&&u<=t.size||c<=0&&u>=t.size)&&(t.visibleSlides.push(i),t.visibleSlidesIndexes.push(s),a.eq(s).addClass(n.slideVisibleClass))}i.progress=r?-l:l}t.visibleSlides=hf(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var a=t.params,r=t.maxTranslate()-t.minTranslate(),o=t.progress,s=t.isBeginning,i=t.isEnd,l=s,c=i;0===r?(o=0,s=!0,i=!0):(s=(o=(e-t.minTranslate())/r)<=0,i=o>=1),xf(t,{progress:o,isBeginning:s,isEnd:i}),(a.watchSlidesProgress||a.watchSlidesVisibility||a.centeredSlides&&a.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),i&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!i)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){var e,t=this,n=t.slides,a=t.params,r=t.$wrapperEl,o=t.activeIndex,s=t.realIndex,i=t.virtual&&a.virtual.enabled;n.removeClass(a.slideActiveClass+" "+a.slideNextClass+" "+a.slidePrevClass+" "+a.slideDuplicateActiveClass+" "+a.slideDuplicateNextClass+" "+a.slideDuplicatePrevClass),(e=i?t.$wrapperEl.find("."+a.slideClass+'[data-swiper-slide-index="'+o+'"]'):n.eq(o)).addClass(a.slideActiveClass),a.loop&&(e.hasClass(a.slideDuplicateClass)?r.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(a.slideDuplicateActiveClass):r.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(a.slideDuplicateActiveClass));var l=e.nextAll("."+a.slideClass).eq(0).addClass(a.slideNextClass);a.loop&&0===l.length&&(l=n.eq(0)).addClass(a.slideNextClass);var c=e.prevAll("."+a.slideClass).eq(0).addClass(a.slidePrevClass);a.loop&&0===c.length&&(c=n.eq(-1)).addClass(a.slidePrevClass),a.loop&&(l.hasClass(a.slideDuplicateClass)?r.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass):r.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass),c.hasClass(a.slideDuplicateClass)?r.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass):r.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,a=n.rtlTranslate?n.translate:-n.translate,r=n.slidesGrid,o=n.snapGrid,s=n.params,i=n.activeIndex,l=n.realIndex,c=n.snapIndex,u=e;if(void 0===u){for(var p=0;p<r.length;p+=1)void 0!==r[p+1]?a>=r[p]&&a<r[p+1]-(r[p+1]-r[p])/2?u=p:a>=r[p]&&a<r[p+1]&&(u=p+1):a>=r[p]&&(u=p);s.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(o.indexOf(a)>=0)t=o.indexOf(a);else{var d=Math.min(s.slidesPerGroupSkip,u);t=d+Math.floor((u-d)/s.slidesPerGroup)}if(t>=o.length&&(t=o.length-1),u!==i){var f=parseInt(n.slides.eq(u).attr("data-swiper-slide-index")||u,10);xf(n,{snapIndex:t,realIndex:f,previousIndex:i,activeIndex:u}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==f&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,a=n.params,r=hf(e.target).closest("."+a.slideClass)[0],o=!1;if(r)for(var s=0;s<n.slides.length;s+=1)if(n.slides[s]===r){o=!0,t=s;break}if(!r||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(hf(r).attr("data-swiper-slide-index"),10):n.clickedIndex=t,a.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Mf={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,a=t.rtlTranslate,r=t.translate,o=t.$wrapperEl;if(n.virtualTranslate)return a?-r:r;if(n.cssMode)return r;var s=vf(o[0],e);return a&&(s=-s),s||0},setTranslate:function(e,t){var n=this,a=n.rtlTranslate,r=n.params,o=n.$wrapperEl,s=n.wrapperEl,i=n.progress,l=0,c=0;n.isHorizontal()?l=a?-e:e:c=e,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:r.virtualTranslate||o.transform("translate3d("+l+"px, "+c+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;var u=n.maxTranslate()-n.minTranslate();(0===u?0:(e-n.minTranslate())/u)!==i&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,a,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===a&&(a=!0);var o=this,s=o.params,i=o.wrapperEl;if(o.animating&&s.preventInteractionOnTransition)return!1;var l,c=o.minTranslate(),u=o.maxTranslate();if(l=a&&e>c?c:a&&e<u?u:e,o.updateProgress(l),s.cssMode){var p,d=o.isHorizontal();if(0===t)i[d?"scrollLeft":"scrollTop"]=-l;else if(i.scrollTo)i.scrollTo(((p={})[d?"left":"top"]=-l,p.behavior="smooth",p));else i[d?"scrollLeft":"scrollTop"]=-l;return!0}return 0===t?(o.setTransition(0),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};var Bf={setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,a=n.activeIndex,r=n.params,o=n.previousIndex;if(!r.cssMode){r.autoHeight&&n.updateAutoHeight();var s=t;if(s||(s=a>o?"next":a<o?"prev":"reset"),n.emit("transitionStart"),e&&a!==o){if("reset"===s)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),"next"===s?n.emit("slideNextTransitionStart"):n.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,a=n.activeIndex,r=n.previousIndex,o=n.params;if(n.animating=!1,!o.cssMode){n.setTransition(0);var s=t;if(s||(s=a>r?"next":a<r?"prev":"reset"),n.emit("transitionEnd"),e&&a!==r){if("reset"===s)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===s?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}}};var Af={slideTo:function(e,t,n,a,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var o=parseInt(e,10);if(!isFinite(o))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=o}var s=this,i=e;i<0&&(i=0);var l=s.params,c=s.snapGrid,u=s.slidesGrid,p=s.previousIndex,d=s.activeIndex,f=s.rtlTranslate,h=s.wrapperEl,m=s.enabled;if(s.animating&&l.preventInteractionOnTransition||!m&&!a&&!r)return!1;var g=Math.min(s.params.slidesPerGroupSkip,i),v=g+Math.floor((i-g)/s.params.slidesPerGroup);v>=c.length&&(v=c.length-1),(d||l.initialSlide||0)===(p||0)&&n&&s.emit("beforeSlideChangeStart");var b,y=-c[v];if(s.updateProgress(y),l.normalizeSlideIndex)for(var x=0;x<u.length;x+=1){var w=-Math.floor(100*y),C=Math.floor(100*u[x]),k=Math.floor(100*u[x+1]);void 0!==u[x+1]?w>=C&&w<k-(k-C)/2?i=x:w>=C&&w<k&&(i=x+1):w>=C&&(i=x)}if(s.initialized&&i!==d){if(!s.allowSlideNext&&y<s.translate&&y<s.minTranslate())return!1;if(!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(d||0)!==i)return!1}if(b=i>d?"next":i<d?"prev":"reset",f&&-y===s.translate||!f&&y===s.translate)return s.updateActiveIndex(i),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==l.effect&&s.setTranslate(y),"reset"!==b&&(s.transitionStart(n,b),s.transitionEnd(n,b)),!1;if(l.cssMode){var E,S=s.isHorizontal(),T=-y;if(f&&(T=h.scrollWidth-h.offsetWidth-T),0===t)h[S?"scrollLeft":"scrollTop"]=T;else if(h.scrollTo)h.scrollTo(((E={})[S?"left":"top"]=T,E.behavior="smooth",E));else h[S?"scrollLeft":"scrollTop"]=T;return!0}return 0===t?(s.setTransition(0),s.setTranslate(y),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,a),s.transitionStart(n,b),s.transitionEnd(n,b)):(s.setTransition(t),s.setTranslate(y),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,a),s.transitionStart(n,b),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,b))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,n,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var r=this,o=e;return r.params.loop&&(o+=r.loopedSlides),r.slideTo(o,t,n,a)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var a=this,r=a.params,o=a.animating;if(!a.enabled)return a;var s=a.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(o&&r.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}return a.slideTo(a.activeIndex+s,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var a=this,r=a.params,o=a.animating,s=a.snapGrid,i=a.slidesGrid,l=a.rtlTranslate;if(!a.enabled)return a;if(r.loop){if(o&&r.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var u,p=c(l?a.translate:-a.translate),d=s.map((function(e){return c(e)})),f=s[d.indexOf(p)-1];return void 0===f&&r.cssMode&&s.forEach((function(e){!f&&p>=e&&(f=e)})),void 0!==f&&(u=i.indexOf(f))<0&&(u=a.activeIndex-1),a.slideTo(u,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===a&&(a=.5);var r=this,o=r.activeIndex,s=Math.min(r.params.slidesPerGroupSkip,o),i=s+Math.floor((o-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[i]){var c=r.snapGrid[i];l-c>(r.snapGrid[i+1]-c)*a&&(o+=r.params.slidesPerGroup)}else{var u=r.snapGrid[i-1];l-u<=(r.snapGrid[i]-u)*a&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,a=t.$wrapperEl,r="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(hf(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=a.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),mf((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=a.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),mf((function(){t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}};var _f={loopCreate:function(){var e=this,t=os(),n=e.params,a=e.$wrapperEl;a.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var r=a.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-r.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var i=hf(t.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);a.append(i)}r=a.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);var l=[],c=[];r.each((function(t,n){var a=hf(t);n<e.loopedSlides&&c.push(t),n<r.length&&n>=r.length-e.loopedSlides&&l.push(t),a.attr("data-swiper-slide-index",n)}));for(var u=0;u<c.length;u+=1)a.append(hf(c[u].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var p=l.length-1;p>=0;p-=1)a.prepend(hf(l[p].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,a=e.slides,r=e.loopedSlides,o=e.allowSlidePrev,s=e.allowSlideNext,i=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-i[n]-e.getTranslate();if(n<r)t=a.length-3*r+n,t+=r,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((l?-e.translate:e.translate)-c);else if(n>=a.length-r){t=-a.length+n+r,t+=r,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((l?-e.translate:e.translate)-c)}e.allowSlidePrev=o,e.allowSlideNext=s,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,a=e.slides;t.children("."+n.slideClass+"."+n.slideDuplicateClass+",."+n.slideClass+"."+n.slideBlankClass).remove(),a.removeAttr("data-swiper-slide-index")}};var Lf={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n=t.el;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}};var Df={appendSlide:function(e){var t=this,n=t.$wrapperEl,a=t.params;if(a.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&n.append(e[r]);else n.append(e);a.loop&&t.loopCreate(),a.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,n=t.params,a=t.$wrapperEl,r=t.activeIndex;n.loop&&t.loopDestroy();var o=r+1;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)e[s]&&a.prepend(e[s]);o=r+e.length}else a.prepend(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),t.slideTo(o,0,!1)},addSlide:function(e,t){var n=this,a=n.$wrapperEl,r=n.params,o=n.activeIndex;r.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=a.children("."+r.slideClass));var s=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=s)n.appendSlide(t);else{for(var i=o>e?o+1:o,l=[],c=s-1;c>=e;c-=1){var u=n.slides.eq(c);u.remove(),l.unshift(u)}if("object"==typeof t&&"length"in t){for(var p=0;p<t.length;p+=1)t[p]&&a.append(t[p]);i=o>e?o+t.length:o}else a.append(t);for(var d=0;d<l.length;d+=1)a.append(l[d]);r.loop&&n.loopCreate(),r.observer&&n.support.observer||n.update(),r.loop?n.slideTo(i+n.loopedSlides,0,!1):n.slideTo(i,0,!1)}},removeSlide:function(e){var t=this,n=t.params,a=t.$wrapperEl,r=t.activeIndex;n.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=a.children("."+n.slideClass));var o,s=r;if("object"==typeof e&&"length"in e){for(var i=0;i<e.length;i+=1)o=e[i],t.slides[o]&&t.slides.eq(o).remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<s&&(s-=1),s=Math.max(s,0);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),n.loop?t.slideTo(s+t.loopedSlides,0,!1):t.slideTo(s,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}};function Ff(e){var t=this,n=os(),a=is(),r=t.touchEventsData,o=t.params,s=t.touches;if(t.enabled&&(!t.animating||!o.preventInteractionOnTransition)){var i=e;i.originalEvent&&(i=i.originalEvent);var l=hf(i.target);if(("wrapper"!==o.touchEventsTarget||l.closest(t.wrapperEl).length)&&(r.isTouchEvent="touchstart"===i.type,(r.isTouchEvent||!("which"in i)||3!==i.which)&&!(!r.isTouchEvent&&"button"in i&&i.button>0||r.isTouched&&r.isMoved))){!!o.noSwipingClass&&""!==o.noSwipingClass&&i.target&&i.target.shadowRoot&&e.path&&e.path[0]&&(l=hf(e.path[0]));var c=o.noSwipingSelector?o.noSwipingSelector:"."+o.noSwipingClass,u=!(!i.target||!i.target.shadowRoot);if(o.noSwiping&&(u?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==os()&&n!==is()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(c,i.target):l.closest(c)[0]))t.allowClick=!0;else if(!o.swipeHandler||l.closest(o.swipeHandler)[0]){s.currentX="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,s.currentY="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY;var p=s.currentX,d=s.currentY,f=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,h=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(f&&(p<=h||p>=a.innerWidth-h)){if("prevent"!==f)return;e.preventDefault()}if(xf(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=d,r.touchStartTime=gf(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==i.type){var m=!0;l.is(r.focusableElements)&&(m=!1),n.activeElement&&hf(n.activeElement).is(r.focusableElements)&&n.activeElement!==l[0]&&n.activeElement.blur();var g=m&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!g||l[0].isContentEditable||i.preventDefault()}t.emit("touchStart",i)}}}}function zf(e){var t=os(),n=this,a=n.touchEventsData,r=n.params,o=n.touches,s=n.rtlTranslate;if(n.enabled){var i=e;if(i.originalEvent&&(i=i.originalEvent),a.isTouched){if(!a.isTouchEvent||"touchmove"===i.type){var l="touchmove"===i.type&&i.targetTouches&&(i.targetTouches[0]||i.changedTouches[0]),c="touchmove"===i.type?l.pageX:i.pageX,u="touchmove"===i.type?l.pageY:i.pageY;if(i.preventedByNestedSwiper)return o.startX=c,void(o.startY=u);if(!n.allowTouchMove)return n.allowClick=!1,void(a.isTouched&&(xf(o,{startX:c,startY:u,currentX:c,currentY:u}),a.touchStartTime=gf()));if(a.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(u<o.startY&&n.translate<=n.maxTranslate()||u>o.startY&&n.translate>=n.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return;if(a.isTouchEvent&&t.activeElement&&i.target===t.activeElement&&hf(i.target).is(a.focusableElements))return a.isMoved=!0,void(n.allowClick=!1);if(a.allowTouchCallbacks&&n.emit("touchMove",i),!(i.targetTouches&&i.targetTouches.length>1)){o.currentX=c,o.currentY=u;var p=o.currentX-o.startX,d=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(d,2))<n.params.threshold)){var f;if(void 0===a.isScrolling)n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?a.isScrolling=!1:p*p+d*d>=25&&(f=180*Math.atan2(Math.abs(d),Math.abs(p))/Math.PI,a.isScrolling=n.isHorizontal()?f>r.touchAngle:90-f>r.touchAngle);if(a.isScrolling&&n.emit("touchMoveOpposite",i),void 0===a.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){n.allowClick=!1,!r.cssMode&&i.cancelable&&i.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&i.stopPropagation(),a.isMoved||(r.loop&&n.loopFix(),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",i)),n.emit("sliderMove",i),a.isMoved=!0;var h=n.isHorizontal()?p:d;o.diff=h,h*=r.touchRatio,s&&(h=-h),n.swipeDirection=h>0?"prev":"next",a.currentTranslate=h+a.startTranslate;var m=!0,g=r.resistanceRatio;if(r.touchReleaseOnEdges&&(g=0),h>0&&a.currentTranslate>n.minTranslate()?(m=!1,r.resistance&&(a.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+a.startTranslate+h,g))):h<0&&a.currentTranslate<n.maxTranslate()&&(m=!1,r.resistance&&(a.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-a.startTranslate-h,g))),m&&(i.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),n.allowSlidePrev||n.allowSlideNext||(a.currentTranslate=a.startTranslate),r.threshold>0){if(!(Math.abs(h)>r.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,a.currentTranslate=a.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&(0===a.velocities.length&&a.velocities.push({position:o[n.isHorizontal()?"startX":"startY"],time:a.touchStartTime}),a.velocities.push({position:o[n.isHorizontal()?"currentX":"currentY"],time:gf()})),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}}}}}else a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",i)}}function Vf(e){var t=this,n=t.touchEventsData,a=t.params,r=t.touches,o=t.rtlTranslate,s=t.$wrapperEl,i=t.slidesGrid,l=t.snapGrid;if(t.enabled){var c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);a.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,p=gf(),d=p-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap click",c),d<300&&p-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)),n.lastClickTime=gf(),mf((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=a.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!a.cssMode)if(a.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(a.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),h=n.velocities.pop(),m=f.position-h.position,g=f.time-h.time;t.velocity=m/g,t.velocity/=2,Math.abs(t.velocity)<a.freeModeMinimumVelocity&&(t.velocity=0),(g>150||gf()-f.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=a.freeModeMomentumVelocityRatio,n.velocities.length=0;var v=1e3*a.freeModeMomentumRatio,b=t.velocity*v,y=t.translate+b;o&&(y=-y);var x,w,C=!1,k=20*Math.abs(t.velocity)*a.freeModeMomentumBounceRatio;if(y<t.maxTranslate())a.freeModeMomentumBounce?(y+t.maxTranslate()<-k&&(y=t.maxTranslate()-k),x=t.maxTranslate(),C=!0,n.allowMomentumBounce=!0):y=t.maxTranslate(),a.loop&&a.centeredSlides&&(w=!0);else if(y>t.minTranslate())a.freeModeMomentumBounce?(y-t.minTranslate()>k&&(y=t.minTranslate()+k),x=t.minTranslate(),C=!0,n.allowMomentumBounce=!0):y=t.minTranslate(),a.loop&&a.centeredSlides&&(w=!0);else if(a.freeModeSticky){for(var E,S=0;S<l.length;S+=1)if(l[S]>-y){E=S;break}y=-(y=Math.abs(l[E]-y)<Math.abs(l[E-1]-y)||"next"===t.swipeDirection?l[E]:l[E-1])}if(w&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(v=o?Math.abs((-y-t.translate)/t.velocity):Math.abs((y-t.translate)/t.velocity),a.freeModeSticky){var T=Math.abs((o?-y:y)-t.translate),$=t.slidesSizesGrid[t.activeIndex];v=T<$?a.speed:T<2*$?1.5*a.speed:2.5*a.speed}}else if(a.freeModeSticky)return void t.slideToClosest();a.freeModeMomentumBounce&&C?(t.updateProgress(x),t.setTransition(v),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd((function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(a.speed),setTimeout((function(){t.setTranslate(x),s.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(y),t.setTransition(v),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(y)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(a.freeModeSticky)return void t.slideToClosest();a.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!a.freeModeMomentum||d>=a.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var O=0,I=t.slidesSizesGrid[0],N=0;N<i.length;N+=N<a.slidesPerGroupSkip?1:a.slidesPerGroup){var R=N<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==i[N+R]?u>=i[N]&&u<i[N+R]&&(O=N,I=i[N+R]-i[N]):u>=i[N]&&(O=N,I=i[i.length-1]-i[i.length-2])}var P=(u-i[O])/I,M=O<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(d>a.longSwipesMs){if(!a.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(P>=a.longSwipesRatio?t.slideTo(O+M):t.slideTo(O)),"prev"===t.swipeDirection&&(P>1-a.longSwipesRatio?t.slideTo(O+M):t.slideTo(O))}else{if(!a.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(O+M):t.slideTo(O):("next"===t.swipeDirection&&t.slideTo(O+M),"prev"===t.swipeDirection&&t.slideTo(O))}}}}function Hf(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var a=e.allowSlideNext,r=e.allowSlidePrev,o=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=r,e.allowSlideNext=a,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}}function jf(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Wf(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=n?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var a=e.maxTranslate()-e.minTranslate();(0===a?0:(e.translate-e.minTranslate())/a)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var Uf=!1;function Gf(){}var qf={attachEvents:function(){var e=this,t=os(),n=e.params,a=e.touchEvents,r=e.el,o=e.wrapperEl,s=e.device,i=e.support;e.onTouchStart=Ff.bind(e),e.onTouchMove=zf.bind(e),e.onTouchEnd=Vf.bind(e),n.cssMode&&(e.onScroll=Wf.bind(e)),e.onClick=jf.bind(e);var l=!!n.nested;if(!i.touch&&i.pointerEvents)r.addEventListener(a.start,e.onTouchStart,!1),t.addEventListener(a.move,e.onTouchMove,l),t.addEventListener(a.end,e.onTouchEnd,!1);else{if(i.touch){var c=!("touchstart"!==a.start||!i.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(a.start,e.onTouchStart,c),r.addEventListener(a.move,e.onTouchMove,i.passiveListener?{passive:!1,capture:l}:l),r.addEventListener(a.end,e.onTouchEnd,c),a.cancel&&r.addEventListener(a.cancel,e.onTouchEnd,c),Uf||(t.addEventListener("touchstart",Gf),Uf=!0)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!i.touch&&s.ios)&&(r.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,l),t.addEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&r.addEventListener("click",e.onClick,!0),n.cssMode&&o.addEventListener("scroll",e.onScroll),n.updateOnWindowResize?e.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Hf,!0):e.on("observerUpdate",Hf,!0)},detachEvents:function(){var e=this,t=os(),n=e.params,a=e.touchEvents,r=e.el,o=e.wrapperEl,s=e.device,i=e.support,l=!!n.nested;if(!i.touch&&i.pointerEvents)r.removeEventListener(a.start,e.onTouchStart,!1),t.removeEventListener(a.move,e.onTouchMove,l),t.removeEventListener(a.end,e.onTouchEnd,!1);else{if(i.touch){var c=!("onTouchStart"!==a.start||!i.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(a.start,e.onTouchStart,c),r.removeEventListener(a.move,e.onTouchMove,l),r.removeEventListener(a.end,e.onTouchEnd,c),a.cancel&&r.removeEventListener(a.cancel,e.onTouchEnd,c)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!i.touch&&s.ios)&&(r.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,l),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&r.removeEventListener("click",e.onClick,!0),n.cssMode&&o.removeEventListener("scroll",e.onScroll),e.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Hf)}};var Xf={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,a=e.loopedSlides,r=void 0===a?0:a,o=e.params,s=e.$el,i=o.breakpoints;if(i&&(!i||0!==Object.keys(i).length)){var l=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var c=l in i?i[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=c[e];void 0!==t&&(c[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var u=c||e.originalParams,p=o.slidesPerColumn>1,d=u.slidesPerColumn>1,f=o.enabled;p&&!d?(s.removeClass(o.containerModifierClass+"multirow "+o.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!p&&d&&(s.addClass(o.containerModifierClass+"multirow"),(u.slidesPerColumnFill&&"column"===u.slidesPerColumnFill||!u.slidesPerColumnFill&&"column"===o.slidesPerColumnFill)&&s.addClass(o.containerModifierClass+"multirow-column"),e.emitContainerClasses());var h=u.direction&&u.direction!==o.direction,m=o.loop&&(u.slidesPerView!==o.slidesPerView||h);h&&n&&e.changeDirection(),xf(e.params,u);var g=e.params.enabled;xf(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!g?e.disable():!f&&g&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),m&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var a=!1,r=is(),o="window"===t?r.innerHeight:n.clientHeight,s=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));s.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var i=0;i<s.length;i+=1){var l=s[i],c=l.point,u=l.value;"window"===t?r.matchMedia("(min-width: "+u+"px)").matches&&(a=c):u<=n.clientWidth&&(a=c)}return a||"max"}}};var Yf={addClasses:function(){var e,t,n,a=this,r=a.classNames,o=a.params,s=a.rtl,i=a.$el,l=a.device,c=a.support,u=(e=["initialized",o.direction,{"pointer-events":c.pointerEvents&&!c.touch},{"free-mode":o.freeMode},{autoheight:o.autoHeight},{rtl:s},{multirow:o.slidesPerColumn>1},{"multirow-column":o.slidesPerColumn>1&&"column"===o.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":o.cssMode}],t=o.containerModifierClass,n=[],e.forEach((function(e){"object"==typeof e?Object.keys(e).forEach((function(a){e[a]&&n.push(t+a)})):"string"==typeof e&&n.push(t+e)})),n);r.push.apply(r,u),i.addClass([].concat(r).join(" ")),a.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var Kf={loadImage:function(e,t,n,a,r,o){var s,i=is();function l(){o&&o()}hf(e).parent("picture")[0]||e.complete&&r?l():t?((s=new i.Image).onload=l,s.onerror=l,a&&(s.sizes=a),n&&(s.srcset=n),t&&(s.src=t)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var a=e.imagesToLoad[n];e.loadImage(a,a.currentSrc||a.getAttribute("src"),a.srcset||a.getAttribute("srcset"),a.sizes||a.getAttribute("sizes"),!0,t)}}};var Qf={checkOverflow:function(){var e=this,t=e.params,n=e.isLocked,a=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&a?e.isLocked=a<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),n&&n!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},Zf={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Jf(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var eh={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var a=t.modules[n];a.params&&xf(e,a.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var a=t.modules[n],r=e[n]||{};a.on&&t.on&&Object.keys(a.on).forEach((function(e){t.on(e,a.on[e])})),a.create&&a.create.bind(t)(r)}))}},eventsEmitter:Rf,update:Pf,translate:Mf,transition:Bf,slide:Af,loop:_f,grabCursor:Lf,manipulation:Df,events:qf,breakpoints:Xf,checkOverflow:Qf,classes:Yf,images:Kf},th={},nh=function(){function e(){for(var t,n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?n=r[0]:(t=r[0],n=r[1]),n||(n={}),n=xf({},n),t&&!n.el&&(n.el=t),n.el&&hf(n.el).length>1){var s=[];return hf(n.el).each((function(t){var a=xf({},n,{el:t});s.push(new e(a))})),s}var i=this;i.__swiper__=!0,i.support=Ef(),i.device=Sf({userAgent:n.userAgent}),i.browser=Tf(),i.eventsListeners={},i.eventsAnyListeners=[],void 0===i.modules&&(i.modules={}),Object.keys(i.modules).forEach((function(e){var t=i.modules[e];if(t.params){var a=Object.keys(t.params)[0],r=t.params[a];if("object"!=typeof r||null===r)return;if(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===n[a]&&(n[a]={auto:!0}),!(a in n)||!("enabled"in r))return;!0===n[a]&&(n[a]={enabled:!0}),"object"!=typeof n[a]||"enabled"in n[a]||(n[a].enabled=!0),n[a]||(n[a]={enabled:!1})}}));var l=xf({},Zf);return i.useParams(l),i.params=xf({},l,th,n),i.originalParams=xf({},i.params),i.passedParams=xf({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach((function(e){i.on(e,i.params.on[e])})),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=hf,xf(i,{enabled:i.params.enabled,el:t,classNames:[],slides:hf(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===i.params.direction},isVertical:function(){return"vertical"===i.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["mousedown","mousemove","mouseup"];return i.support.pointerEvents&&(t=["pointerdown","pointermove","pointerup"]),i.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},i.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:gf(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.useModules(),i.emit("_swiper"),i.params.init&&i.init(),i}var t,n,a,r=e.prototype;return r.enable=function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))},r.disable=function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))},r.setProgress=function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var a=n.minTranslate(),r=(n.maxTranslate()-a)*e+a;n.translateTo(r,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()},r.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},r.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},r.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var a=e.getSlideClasses(n);t.push({slideEl:n,classNames:a}),e.emit("_slideClass",n,a)})),e.emit("_slideClasses",t)}},r.slidesPerViewDynamic=function(){var e=this,t=e.params,n=e.slides,a=e.slidesGrid,r=e.size,o=e.activeIndex,s=1;if(t.centeredSlides){for(var i,l=n[o].swiperSlideSize,c=o+1;c<n.length;c+=1)n[c]&&!i&&(s+=1,(l+=n[c].swiperSlideSize)>r&&(i=!0));for(var u=o-1;u>=0;u-=1)n[u]&&!i&&(s+=1,(l+=n[u].swiperSlideSize)>r&&(i=!0))}else for(var p=o+1;p<n.length;p+=1)a[p]-a[o]<r&&(s+=1);return s},r.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(a(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||a(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function a(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}},r.changeDirection=function(e,t){void 0===t&&(t=!0);var n=this,a=n.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(""+n.params.containerModifierClass+a).addClass(""+n.params.containerModifierClass+e),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n},r.mount=function(e){var t=this;if(t.mounted)return!0;var n=hf(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var a=function(){return"."+(t.params.wrapperClass||"").trim().split(" ").join(".")},r=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=hf(e.shadowRoot.querySelector(a()));return t.children=function(e){return n.children(e)},t}return n.children(a())}();if(0===r.length&&t.params.createElements){var o=os().createElement("div");r=hf(o),o.className=t.params.wrapperClass,n.append(o),n.children("."+t.params.slideClass).each((function(e){r.append(e)}))}return xf(t,{$el:n,el:e,$wrapperEl:r,wrapperEl:r[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===r.css("display")}),!0},r.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t},r.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n,a=this,r=a.params,o=a.$el,s=a.$wrapperEl,i=a.slides;return void 0===a.params||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),r.loop&&a.loopDestroy(),t&&(a.removeClasses(),o.removeAttr("style"),s.removeAttr("style"),i&&i.length&&i.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),a.emit("destroy"),Object.keys(a.eventsListeners).forEach((function(e){a.off(e)})),!1!==e&&(a.$el[0].swiper=null,n=a,Object.keys(n).forEach((function(e){try{n[e]=null}catch(e){}try{delete n[e]}catch(e){}}))),a.destroyed=!0),null},e.extendDefaults=function(e){xf(th,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var n=t.name||Object.keys(e.prototype.modules).length+"_"+gf();e.prototype.modules[n]=t},e.use=function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)},t=e,a=[{key:"extendedDefaults",get:function(){return th}},{key:"defaults",get:function(){return Zf}}],(n=null)&&Jf(t.prototype,n),a&&Jf(t,a),e}();Object.keys(eh).forEach((function(e){Object.keys(eh[e]).forEach((function(t){nh.prototype[t]=eh[e][t]}))})),nh.use([$f,Nf]);var ah=nh;function rh(){return rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rh.apply(this,arguments)}var oh={update:function(e){var t=this,n=t.params,a=n.slidesPerView,r=n.slidesPerGroup,o=n.centeredSlides,s=t.params.virtual,i=s.addSlidesBefore,l=s.addSlidesAfter,c=t.virtual,u=c.from,p=c.to,d=c.slides,f=c.slidesGrid,h=c.renderSlide,m=c.offset;t.updateActiveIndex();var g,v,b,y=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",o?(v=Math.floor(a/2)+r+l,b=Math.floor(a/2)+r+i):(v=a+(r-1)+l,b=r+i);var x=Math.max((y||0)-b,0),w=Math.min((y||0)+v,d.length-1),C=(t.slidesGrid[x]||0)-(t.slidesGrid[0]||0);function k(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(xf(t.virtual,{from:x,to:w,offset:C,slidesGrid:t.slidesGrid}),u===x&&p===w&&!e)return t.slidesGrid!==f&&C!==m&&t.slides.css(g,C+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:C,from:x,to:w,slides:function(){for(var e=[],t=x;t<=w;t+=1)e.push(d[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&k());var E=[],S=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var T=u;T<=p;T+=1)(T<x||T>w)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+T+'"]').remove();for(var $=0;$<d.length;$+=1)$>=x&&$<=w&&(void 0===p||e?S.push($):($>p&&S.push($),$<u&&E.push($)));S.forEach((function(e){t.$wrapperEl.append(h(d[e],e))})),E.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(h(d[e],e))})),t.$wrapperEl.children(".swiper-slide").css(g,C+"px"),k()},renderSlide:function(e,t){var n=this,a=n.params.virtual;if(a.cache&&n.virtual.cache[t])return n.virtual.cache[t];var r=a.renderSlide?hf(a.renderSlide.call(n,e,t)):hf('<div class="'+n.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),a.cache&&(n.virtual.cache[t]=r),r},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.virtual.slides.push(e[n]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,n=t.activeIndex,a=n+1,r=1;if(Array.isArray(e)){for(var o=0;o<e.length;o+=1)e[o]&&t.virtual.slides.unshift(e[o]);a=n+e.length,r=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var s=t.virtual.cache,i={};Object.keys(s).forEach((function(e){var t=s[e],n=t.attr("data-swiper-slide-index");n&&t.attr("data-swiper-slide-index",parseInt(n,10)+1),i[parseInt(e,10)+r]=t})),t.virtual.cache=i}t.virtual.update(!0),t.slideTo(a,0)},removeSlide:function(e){var t=this;if(null!=e){var n=t.activeIndex;if(Array.isArray(e))for(var a=e.length-1;a>=0;a-=1)t.virtual.slides.splice(e[a],1),t.params.virtual.cache&&delete t.virtual.cache[e[a]],e[a]<n&&(n-=1),n=Math.max(n,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<n&&(n-=1),n=Math.max(n,0);t.virtual.update(!0),t.slideTo(n,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},sh={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){wf(this,{virtual:rh({},oh,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};xf(e.params,t),xf(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function ih(){return ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ih.apply(this,arguments)}var lh={handle:function(e){var t=this;if(t.enabled){var n=is(),a=os(),r=t.rtlTranslate,o=e;o.originalEvent&&(o=o.originalEvent);var s=o.keyCode||o.charCode,i=t.params.keyboard.pageUpDown,l=i&&33===s,c=i&&34===s,u=37===s,p=39===s,d=38===s,f=40===s;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&f||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&d||l))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||a.activeElement&&a.activeElement.nodeName&&("input"===a.activeElement.nodeName.toLowerCase()||"textarea"===a.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(l||c||u||p||d||f)){var h=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var m=t.$el,g=m[0].clientWidth,v=m[0].clientHeight,b=n.innerWidth,y=n.innerHeight,x=t.$el.offset();r&&(x.left-=t.$el[0].scrollLeft);for(var w=[[x.left,x.top],[x.left+g,x.top],[x.left,x.top+v],[x.left+g,x.top+v]],C=0;C<w.length;C+=1){var k=w[C];if(k[0]>=0&&k[0]<=b&&k[1]>=0&&k[1]<=y){if(0===k[0]&&0===k[1])continue;h=!0}}if(!h)return}t.isHorizontal()?((l||c||u||p)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((c||p)&&!r||(l||u)&&r)&&t.slideNext(),((l||u)&&!r||(c||p)&&r)&&t.slidePrev()):((l||c||d||f)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(c||f)&&t.slideNext(),(l||d)&&t.slidePrev()),t.emit("keyPress",s)}}},enable:function(){var e=this,t=os();e.keyboard.enabled||(hf(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=os();e.keyboard.enabled&&(hf(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},ch={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){wf(this,{keyboard:ih({enabled:!1},lh)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var uh={lastScrollTime:gf(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return is().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=os(),t="onwheel",n=t in e;if(!n){var a=e.createElement("div");a.setAttribute(t,"return;"),n="function"==typeof a.onwheel}return!n&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(n=e.implementation.hasFeature("Events.wheel","3.0")),n}()?"wheel":"mousewheel"},normalize:function(e){var t=0,n=0,a=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),a=10*t,r=10*n,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=r,r=0),(a||r)&&e.deltaMode&&(1===e.deltaMode?(a*=40,r*=40):(a*=800,r*=800)),a&&!t&&(t=a<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:t,spinY:n,pixelX:a,pixelY:r}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,n=this;if(n.enabled){var a=n.params.mousewheel;n.params.cssMode&&t.preventDefault();var r=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(r=hf(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!r[0].contains(t.target)&&!a.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var o=0,s=n.rtlTranslate?-1:1,i=uh.normalize(t);if(a.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(i.pixelX)>Math.abs(i.pixelY)))return!0;o=-i.pixelX*s}else{if(!(Math.abs(i.pixelY)>Math.abs(i.pixelX)))return!0;o=-i.pixelY}else o=Math.abs(i.pixelX)>Math.abs(i.pixelY)?-i.pixelX*s:-i.pixelY;if(0===o)return!0;a.invert&&(o=-o);var l=n.getTranslate()+o*a.sensitivity;if(l>=n.minTranslate()&&(l=n.minTranslate()),l<=n.maxTranslate()&&(l=n.maxTranslate()),(!!n.params.loop||!(l===n.minTranslate()||l===n.maxTranslate()))&&n.params.nested&&t.stopPropagation(),n.params.freeMode){var c={time:gf(),delta:Math.abs(o),direction:Math.sign(o)},u=n.mousewheel.lastEventBeforeSnap,p=u&&c.time<u.time+500&&c.delta<=u.delta&&c.direction===u.direction;if(!p){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var d=n.getTranslate()+o*a.sensitivity,f=n.isBeginning,h=n.isEnd;if(d>=n.minTranslate()&&(d=n.minTranslate()),d<=n.maxTranslate()&&(d=n.maxTranslate()),n.setTransition(0),n.setTranslate(d),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!f&&n.isBeginning||!h&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var m=n.mousewheel.recentWheelEvents;m.length>=15&&m.shift();var g=m.length?m[m.length-1]:void 0,v=m[0];if(m.push(c),g&&(c.delta>g.delta||c.direction!==g.direction))m.splice(0);else if(m.length>=15&&c.time-v.time<500&&v.delta-c.delta>=1&&c.delta<=6){var b=o>0?.8:.2;n.mousewheel.lastEventBeforeSnap=c,m.splice(0),n.mousewheel.timeout=mf((function(){n.slideToClosest(n.params.speed,!0,void 0,b)}),0)}n.mousewheel.timeout||(n.mousewheel.timeout=mf((function(){n.mousewheel.lastEventBeforeSnap=c,m.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)}),500))}if(p||n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),d===n.minTranslate()||d===n.maxTranslate())return!0}}else{var y={time:gf(),delta:Math.abs(o),direction:Math.sign(o),raw:e},x=n.mousewheel.recentWheelEvents;x.length>=2&&x.shift();var w=x.length?x[x.length-1]:void 0;if(x.push(y),w?(y.direction!==w.direction||y.delta>w.delta||y.time>w.time+150)&&n.mousewheel.animateSlider(y):n.mousewheel.animateSlider(y),n.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,n=is();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&gf()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&gf()-t.mousewheel.lastScrollTime<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new n.Date).getTime(),!1)))},releaseScroll:function(e){var t=this,n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=uh.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=hf(e.params.mousewheel.eventsTarget)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=uh.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=hf(e.params.mousewheel.eventsTarget)),n.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},ph={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){wf(this,{mousewheel:{enabled:!1,lastScrollTime:gf(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:uh.enable,disable:uh.disable,handle:uh.handle,handleMouseEnter:uh.handleMouseEnter,handleMouseLeave:uh.handleMouseLeave,animateSlider:uh.animateSlider,releaseScroll:uh.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}};function dh(){return dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dh.apply(this,arguments)}var fh={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,n=e.navigation.toggleEl;if(!e.params.loop){var a=e.navigation,r=a.$nextEl,o=a.$prevEl;o&&o.length>0&&(e.isBeginning?n(o,!0):n(o,!1),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](t.lockClass)),r&&r.length>0&&(e.isEnd?n(r,!0):n(r,!1),e.params.watchOverflow&&e.enabled&&r[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,n=this,a=n.params.navigation;(n.params.navigation=kf(n.$el,n.params.navigation,n.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),a.nextEl||a.prevEl)&&(a.nextEl&&(e=hf(a.nextEl),n.params.uniqueNavElements&&"string"==typeof a.nextEl&&e.length>1&&1===n.$el.find(a.nextEl).length&&(e=n.$el.find(a.nextEl))),a.prevEl&&(t=hf(a.prevEl),n.params.uniqueNavElements&&"string"==typeof a.prevEl&&t.length>1&&1===n.$el.find(a.prevEl).length&&(t=n.$el.find(a.prevEl))),e&&e.length>0&&e.on("click",n.navigation.onNextClick),t&&t.length>0&&t.on("click",n.navigation.onPrevClick),xf(n.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),n.enabled||(e&&e.addClass(a.lockClass),t&&t.addClass(a.lockClass)))},destroy:function(){var e=this,t=e.navigation,n=t.$nextEl,a=t.$prevEl;n&&n.length&&(n.off("click",e.navigation.onNextClick),n.removeClass(e.params.navigation.disabledClass)),a&&a.length&&(a.off("click",e.navigation.onPrevClick),a.removeClass(e.params.navigation.disabledClass))}},hh={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){wf(this,{navigation:dh({},fh)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,n=t.$nextEl,a=t.$prevEl;n&&n[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),a&&a[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var n=e.navigation,a=n.$nextEl,r=n.$prevEl,o=t.target;if(e.params.navigation.hideOnClick&&!hf(o).is(r)&&!hf(o).is(a)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;var s;a?s=a.hasClass(e.params.navigation.hiddenClass):r&&(s=r.hasClass(e.params.navigation.hiddenClass)),!0===s?e.emit("navigationShow"):e.emit("navigationHide"),a&&a.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass)}}}};function mh(){return mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mh.apply(this,arguments)}var gh={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el,s=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((a=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>r-1-2*e.loopedSlides&&(a-=r-2*e.loopedSlides),a>s-1&&(a-=s),a<0&&"bullets"!==e.params.paginationType&&(a=s+a)):a=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var i,l,c,u=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=u.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),o.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=a-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),i=a-e.pagination.dynamicBulletIndex,c=((l=i+(Math.min(u.length,n.dynamicMainBullets)-1))+i)/2),u.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),o.length>1)u.each((function(e){var t=hf(e),r=t.index();r===a&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=i&&r<=l&&t.addClass(n.bulletActiveClass+"-main"),r===i&&t.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),r===l&&t.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))}));else{var p=u.eq(a),d=p.index();if(p.addClass(n.bulletActiveClass),n.dynamicBullets){for(var f=u.eq(i),h=u.eq(l),m=i;m<=l;m+=1)u.eq(m).addClass(n.bulletActiveClass+"-main");if(e.params.loop)if(d>=u.length-n.dynamicMainBullets){for(var g=n.dynamicMainBullets;g>=0;g-=1)u.eq(u.length-g).addClass(n.bulletActiveClass+"-main");u.eq(u.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),h.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),h.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var v=Math.min(u.length,n.dynamicMainBullets+4),b=(e.pagination.bulletSize*v-e.pagination.bulletSize)/2-c*e.pagination.bulletSize,y=t?"right":"left";u.css(e.isHorizontal()?y:"top",b+"px")}}if("fraction"===n.type&&(o.find(Cf(n.currentClass)).text(n.formatFractionCurrent(a+1)),o.find(Cf(n.totalClass)).text(n.formatFractionTotal(s))),"progressbar"===n.type){var x;x=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var w=(a+1)/s,C=1,k=1;"horizontal"===x?C=w:k=w,o.find(Cf(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+C+") scaleY("+k+")").transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(o.html(n.renderCustom(e,a+1,s)),e.emit("paginationRender",o[0])):e.emit("paginationUpdate",o[0]),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,r="";if("bullets"===t.type){var o=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&o>n&&(o=n);for(var s=0;s<o;s+=1)t.renderBullet?r+=t.renderBullet.call(e,s,t.bulletClass):r+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";a.html(r),e.pagination.bullets=a.find(Cf(t.bulletClass))}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',a.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',a.html(r)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=kf(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var n=hf(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",Cf(t.bulletClass),(function(t){t.preventDefault();var n=hf(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),xf(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",Cf(t.bulletClass))}}},vh={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){wf(this,{pagination:mh({dynamicBulletIndex:0},gh)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var n=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!hf(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}};function bh(){return bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bh.apply(this,arguments)}var yh={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=e.rtlTranslate,a=e.progress,r=t.dragSize,o=t.trackSize,s=t.$dragEl,i=t.$el,l=e.params.scrollbar,c=r,u=(o-r)*a;n?(u=-u)>0?(c=r-u,u=0):-u+r>o&&(c=o+u):u<0?(c=r+u,u=0):u+r>o&&(c=o-u),e.isHorizontal()?(s.transform("translate3d("+u+"px, 0, 0)"),s[0].style.width=c+"px"):(s.transform("translate3d(0px, "+u+"px, 0)"),s[0].style.height=c+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),i[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){i[0].style.opacity=0,i.transition(400)}),1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.$dragEl,a=t.$el;n[0].style.width="",n[0].style.height="";var r,o=e.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,s=e.size/e.virtualSize,i=s*(o/e.size);r="auto"===e.params.scrollbar.dragSize?o*s:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width=r+"px":n[0].style.height=r+"px",a[0].style.display=s>=1?"none":"",e.params.scrollbar.hide&&(a[0].style.opacity=0),xf(t,{trackSize:o,divider:s,moveDivider:i,dragSize:r}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,n=this,a=n.scrollbar,r=n.rtlTranslate,o=a.$el,s=a.dragSize,i=a.trackSize,l=a.dragStartPos;t=(a.getPointerPosition(e)-o.offset()[n.isHorizontal()?"left":"top"]-(null!==l?l:s/2))/(i-s),t=Math.max(Math.min(t,1),0),r&&(t=1-t);var c=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*t;n.updateProgress(c),n.setTranslate(c),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(e){var t=this,n=t.params.scrollbar,a=t.scrollbar,r=t.$wrapperEl,o=a.$el,s=a.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===s[0]||e.target===s?a.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.transition(100),s.transition(100),a.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),o.transition(0),n.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,n=t.scrollbar,a=t.$wrapperEl,r=n.$el,o=n.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n.setDragPosition(e),a.transition(0),r.transition(0),o.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,n=t.params.scrollbar,a=t.scrollbar,r=t.$wrapperEl,o=a.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),r.transition("")),n.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=mf((function(){o.css("opacity",0),o.transition(400)}),1e3)),t.emit("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=os(),n=e.scrollbar,a=e.touchEventsTouch,r=e.touchEventsDesktop,o=e.params,s=e.support,i=n.$el[0],l=!(!s.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};i&&(s.touch?(i.addEventListener(a.start,e.scrollbar.onDragStart,l),i.addEventListener(a.move,e.scrollbar.onDragMove,l),i.addEventListener(a.end,e.scrollbar.onDragEnd,c)):(i.addEventListener(r.start,e.scrollbar.onDragStart,l),t.addEventListener(r.move,e.scrollbar.onDragMove,l),t.addEventListener(r.end,e.scrollbar.onDragEnd,c)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=os(),n=e.scrollbar,a=e.touchEventsTouch,r=e.touchEventsDesktop,o=e.params,s=e.support,i=n.$el[0],l=!(!s.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};i&&(s.touch?(i.removeEventListener(a.start,e.scrollbar.onDragStart,l),i.removeEventListener(a.move,e.scrollbar.onDragMove,l),i.removeEventListener(a.end,e.scrollbar.onDragEnd,c)):(i.removeEventListener(r.start,e.scrollbar.onDragStart,l),t.removeEventListener(r.move,e.scrollbar.onDragMove,l),t.removeEventListener(r.end,e.scrollbar.onDragEnd,c)))}},init:function(){var e=this,t=e.scrollbar,n=e.$el;e.params.scrollbar=kf(n,e.params.scrollbar,e.params.createElements,{el:"swiper-scrollbar"});var a=e.params.scrollbar;if(a.el){var r=hf(a.el);e.params.uniqueNavElements&&"string"==typeof a.el&&r.length>1&&1===n.find(a.el).length&&(r=n.find(a.el));var o=r.find("."+e.params.scrollbar.dragClass);0===o.length&&(o=hf('<div class="'+e.params.scrollbar.dragClass+'"></div>'),r.append(o)),xf(t,{$el:r,el:r[0],$dragEl:o,dragEl:o[0]}),a.draggable&&t.enableDraggable(),r&&r[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}},xh={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){wf(this,{scrollbar:bh({isTouched:!1,timeout:null,dragTimeout:null},yh)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}};function wh(){return wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wh.apply(this,arguments)}var Ch={setTransform:function(e,t){var n=this.rtl,a=hf(e),r=n?-1:1,o=a.attr("data-swiper-parallax")||"0",s=a.attr("data-swiper-parallax-x"),i=a.attr("data-swiper-parallax-y"),l=a.attr("data-swiper-parallax-scale"),c=a.attr("data-swiper-parallax-opacity");if(s||i?(s=s||"0",i=i||"0"):this.isHorizontal()?(s=o,i="0"):(i=o,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*t*r+"%":s*t*r+"px",i=i.indexOf("%")>=0?parseInt(i,10)*t+"%":i*t+"px",null!=c){var u=c-(c-1)*(1-Math.abs(t));a[0].style.opacity=u}if(null==l)a.transform("translate3d("+s+", "+i+", 0px)");else{var p=l-(l-1)*(1-Math.abs(t));a.transform("translate3d("+s+", "+i+", 0px) scale("+p+")")}},setTranslate:function(){var e=this,t=e.$el,n=e.slides,a=e.progress,r=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,a)})),n.each((function(t,n){var o=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(n/2)-a*(r.length-1)),o=Math.min(Math.max(o,-1),1),hf(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,o)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){var n=hf(t),a=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(a=0),n.transition(a)}))}},kh={name:"parallax",params:{parallax:{enabled:!1}},create:function(){wf(this,{parallax:wh({},Ch)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}};function Eh(){return Eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eh.apply(this,arguments)}var Sh={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,a=e.targetTouches[1].pageX,r=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(a-t,2)+Math.pow(r-n,2))},onGestureStart:function(e){var t=this,n=t.support,a=t.params.zoom,r=t.zoom,o=r.gesture;if(r.fakeGestureTouched=!1,r.fakeGestureMoved=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;r.fakeGestureTouched=!0,o.scaleStart=Sh.getDistanceBetweenTouches(e)}o.$slideEl&&o.$slideEl.length||(o.$slideEl=hf(e.target).closest("."+t.params.slideClass),0===o.$slideEl.length&&(o.$slideEl=t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+a.containerClass),o.maxRatio=o.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==o.$imageWrapEl.length)?(o.$imageEl&&o.$imageEl.transition(0),t.zoom.isScaling=!0):o.$imageEl=void 0},onGestureChange:function(e){var t=this,n=t.support,a=t.params.zoom,r=t.zoom,o=r.gesture;if(!n.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;r.fakeGestureMoved=!0,o.scaleMove=Sh.getDistanceBetweenTouches(e)}o.$imageEl&&0!==o.$imageEl.length?(n.gestures?r.scale=e.scale*r.currentScale:r.scale=o.scaleMove/o.scaleStart*r.currentScale,r.scale>o.maxRatio&&(r.scale=o.maxRatio-1+Math.pow(r.scale-o.maxRatio+1,.5)),r.scale<a.minRatio&&(r.scale=a.minRatio+1-Math.pow(a.minRatio-r.scale+1,.5)),o.$imageEl.transform("translate3d(0,0,0) scale("+r.scale+")")):"gesturechange"===e.type&&r.onGestureStart(e)},onGestureEnd:function(e){var t=this,n=t.device,a=t.support,r=t.params.zoom,o=t.zoom,s=o.gesture;if(!a.gestures){if(!o.fakeGestureTouched||!o.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!n.android)return;o.fakeGestureTouched=!1,o.fakeGestureMoved=!1}s.$imageEl&&0!==s.$imageEl.length&&(o.scale=Math.max(Math.min(o.scale,s.maxRatio),r.minRatio),s.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+o.scale+")"),o.currentScale=o.scale,o.isScaling=!1,1===o.scale&&(s.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,n=this.zoom,a=n.gesture,r=n.image;a.$imageEl&&0!==a.$imageEl.length&&(r.isTouched||(t.android&&e.cancelable&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,n=t.zoom,a=n.gesture,r=n.image,o=n.velocity;if(a.$imageEl&&0!==a.$imageEl.length&&(t.allowClick=!1,r.isTouched&&a.$slideEl)){r.isMoved||(r.width=a.$imageEl[0].offsetWidth,r.height=a.$imageEl[0].offsetHeight,r.startX=vf(a.$imageWrapEl[0],"x")||0,r.startY=vf(a.$imageWrapEl[0],"y")||0,a.slideWidth=a.$slideEl[0].offsetWidth,a.slideHeight=a.$slideEl[0].offsetHeight,a.$imageWrapEl.transition(0));var s=r.width*n.scale,i=r.height*n.scale;if(!(s<a.slideWidth&&i<a.slideHeight)){if(r.minX=Math.min(a.slideWidth/2-s/2,0),r.maxX=-r.minX,r.minY=Math.min(a.slideHeight/2-i/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!r.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=r.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=r.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(r.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(r.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(r.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(r.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=r.touchesCurrent.x,o.prevPositionY=r.touchesCurrent.y,o.prevTime=Date.now(),a.$imageWrapEl.transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,a=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var r=300,o=300,s=a.x*r,i=n.currentX+s,l=a.y*o,c=n.currentY+l;0!==a.x&&(r=Math.abs((i-n.currentX)/a.x)),0!==a.y&&(o=Math.abs((c-n.currentY)/a.y));var u=Math.max(r,o);n.currentX=i,n.currentY=c;var p=n.width*e.scale,d=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-p/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-d/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(u).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,n=t.gesture;n.$slideEl&&e.previousIndex!==e.activeIndex&&(n.$imageEl&&n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl&&n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,a,r,o,s,i,l,c,u,p,d,f,h,m,g,v=this,b=is(),y=v.zoom,x=v.params.zoom,w=y.gesture,C=y.image;(w.$slideEl||(e&&e.target&&(w.$slideEl=hf(e.target).closest("."+v.params.slideClass)),w.$slideEl||(v.params.virtual&&v.params.virtual.enabled&&v.virtual?w.$slideEl=v.$wrapperEl.children("."+v.params.slideActiveClass):w.$slideEl=v.slides.eq(v.activeIndex)),w.$imageEl=w.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),w.$imageWrapEl=w.$imageEl.parent("."+x.containerClass)),w.$imageEl&&0!==w.$imageEl.length&&w.$imageWrapEl&&0!==w.$imageWrapEl.length)&&(w.$slideEl.addClass(""+x.zoomedSlideClass),void 0===C.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=C.touchesStart.x,n=C.touchesStart.y),y.scale=w.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,y.currentScale=w.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,e?(m=w.$slideEl[0].offsetWidth,g=w.$slideEl[0].offsetHeight,a=w.$slideEl.offset().left+b.scrollX+m/2-t,r=w.$slideEl.offset().top+b.scrollY+g/2-n,i=w.$imageEl[0].offsetWidth,l=w.$imageEl[0].offsetHeight,c=i*y.scale,u=l*y.scale,f=-(p=Math.min(m/2-c/2,0)),h=-(d=Math.min(g/2-u/2,0)),(o=a*y.scale)<p&&(o=p),o>f&&(o=f),(s=r*y.scale)<d&&(s=d),s>h&&(s=h)):(o=0,s=0),w.$imageWrapEl.transition(300).transform("translate3d("+o+"px, "+s+"px,0)"),w.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var e=this,t=e.zoom,n=e.params.zoom,a=t.gesture;a.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?a.$slideEl=e.$wrapperEl.children("."+e.params.slideActiveClass):a.$slideEl=e.slides.eq(e.activeIndex),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+n.containerClass)),a.$imageEl&&0!==a.$imageEl.length&&a.$imageWrapEl&&0!==a.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,a.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),a.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),a.$slideEl.removeClass(""+n.zoomedSlideClass),a.$slideEl=void 0)},toggleGestures:function(e){var t=this,n=t.zoom,a=n.slideSelector,r=n.passiveListener;t.$wrapperEl[e]("gesturestart",a,n.onGestureStart,r),t.$wrapperEl[e]("gesturechange",a,n.onGestureChange,r),t.$wrapperEl[e]("gestureend",a,n.onGestureEnd,r)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,n=e.zoom;if(!n.enabled){n.enabled=!0;var a=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},r=!t.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;e.zoom.passiveListener=a,e.zoom.slideSelector=o,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,a),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,o,n.onGestureStart,a),e.$wrapperEl.on(e.touchEvents.move,o,n.onGestureChange,r),e.$wrapperEl.on(e.touchEvents.end,o,n.onGestureEnd,a),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,o,n.onGestureEnd,a)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,n.onTouchMove,r)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var n=e.support;e.zoom.enabled=!1;var a=!("touchstart"!==e.touchEvents.start||!n.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},r=!n.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;n.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,a),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,o,t.onGestureStart,a),e.$wrapperEl.off(e.touchEvents.move,o,t.onGestureChange,r),e.$wrapperEl.off(e.touchEvents.end,o,t.onGestureEnd,a),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,o,t.onGestureEnd,a)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,r)}}},Th={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;wf(e,{zoom:Eh({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},Sh)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(n){if(t!==n){var a=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,r=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",n,a,r)}t=n}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}};function $h(){return $h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$h.apply(this,arguments)}var Oh={loadInSlide:function(e,t){void 0===t&&(t=!0);var n=this,a=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var r=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):n.slides.eq(e),o=r.find("."+a.elementClass+":not(."+a.loadedClass+"):not(."+a.loadingClass+")");!r.hasClass(a.elementClass)||r.hasClass(a.loadedClass)||r.hasClass(a.loadingClass)||o.push(r[0]),0!==o.length&&o.each((function(e){var o=hf(e);o.addClass(a.loadingClass);var s=o.attr("data-background"),i=o.attr("data-src"),l=o.attr("data-srcset"),c=o.attr("data-sizes"),u=o.parent("picture");n.loadImage(o[0],i||s,l,c,!1,(function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(s?(o.css("background-image",'url("'+s+'")'),o.removeAttr("data-background")):(l&&(o.attr("srcset",l),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),u.length&&u.children("source").each((function(e){var t=hf(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),i&&(o.attr("src",i),o.removeAttr("data-src"))),o.addClass(a.loadedClass).removeClass(a.loadingClass),r.find("."+a.preloaderClass).remove(),n.params.loop&&t){var e=r.attr("data-swiper-slide-index");if(r.hasClass(n.params.slideDuplicateClass)){var p=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(p.index(),!1)}else{var d=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(d.index(),!1)}}n.emit("lazyImageReady",r[0],o[0]),n.params.autoHeight&&n.updateAutoHeight()}})),n.emit("lazyImageLoad",r[0],o[0])}))}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,a=e.slides,r=e.activeIndex,o=e.virtual&&n.virtual.enabled,s=n.lazy,i=n.slidesPerView;function l(e){if(o){if(t.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(a[e])return!0;return!1}function c(e){return o?hf(e).attr("data-swiper-slide-index"):hf(e).index()}if("auto"===i&&(i=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+n.slideVisibleClass).each((function(t){var n=o?hf(t).attr("data-swiper-slide-index"):hf(t).index();e.lazy.loadInSlide(n)}));else if(i>1)for(var u=r;u<r+i;u+=1)l(u)&&e.lazy.loadInSlide(u);else e.lazy.loadInSlide(r);if(s.loadPrevNext)if(i>1||s.loadPrevNextAmount&&s.loadPrevNextAmount>1){for(var p=s.loadPrevNextAmount,d=i,f=Math.min(r+d+Math.max(p,d),a.length),h=Math.max(r-Math.max(d,p),0),m=r+i;m<f;m+=1)l(m)&&e.lazy.loadInSlide(m);for(var g=h;g<r;g+=1)l(g)&&e.lazy.loadInSlide(g)}else{var v=t.children("."+n.slideNextClass);v.length>0&&e.lazy.loadInSlide(c(v));var b=t.children("."+n.slidePrevClass);b.length>0&&e.lazy.loadInSlide(c(b))}},checkInViewOnLoad:function(){var e=is(),t=this;if(t&&!t.destroyed){var n=t.params.lazy.scrollingElement?hf(t.params.lazy.scrollingElement):hf(e),a=n[0]===e,r=a?e.innerWidth:n[0].offsetWidth,o=a?e.innerHeight:n[0].offsetHeight,s=t.$el.offset(),i=!1;t.rtlTranslate&&(s.left-=t.$el[0].scrollLeft);for(var l=[[s.left,s.top],[s.left+t.width,s.top],[s.left,s.top+t.height],[s.left+t.width,s.top+t.height]],c=0;c<l.length;c+=1){var u=l[c];if(u[0]>=0&&u[0]<=r&&u[1]>=0&&u[1]<=o){if(0===u[0]&&0===u[1])continue;i=!0}}var p=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};i?(t.lazy.load(),n.off("scroll",t.lazy.checkInViewOnLoad,p)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,n.on("scroll",t.lazy.checkInViewOnLoad,p))}}},Ih={name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){wf(this,{lazy:$h({initialImageLoaded:!1},Oh)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params,n=t.lazy,a=t.cssMode,r=t.watchSlidesVisibility,o=t.watchSlidesProgress,s=t.touchReleaseOnEdges,i=t.resistanceRatio;n.enabled&&(a||(r||o)&&(s||0===i))&&e.lazy.load()}}};function Nh(){return Nh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nh.apply(this,arguments)}var Rh={LinearSpline:function(e,t){var n,a,r,o,s,i=function(e,t){for(a=-1,n=e.length;n-a>1;)e[r=n+a>>1]<=t?a=r:n=r;return n};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(s=i(this.x,e),o=s-1,(e-this.x[o])*(this.y[s]-this.y[o])/(this.x[s]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new Rh.LinearSpline(t.slidesGrid,e.slidesGrid):new Rh.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,a,r=this,o=r.controller.control,s=r.constructor;function i(e){var t=r.rtlTranslate?-r.translate:r.translate;"slide"===r.params.controller.by&&(r.controller.getInterpolateFunction(e),a=-r.controller.spline.interpolate(-t)),a&&"container"!==r.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(r.maxTranslate()-r.minTranslate()),a=(t-r.minTranslate())*n+e.minTranslate()),r.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,r),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(o))for(var l=0;l<o.length;l+=1)o[l]!==t&&o[l]instanceof s&&i(o[l]);else o instanceof s&&t!==o&&i(o)},setTransition:function(e,t){var n,a=this,r=a.constructor,o=a.controller.control;function s(t){t.setTransition(e,a),0!==e&&(t.transitionStart(),t.params.autoHeight&&mf((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){o&&(t.params.loop&&"slide"===a.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==t&&o[n]instanceof r&&s(o[n]);else o instanceof r&&t!==o&&s(o)}},Ph={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){wf(this,{controller:Nh({control:this.params.controller.control},Rh)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,n){e.controller.control&&e.controller.setTranslate(t,n)},setTransition:function(e,t,n){e.controller.control&&e.controller.setTransition(t,n)}}};function Mh(){return Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mh.apply(this,arguments)}var Bh={getRandomNumber:function(e){void 0===e&&(e=16);return"x".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,n=t.params.a11y,a=hf(e.target);t.navigation&&t.navigation.$nextEl&&a.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(n.lastSlideMessage):t.a11y.notify(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&a.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(n.firstSlideMessage):t.a11y.notify(n.prevSlideMessage)),t.pagination&&a.is(Cf(t.params.pagination.bulletClass))&&a[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,n=t.$nextEl,a=t.$prevEl;a&&a.length>0&&(e.isBeginning?(e.a11y.disableEl(a),e.a11y.makeElNotFocusable(a)):(e.a11y.enableEl(a),e.a11y.makeElFocusable(a))),n&&n.length>0&&(e.isEnd?(e.a11y.disableEl(n),e.a11y.makeElNotFocusable(n)):(e.a11y.enableEl(n),e.a11y.makeElFocusable(n)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(n){var a=hf(n);e.a11y.makeElFocusable(a),e.params.pagination.renderBullet||(e.a11y.addElRole(a,"button"),e.a11y.addElLabel(a,t.paginationBulletMessage.replace(/\{\{index\}\}/,a.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var n=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(n,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(n,t.containerMessage);var a=e.$wrapperEl,r=a.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(a,r),e.a11y.addElLive(a,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(hf(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(hf(e.slides),t.slideRole);var s,i,l=e.params.loop?e.slides.filter((function(t){return!t.classList.contains(e.params.slideDuplicateClass)})).length:e.slides.length;e.slides.each((function(n,a){var r=hf(n),o=e.params.loop?parseInt(r.attr("data-swiper-slide-index"),10):a,s=t.slideLabelMessage.replace(/\{\{index\}\}/,o+1).replace(/\{\{slidesLength\}\}/,l);e.a11y.addElLabel(r,s)})),e.navigation&&e.navigation.$nextEl&&(s=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(i=e.navigation.$prevEl),s&&s.length&&(e.a11y.makeElFocusable(s),"BUTTON"!==s[0].tagName&&(e.a11y.addElRole(s,"button"),s.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(s,t.nextSlideMessage),e.a11y.addElControls(s,r)),i&&i.length&&(e.a11y.makeElFocusable(i),"BUTTON"!==i[0].tagName&&(e.a11y.addElRole(i,"button"),i.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(i,t.prevSlideMessage),e.a11y.addElControls(i,r)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",Cf(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,n=this;n.a11y.liveRegion&&n.a11y.liveRegion.length>0&&n.a11y.liveRegion.remove(),n.navigation&&n.navigation.$nextEl&&(e=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(t=n.navigation.$prevEl),e&&e.off("keydown",n.a11y.onEnterOrSpaceKey),t&&t.off("keydown",n.a11y.onEnterOrSpaceKey),n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown",Cf(n.params.pagination.bulletClass),n.a11y.onEnterOrSpaceKey)}},Ah={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){wf(this,{a11y:Mh({},Bh,{liveRegion:hf('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}};function _h(){return _h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_h.apply(this,arguments)}var Lh={init:function(){var e=this,t=is();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var n=e.history;n.initialized=!0,n.paths=Lh.getPathValues(e.params.url),(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=is();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=Lh.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=is(),n=(e?new URL(e):t.location).pathname.slice(1).split("/").filter((function(e){return""!==e})),a=n.length;return{key:n[a-2],value:n[a-1]}},setHistory:function(e,t){var n=this,a=is();if(n.history.initialized&&n.params.history.enabled){var r;r=n.params.url?new URL(n.params.url):a.location;var o=n.slides.eq(t),s=Lh.slugify(o.attr("data-history"));if(n.params.history.root.length>0){var i=n.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),s=i+"/"+e+"/"+s}else r.pathname.includes(e)||(s=e+"/"+s);var l=a.history.state;l&&l.value===s||(n.params.history.replaceState?a.history.replaceState({value:s},null,s):a.history.pushState({value:s},null,s))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){var a=this;if(t)for(var r=0,o=a.slides.length;r<o;r+=1){var s=a.slides.eq(r);if(Lh.slugify(s.attr("data-history"))===t&&!s.hasClass(a.params.slideDuplicateClass)){var i=s.index();a.slideTo(i,e,n)}}else a.slideTo(0,e,n)}},Dh={name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){wf(this,{history:_h({},Lh)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}};function Fh(){return Fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fh.apply(this,arguments)}var zh={onHashChange:function(){var e=this,t=os();e.emit("hashChange");var n=t.location.hash.replace("#","");if(n!==e.slides.eq(e.activeIndex).attr("data-hash")){var a=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+n+'"]').index();if(void 0===a)return;e.slideTo(a)}},setHash:function(){var e=this,t=is(),n=os();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||0),e.emit("hashSet");else{var a=e.slides.eq(e.activeIndex),r=a.attr("data-hash")||a.attr("data-history");n.location.hash=r||"",e.emit("hashSet")}},init:function(){var e=this,t=os(),n=is();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var a=t.location.hash.replace("#","");if(a)for(var r=0,o=e.slides.length;r<o;r+=1){var s=e.slides.eq(r);if((s.attr("data-hash")||s.attr("data-history"))===a&&!s.hasClass(e.params.slideDuplicateClass)){var i=s.index();e.slideTo(i,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&hf(n).on("hashchange",e.hashNavigation.onHashChange)}},destroy:function(){var e=is();this.params.hashNavigation.watchState&&hf(e).off("hashchange",this.hashNavigation.onHashChange)}},Vh={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){wf(this,{hashNavigation:Fh({initialized:!1},zh)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}};function Hh(){return Hh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}var jh={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=mf((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),n)},start:function(){var e=this;return void 0===e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&(void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)})):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=os();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)})),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach((function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)}))},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}},Wh={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){wf(this,{autoplay:Hh({},jh,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),os().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),os().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}};function Uh(){return Uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Uh.apply(this,arguments)}var Gh={setTranslate:function(){for(var e=this,t=e.slides,n=0;n<t.length;n+=1){var a=e.slides.eq(n),r=-a[0].swiperSlideOffset;e.params.virtualTranslate||(r-=e.translate);var o=0;e.isHorizontal()||(o=r,r=0);var s=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:s}).transform("translate3d("+r+"px, "+o+"px, 0px)")}},setTransition:function(e){var t=this,n=t.slides,a=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var r=!1;n.transitionEnd((function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)a.trigger(e[n])}}))}}},qh={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){wf(this,{fadeEffect:Uh({},Gh)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};xf(e.params,t),xf(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}};function Xh(){return Xh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xh.apply(this,arguments)}var Yh={setTranslate:function(){var e,t=this,n=t.$el,a=t.$wrapperEl,r=t.slides,o=t.width,s=t.height,i=t.rtlTranslate,l=t.size,c=t.browser,u=t.params.cubeEffect,p=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,f=0;u.shadow&&(p?(0===(e=a.find(".swiper-cube-shadow")).length&&(e=hf('<div class="swiper-cube-shadow"></div>'),a.append(e)),e.css({height:o+"px"})):0===(e=n.find(".swiper-cube-shadow")).length&&(e=hf('<div class="swiper-cube-shadow"></div>'),n.append(e)));for(var h=0;h<r.length;h+=1){var m=r.eq(h),g=h;d&&(g=parseInt(m.attr("data-swiper-slide-index"),10));var v=90*g,b=Math.floor(v/360);i&&(v=-v,b=Math.floor(-v/360));var y=Math.max(Math.min(m[0].progress,1),-1),x=0,w=0,C=0;g%4==0?(x=4*-b*l,C=0):(g-1)%4==0?(x=0,C=4*-b*l):(g-2)%4==0?(x=l+4*b*l,C=l):(g-3)%4==0&&(x=-l,C=3*l+4*l*b),i&&(x=-x),p||(w=x,x=0);var k="rotateX("+(p?0:-v)+"deg) rotateY("+(p?v:0)+"deg) translate3d("+x+"px, "+w+"px, "+C+"px)";if(y<=1&&y>-1&&(f=90*g+90*y,i&&(f=90*-g-90*y)),m.transform(k),u.slideShadows){var E=p?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),S=p?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===E.length&&(E=hf('<div class="swiper-slide-shadow-'+(p?"left":"top")+'"></div>'),m.append(E)),0===S.length&&(S=hf('<div class="swiper-slide-shadow-'+(p?"right":"bottom")+'"></div>'),m.append(S)),E.length&&(E[0].style.opacity=Math.max(-y,0)),S.length&&(S[0].style.opacity=Math.max(y,0))}}if(a.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),u.shadow)if(p)e.transform("translate3d(0px, "+(o/2+u.shadowOffset)+"px, "+-o/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.shadowScale+")");else{var T=Math.abs(f)-90*Math.floor(Math.abs(f)/90),$=1.5-(Math.sin(2*T*Math.PI/360)/2+Math.cos(2*T*Math.PI/360)/2),O=u.shadowScale,I=u.shadowScale/$,N=u.shadowOffset;e.transform("scale3d("+O+", 1, "+I+") translate3d(0px, "+(s/2+N)+"px, "+-s/2/I+"px) rotateX(-90deg)")}var R=c.isSafari||c.isWebView?-l/2:0;a.transform("translate3d(0px,0,"+R+"px) rotateX("+(t.isHorizontal()?0:f)+"deg) rotateY("+(t.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this,n=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&n.find(".swiper-cube-shadow").transition(e)}},Kh={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){wf(this,{cubeEffect:Xh({},Yh)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};xf(e.params,t),xf(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}};function Qh(){return Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qh.apply(this,arguments)}var Zh={setTranslate:function(){for(var e=this,t=e.slides,n=e.rtlTranslate,a=0;a<t.length;a+=1){var r=t.eq(a),o=r[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(r[0].progress,1),-1));var s=-180*o,i=0,l=-r[0].swiperSlideOffset,c=0;if(e.isHorizontal()?n&&(s=-s):(c=l,l=0,i=-s,s=0),r[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){var u=e.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),p=e.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===u.length&&(u=hf('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),r.append(u)),0===p.length&&(p=hf('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),r.append(p)),u.length&&(u[0].style.opacity=Math.max(-o,0)),p.length&&(p[0].style.opacity=Math.max(o,0))}r.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+i+"deg) rotateY("+s+"deg)")}},setTransition:function(e){var t=this,n=t.slides,a=t.activeIndex,r=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var o=!1;n.eq(a).transitionEnd((function(){if(!o&&t&&!t.destroyed){o=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}}))}}},Jh={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){wf(this,{flipEffect:Qh({},Zh)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};xf(e.params,t),xf(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}};function em(){return em=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},em.apply(this,arguments)}var tm={setTranslate:function(){for(var e=this,t=e.width,n=e.height,a=e.slides,r=e.slidesSizesGrid,o=e.params.coverflowEffect,s=e.isHorizontal(),i=e.translate,l=s?t/2-i:n/2-i,c=s?o.rotate:-o.rotate,u=o.depth,p=0,d=a.length;p<d;p+=1){var f=a.eq(p),h=r[p],m=(l-f[0].swiperSlideOffset-h/2)/h*o.modifier,g=s?c*m:0,v=s?0:c*m,b=-u*Math.abs(m),y=o.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(o.stretch)/100*h);var x=s?0:y*m,w=s?y*m:0,C=1-(1-o.scale)*Math.abs(m);Math.abs(w)<.001&&(w=0),Math.abs(x)<.001&&(x=0),Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),Math.abs(v)<.001&&(v=0),Math.abs(C)<.001&&(C=0);var k="translate3d("+w+"px,"+x+"px,"+b+"px)  rotateX("+v+"deg) rotateY("+g+"deg) scale("+C+")";if(f.transform(k),f[0].style.zIndex=1-Math.abs(Math.round(m)),o.slideShadows){var E=s?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),S=s?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===E.length&&(E=hf('<div class="swiper-slide-shadow-'+(s?"left":"top")+'"></div>'),f.append(E)),0===S.length&&(S=hf('<div class="swiper-slide-shadow-'+(s?"right":"bottom")+'"></div>'),f.append(S)),E.length&&(E[0].style.opacity=m>0?m:0),S.length&&(S[0].style.opacity=-m>0?-m:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},nm={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){wf(this,{coverflowEffect:em({},tm)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}};function am(){return am=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},am.apply(this,arguments)}var rm={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var n=e.constructor;return t.swiper instanceof n?(e.thumbs.swiper=t.swiper,xf(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),xf(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):bf(t.swiper)&&(e.thumbs.swiper=new n(xf({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,a=t.clickedSlide;if(!(a&&hf(a).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var r;if(r=t.params.loop?parseInt(hf(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);var s=e.slides.eq(o).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),i=e.slides.eq(o).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===s?i:void 0===i?s:i-o<o-s?i:s}e.slideTo(r)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var a="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,r=t.params.thumbs.autoScrollOffset,o=r&&!n.params.loop;if(t.realIndex!==n.realIndex||o){var s,i,l=n.activeIndex;if(n.params.loop){n.slides.eq(l).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,l=n.activeIndex);var c=n.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),u=n.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();s=void 0===c?u:void 0===u?c:u-l==l-c?n.params.slidesPerGroup>1?u:l:u-l<l-c?u:c,i=t.activeIndex>t.previousIndex?"next":"prev"}else i=(s=t.realIndex)>t.previousIndex?"next":"prev";o&&(s+="next"===i?r:-1*r),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(s)<0&&(n.params.centeredSlides?s=s>l?s-Math.floor(a/2)+1:s+Math.floor(a/2)-1:s>l&&n.params.slidesPerGroup,n.slideTo(s,e?0:void 0))}var p=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(p=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),n.slides.removeClass(d),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(var f=0;f<p;f+=1)n.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+f)+'"]').addClass(d);else for(var h=0;h<p;h+=1)n.slides.eq(t.realIndex+h).addClass(d)}}},om={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){wf(this,{thumbs:am({swiper:null,initialized:!1},rm)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var n=e.thumbs.swiper;n&&n.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}},sm=[sh,ch,ph,hh,vh,xh,kh,Th,Ih,Ph,Ah,Dh,Vh,Wh,qh,Kh,Jh,nm,om];function im(e){var t=this,n=Bl(e);if(0!==n.length&&!n[0].swiper){var a,r,o,s={};n.hasClass("tabs-swipeable-wrap")&&(n.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),a=n.children(".tabs").children(".tab-active").index(),r=!0,o=n.find(".tabs-routable").length>0),n.attr("data-swiper")?s=JSON.parse(n.attr("data-swiper")):n[0].f7SwiperParams?s=n[0].f7SwiperParams:(s=n.dataset(),Object.keys(s).forEach((function(e){var t=s[e];if("string"==typeof t&&0===t.indexOf("{")&&t.indexOf("}")>0)try{s[e]=JSON.parse(t)}catch(e){}}))),void 0===s.initialSlide&&void 0!==a&&(s.initialSlide=a);var i=t.swiper.create(n[0],s),l=n.parents(".tab").filter((function(e){return 0===Bl(e).parent(".tabs").parent(".tabs-animated-wrap, .tabs-swipeable-wrap").length})).eq(0);n.parents(".popup, .login-screen, .sheet-modal, .popover").on("modal:open",c),n.parents(".panel").on("panel:open",c),l&&l.length&&l.on("tab:show",c),i.on("beforeDestroy",(function(){n.parents(".popup, .login-screen, .sheet-modal, .popover").off("modal:open",c),n.parents(".panel").off("panel:open",c),l&&l.length&&l.off("tab:show",c)})),r&&i.on("slideChange",(function(){if(o){var e=t.views.get(n.parents(".view"));e||(e=t.views.main);var a=e.router,r=a.findTabRouteUrl(i.slides.eq(i.activeIndex)[0]);r&&setTimeout((function(){a.navigate(r)}),0)}else t.tab.show({tabEl:i.slides.eq(i.activeIndex)})}))}function c(){i.update()}}ah.use(sm);var lm={name:"swiper",static:{Swiper:ah},create:function(){this.swiper=Dl({defaultSelector:".swiper-container",constructor:ah,domProp:"swiper"})},on:{pageBeforeRemove:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){t.swiper.destroy(e)}))},pageMounted:function(e){var t=this;e.$el.find(".tabs-swipeable-wrap").each((function(e){im.call(t,e)}))},pageInit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){im.call(t,e)}))},pageReinit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){var n=t.swiper.get(e);n&&n.update&&n.update()}))},tabMounted:function(e){var t=this;Bl(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){im.call(t,e)}))},tabShow:function(e){var t=this;Bl(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){var n=t.swiper.get(e);n&&n.update&&n.update()}))},tabBeforeRemove:function(e){var t=this;Bl(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){t.swiper.destroy(e)}))}},vnode:{"swiper-init":{insert:function(e){var t=e.elm;im.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}},"tabs-swipeable-wrap":{insert:function(e){var t=e.elm;im.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}}}};function cm(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function um(e,t){return um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},um(e,t)}var pm=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a=e.call(this,n,[t])||this);r.app=t;var o=Os({on:{}},t.params.photoBrowser);return r.useModulesParams(o),r.params=Os(o,n),Os(r,{exposed:!1,opened:!1,activeIndex:r.params.swiper.initialSlide,url:r.params.url,swipeToClose:{allow:!0,isTouched:!1,diff:void 0,start:void 0,current:void 0,started:!1,activeSlide:void 0,timeStart:void 0}}),r.useModules(),r.init(),a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,um(t,n);var r,o,s,i=a.prototype;return i.onSlideChange=function(e){var t=this;t.activeIndex=e.activeIndex;var n=e.activeIndex+1,a=t.params.virtualSlides?t.params.photos.length:e.slides.length;e.params.loop&&(a-=2,(n-=e.loopedSlides)<1&&(n=a+n),n>a&&(n-=a));var r,o=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+e.activeIndex+'"]'):e.slides.eq(e.activeIndex),s=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+e.previousIndex+'"]'):e.slides.eq(e.previousIndex),i=t.$el.find(".photo-browser-current"),l=t.$el.find(".photo-browser-total");if("page"===t.params.type&&t.params.navbar&&0===i.length&&"ios"===t.app.theme&&(r=t.app.navbar.getElByPage(t.$el))&&(i=Bl(r).find(".photo-browser-current"),l=Bl(r).find(".photo-browser-total")),i.length&&l.length&&(i.text(n),l.text(a),r||(r=i.parents(".navbar")[0]),r&&t.app.navbar.size(r)),t.captions.length>0){var c=e.params.loop?o.attr("data-swiper-slide-index"):t.activeIndex;t.$captionsContainerEl.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),t.$captionsContainerEl.find('[data-caption-index="'+c+'"]').addClass("photo-browser-caption-active")}var u=s.find("video");u.length>0&&"pause"in u[0]&&u[0].pause()},i.onTouchStart=function(){var e=this.swipeToClose;e.allow&&(e.isTouched=!0)},i.onTouchMove=function(e){var t=this,n=t.swipeToClose;n.isTouched&&(n.started||(n.started=!0,n.start="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,t.params.virtualSlides?n.activeSlide=t.swiper.$wrapperEl.children(".swiper-slide-active"):n.activeSlide=t.swiper.slides.eq(t.swiper.activeIndex),n.timeStart=Cs()),e.preventDefault(),n.current="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,n.diff=n.start-n.current,t.$el.transition(0).transform("translate3d(0,"+-n.diff+"px,0)"))},i.onTouchEnd=function(){var e=this,t=e.swipeToClose;if(t.isTouched=!1,t.started){t.started=!1,t.allow=!1;var n=Math.abs(t.diff),a=(new Date).getTime()-t.timeStart;a<300&&n>20||a>=300&&n>100?xs((function(){e.$el&&(t.diff<0?e.$el.addClass("swipe-close-to-bottom"):e.$el.addClass("swipe-close-to-top")),e.emit("local::swipeToClose",e),e.$el.transform("").transition(""),e.close(),t.allow=!0})):(0!==n?e.$el.addClass("photo-browser-transitioning").transitionEnd((function(){t.allow=!0,e.$el.removeClass("photo-browser-transitioning")})):t.allow=!0,xs((function(){e.$el.transform("").transition("")})))}else t.started=!1},i.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.iconsColor;e.params.iconsColor||"dark"!==e.params.theme||(t="white");var n="ios"!==e.app.theme&&"aurora"!==e.app.theme||!e.params.pageBackLinkText?"":e.params.pageBackLinkText,a=void 0===e.params.navbarShowCount?e.params.photos.length>1:e.params.navbarShowCount,r="page"!==e.params.type;return bu("div",{class:"navbar navbar-photo-browser "+("dark"===e.params.theme?"navbar-photo-browser-dark":"")},bu("div",{class:"navbar-bg"}),bu("div",{class:"navbar-inner navbar-inner-centered-title sliding"},!r&&bu("div",{class:"left"},bu("a",{class:"link "+(n?"":"icon-only")+" back"},bu("i",{class:"icon icon-back "+(t?"color-"+t:"")}),n&&bu("span",null,n))),a&&bu("div",{class:"title"},bu("span",{class:"photo-browser-current"}),bu("span",{class:"photo-browser-of"},e.params.navbarOfText),bu("span",{class:"photo-browser-total"})),r&&bu("div",{class:"right"},bu("a",{class:"link popup-close","data-popup":".photo-browser-popup"},bu("span",null,e.params.popupCloseLinkText)))))},i.renderToolbar=function(){var e=this;if(e.params.renderToolbar)return e.params.renderToolbar.call(e);var t=e.params.iconsColor;return e.params.iconsColor||"dark"!==e.params.theme||(t="white"),bu("div",{class:"toolbar toolbar-bottom tabbar"},bu("div",{class:"toolbar-inner"},bu("a",{class:"link photo-browser-prev"},bu("i",{class:"icon icon-back "+(t?"color-"+t:"")})),bu("a",{class:"link photo-browser-next"},bu("i",{class:"icon icon-forward "+(t?"color-"+t:"")}))))},i.renderCaption=function(e,t){var n=this;return n.params.renderCaption?n.params.renderCaption.call(n,e,t):bu("div",{class:"photo-browser-caption","data-caption-index":t},e)},i.renderObject=function(e,t){var n=this;return n.params.renderObject?n.params.renderObject.call(n,e,t):bu("div",{class:"photo-browser-slide photo-browser-object-slide swiper-slide","data-swiper-slide-index":t},e.html?e.html:e)},i.renderLazyPhoto=function(e,t){var n=this;return n.params.renderLazyPhoto?n.params.renderLazyPhoto.call(n,e,t):bu("div",{class:"photo-browser-slide photo-browser-slide-lazy swiper-slide","data-swiper-slide-index":t},bu("div",{class:"swiper-lazy-preloader"}),bu("span",{class:"swiper-zoom-container"},bu("img",{"data-src":e.url?e.url:e,class:"swiper-lazy"})))},i.renderPhoto=function(e,t){var n=this;return n.params.renderPhoto?n.params.renderPhoto.call(n,e,t):bu("div",{class:"photo-browser-slide swiper-slide","data-swiper-slide-index":t},bu("span",{class:"swiper-zoom-container"},bu("img",{src:e.url?e.url:e})))},i.render=function(){var e=this;return e.params.render?e.params.render.call(e,e.params):bu("div",{class:"photo-browser photo-browser-"+e.params.theme},bu("div",{class:"view"},bu("div",{class:"page photo-browser-page photo-browser-page-"+e.params.theme+" no-toolbar "+(e.params.navbar?"":"no-navbar"),"data-name":"photo-browser-page"},e.params.navbar&&e.renderNavbar(),e.params.toolbar&&e.renderToolbar(),bu("div",{class:"photo-browser-captions photo-browser-captions-"+(e.params.captionsTheme||e.params.theme)},e.params.photos.map((function(t,n){return t.caption?e.renderCaption(t.caption,n):""}))),bu("div",{class:"photo-browser-swiper-container swiper-container"},bu("div",{class:"photo-browser-swiper-wrapper swiper-wrapper"},!e.params.virtualSlides&&e.params.photos.map((function(t,n){return t.html||("string"==typeof t||t instanceof String)&&t.indexOf("<")>=0&&t.indexOf(">")>=0?e.renderObject(t,n):!0===e.params.swiper.lazy||e.params.swiper.lazy&&e.params.swiper.lazy.enabled?e.renderLazyPhoto(t,n):e.renderPhoto(t,n)})))))))},i.renderStandalone=function(){var e=this;return e.params.renderStandalone?e.params.renderStandalone.call(e):'<div class="popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen">'+e.render()+"</div>"},i.renderPage=function(){var e=this;return e.params.renderPage?e.params.renderPage.call(e):e.render()},i.renderPopup=function(){var e=this;return e.params.renderPopup?e.params.renderPopup.call(e):'<div class="popup photo-browser-popup">'+e.render()+"</div>"},i.onOpen=function(e,t){var n,a=this,r=a.app,o=Bl(t);o[0].f7PhotoBrowser=a,a.$el=o,a.el=o[0],a.openedIn=e,a.opened=!0,a.$swiperContainerEl=a.$el.find(".photo-browser-swiper-container"),a.$swiperWrapperEl=a.$el.find(".photo-browser-swiper-wrapper"),a.slides=a.$el.find(".photo-browser-slide"),a.$captionsContainerEl=a.$el.find(".photo-browser-captions"),a.captions=a.$el.find(".photo-browser-caption");var s=Os({},a.params.swiper,{initialSlide:a.activeIndex,on:{click:function(e){clearTimeout(n),a.params.exposition&&(n=setTimeout((function(){a.expositionToggle()}),350)),a.emit("local::tap",e),a.emit("local::click",e)},doubleClick:function(e){clearTimeout(n),a.emit("local::doubleTap",e),a.emit("local::doubleClick",e)},slideChange:function(){var e=this;a.onSlideChange(e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a.emit.apply(a,["local::slideChange"].concat(n))},transitionStart:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.emit.apply(a,["local::transitionStart"].concat(t))},transitionEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.emit.apply(a,["local::transitionEnd"].concat(t))},slideChangeTransitionStart:function(){var e=this;a.onSlideChange(e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a.emit.apply(a,["local::slideChangeTransitionStart"].concat(n))},slideChangeTransitionEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.emit.apply(a,["local::slideChangeTransitionEnd"].concat(t))},lazyImageLoad:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.emit.apply(a,["local::lazyImageLoad"].concat(t))},lazyImageReady:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];Bl(r).removeClass("photo-browser-slide-lazy"),a.emit.apply(a,["local::lazyImageReady"].concat(t))}}});a.params.swipeToClose&&"page"!==a.params.type&&Os(s.on,{touchStart:function(e,t){a.onTouchStart(t),a.emit("local::touchStart",t)},touchMoveOpposite:function(e,t){a.onTouchMove(t),a.emit("local::touchMoveOpposite",t)},touchEnd:function(e,t){a.onTouchEnd(t),a.emit("local::touchEnd",t)}}),a.params.virtualSlides&&Os(s,{virtual:{slides:a.params.photos,renderSlide:function(e,t){return e.html||("string"==typeof e||e instanceof String)&&e.indexOf("<")>=0&&e.indexOf(">")>=0?a.renderObject(e,t):!0===a.params.swiper.lazy||a.params.swiper.lazy&&a.params.swiper.lazy.enabled?a.renderLazyPhoto(e,t):a.renderPhoto(e,t)}}});var i=is();a.swiper=r.swiper?r.swiper.create(a.$swiperContainerEl,s):new i.Swiper(a.$swiperContainerEl,s),0===a.activeIndex&&a.onSlideChange(a.swiper),a.$el&&a.$el.trigger("photobrowser:open"),a.emit("local::open photoBrowserOpen",a)},i.onOpened=function(){var e=this;e.$el&&"standalone"===e.params.type&&e.$el.css("animation","none"),e.$el&&e.$el.trigger("photobrowser:opened"),e.emit("local::opened photoBrowserOpened",e)},i.onClose=function(){var e=this;e.destroyed||(e.swiper&&e.swiper.destroy&&(e.swiper.destroy(!0,!1),e.swiper=null,delete e.swiper),e.$el&&e.$el.trigger("photobrowser:close"),e.emit("local::close photoBrowserClose",e))},i.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$el=null,e.el=null,delete e.$el,delete e.el,e.$el&&e.$el.trigger("photobrowser:closed"),e.emit("local::closed photoBrowserClosed",e))},i.openPage=function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.view.$el.addClass("with-photo-browser-page with-photo-browser-page-"+e.params.theme),e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.view.$el.removeClass("with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-"+e.params.theme),e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e},i.openStandalone=function(){var e=this;if(e.opened)return e;var t={backdrop:!1,content:e.renderStandalone(),on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},i.openPopup=function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),push:e.params.popupPush,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},i.expositionEnable=function(){var e=this;return"page"===e.params.type&&e.view.$el.addClass("with-photo-browser-page-exposed"),e.$el&&e.$el.addClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.addClass("photo-browser-captions-exposed"),e.exposed=!0,e},i.expositionDisable=function(){var e=this;return"page"===e.params.type&&e.view.$el.removeClass("with-photo-browser-page-exposed"),e.$el&&e.$el.removeClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.removeClass("photo-browser-captions-exposed"),e.exposed=!1,e},i.expositionToggle=function(){var e=this;return"page"===e.params.type&&e.view.$el.toggleClass("with-photo-browser-page-exposed"),e.$el&&e.$el.toggleClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.toggleClass("photo-browser-captions-exposed"),e.exposed=!e.exposed,e},i.open=function(e){var t=this,n=t.params.type;return t.opened?(t.swiper&&void 0!==e&&t.swiper.slideTo(parseInt(e,10)),t):(void 0!==e&&(t.activeIndex=e),"standalone"===n&&t.openStandalone(),"page"===n&&t.openPage(),"popup"===n&&t.openPopup(),t)},i.close=function(){var e=this;return e.opened?(e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back():(e.modal.once("modalClosed",(function(){xs((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},i.init=function(){},i.destroy=function(){var e=this;e.emit("local::beforeDestroy photoBrowserBeforeDestroy",e),e.$el&&(e.$el.trigger("photobrowser:beforedestroy"),e.$el[0].f7PhotoBrowser=null,delete e.$el[0].f7PhotoBrowser),vs(e),e.destroyed=!0,e=null},r=a,o=[{key:"view",get:function(){var e=this.params,t=this.app;return e.view||t.views.main}}],o&&cm(r.prototype,o),s&&cm(r,s),a}(Us),dm=pm,fm={name:"photoBrowser",params:{photoBrowser:{photos:[],exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",captionsTheme:void 0,iconsColor:void 0,popupPush:!1,swipeToClose:!0,pageBackLinkText:"Back",popupCloseLinkText:"Close",navbarOfText:"of",navbarShowCount:void 0,view:void 0,url:"photos/",routableModals:!1,virtualSlides:!0,renderNavbar:void 0,renderToolbar:void 0,renderCaption:void 0,renderObject:void 0,renderLazyPhoto:void 0,renderPhoto:void 0,renderPage:void 0,renderPopup:void 0,renderStandalone:void 0,swiper:{initialSlide:0,spaceBetween:20,speed:300,loop:!1,preloadImages:!0,navigation:{nextEl:".photo-browser-next",prevEl:".photo-browser-prev"},zoom:{enabled:!0,maxRatio:3,minRatio:1},lazy:{enabled:!0}}}},create:function(){this.photoBrowser=Dl({defaultSelector:".photo-browser-popup, .photo-browser-page",constructor:dm,app:this,domProp:"f7PhotoBrowser"})},static:{PhotoBrowser:dm}};function hm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mm(e,t){return mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mm(e,t)}var gm=function(e){var t,n;function a(t,n){var a,r=Os({on:{}},t.params.notification,n),o=hm(a=e.call(this,t,r)||this);o.app=t,o.params=r;var s,i,l,c,u,p,d,f=o.params,h=f.icon,m=f.title,g=f.titleRightText,v=f.subtitle,b=f.text,y=f.closeButton,x=f.closeTimeout,w=f.cssClass,C=f.closeOnClick;if(o.params.el)s=Bl(o.params.el);else{var k=o.render({icon:h,title:m,titleRightText:g,subtitle:v,text:b,closeButton:y,cssClass:w});s=Bl(k)}if(s&&s.length>0&&s[0].f7Modal)return s[0].f7Modal||hm(a);if(0===s.length)return o.destroy()||hm(a);Os(o,{$el:s,el:s[0],type:"notification"}),s[0].f7Modal=o,y&&s.find(".notification-close-button").on("click",(function(){o.close()})),s.on("click",(function(e){y&&Bl(e.target).closest(".notification-close-button").length||(o.emit("local::click notificationClick",o),C&&o.close())})),o.on("beforeDestroy",(function(){s.off("click")}));var E,S={};function T(e){i||(i=!0,l=!1,c=void 0,p=Cs(),S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function $(e){if(i){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===c&&(c=!!(c||Math.abs(n-S.y)<Math.abs(t-S.x))),c)i=!1;else{e.preventDefault(),l||(o.$el.removeClass("notification-transitioning"),o.$el.transition(0),d=o.$el[0].offsetHeight/2),l=!0;var a=u=n-S.y;u>0&&(a=Math.pow(u,.8)),o.$el.transform("translate3d(0, "+a+"px, 0)")}}}function O(){if(!i||!l)return i=!1,void(l=!1);if(i=!1,l=!1,0!==u){var e=Cs()-p;o.$el.transition(""),o.$el.addClass("notification-transitioning"),o.$el.transform(""),(u<-10&&e<300||-u>=d/1)&&o.close()}}function I(){E=xs((function(){i&&l?I():o.close()}),x)}return o.on("open",(function(){o.params.swipeToClose&&(o.$el.on(t.touchEvents.start,T,{passive:!0}),t.on("touchmove:active",$),t.on("touchend:passive",O)),Bl(".notification.modal-in").each((function(e){var n=t.notification.get(e);e!==o.el&&n&&n.close()})),x&&I()})),o.on("close beforeDestroy",(function(){o.params.swipeToClose&&(o.$el.off(t.touchEvents.start,T,{passive:!0}),t.off("touchmove:active",$),t.off("touchend:passive",O)),clearTimeout(E)})),o||hm(a)}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,mm(t,n),a.prototype.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params,n=t.icon,a=t.title,r=t.titleRightText,o=t.subtitle,s=t.text,i=t.closeButton,l=t.cssClass;return bu("div",{class:"notification "+(l||"")},bu("div",{class:"notification-header"},n&&bu("div",{class:"notification-icon"},n),a&&bu("div",{class:"notification-title"},a),r&&bu("div",{class:"notification-title-right-text"},r),i&&bu("span",{class:"notification-close-button"})),bu("div",{class:"notification-content"},o&&bu("div",{class:"notification-subtitle"},o),s&&bu("div",{class:"notification-text"},s)))},a}(du),vm=gm,bm={name:"notification",static:{Notification:vm},create:function(){this.notification=Os({},zl({app:this,constructor:vm,defaultSelector:".notification.modal-in"}))},params:{notification:{icon:null,title:null,titleRightText:null,subtitle:null,text:null,closeButton:!1,closeTimeout:null,closeOnClick:!1,swipeToClose:!0,cssClass:null,render:null,containerEl:null}}};function ym(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wm(e,t){return wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wm(e,t)}var Cm=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=xm(a=e.call(this,n,[t])||this);r.app=t;var o,s,i=Fs(),l=Os({on:{}},t.params.autocomplete);void 0===l.searchbarDisableButton&&(l.searchbarDisableButton="aurora"!==t.theme),r.useModulesParams(l),r.params=Os(l,n),r.params.openerEl&&(o=Bl(r.params.openerEl)).length&&(o[0].f7Autocomplete=r),r.params.inputEl&&(s=Bl(r.params.inputEl)).length&&(s[0].f7Autocomplete=r);var c=us(),u=n.url;!u&&o&&o.length&&(o.attr("href")?u=o.attr("href"):o.find("a").length>0&&(u=o.find("a").attr("href"))),u&&"#"!==u&&""!==u||(u=r.params.url);var p=r.params.multiple?"checkbox":"radio";Os(r,{$openerEl:o,openerEl:o&&o[0],$inputEl:s,inputEl:s&&s[0],id:c,url:u,value:r.params.value||[],inputType:p,inputName:p+"-"+c,$modalEl:void 0,$dropdownEl:void 0});var d="";function f(){var e=r.$inputEl.val().trim();r.params.source&&r.params.source.call(r,e,(function(t){var n,a,o,i="",l=r.params.limit?Math.min(r.params.limit,t.length):t.length;r.items=t,r.params.highlightMatches&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp("("+e+")","i"));for(var c=0;c<l;c+=1){var u="object"==typeof t[c]?t[c][r.params.valueProperty]:t[c],p="object"==typeof t[c]?t[c][r.params.textProperty]:t[c];0===c&&(a=u,o=r.items[c]),i+=r.renderItem({value:u,text:r.params.highlightMatches?p.replace(n,"<b>$1</b>"):p},c)}if(""===i&&""===e&&r.params.dropdownPlaceholderText&&(i+=r.renderItem({placeholder:!0,text:r.params.dropdownPlaceholderText})),r.$dropdownEl.find("ul").html(i),r.params.typeahead){if(!a||!o)return;if(0!==a.toLowerCase().indexOf(e.toLowerCase()))return;if(d.toLowerCase()===e.toLowerCase())return void(r.value=[]);if(0===d.toLowerCase().indexOf(e.toLowerCase()))return d=e,void(r.value=[]);s.val(a),s[0].setSelectionRange(e.length,a.length);var f="object"==typeof r.value[0]?r.value[0][r.params.valueProperty]:r.value[0];f&&a.toLowerCase()===f.toLowerCase()||(r.value=[o],r.emit("local::change autocompleteChange",[o]))}d=e}))}function h(){var e,t,n,a=this,o=a.value;if(Bl(a).parents(".autocomplete-values").length>0){if("checkbox"===r.inputType&&!a.checked){for(var s=0;s<r.value.length;s+=1)(n="string"==typeof r.value[s]?r.value[s]:r.value[s][r.params.valueProperty])!==o&&1*n!=1*o||r.value.splice(s,1);r.updateValues(),r.emit("local::change autocompleteChange",r.value)}}else{for(var i=0;i<r.items.length;i+=1)(t="object"==typeof r.items[i]?r.items[i][r.params.valueProperty]:r.items[i])!==o&&1*t!=1*o||(e=r.items[i]);if("radio"===r.inputType)r.value=[e];else if(a.checked)r.value.push(e);else for(var l=0;l<r.value.length;l+=1)(n="object"==typeof r.value[l]?r.value[l][r.params.valueProperty]:r.value[l])!==o&&1*n!=1*o||r.value.splice(l,1);r.updateValues(),("radio"===r.inputType&&a.checked||"checkbox"===r.inputType)&&r.emit("local::change autocompleteChange",r.value)}}function m(e){var t=Bl(e.target);t.is(r.$inputEl[0])||r.$dropdownEl&&t.closest(r.$dropdownEl[0]).length||r.close()}function g(){r.open()}function v(){r.open()}function b(){r.$dropdownEl.find("label.active-state").length>0||setTimeout((function(){r.close()}),0)}function y(){r.positionDropdown()}function x(e){if(r.opened){if(27===e.keyCode)return e.preventDefault(),void r.$inputEl.blur();if(13===e.keyCode){var t=r.$dropdownEl.find(".autocomplete-dropdown-selected label");return t.length?(e.preventDefault(),t.trigger("click"),void r.$inputEl.blur()):void(r.params.typeahead&&(e.preventDefault(),r.$inputEl.blur()))}if(40===e.keyCode||38===e.keyCode){e.preventDefault();var n,a=r.$dropdownEl.find(".autocomplete-dropdown-selected");a.length&&(n=a[40===e.keyCode?"next":"prev"]("li")).length||(n=r.$dropdownEl.find("li").eq(40===e.keyCode?0:r.$dropdownEl.find("li").length-1)),n.hasClass("autocomplete-dropdown-placeholder")||(a.removeClass("autocomplete-dropdown-selected"),n.addClass("autocomplete-dropdown-selected"))}}}function w(){for(var e,t=Bl(this),n=0;n<r.items.length;n+=1){var a="object"==typeof r.items[n]?r.items[n][r.params.valueProperty]:r.items[n],o=t.attr("data-value");a!==o&&1*a!=1*o||(e=r.items[n])}r.params.updateInputValueOnSelect&&(r.$inputEl.val("object"==typeof e?e[r.params.valueProperty]:e),r.$inputEl.trigger("input change")),r.value=[e],r.emit("local::change autocompleteChange",[e]),r.close()}return r.attachEvents=function(){"dropdown"!==r.params.openIn&&r.$openerEl&&r.$openerEl.on("click",g),"dropdown"===r.params.openIn&&r.$inputEl&&(r.$inputEl.on("focus",v),r.$inputEl.on(r.params.inputEvents,f),i.android?Bl("html").on("click",m):r.$inputEl.on("blur",b),r.$inputEl.on("keydown",x))},r.detachEvents=function(){"dropdown"!==r.params.openIn&&r.$openerEl&&r.$openerEl.off("click",g),"dropdown"===r.params.openIn&&r.$inputEl&&(r.$inputEl.off("focus",v),r.$inputEl.off(r.params.inputEvents,f),i.android?Bl("html").off("click",m):r.$inputEl.off("blur",b),r.$inputEl.off("keydown",x))},r.attachDropdownEvents=function(){r.$dropdownEl.on("click","label",w),t.on("resize",y)},r.detachDropdownEvents=function(){r.$dropdownEl.off("click","label",w),t.off("resize",y)},r.attachPageEvents=function(){r.$el.on("change",'input[type="radio"], input[type="checkbox"]',h),r.params.closeOnSelect&&!r.params.multiple&&r.$el.once("click",".list label",(function(){xs((function(){r.close()}))}))},r.detachPageEvents=function(){r.$el.off("change",'input[type="radio"], input[type="checkbox"]',h)},r.useModules(),r.init(),r||xm(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,wm(t,n);var r,o,s,i=a.prototype;return i.positionDropdown=function(){var e,t=this,n=t.$inputEl,a=t.app,r=t.$dropdownEl,o=n.parents(".page-content");if(0!==o.length){var s,i=n.offset(),l=n[0].offsetWidth,c=n[0].offsetHeight,u=n.parents(".list");u.parents().each((function(e){if(!s){var t=Bl(e);t.parent(o).length&&(s=t)}}));var p,d=u.offset(),f=parseInt(o.css("padding-bottom"),10),h=u.length>0?d.left-o.offset().left:0,m=i.left-(u.length>0?d.left:0)-(a.rtl,0),g=i.top-(o.offset().top-o[0].scrollTop),v=o[0].scrollHeight-f-(g+o[0].scrollTop)-n[0].offsetHeight,b=a.rtl?"padding-right":"padding-left";u.length&&!t.params.expandInput&&(p=(a.rtl?u[0].offsetWidth-m-l:m)-("md"===a.theme?16:15)),r.css({left:(u.length>0?h:m)+"px",top:g+o[0].scrollTop+c+"px",width:(u.length>0?u[0].offsetWidth:l)+"px"}),r.children(".autocomplete-dropdown-inner").css(((e={maxHeight:v+"px"})[b]=u.length>0&&!t.params.expandInput?p+"px":"",e))}},i.focus=function(){this.$el.find("input[type=search]").focus()},i.source=function(e){var t=this;if(t.params.source){var n=t.$el;t.params.source.call(t,e,(function(a){var r="",o=t.params.limit?Math.min(t.params.limit,a.length):a.length;t.items=a;for(var s=0;s<o;s+=1){for(var i=!1,l="object"==typeof a[s]?a[s][t.params.valueProperty]:a[s],c=0;c<t.value.length;c+=1){var u="object"==typeof t.value[c]?t.value[c][t.params.valueProperty]:t.value[c];u!==l&&1*u!=1*l||(i=!0)}r+=t.renderItem({value:l,text:"object"==typeof a[s]?a[s][t.params.textProperty]:a[s],inputType:t.inputType,id:t.id,inputName:t.inputName,selected:i},s)}n.find(".autocomplete-found ul").html(r),0===a.length?0!==e.length?(n.find(".autocomplete-not-found").show(),n.find(".autocomplete-found, .autocomplete-values").hide()):(n.find(".autocomplete-values").show(),n.find(".autocomplete-found, .autocomplete-not-found").hide()):(n.find(".autocomplete-found").show(),n.find(".autocomplete-not-found, .autocomplete-values").hide())}))}},i.updateValues=function(){for(var e=this,t="",n=0;n<e.value.length;n+=1)t+=e.renderItem({value:"object"==typeof e.value[n]?e.value[n][e.params.valueProperty]:e.value[n],text:"object"==typeof e.value[n]?e.value[n][e.params.textProperty]:e.value[n],inputType:e.inputType,id:e.id,inputName:e.inputName+"-checked}",selected:!0},n);e.$el.find(".autocomplete-values ul").html(t)},i.preloaderHide=function(){var e=this;"dropdown"===e.params.openIn&&e.$dropdownEl?e.$dropdownEl.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):Bl(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")},i.preloaderShow=function(){var e=this;"dropdown"===e.params.openIn&&e.$dropdownEl?e.$dropdownEl.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):Bl(".autocomplete-preloader").addClass("autocomplete-preloader-visible")},i.renderPreloader=function(){var e=this,t={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms};return bu("div",{class:"autocomplete-preloader preloader "+(e.params.preloaderColor?"color-"+e.params.preloaderColor:"")},t[e.app.theme+"PreloaderContent"]||"")},i.renderSearchbar=function(){var e=this;return e.params.renderSearchbar?e.params.renderSearchbar.call(e):bu("form",{class:"searchbar"},bu("div",{class:"searchbar-inner"},bu("div",{class:"searchbar-input-wrap"},bu("input",{type:"search",spellcheck:e.params.searchbarSpellcheck||"false",placeholder:e.params.searchbarPlaceholder}),bu("i",{class:"searchbar-icon"}),bu("span",{class:"input-clear-button"})),e.params.searchbarDisableButton&&bu("span",{class:"searchbar-disable-button"},e.params.searchbarDisableText)))},i.renderItem=function(e,t){var n=this;if(n.params.renderItem)return n.params.renderItem.call(n,e,t);var a=e.value&&"string"==typeof e.value?e.value.replace(/"/g,"&quot;"):e.value;return"dropdown"!==n.params.openIn?bu("li",null,bu("label",{class:"item-"+e.inputType+" item-content"},bu("input",{type:e.inputType,name:e.inputName,value:a,_checked:e.selected}),bu("i",{class:"icon icon-"+e.inputType}),bu("div",{class:"item-inner"},bu("div",{class:"item-title"},e.text)))):e.placeholder?bu("li",{class:"autocomplete-dropdown-placeholder"},bu("label",{class:"item-content"},bu("div",{class:"item-inner"},bu("div",{class:"item-title"},e.text)))):bu("li",null,bu("label",{class:"item-radio item-content","data-value":a},bu("div",{class:"item-inner"},bu("div",{class:"item-title"},e.text))))},i.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.pageTitle;void 0===t&&e.$openerEl&&e.$openerEl.length&&(t=e.$openerEl.find(".item-title").text().trim());var n="popup"===e.params.openIn,a=n?e.params.preloader&&bu("div",{class:"left"},e.renderPreloader()):bu("div",{class:"left sliding"},bu("a",{class:"link back"},bu("i",{class:"icon icon-back"}),bu("span",{class:"if-not-md"},e.params.pageBackLinkText))),r=n?bu("div",{class:"right"},bu("a",{class:"link popup-close","data-popup":".autocomplete-popup"},e.params.popupCloseLinkText)):e.params.preloader&&bu("div",{class:"right"},e.renderPreloader());return bu("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},bu("div",{class:"navbar-bg"}),bu("div",{class:"navbar-inner "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},a,t&&bu("div",{class:"title sliding"},t),r,bu("div",{class:"subnavbar sliding"},e.renderSearchbar())))},i.renderDropdown=function(){var e=this;return e.params.renderDropdown?e.params.renderDropdown.call(e,e.items):bu("div",{class:"autocomplete-dropdown"},bu("div",{class:"autocomplete-dropdown-inner"},bu("div",{class:"list "+(e.params.expandInput?"":"no-safe-areas")},bu("ul",null))),e.params.preloader&&e.renderPreloader())},i.renderPage=function(e){var t=this;return t.params.renderPage?t.params.renderPage.call(t,t.items):bu("div",{class:"page page-with-subnavbar autocomplete-page","data-name":"autocomplete-page"},t.renderNavbar(e),bu("div",{class:"searchbar-backdrop"}),bu("div",{class:"page-content"},bu("div",{class:"list autocomplete-list autocomplete-found autocomplete-list-"+t.id+" "+(t.params.formColorTheme?"color-"+t.params.formColorTheme:"")},bu("ul",null)),bu("div",{class:"list autocomplete-not-found"},bu("ul",null,bu("li",{class:"item-content"},bu("div",{class:"item-inner"},bu("div",{class:"item-title"},t.params.notFoundText))))),bu("div",{class:"list autocomplete-values"},bu("ul",null))))},i.renderPopup=function(){var e=this;return e.params.renderPopup?e.params.renderPopup.call(e,e.items):bu("div",{class:"popup autocomplete-popup"},bu("div",{class:"view"},e.renderPage(!0),";"))},i.onOpen=function(e,t){var n=this,a=n.app,r=Bl(t);if(n.$el=r,n.el=r[0],n.openedIn=e,n.opened=!0,"dropdown"===n.params.openIn)n.attachDropdownEvents(),n.$dropdownEl.addClass("autocomplete-dropdown-in"),n.$inputEl.trigger("input");else{var o=r.find(".searchbar");"page"===n.params.openIn&&"ios"===a.theme&&0===o.length&&(o=Bl(a.navbar.getElByPage(r)).find(".searchbar")),n.searchbar=a.searchbar.create({el:o,backdropEl:r.find(".searchbar-backdrop"),customSearch:!0,on:{search:function(e,t){0===t.length&&n.searchbar.enabled?n.searchbar.backdropShow():n.searchbar.backdropHide(),n.source(t)}}}),n.attachPageEvents(),n.updateValues(),n.params.requestSourceOnOpen&&n.source("")}n.emit("local::open autocompleteOpen",n)},i.autoFocus=function(){var e=this;return e.searchbar&&e.searchbar.$inputEl&&e.searchbar.$inputEl.focus(),e},i.onOpened=function(){var e=this;"dropdown"!==e.params.openIn&&e.params.autoFocus&&e.autoFocus(),e.emit("local::opened autocompleteOpened",e)},i.onClose=function(){var e=this;e.destroyed||(e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),"dropdown"===e.params.openIn?(e.detachDropdownEvents(),e.$dropdownEl.removeClass("autocomplete-dropdown-in").remove(),e.$inputEl.parents(".item-content-dropdown-expanded").removeClass("item-content-dropdown-expanded")):e.detachPageEvents(),e.emit("local::close autocompleteClose",e))},i.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$el=null,e.el=null,delete e.$el,delete e.el,e.emit("local::closed autocompleteClosed",e))},i.openPage=function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}},options:{animate:e.params.animate}}}),e},i.openPopup=function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),animate:e.params.animate,push:e.params.popupPush,swipeToClose:e.params.popupSwipeToClose,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(e.params.animate),e},i.openDropdown=function(){var e=this;e.$dropdownEl||(e.$dropdownEl=Bl(e.renderDropdown())),e.$inputEl.parents(".list").length&&e.$inputEl.parents(".item-content").length>0&&e.params.expandInput&&e.$inputEl.parents(".item-content").addClass("item-content-dropdown-expanded");var t=e.$inputEl.parents(".page-content");e.params.dropdownContainerEl?Bl(e.params.dropdownContainerEl).append(e.$dropdownEl):0===t.length?e.$dropdownEl.insertAfter(e.$inputEl):(e.positionDropdown(),t.append(e.$dropdownEl)),e.onOpen("dropdown",e.$dropdownEl),e.onOpened("dropdown",e.$dropdownEl)},i.open=function(){var e=this;return e.opened||e["open"+e.params.openIn.split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")](),e},i.close=function(){var e=this;return e.opened?("dropdown"===e.params.openIn?(e.onClose(),e.onClosed()):e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back({animate:e.params.animate}):(e.modal.once("modalClosed",(function(){xs((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},i.init=function(){this.attachEvents()},i.destroy=function(){var e=this;e.emit("local::beforeDestroy autocompleteBeforeDestroy",e),e.detachEvents(),e.$inputEl&&e.$inputEl[0]&&delete e.$inputEl[0].f7Autocomplete,e.$openerEl&&e.$openerEl[0]&&delete e.$openerEl[0].f7Autocomplete,vs(e),e.destroyed=!0},r=a,o=[{key:"view",get:function(){var e,t=this,n=t.$openerEl,a=t.$inputEl,r=t.app;if(t.params.view)e=t.params.view;else if(n||a){var o=n||a;e=o.closest(".view").length&&o.closest(".view")[0].f7View}return e||(e=r.views.main),e}}],o&&ym(r.prototype,o),s&&ym(r,s),a}(Us),km=Cm,Em={name:"autocomplete",params:{autocomplete:{openerEl:void 0,inputEl:void 0,view:void 0,dropdownContainerEl:void 0,dropdownPlaceholderText:void 0,typeahead:!1,highlightMatches:!0,expandInput:!1,updateInputValueOnSelect:!0,inputEvents:"input",value:void 0,multiple:!1,source:void 0,limit:void 0,valueProperty:"id",textProperty:"text",openIn:"page",pageBackLinkText:"Back",popupCloseLinkText:"Close",pageTitle:void 0,searchbarPlaceholder:"Search...",searchbarDisableText:"Cancel",searchbarDisableButton:void 0,searchbarSpellcheck:!1,popupPush:!1,popupSwipeToClose:void 0,animate:!0,autoFocus:!1,closeOnSelect:!1,notFoundText:"Nothing found",requestSourceOnOpen:!1,preloaderColor:void 0,preloader:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!1,url:"select/",renderDropdown:void 0,renderPage:void 0,renderPopup:void 0,renderItem:void 0,renderSearchbar:void 0,renderNavbar:void 0}},static:{Autocomplete:km},create:function(){var e=this;e.autocomplete=Os(Dl({defaultSelector:void 0,constructor:km,app:e,domProp:"f7Autocomplete"}),{open:function(t){var n=e.autocomplete.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.autocomplete.get(t);if(n&&n.close)return n.close()}})}};function Sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tm(e,t){return Tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tm(e,t)}var $m=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r=Sm(a=e.call(this,n,[t])||this),o=Ds(),s=Os({},t.params.tooltip),i=os();r.useModulesParams(s),r.params=Os(s,n),void 0===n.offset&&o.touch&&"hover"===r.params.trigger&&(r.params.offset=10);var l=r.params,c=l.targetEl,u=l.containerEl;if(!c&&!r.params.delegated)return r||Sm(a);var p=Bl(c);if(0===p.length&&!r.params.delegated)return r||Sm(a);if(p[0]&&p[0].f7Tooltip&&!r.params.delegated)return p[0].f7Tooltip||Sm(a);var d=Bl(u||t.$el).eq(0);0===d.length&&(d=t.$el);var f=Bl(r.render()).eq(0);Os(r,{app:t,$targetEl:p,targetEl:p&&p[0],$containerEl:d,containerEl:d&&d[0],$el:f,el:f&&f[0],text:r.params.text||"",visible:!1,opened:!1}),p[0]&&(p[0].f7Tooltip=r);var h,m={};function g(){r.opened?r.hide():r.show(this)}function v(e){r.opened&&(Bl(e.target).closest(p).length||Bl(e.target).closest(r.$el).length)||r.hide()}function b(e){h||(h=!0,m.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,m.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,r.show(this))}function y(e){if(h){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;Math.pow(Math.pow(t-m.x,2)+Math.pow(n-m.y,2),.5)>50&&(h=!1,r.hide())}}function x(){h&&(h=!1,r.hide())}function w(){r.show(this)}function C(){r.hide()}function k(){f.hasClass("tooltip-in")||f.removeClass("tooltip-out").remove()}return r.attachEvents=function(){if(f.on("transitionend",k),"click"===r.params.trigger)return r.params.delegated?Bl(i).on("click",r.params.targetEl,g):r.$targetEl.on("click",g),void Bl("html").on("click",v);if("manual"!==r.params.trigger)if(o.touch){var e=!!o.passiveListener&&{passive:!0};r.params.delegated?Bl(i).on(t.touchEvents.start,r.params.targetEl,b,e):r.$targetEl.on(t.touchEvents.start,b,e),t.on("touchmove",y),t.on("touchend:passive",x)}else r.params.delegated?(Bl(i).on(o.pointerEvents?"pointerenter":"mouseenter",r.params.targetEl,w,!0),Bl(i).on(o.pointerEvents?"pointerleave":"mouseleave",r.params.targetEl,C,!0)):(r.$targetEl.on(o.pointerEvents?"pointerenter":"mouseenter",w),r.$targetEl.on(o.pointerEvents?"pointerleave":"mouseleave",C))},r.detachEvents=function(){if(f.off("transitionend",k),"click"===r.params.trigger)return r.params.delegated?Bl(i).on("click",r.params.targetEl,g):r.$targetEl.off("click",g),void Bl("html").off("click",v);if("manual"!==r.params.trigger)if(o.touch){var e=!!o.passiveListener&&{passive:!0};r.params.delegated?Bl(i).off(t.touchEvents.start,r.params.targetEl,b,e):r.$targetEl.off(t.touchEvents.start,b,e),t.off("touchmove",y),t.off("touchend:passive",x)}else r.params.delegated?(Bl(i).off(o.pointerEvents?"pointerenter":"mouseenter",r.params.targetEl,w,!0),Bl(i).off(o.pointerEvents?"pointerleave":"mouseleave",r.params.targetEl,C,!0)):(r.$targetEl.off(o.pointerEvents?"pointerenter":"mouseenter",w),r.$targetEl.off(o.pointerEvents?"pointerleave":"mouseleave",C))},r.useModules(),r.init(),r||Sm(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Tm(t,n);var r=a.prototype;return r.setTargetEl=function(e){var t=this;return t.detachEvents(),t.$targetEl=Bl(e),t.targetEl=t.$targetEl[0],t.attachEvents(),t},r.position=function(e){var t=this,n=t.$el,a=t.app,r=t.$containerEl,o=!!t.params.containerEl,s=t.params.offset||0;n.css({left:"",top:""});var i,l,c,u,p=Bl(e||t.targetEl),d=[n.width(),n.height()],f=d[0],h=d[1];n.css({left:"",top:""});var m=o&&r.length?r[0].getBoundingClientRect():a;if(p&&p.length>0){if(i=p.outerWidth(),l=p.outerHeight(),void 0===i&&void 0===l){var g=p[0].getBoundingClientRect();i=g.width,l=g.height}var v=p.offset();c=v.left-m.left,u=v.top-m.top;var b=p.parents(".page");b.length>0&&(u-=b[0].scrollTop)}var y=[0,0,0],x=y[0],w=y[1],C="top";h+s<u?w=u-h-s:h<m.height-u-l?(C="bottom",w=u+l+s):(C="middle",(w=l/2+u-h/2)<=0?w=8:w+h>=m.height&&(w=m.height-h-8)),"top"===C||"bottom"===C?((x=i/2+c-f/2)<8&&(x=8),x+f>m.width&&(x=m.width-f-8),x<0&&(x=0)):"middle"===C&&((x=c-f)<8||x+f>m.width)&&(x<8&&(x=c+i),x+f>m.width&&(x=m.width-f-8)),n.css({top:w+"px",left:x+"px"})},r.show=function(e){var t=this,n=t.$el,a=t.$targetEl,r=t.$containerEl;r[0]&&n[0]&&!r[0].contains(n[0])&&r.append(n),t.position(e);var o=Bl(e);return t.visible=!0,t.opened=!0,a.trigger("tooltip:show"),n.trigger("tooltip:show"),o.length&&o[0]!==a[0]&&o.trigger("tooltip:show"),t.emit("local::show tooltipShow",t),n.removeClass("tooltip-out").addClass("tooltip-in"),t},r.hide=function(){var e=this,t=e.$el,n=e.$targetEl;return e.visible=!1,e.opened=!1,n.trigger("tooltip:hide"),t.trigger("tooltip:hide"),e.emit("local::hide tooltipHide",e),t.addClass("tooltip-out").removeClass("tooltip-in"),e},r.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params;return('\n      <div class="tooltip '+(t.cssClass||"")+'">\n        <div class="tooltip-content">'+(t.text||"")+"</div>\n      </div>\n    ").trim()},r.setText=function(e){var t=this;return void 0===e||(t.params.text=e,t.text=e,t.$el&&t.$el.children(".tooltip-content").html(e),t.opened&&t.position()),t},r.init=function(){this.attachEvents()},r.destroy=function(){var e=this;e.$targetEl&&!e.destroyed&&(e.$targetEl.trigger("tooltip:beforedestroy"),e.emit("local::beforeDestroy tooltipBeforeDestroy",e),e.$el.remove(),e.$targetEl[0]&&delete e.$targetEl[0].f7Tooltip,e.detachEvents(),vs(e),e.destroyed=!0)},a}(Us),Om=$m,Im={name:"tooltip",static:{Tooltip:Om},create:function(){var e=this;e.tooltip=Dl({defaultSelector:".tooltip",constructor:Om,app:e,domProp:"f7Tooltip"}),e.tooltip.show=function(e){var t=Bl(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.show(t[0]),n}},e.tooltip.hide=function(e){var t=Bl(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.hide(),n}},e.tooltip.setText=function(e,t){var n=Bl(e);if(0!==n.length){var a=n[0].f7Tooltip;if(a)return a.setText(t),a}}},params:{tooltip:{targetEl:null,delegated:!1,text:null,cssClass:null,render:null,offset:0,trigger:"hover",containerEl:void 0}},on:{tabMounted:function(e){var t=this;Bl(e).find(".tooltip-init").each((function(e){var n=Bl(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})}))},tabBeforeRemove:function(e){Bl(e).find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".tooltip-init").each((function(e){var n=Bl(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})})),"ios"===t.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".tooltip-init").each((function(e){var n=Bl(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})}))},pageBeforeRemove:function(e){e.$el.find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()})),"ios"===this.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()}))}},vnode:{"tooltip-init":{insert:function(e){var t=e.elm,n=Bl(t).attr("data-tooltip");n&&this.tooltip.create({targetEl:t,text:n})},update:function(e){var t=e.elm;t.f7Tooltip&&e&&e.data&&e.data.attrs&&e.data.attrs["data-tooltip"]&&t.f7Tooltip.setText(e.data.attrs["data-tooltip"])},destroy:function(e){var t=e.elm;t.f7Tooltip&&t.f7Tooltip.destroy()}}}},Nm={open:function(e){void 0===e&&(e=".menu-item-dropdown");if(e){var t=Bl(e).closest(".menu-item-dropdown");if(t.length){var n=t.closest(".menu").eq(0);if(n.length){var a=n.css("z-index"),r=n[0].style.zIndex;n.css("z-index",parseInt(a||0,10)+1),n[0].f7MenuZIndex=r}t.eq(0).addClass("menu-item-dropdown-opened").trigger("menu:opened"),this.emit("menuOpened",t.eq(0)[0])}}},close:function(e){void 0===e&&(e=".menu-item-dropdown-opened");if(e){var t=Bl(e).closest(".menu-item-dropdown-opened");if(t.length){var n=t.closest(".menu").eq(0);if(n.length){var a=n[0].f7MenuZIndex;n.css("z-index",a),delete n[0].f7MenuZIndex}t.eq(0).removeClass("menu-item-dropdown-opened").trigger("menu:closed"),this.emit("menuClosed",t.eq(0)[0])}}}},Rm={name:"menu",create:function(){_s(this,{menu:Nm})},on:{click:function(e){var t=this,n=Bl(".menu-item-dropdown-opened");n.length&&n.each((function(n){Bl(e.target).closest(".menu-item-dropdown-opened").length||t.menu.close(n)}))}},clicks:{".menu-item-dropdown":function(e,t,n){if(e.hasClass("menu-item-dropdown-opened")){if(Bl(n.target).closest(".menu-dropdown").length)return;this.menu.close(e)}else this.menu.open(e)},".menu-close":function(){this.menu.close()}}},Pm={render:function(e){var t=e.params,n=t.sliderLabel,a=t.sliderValue,r=t.sliderValueEditable,o=t.alphaLabelText;return bu("div",{class:"color-picker-module color-picker-module-alpha-slider"},bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},o),bu("div",{class:"range-slider color-picker-slider color-picker-slider-alpha"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.01",min:"0",max:"1",class:"color-picker-value-alpha"}):bu("span",{class:"color-picker-value-alpha"}))))},init:function(e){function t(t){var n=e.value.alpha,a=parseFloat(t.target.value);Number.isNaN(a)?t.target.value=n:(a=Math.max(0,Math.min(1,a)),e.setValue({alpha:a}))}e.alphaRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-alpha"),min:0,max:1,step:.01,value:1,on:{change:function(t,n){var a=Math.floor(100*n)/100;e.setValue({alpha:a})}}}),e.$el.on("change",".color-picker-module-alpha-slider input",t),e.destroyAlphaSliderEvents=function(){e.$el.off("change",".color-picker-module-alpha-slider input",t)}},update:function(e){var t=e.value,n=e.params,a=n.sliderValue,r=n.sliderValueEditable,o=t.alpha;e.alphaRangeSlider.value=o,e.alphaRangeSlider.layout(),a&&r?e.$el.find("input.color-picker-value-alpha").val(o):e.$el.find("span.color-picker-value-alpha").text(o)},destroy:function(e){e.alphaRangeSlider&&e.alphaRangeSlider.destroy&&e.alphaRangeSlider.destroy(),delete e.alphaRangeSlider,e.destroyAlphaSliderEvents&&e.destroyAlphaSliderEvents(),delete e.destroyAlphaSliderEvents}},Mm={render:function(){return bu("div",{class:"color-picker-module color-picker-module-current-color"},bu("div",{class:"color-picker-current-color"}))},update:function(e){e.$el.find(".color-picker-module-current-color .color-picker-current-color").css("background-color",e.value.hex)}},Bm={render:function(e){var t=e.params,n=t.hexLabel,a=t.hexLabelText,r=t.hexValueEditable;return bu("div",{class:"color-picker-module color-picker-module-hex"},bu("div",{class:"color-picker-hex-wrap"},n&&bu("div",{class:"color-picker-hex-label"},a),bu("div",{class:"color-picker-hex-value"},r?bu("input",{type:"text",class:"color-picker-value-hex"}):bu("span",{class:"color-picker-value-hex"}))))},init:function(e){function t(t){var n=e.value.hex,a=t.target.value.replace(/#/g,"");if(Number.isNaN(a)||!a||3!==a.length&&6!==a.length)t.target.value=n;else{var r=parseInt(a,16);r>parseInt("ffffff",16)&&(a="fff"),r<0&&(a="000"),e.setValue({hex:a})}}e.$el.on("change",".color-picker-module-hex input",t),e.destroyHexEvents=function(){e.$el.off("change",".color-picker-module-hex input",t)}},update:function(e){var t=e.value,n=e.params.hexValueEditable,a=t.hex;n?e.$el.find("input.color-picker-value-hex").val(a):e.$el.find("span.color-picker-value-hex").text(a)},destroy:function(e){e.destroyHexEvents&&e.destroyHexEvents(),delete e.destroyHexEvents}},Am={render:function(e){var t=e.params,n=t.sliderLabel,a=t.sliderValue,r=t.sliderValueEditable,o=t.hueLabelText,s=t.saturationLabelText,i=t.brightnessLabelText;return bu("div",{class:"color-picker-module color-picker-module-hsb-sliders"},bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},o),bu("div",{class:"range-slider color-picker-slider color-picker-slider-hue"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.1",min:"0",max:"360",class:"color-picker-value-hue","data-color-index":"0"}):bu("span",{class:"color-picker-value-hue"}))),bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},s),bu("div",{class:"range-slider color-picker-slider color-picker-slider-saturation"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-saturation","data-color-index":"1"}):bu("span",{class:"color-picker-value-saturation"}))),bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},i),bu("div",{class:"range-slider color-picker-slider color-picker-slider-brightness"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-brightness","data-color-index":"2"}):bu("span",{class:"color-picker-value-brightness"}))))},init:function(e){function t(t){var n=[].concat(e.value.hsb),a=parseInt(Bl(t.target).attr("data-color-index"),10),r=parseFloat(t.target.value);Number.isNaN(r)?t.target.value=n[a]:(r=0===a?Math.max(0,Math.min(360,r)):Math.max(0,Math.min(100,r))/100,n[a]=r,e.setValue({hsb:n}))}e.hueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(t,n){e.setValue({hue:n})}}}),e.saturationRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-saturation"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var a=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],a,e.value.hsb[2]]})}}}),e.brightnessRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var a=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],e.value.hsb[1],a]})}}}),e.$el.on("change",".color-picker-module-hsb-sliders input",t),e.destroyHsbSlidersEvents=function(){e.$el.off("change",".color-picker-module-hsb-sliders input",t)}},update:function(e){var t=e.app,n=e.value,a=e.params,r=a.sliderValue,o=a.sliderValueEditable,s=n.hsb,i=n.hue;e.hueRangeSlider.value=i,e.saturationRangeSlider.value=s[1],e.brightnessRangeSlider.value=s[2],e.hueRangeSlider.layout(),e.saturationRangeSlider.layout(),e.brightnessRangeSlider.layout();var l=Ms(s[0],s[1],1),c=Ms(s[0],0,1),u=Ms(s[0],1,1),p=s[2];e.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+i+", 100%, 50%)"),e.saturationRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+l[0]+", "+100*l[1]+"%, "+100*l[2]+"%)"),e.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","rgb("+255*p+", "+255*p+", "+255*p+")"),e.saturationRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(t.rtl?"to left":"to right")+", hsl("+c[0]+", "+100*c[1]+"%, "+100*c[2]+"%), hsl("+u[0]+", "+100*u[1]+"%, "+100*u[2]+"%))"),r&&o?(e.$el.find("input.color-picker-value-hue").val(""+i),e.$el.find("input.color-picker-value-saturation").val(""+1e3*s[1]/10),e.$el.find("input.color-picker-value-brightness").val(""+1e3*s[2]/10)):r&&(e.$el.find("span.color-picker-value-hue").text(""+i),e.$el.find("span.color-picker-value-saturation").text(""+1e3*s[1]/10),e.$el.find("span.color-picker-value-brightness").text(""+1e3*s[2]/10))},destroy:function(e){e.hueRangeSlider&&e.hueRangeSlider.destroy&&e.hueRangeSlider.destroy(),e.saturationRangeSlider&&e.saturationRangeSlider.destroy&&e.saturationRangeSlider.destroy(),e.brightnessRangeSlider&&e.brightnessRangeSlider.destroy&&e.brightnessRangeSlider.destroy(),delete e.hueRangeSlider,delete e.saturationRangeSlider,delete e.brightnessRangeSlider,e.destroyHsbSlidersEvents&&e.destroyHsbSlidersEvents(),delete e.destroyHsbSlidersEvents}},_m={render:function(e){var t=e.params,n=t.sliderLabel,a=t.sliderValue,r=t.sliderValueEditable,o=t.hueLabelText;return bu("div",{class:"color-picker-module color-picker-module-hue-slider"},bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},o),bu("div",{class:"range-slider color-picker-slider color-picker-slider-hue"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.1",min:"0",max:"360",class:"color-picker-value-hue"}):bu("span",{class:"color-picker-value-hue"}))))},init:function(e){e.hueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(t,n){e.setValue({hue:n})}}})},update:function(e){var t=e.value,n=e.params,a=n.sliderValue,r=n.sliderValueEditable,o=t.hue;e.hueRangeSlider.value=o,e.hueRangeSlider.layout(),e.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+o+", 100%, 50%)"),a&&r?e.$el.find("input.color-picker-value-hue").val(""+o):a&&e.$el.find("span.color-picker-value-hue").text(""+o)},destroy:function(e){e.hueRangeSlider&&e.hueRangeSlider.destroy&&e.hueRangeSlider.destroy(),delete e.hueRangeSlider}},Lm={render:function(e){var t=e.params,n=t.sliderLabel,a=t.sliderValue,r=t.sliderValueEditable,o=t.brightnessLabelText;return bu("div",{class:"color-picker-module color-picker-module-brightness-slider"},bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},o),bu("div",{class:"range-slider color-picker-slider color-picker-slider-brightness"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-brightness"}):bu("span",{class:"color-picker-value-brightness"}))))},init:function(e){e.brightnessRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var a=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],e.value.hsb[1],a]})}}})},update:function(e){var t=e.value,n=e.app,a=e.params,r=a.sliderValue,o=a.sliderValueEditable,s=t.hsb;e.brightnessRangeSlider.value=s[2],e.brightnessRangeSlider.layout();var i=Ms(s[0],s[1],s[2]),l=Ms(s[0],s[1],0),c=Ms(s[0],s[1],1);e.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+i[0]+", "+100*i[1]+"%, "+100*i[2]+"%)"),e.brightnessRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(n.rtl?"to left":"to right")+", hsl("+l[0]+", "+100*l[1]+"%, "+100*l[2]+"%), hsl("+c[0]+", "+100*c[1]+"%, "+100*c[2]+"%))"),r&&o?e.$el.find("input.color-picker-value-brightness").val(""+1e3*s[2]/10):r&&e.$el.find("span.color-picker-value-brightness").text(""+1e3*s[2]/10)},destroy:function(e){e.brightnessRangeSlider&&e.brightnessRangeSlider.destroy&&e.brightnessRangeSlider.destroy(),delete e.brightnessRangeSlider}},Dm={render:function(e){return bu("div",{class:"color-picker-module color-picker-module-palette"},bu("div",{class:"color-picker-palette"},e.params.palette.map((function(e){if(Array.isArray(e)){var t='<div class="color-picker-palette-row">';return t+=e.map((function(e){return'\n                <div class="color-picker-palette-value" data-palette-color="'+e+'" style="background-color: '+e+'"></div>\n              '})).join(""),t+="</div>"}return bu("div",{class:"color-picker-palette-value","data-palette-color":e,style:"background-color: "+e})}))))},init:function(e){function t(t){var n=Bl(t.target).attr("data-palette-color");e.setValue({hex:n})}e.$el.on("click",".color-picker-module-palette .color-picker-palette-value",t),e.destroyPaletteEvents=function(){e.$el.off("click",".color-picker-module-hex input",t)}},destroy:function(e){e.destroyPaletteEvents&&e.destroyPaletteEvents(),delete e.destroyPaletteEvents}},Fm={render:function(){return bu("div",{class:"color-picker-module color-picker-module-initial-current-colors"},bu("div",{class:"color-picker-initial-current-colors"},bu("div",{class:"color-picker-initial-color"}),bu("div",{class:"color-picker-current-color"})))},init:function(e){function t(){if(e.initialValue){var t=e.initialValue,n=t.hex,a=t.alpha;e.setValue({hex:n,alpha:a})}}e.$el.on("click",".color-picker-initial-color",t),e.destroyInitialCurrentEvents=function(){e.$el.off("click",".color-picker-initial-color",t)}},update:function(e){e.$el.find(".color-picker-module-initial-current-colors .color-picker-initial-color").css("background-color",e.initialValue.hex),e.$el.find(".color-picker-module-initial-current-colors .color-picker-current-color").css("background-color",e.value.hex)},destroy:function(e){e.destroyInitialCurrentEvents&&e.destroyInitialCurrentEvents(),delete e.destroyInitialCurrentEvents}},zm={render:function(e){var t=e.params,n=t.barLabel,a=t.barValue,r=t.barValueEditable,o=t.redLabelText,s=t.greenLabelText,i=t.blueLabelText;return bu("div",{class:"color-picker-module color-picker-module-rgb-bars"},bu("div",{class:"color-picker-bar-wrap"},n&&bu("div",{class:"color-picker-bar-label"},o),bu("div",{class:"range-slider color-picker-bar color-picker-bar-red"}),a&&bu("div",{class:"color-picker-bar-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-red","data-color-index":"0"}):bu("span",{class:"color-picker-value-bar-red"}))),bu("div",{class:"color-picker-bar-wrap"},n&&bu("div",{class:"color-picker-bar-label"},s),bu("div",{class:"range-slider color-picker-bar color-picker-bar-green"}),a&&bu("div",{class:"color-picker-bar-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-green","data-color-index":"1"}):bu("span",{class:"color-picker-value-bar-green"}))),bu("div",{class:"color-picker-bar-wrap"},n&&bu("div",{class:"color-picker-bar-label"},i),bu("div",{class:"range-slider color-picker-bar color-picker-bar-blue"}),a&&bu("div",{class:"color-picker-bar-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-blue","data-color-index":"2"}):bu("span",{class:"color-picker-value-bar-blue"}))))},init:function(e){function t(t){var n=[].concat(e.value.rgb),a=parseInt(Bl(t.target).attr("data-color-index"),10),r=parseInt(t.target.value,10);Number.isNaN(r)?t.target.value=n[a]:(r=Math.max(0,Math.min(255,r)),n[a]=r,e.setValue({rgb:n}))}e.redBar=e.app.range.create({el:e.$el.find(".color-picker-bar-red"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[n,e.value.rgb[1],e.value.rgb[2]]})}}}),e.greenBar=e.app.range.create({el:e.$el.find(".color-picker-bar-green"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],n,e.value.rgb[2]]})}}}),e.blueBar=e.app.range.create({el:e.$el.find(".color-picker-bar-blue"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],e.value.rgb[1],n]})}}}),e.$el.on("change",".color-picker-module-rgb-bars input",t),e.destroyRgbBarsEvents=function(){e.$el.off("change",".color-picker-module-rgb-bars input",t)}},update:function(e){var t=e.value,n=e.redBar,a=e.greenBar,r=e.blueBar,o=e.params,s=o.barValue,i=o.barValueEditable,l=t.rgb;n.value=l[0],a.value=l[1],r.value=l[2],n.layout(),a.layout(),r.layout(),n.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(0, "+l[1]+", "+l[2]+"), rgb(255, "+l[1]+", "+l[2]+"))"),a.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+l[0]+", 0, "+l[2]+"), rgb("+l[0]+", 255, "+l[2]+"))"),r.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+l[0]+", "+l[1]+", 0), rgb("+l[0]+", "+l[1]+", 255))"),s&&i?(e.$el.find("input.color-picker-value-bar-red").val(l[0]),e.$el.find("input.color-picker-value-bar-green").val(l[1]),e.$el.find("input.color-picker-value-bar-blue").val(l[2])):s&&(e.$el.find("span.color-picker-value-bar-red").text(l[0]),e.$el.find("span.color-picker-value-bar-green").text(l[1]),e.$el.find("span.color-picker-value-bar-blue").text(l[2]))},destroy:function(e){e.redBar&&e.redBar.destroy&&e.redBar.destroy(),e.greenBar&&e.greenBar.destroy&&e.greenBar.destroy(),e.blueBar&&e.blueBar.destroy&&e.blueBar.destroy(),delete e.redBar,delete e.greenBar,delete e.blueBar,e.destroyRgbBarsEvents&&e.destroyRgbBarsEvents(),delete e.destroyRgbBarsEvents}},Vm={render:function(e){var t=e.params,n=t.sliderLabel,a=t.sliderValue,r=t.sliderValueEditable,o=t.redLabelText,s=t.greenLabelText,i=t.blueLabelText;return bu("div",{class:"color-picker-module color-picker-module-rgb-sliders"},bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},o),bu("div",{class:"range-slider color-picker-slider color-picker-slider-red"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-red","data-color-index":"0"}):bu("span",{class:"color-picker-value-red"}))),bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},s),bu("div",{class:"range-slider color-picker-slider color-picker-slider-green"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-green","data-color-index":"1"}):bu("span",{class:"color-picker-value-green"}))),bu("div",{class:"color-picker-slider-wrap"},n&&bu("div",{class:"color-picker-slider-label"},i),bu("div",{class:"range-slider color-picker-slider color-picker-slider-blue"}),a&&bu("div",{class:"color-picker-slider-value"},r?bu("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-blue","data-color-index":"2"}):bu("span",{class:"color-picker-value-blue"}))))},init:function(e){function t(t){var n=[].concat(e.value.rgb),a=parseInt(Bl(t.target).attr("data-color-index"),10),r=parseInt(t.target.value,10);Number.isNaN(r)?t.target.value=n[a]:(r=Math.max(0,Math.min(255,r)),n[a]=r,e.setValue({rgb:n}))}e.redRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-red"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[n,e.value.rgb[1],e.value.rgb[2]]})}}}),e.greenRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-green"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],n,e.value.rgb[2]]})}}}),e.blueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-blue"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],e.value.rgb[1],n]})}}}),e.$el.on("change",".color-picker-module-rgb-sliders input",t),e.destroyRgbSlidersEvents=function(){e.$el.off("change",".color-picker-module-rgb-sliders input",t)}},update:function(e){var t=e.app,n=e.value,a=e.redRangeSlider,r=e.greenRangeSlider,o=e.blueRangeSlider,s=e.params,i=s.sliderValue,l=s.sliderValueEditable,c=n.rgb;a.value=c[0],r.value=c[1],o.value=c[2],a.layout(),r.layout(),o.layout(),a.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")"),r.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")"),o.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")");var u=t.rtl?"to left":"to right";a.$el.find(".range-bar").css("background-image","linear-gradient("+u+", rgb(0, "+c[1]+", "+c[2]+"), rgb(255, "+c[1]+", "+c[2]+"))"),r.$el.find(".range-bar").css("background-image","linear-gradient("+u+", rgb("+c[0]+", 0, "+c[2]+"), rgb("+c[0]+", 255, "+c[2]+"))"),o.$el.find(".range-bar").css("background-image","linear-gradient("+u+", rgb("+c[0]+", "+c[1]+", 0), rgb("+c[0]+", "+c[1]+", 255))"),i&&l?(e.$el.find("input.color-picker-value-red").val(c[0]),e.$el.find("input.color-picker-value-green").val(c[1]),e.$el.find("input.color-picker-value-blue").val(c[2])):i&&(e.$el.find("span.color-picker-value-red").text(c[0]),e.$el.find("span.color-picker-value-green").text(c[1]),e.$el.find("span.color-picker-value-blue").text(c[2]))},destroy:function(e){e.redRangeSlider&&e.redRangeSlider.destroy&&e.redRangeSlider.destroy(),e.greenRangeSlider&&e.greenRangeSlider.destroy&&e.greenRangeSlider.destroy(),e.blueRangeSlider&&e.blueRangeSlider.destroy&&e.blueRangeSlider.destroy(),delete e.redRangeSlider,delete e.greenRangeSlider,delete e.blueRangeSlider,e.destroyRgbSlidersEvents&&e.destroyRgbSlidersEvents(),delete e.destroyRgbSlidersEvents}},Hm={render:function(){return bu("div",{class:"color-picker-module color-picker-module-sb-spectrum"},bu("div",{class:"color-picker-sb-spectrum",style:"background-color: hsl(0, 100%, 50%)"},bu("div",{class:"color-picker-sb-spectrum-handle"})))},init:function(e){var t,n,a,r,o,s,i,l,c=e.app,u=e.$el;function p(t,n){var a=(t-s.left)/s.width,r=(n-s.top)/s.height;a=Math.max(0,Math.min(1,a)),r=1-Math.max(0,Math.min(1,r)),e.setValue({hsb:[e.value.hue,a,r]})}function d(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=n,a="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=a;var c=Bl(e.target);(l=c.closest(".color-picker-sb-spectrum-handle").length>0)||(i=c.closest(".color-picker-sb-spectrum").length>0),i&&(s=u.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),p(n,a)),(l||i)&&u.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function f(e){(i||l)&&(r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(s=u.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(i||l)&&p(r,o))}function h(){t=!1,(i||l)&&u.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),i=!1,l=!1}function m(){e.modules["sb-spectrum"].update(e)}var g=!("touchstart"!==c.touchEvents.start||!Ds().passiveListener)&&{passive:!0,capture:!1};e.$el.on(c.touchEvents.start,d,g),c.on("touchmove:active",f),c.on("touchend:passive",h),c.on("resize",m),e.destroySpectrumEvents=function(){e.$el.off(c.touchEvents.start,d,g),c.off("touchmove:active",f),c.off("touchend:passive",h),c.off("resize",m)}},update:function(e){var t=e.value,n=t.hsl,a=t.hsb,r=e.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,o=e.$el.find(".color-picker-sb-spectrum")[0].offsetHeight;e.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+n[0]+", 100%, 50%)"),e.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+n[0]+", "+100*n[1]+"%, "+100*n[2]+"%)").transform("translate("+r*a[1]+"px, "+o*(1-a[2])+"px)")},destroy:function(e){e.destroySpectrumEvents&&e.destroySpectrumEvents(),delete e.destroySpectrumEvents}},jm={render:function(){return bu("div",{class:"color-picker-module color-picker-module-hs-spectrum"},bu("div",{class:"color-picker-hs-spectrum"},bu("div",{class:"color-picker-hs-spectrum-handle"})))},init:function(e){var t,n,a,r,o,s,i,l,c=e.app,u=e.$el;function p(t,n){var a=(t-s.left)/s.width*360,r=(n-s.top)/s.height;a=Math.max(0,Math.min(360,a)),r=1-Math.max(0,Math.min(1,r)),e.setValue({hsb:[a,r,e.value.hsb[2]]})}function d(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=n,a="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=a;var c=Bl(e.target);(l=c.closest(".color-picker-hs-spectrum-handle").length>0)||(i=c.closest(".color-picker-hs-spectrum").length>0),i&&(s=u.find(".color-picker-hs-spectrum")[0].getBoundingClientRect(),p(n,a)),(l||i)&&u.find(".color-picker-hs-spectrum-handle").addClass("color-picker-hs-spectrum-handle-pressed")}}function f(e){(i||l)&&(r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(s=u.find(".color-picker-hs-spectrum")[0].getBoundingClientRect())),(i||l)&&p(r,o))}function h(){t=!1,(i||l)&&u.find(".color-picker-hs-spectrum-handle").removeClass("color-picker-hs-spectrum-handle-pressed"),i=!1,l=!1}function m(){e.modules["hs-spectrum"].update(e)}var g=!("touchstart"!==c.touchEvents.start||!Ds().passiveListener)&&{passive:!0,capture:!1};e.$el.on(c.touchEvents.start,d,g),c.on("touchmove:active",f),c.on("touchend:passive",h),c.on("resize",m),e.destroySpectrumEvents=function(){e.$el.off(c.touchEvents.start,d,g),c.off("touchmove:active",f),c.off("touchend:passive",h),c.off("resize",m)}},update:function(e){var t=e.value.hsb,n=e.$el.find(".color-picker-hs-spectrum")[0].offsetWidth,a=e.$el.find(".color-picker-hs-spectrum")[0].offsetHeight,r=Ms(t[0],t[1],1);e.$el.find(".color-picker-hs-spectrum-handle").css("background-color","hsl("+r[0]+", "+100*r[1]+"%, "+100*r[2]+"%)").transform("translate("+n*(t[0]/360)+"px, "+a*(1-t[1])+"px)")},destroy:function(e){e.destroySpectrumEvents&&e.destroySpectrumEvents(),delete e.destroySpectrumEvents}};var Wm={render:function(){return bu("div",{class:"color-picker-module color-picker-module-wheel"},bu("div",{class:"color-picker-wheel"},bu("svg",{viewBox:"0 0 300 300",width:"300",height:"300"},function(){for(var e="",t=256;t>0;t-=1){var n=t*Math.PI/128,a=1.40625*t;e+='<circle cx="'+(150-125*Math.sin(n))+'" cy="'+(150-125*Math.cos(n))+'" r="25" fill="hsl('+a+', 100%, 50%)"></circle>'}return e}()),bu("div",{class:"color-picker-wheel-handle"}),bu("div",{class:"color-picker-sb-spectrum",style:"background-color: hsl(0, 100%, 50%)"},bu("div",{class:"color-picker-sb-spectrum-handle"}))))},init:function(e){var t,n,a,r,o,s,i,l,c,u,p,d=e.app,f=e.$el;function h(t,n){var a=s.left+s.width/2,r=s.top+s.height/2,o=180*Math.atan2(n-r,t-a)/Math.PI+90;o<0&&(o+=360),o=360-o,e.setValue({hue:o})}function m(t,n){var a=(t-c.left)/c.width,r=(n-c.top)/c.height;a=Math.max(0,Math.min(1,a)),r=1-Math.max(0,Math.min(1,r)),e.setValue({hsb:[e.value.hue,a,r]})}function g(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=n,a="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=a;var d=Bl(e.target);l=d.closest(".color-picker-wheel-handle").length>0,i=d.closest("circle").length>0,(p=d.closest(".color-picker-sb-spectrum-handle").length>0)||(u=d.closest(".color-picker-sb-spectrum").length>0),i&&(s=f.find(".color-picker-wheel")[0].getBoundingClientRect(),h(n,a)),u&&(c=f.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),m(n,a)),(p||u)&&f.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function v(e){(i||l||u||p)&&(r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(s=f.find(".color-picker-wheel")[0].getBoundingClientRect()),p&&(c=f.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(i||l)&&h(r,o),(u||p)&&m(r,o))}function b(){t=!1,(u||p)&&f.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),i=!1,l=!1,u=!1,p=!1}function y(){e.modules.wheel.update(e)}var x=!("touchstart"!==d.touchEvents.start||!Ds().passiveListener)&&{passive:!0,capture:!1};e.$el.on(d.touchEvents.start,g,x),d.on("touchmove:active",v),d.on("touchend:passive",b),d.on("resize",y),e.destroyWheelEvents=function(){e.$el.off(d.touchEvents.start,g,x),d.off("touchmove:active",v),d.off("touchend:passive",b),d.off("resize",y)}},update:function(e){var t=e.value,n=t.hsl,a=t.hsb,r=e.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,o=e.$el.find(".color-picker-sb-spectrum")[0].offsetHeight,s=e.$el.find(".color-picker-wheel")[0].offsetWidth,i=s/2,l=t.hue*Math.PI/180,c=s/6/2,u=i-Math.sin(l)*(i-c)-c,p=i-Math.cos(l)*(i-c)-c;e.$el.find(".color-picker-wheel-handle").css("background-color","hsl("+n[0]+", 100%, 50%)").transform("translate("+u+"px, "+p+"px)"),e.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+n[0]+", 100%, 50%)"),e.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+n[0]+", "+100*n[1]+"%, "+100*n[2]+"%)").transform("translate("+r*a[1]+"px, "+o*(1-a[2])+"px)")},destroy:function(e){e.destroyWheelEvents&&e.destroyWheelEvents(),delete e.destroyWheelEvents}};function Um(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qm(e,t){return qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qm(e,t)}var Xm=function(e){var t,n;function a(t,n){var a;void 0===n&&(n={});var r,o,s,i=Gm(a=e.call(this,n,[t])||this);if(i.params=Os({},t.params.colorPicker,n),i.params.containerEl&&0===(r=Bl(i.params.containerEl)).length)return i||Gm(a);function l(){i.open()}function c(e){e.preventDefault()}function u(){i.open()}function p(e){if(!i.destroyed&&i.params&&"page"!==i.params.openIn){var t=Bl(e.target);i.opened&&!i.closing&&(t.closest('[class*="backdrop"]').length||t.closest(".color-picker-popup, .color-picker-popover").length||(o&&o.length>0?t[0]!==o[0]&&0===t.closest(".sheet-modal").length&&i.close():0===Bl(e.target).closest(".sheet-modal").length&&i.close()))}}return i.params.inputEl&&(o=Bl(i.params.inputEl)),i.params.targetEl&&(s=Bl(i.params.targetEl)),Os(i,{app:t,$containerEl:r,containerEl:r&&r[0],inline:r&&r.length>0,$inputEl:o,inputEl:o&&o[0],$targetEl:s,targetEl:s&&s[0],initialized:!1,opened:!1,url:i.params.url,modules:{"alpha-slider":Pm,"current-color":Mm,hex:Bm,"hsb-sliders":Am,"hue-slider":_m,"brightness-slider":Lm,palette:Dm,"initial-current-colors":Fm,"rgb-bars":zm,"rgb-sliders":Vm,"sb-spectrum":Hm,"hs-spectrum":jm,wheel:Wm}}),Os(i,{attachInputEvents:function(){i.$inputEl.on("click",l),i.params.inputReadOnly&&(i.$inputEl.on("focus mousedown",c),i.$inputEl[0]&&(i.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){i.$inputEl.off("click",l),i.params.inputReadOnly&&(i.$inputEl.off("focus mousedown",c),i.$inputEl[0]&&delete i.$inputEl[0].f7ValidateReadonly)},attachTargetEvents:function(){i.$targetEl.on("click",u)},detachTargetEvents:function(){i.$targetEl.off("click",u)},attachHtmlEvents:function(){t.on("click",p)},detachHtmlEvents:function(){t.off("click",p)}}),i.init(),i||Gm(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,qm(t,n);var r,o,s,i=a.prototype;return i.attachEvents=function(){var e=this;e.centerModules=e.centerModules.bind(e),e.params.centerModules&&e.app.on("resize",e.centerModules)},i.detachEvents=function(){var e=this;e.params.centerModules&&e.app.off("resize",e.centerModules)},i.centerModules=function(){var e=this;if(e.opened&&e.$el&&!e.inline){var t=e.$el.find(".page-content");if(t.length){var n=t[0];n.scrollHeight<=n.offsetHeight?t.addClass("justify-content-center"):t.removeClass("justify-content-center")}}},i.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},i.getModalType=function(){var e=this,t=e.app,n=e.modal,a=e.params,r=a.openIn,o=a.openInPhone,s=Fs();return n&&n.type?n.type:"auto"!==r?r:e.inline?null:s.ios?s.ipad?"popover":o:t.width>=768||s.desktop&&"aurora"===t.theme?"popover":o},i.formatValue=function(){var e=this,t=e.value;return e.params.formatValue?e.params.formatValue.call(e,t):t.hex},i.normalizeHsValues=function(e){return[Math.floor(10*e[0])/10,Math.floor(1e3*e[1])/1e3,Math.floor(1e3*e[2])/1e3]},i.setValue=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n=this;if(void 0!==e){var a,r=n.value||{},o=r.hex,s=r.rgb,i=r.hsl,l=r.hsb,c=r.alpha,u=void 0===c?1:c,p=r.hue,d=r.rgba,f=r.hsla,h=n.value||!n.value&&!n.params.value;if(Object.keys(e).forEach((function(t){if(n.value&&void 0!==n.value[t]){var r=e[t];Array.isArray(r)?r.forEach((function(e,r){e!==n.value[t][r]&&(a=!0)})):r!==n.value[t]&&(a=!0)}else a=!0})),a){if(e.rgb||e.rgba){var m=e.rgb||e.rgba,g=m[0],v=m[1],b=m[2],y=m[3],x=void 0===y?u:y;s=[g,v,b],o=Ns.apply(void 0,s),i=Rs.apply(void 0,s),l=Bs.apply(void 0,i),i=n.normalizeHsValues(i),p=(l=n.normalizeHsValues(l))[0],u=x,d=[s[0],s[1],s[2],x],f=[i[0],i[1],i[2],x]}if(e.hsl||e.hsla){var w=e.hsl||e.hsla,C=w[0],k=w[1],E=w[2],S=w[3],T=void 0===S?u:S;i=[C,k,E],s=Ps.apply(void 0,i),o=Ns.apply(void 0,s),l=Bs.apply(void 0,i),i=n.normalizeHsValues(i),p=(l=n.normalizeHsValues(l))[0],u=T,d=[s[0],s[1],s[2],T],f=[i[0],i[1],i[2],T]}if(e.hsb){var $=e.hsb,O=$[0],I=$[1],N=$[2],R=$[3],P=void 0===R?u:R;l=[O,I,N],i=Ms.apply(void 0,l),s=Ps.apply(void 0,i),o=Ns.apply(void 0,s),i=n.normalizeHsValues(i),p=(l=n.normalizeHsValues(l))[0],u=P,d=[s[0],s[1],s[2],P],f=[i[0],i[1],i[2],P]}if(e.hex&&(s=Is(e.hex),o=Ns.apply(void 0,s),i=Rs.apply(void 0,s),l=Bs.apply(void 0,i),i=n.normalizeHsValues(i),p=(l=n.normalizeHsValues(l))[0],d=[s[0],s[1],s[2],u],f=[i[0],i[1],i[2],u]),void 0!==e.alpha&&(u=e.alpha,void 0!==s&&(d=[s[0],s[1],s[2],u]),void 0!==i&&(f=[i[0],i[1],i[2],u])),void 0!==e.hue){var M=i,B=(M[0],M[1]),A=M[2];i=[e.hue,B,A],l=Bs.apply(void 0,i),s=Ps.apply(void 0,i),o=Ns.apply(void 0,s),i=n.normalizeHsValues(i),p=(l=n.normalizeHsValues(l))[0],d=[s[0],s[1],s[2],u],f=[i[0],i[1],i[2],u]}n.value={hex:o,alpha:u,hue:p,rgb:s,hsl:i,hsb:l,rgba:d,hsla:f},n.initialValue||(n.initialValue=Os({},n.value)),n.updateValue(h),n.opened&&t&&n.updateModules()}}},i.getValue=function(){return this.value},i.updateValue=function(e){void 0===e&&(e=!0);var t=this,n=t.$inputEl,a=t.value,r=t.$targetEl;if(r&&t.params.targetElSetBackgroundColor){var o=a.rgba;r.css("background-color","rgba("+o.join(", ")+")")}if(e&&t.emit("local::change colorPickerChange",t,a),n&&n.length){var s=t.formatValue(a);n&&n.length&&(n.val(s),e&&n.trigger("change"))}},i.updateModules=function(){var e=this,t=e.modules;e.params.modules.forEach((function(n){"string"==typeof n&&t[n]&&t[n].update?t[n].update(e):n&&n.update&&n.update(e)}))},i.update=function(){this.updateModules()},i.renderPicker=function(){var e=this,t=e.params,n=e.modules,a="";return t.modules.forEach((function(t){"string"==typeof t&&n[t]&&n[t].render?a+=n[t].render(e):t&&t.render&&(a+=t.render(e))})),a},i.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e,e);var t=e.params,n=t.openIn,a=t.navbarTitleText,r=t.navbarBackLinkText,o=t.navbarCloseText;return bu("div",{class:"navbar"},bu("div",{class:"navbar-bg"}),bu("div",{class:"navbar-inner sliding"},"page"===n&&bu("div",{class:"left"},bu("a",{class:"link back"},bu("i",{class:"icon icon-back"}),bu("span",{class:"if-not-md"},r))),bu("div",{class:"title"},a),"page"!==n&&bu("div",{class:"right"},bu("a",{class:"link popup-close","data-popup":".color-picker-popup"},o))))},i.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):bu("div",{class:"toolbar toolbar-top no-shadow"},bu("div",{class:"toolbar-inner"},bu("div",{class:"left"}),bu("div",{class:"right"},bu("a",{class:"link sheet-close popover-close","data-sheet":".color-picker-sheet-modal","data-popover":".color-picker-popover"},e.params.toolbarCloseText))))},i.renderInline=function(){var e=this.params,t=e.cssClass,n=e.groupedModules;return bu("div",{class:"color-picker color-picker-inline "+(n?"color-picker-grouped-modules":"")+" "+(t||"")},this.renderPicker())},i.renderSheet=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbarSheet,r=t.groupedModules;return bu("div",{class:"sheet-modal color-picker color-picker-sheet-modal "+(r?"color-picker-grouped-modules":"")+" "+(n||"")},a&&e.renderToolbar(),bu("div",{class:"sheet-modal-inner"},bu("div",{class:"page-content"},e.renderPicker())))},i.renderPopover=function(){var e=this,t=e.params,n=t.cssClass,a=t.toolbarPopover,r=t.groupedModules;return bu("div",{class:"popover color-picker-popover "+(n||"")},bu("div",{class:"popover-inner"},bu("div",{class:"color-picker "+(r?"color-picker-grouped-modules":"")},a&&e.renderToolbar(),bu("div",{class:"page-content"},e.renderPicker()))))},i.renderPopup=function(){var e=this,t=e.params,n=t.cssClass,a=t.navbarPopup,r=t.groupedModules;return bu("div",{class:"popup color-picker-popup "+(n||"")},bu("div",{class:"page"},a&&e.renderNavbar(),bu("div",{class:"color-picker "+(r?"color-picker-grouped-modules":"")},bu("div",{class:"page-content"},e.renderPicker()))))},i.renderPage=function(){var e=this,t=e.params,n=t.cssClass,a=t.groupedModules;return bu("div",{class:"page color-picker-page "+(n||""),"data-name":"color-picker-page"},e.renderNavbar(),bu("div",{class:"color-picker "+(a?"color-picker-grouped-modules":"")},bu("div",{class:"page-content"},e.renderPicker())))},i.render=function(){var e=this,t=e.params;if(t.render)return t.render.call(e);if(e.inline)return e.renderInline();if("page"===t.openIn)return e.renderPage();var n=e.getModalType();return"popover"===n?e.renderPopover():"sheet"===n?e.renderSheet():"popup"===n?e.renderPopup():void 0},i.onOpen=function(){var e=this,t=e.initialized,n=e.$el,a=e.app,r=e.$inputEl,o=e.inline,s=e.value,i=e.params,l=e.modules;e.closing=!1,e.opened=!0,e.opening=!0,e.attachEvents(),i.modules.forEach((function(t){"string"==typeof t&&l[t]&&l[t].init?l[t].init(e):t&&t.init&&t.init(e)}));var c=!s&&i.value;t?s&&(e.initialValue=Os({},s),e.setValue(s,!1)):s?e.setValue(s):i.value?e.setValue(i.value,!1):i.value||e.setValue({hex:"#ff0000"},!1),c&&e.updateValue(),e.updateModules(),i.centerModules&&e.centerModules(),!o&&r&&r.length&&"md"===a.theme&&r.trigger("focus"),e.initialized=!0,n&&n.trigger("colorpicker:open"),r&&r.trigger("colorpicker:open"),e.emit("local::open colorPickerOpen",e)},i.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("colorpicker:opened"),e.$inputEl&&e.$inputEl.trigger("colorpicker:opened"),e.emit("local::opened colorPickerOpened",e)},i.onClose=function(){var e=this,t=e.app,n=e.params,a=e.modules;if(e.opening=!1,e.closing=!0,e.detachEvents(),e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var r=e.$inputEl.attr("validate"),o=e.$inputEl.attr("required");r&&o&&t.input.validate(e.$inputEl)}n.modules.forEach((function(t){"string"==typeof t&&a[t]&&a[t].destroy?a[t].destroy(e):t&&t.destroy&&t.destroy(e)})),e.$el&&e.$el.trigger("colorpicker:close"),e.$inputEl&&e.$inputEl.trigger("colorpicker:close"),e.emit("local::close colorPickerClose",e)},i.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||xs((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.$el&&e.$el.trigger("colorpicker:closed"),e.$inputEl&&e.$inputEl.trigger("colorpicker:closed"),e.emit("local::closed colorPickerClosed",e)},i.open=function(){var e=this,t=e.app,n=e.opened,a=e.inline,r=e.$inputEl,o=e.$targetEl,s=e.params;if(!n){if(a)return e.$el=Bl(e.render()),e.$el[0].f7ColorPicker=e,e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var i=e.render();if("page"===s.openIn)e.view.router.navigate({url:e.url,route:{content:i,path:e.url,on:{pageBeforeIn:function(t,n){e.$el=n.$el.find(".color-picker"),e.$el[0].f7ColorPicker=e,e.onOpen()},pageAfterIn:function(){e.onOpened()},pageBeforeOut:function(){e.onClose()},pageAfterOut:function(){e.onClosed(),e.$el&&e.$el[0]&&(e.$el[0].f7ColorPicker=null,delete e.$el[0].f7ColorPicker)}}}});else{var l=e.getModalType(),c=s.backdrop;null==c&&("popover"===l&&!1!==t.params.popover.backdrop&&(c=!0),"popup"===l&&(c=!0));var u,p={targetEl:o||r,scrollToEl:s.scrollToInput?o||r:void 0,content:i,backdrop:c,closeByBackdropClick:s.closeByBackdropClick,on:{open:function(){var t=this;e.modal=t,e.$el="popover"===l||"popup"===l?t.$el.find(".color-picker"):t.$el,e.$el[0].f7ColorPicker=e,e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed(),e.$el&&e.$el[0]&&(e.$el[0].f7ColorPicker=null,delete e.$el[0].f7ColorPicker)}}};if("popup"===l&&(p.push=s.popupPush,p.swipeToClose=s.popupSwipeToClose),"sheet"===l&&(p.push=s.sheetPush,p.swipeToClose=s.sheetSwipeToClose),s.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(u={path:e.url},u[l]=p,u)});else e.modal=t[l].create(p),e.modal.open()}}},i.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view||"page"===e.params.openIn?e.view.router.back():e.modal.close())},i.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init colorPickerInit",e);!e.initialized&&e.params.value&&e.setValue(e.params.value),e.$inputEl&&e.attachInputEvents(),e.$targetEl&&e.attachTargetEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init colorPickerInit",e)},i.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy colorPickerBeforeDestroy",e),t&&t.trigger("colorpicker:beforedestroy"),e.close(),e.detachEvents(),e.$inputEl&&e.detachInputEvents(),e.$targetEl&&e.detachTargetEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7ColorPicker,vs(e),e.destroyed=!0}},r=a,o=[{key:"view",get:function(){var e,t=this.$inputEl,n=this.$targetEl,a=this.app,r=this.params;return r.view?e=r.view:(t&&(e=t.parents(".view").length&&t.parents(".view")[0].f7View),!e&&n&&(e=n.parents(".view").length&&n.parents(".view")[0].f7View)),e||(e=a.views.main),e}}],o&&Um(r.prototype,o),s&&Um(r,s),a}(Us),Ym=Xm,Km={name:"colorPicker",static:{ColorPicker:Ym},create:function(){var e=this;e.colorPicker=Dl({defaultSelector:".color-picker",constructor:Ym,app:e,domProp:"f7ColorPicker"}),e.colorPicker.close=function(e){void 0===e&&(e=".color-picker");var t=Bl(e);if(0!==t.length){var n=t[0].f7ColorPicker;!n||n&&!n.opened||n.close()}}},params:{colorPicker:{value:null,modules:["wheel"],palette:[["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C"],["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C"],["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E"],["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B"],["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40"],["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E"],["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17"],["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100"]],groupedModules:!1,centerModules:!0,sliderLabel:!1,sliderValue:!1,sliderValueEdiable:!1,barLabel:!1,barValue:!1,barValueEdiable:!1,hexLabel:!1,hexValueEditable:!1,redLabelText:"R",greenLabelText:"G",blueLabelText:"B",hueLabelText:"H",saturationLabelText:"S",brightnessLabelText:"B",hexLabelText:"HEX",alphaLabelText:"A",containerEl:null,openIn:"popover",openInPhone:"popup",popupPush:!1,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,targetEl:null,targetElSetBackgroundColor:!1,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbarSheet:!0,toolbarPopover:!1,toolbarCloseText:"Done",navbarPopup:!0,navbarCloseText:"Done",navbarTitleText:"Color",navbarBackLinkText:"Back",cssClass:null,routableModals:!1,view:null,url:"color/",backdrop:null,closeByBackdropClick:!0,renderToolbar:null,renderNavbar:null,renderInline:null,renderPopover:null,renderSheet:null,renderPopup:null,render:null}}},Qm={open:function(e){var t=this,n=Bl(e).eq(0);if(n.length&&(n.addClass("treeview-item-opened"),n.trigger("treeview:open"),t.emit("treeviewOpen",n[0]),n.hasClass("treeview-load-children")&&!n[0].f7TreeviewChildrenLoaded)){var a={iosPreloaderContent:hs,mdPreloaderContent:fs,auroraPreloaderContent:ms};n.trigger("treeview:loadchildren",r),t.emit("treeviewLoadChildren",n[0],r),n.find(".treeview-toggle").addClass("treeview-toggle-hidden"),n.find(".treeview-item-root").prepend('<div class="preloader treeview-preloader">'+a[t.theme+"PreloaderContent"]+"</div>")}function r(e){e?(n.removeClass("treeview-item-opened"),n.trigger("treeview:close"),t.emit("treeviewClose",n[0])):n[0].f7TreeviewChildrenLoaded=!0,n.find(".treeview-toggle").removeClass("treeview-toggle-hidden"),n.find(".treeview-preloader").remove()}},close:function(e){var t=Bl(e).eq(0);t.length&&(t.removeClass("treeview-item-opened"),t.trigger("treeview:close"),this.emit("treeviewClose",t[0]))},toggle:function(e){var t=Bl(e).eq(0);if(t.length){var n=t.hasClass("treeview-item-opened");this.treeview[n?"close":"open"](t)}}},Zm={name:"treeview",create:function(){_s(this,{treeview:Qm})},clicks:{".treeview-toggle":function(e,t,n){if(!e.parents(".treeview-item-toggle").length){var a=e.parents(".treeview-item").eq(0);a.length&&(n.preventF7Router=!0,this.treeview.toggle(a[0]))}},".treeview-item-toggle":function(e,t,n){var a=e.closest(".treeview-item").eq(0);a.length&&(n.preventF7Router=!0,this.treeview.toggle(a[0]))}}};function Jm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(e,t){return eg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eg(e,t)}var tg={bold:["bold","format_bold","bold"],italic:["italic","format_italic","italic"],underline:["underline","format_underlined","underline"],strikeThrough:["strikethrough","strikethrough_s","strikeThrough"],orderedList:["list_number","format_list_numbered","insertOrderedList"],unorderedList:["list_bullet","format_list_bulleted","insertUnorderedList"],link:["link","link","createLink"],image:["photo","image","insertImage"],paragraph:["paragraph",'<i class="icon"></i>',"formatBlock.P"],h1:['<i class="icon">H<sub>1</sub></i>','<i class="icon">H<sub>1</sub></i>',"formatBlock.H1"],h2:['<i class="icon">H<sub>2</sub></i>','<i class="icon">H<sub>2</sub></i>',"formatBlock.H2"],h3:['<i class="icon">H<sub>3</sub></i>','<i class="icon">H<sub>3</sub></i>',"formatBlock.H3"],alignLeft:["text_alignleft","format_align_left","justifyLeft"],alignCenter:["text_aligncenter","format_align_center","justifyCenter"],alignRight:["text_alignright","format_align_right","justifyRight"],alignJustify:["text_justify","format_align_justify","justifyFull"],subscript:["textformat_subscript",'<i class="icon">A<sub>1</sub></i>',"subscript"],superscript:["textformat_superscript",'<i class="icon">A<sup>1</sup></i>',"superscript"],indent:["increase_indent","format_indent_increase","indent"],outdent:["decrease_indent","format_indent_decrease","outdent"]},ng=function(e){var t,n;function a(t,n){var a,r=Jm(a=e.call(this,n,[t])||this),o=os(),s=Fs(),i=Os({},t.params.textEditor);r.useModulesParams(i),r.params=Os(i,n);var l=r.params.el;if(!l)return r||Jm(a);var c=Bl(l);if(0===c.length)return r||Jm(a);if(c[0].f7TextEditor)return c[0].f7TextEditor||Jm(a);var u=c.children(".text-editor-content");if(u.length||(c.append('<div class="text-editor-content" contenteditable></div>'),u=c.children(".text-editor-content")),Os(r,{app:t,$el:c,el:c[0],$contentEl:u,contentEl:u[0]}),"value"in n&&(r.value=r.params.value),"keyboard-toolbar"===r.params.mode&&(s.cordova||s.capacitor||s.android||(r.params.mode="popover")),"string"==typeof r.params.buttons)try{r.params.buttons=JSON.parse(r.params.buttons)}catch(e){throw new Error('Framework7: TextEditor: wrong "buttons" parameter format')}return c[0].f7TextEditor=r,r.onButtonClick=r.onButtonClick.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r.onInput=r.onInput.bind(r),r.onPaste=r.onPaste.bind(r),r.onSelectionChange=r.onSelectionChange.bind(r),r.closeKeyboardToolbar=r.closeKeyboardToolbar.bind(r),r.attachEvents=function(){"toolbar"===r.params.mode&&r.$el.find(".text-editor-toolbar").on("click","button",r.onButtonClick),"keyboard-toolbar"===r.params.mode&&(r.$keyboardToolbarEl.on("click","button",r.onButtonClick),r.$el.parents(".page").on("page:beforeout",r.closeKeyboardToolbar)),"popover"===r.params.mode&&r.popover&&r.popover.$el.on("click","button",r.onButtonClick),r.$contentEl.on("paste",r.onPaste),r.$contentEl.on("focus",r.onFocus),r.$contentEl.on("blur",r.onBlur),r.$contentEl.on("input",r.onInput,!0),Bl(o).on("selectionchange",r.onSelectionChange)},r.detachEvents=function(){"toolbar"===r.params.mode&&r.$el.find(".text-editor-toolbar").off("click","button",r.onButtonClick),"keyboard-toolbar"===r.params.mode&&(r.$keyboardToolbarEl.off("click","button",r.onButtonClick),r.$el.parents(".page").off("page:beforeout",r.closeKeyboardToolbar)),"popover"===r.params.mode&&r.popover&&r.popover.$el.off("click","button",r.onButtonClick),r.$contentEl.off("paste",r.onPaste),r.$contentEl.off("focus",r.onFocus),r.$contentEl.off("blur",r.onBlur),r.$contentEl.off("input",r.onInput,!0),Bl(o).off("selectionchange",r.onSelectionChange)},r.useModules(),r.init(),r||Jm(a)}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,eg(t,n);var r=a.prototype;return r.setValue=function(e){var t=this;return t.value===e||(t.value=e,t.$contentEl.html(e),t.$el.trigger("texteditor:change",t.value),t.emit("local::change textEditorChange",t,t.value)),t},r.getValue=function(){return this.value},r.clearValue=function(){var e=this;return e.setValue(""),e.params.placeholder&&!e.$contentEl.html()&&e.insertPlaceholder(),e},r.createLink=function(){var e,t=this,n=is(),a=os(),r=n.getSelection(),o=[];if(r&&r.anchorNode&&Bl(r.anchorNode).parents(t.$el).length){for(var s=r.anchorNode;s;)o.push(s),s.nextSibling&&s!==r.focusNode||(s=null),s&&(s=s.nextSibling);for(var i=[],l=Bl(o),c=0;c<l.length;c+=1){var u=l[c].children;if(u)for(var p=0;p<u.length;p+=1)Bl(u[p]).is("a")&&i.push(u[p])}e=l.closest("a").add(Bl(i))}if(e&&e.length)return e.each((function(e){var t=n.getSelection(),r=a.createRange();r.selectNodeContents(e),t.removeAllRanges(),t.addRange(r),a.execCommand("unlink",!1),t.removeAllRanges()})),t;var d=t.getSelectionRange();return d?(t.app.dialog.prompt(t.params.linkUrlText,"",(function(e){e&&e.trim().length&&(t.setSelectionRange(d),a.execCommand("createLink",!1,e.trim()),t.$el.trigger("texteditor:insertlink",{url:e.trim()}),t.emit("local:insertLink textEditorInsertLink",t,e.trim()))})).$el.find("input").focus(),t):t},r.insertImage=function(){var e=this,t=os(),n=e.getSelectionRange();return n?(e.app.dialog.prompt(e.params.imageUrlText,"",(function(a){a&&a.trim().length&&(e.setSelectionRange(n),t.execCommand("insertImage",!1,a.trim()),e.$el.trigger("texteditor:insertimage",{url:a.trim()}),e.emit("local:insertImage textEditorInsertImage",e,a.trim()))})).$el.find("input").focus(),e):e},r.removePlaceholder=function(){this.$contentEl.find(".text-editor-placeholder").remove()},r.insertPlaceholder=function(){this.$contentEl.append('<div class="text-editor-placeholder">'+this.params.placeholder+"</div>")},r.onSelectionChange=function(){var e=this,t=is(),n=os();if("toolbar"!==e.params.mode){var a=t.getSelection(),r=Bl(a.anchorNode).parents(e.contentEl).length||a.anchorNode===e.contentEl;if("keyboard-toolbar"!==e.params.mode){if("popover"===e.params.mode){var o=Bl(a.anchorNode).parents(e.popover.el).length||a.anchorNode===e.popover.el;if(!r&&!o)return void e.closePopover();if(!a.isCollapsed&&a.rangeCount){var s=a.getRangeAt(0).getBoundingClientRect(),i=e.app.$el[0]||n.body;e.openPopover(s.x+(t.scrollX||0)-i.offsetLeft,s.y+(t.scrollY||0)-i.offsetTop,s.width,s.height)}else a.isCollapsed&&e.closePopover()}}else r?e.openKeyboardToolbar():e.closeKeyboardToolbar()}},r.onPaste=function(e){var t=os();if(this.params.clearFormattingOnPaste&&e.clipboardData&&e.clipboardData.getData){var n=e.clipboardData.getData("text/plain");e.preventDefault(),t.execCommand("insertText",!1,n)}},r.onInput=function(){var e=this,t=e.$contentEl.html();e.value=t,e.$el.trigger("texteditor:input"),e.emit("local:input textEditorInput",e,e.value),e.$el.trigger("texteditor:change",e.value),e.emit("local::change textEditorChange",e,e.value)},r.onFocus=function(){var e=this;e.removePlaceholder(),e.$contentEl.focus(),e.$el.trigger("texteditor:focus"),e.emit("local::focus textEditorFocus",e)},r.onBlur=function(){var e=this,t=is(),n=os();if(e.params.placeholder&&""===e.$contentEl.html()&&e.insertPlaceholder(),"popover"===e.params.mode){var a=t.getSelection(),r=Bl(a.anchorNode).parents(e.contentEl).length||a.anchorNode===e.contentEl;n.activeElement&&e.popover&&Bl(n.activeElement).closest(e.popover.$el).length||r||e.closePopover()}if("keyboard-toolbar"===e.params.mode){var o=t.getSelection();Bl(o.anchorNode).parents(e.contentEl).length||o.anchorNode===e.contentEl||e.closeKeyboardToolbar()}e.$el.trigger("texteditor:blur"),e.emit("local::blur textEditorBlur",e)},r.onButtonClick=function(e){var t=this,n=is(),a=os(),r=n.getSelection();if(Bl(r.anchorNode).parents(t.contentEl).length||r.anchorNode===t.contentEl){var o=Bl(e.target).closest("button");o.parents("form").length&&e.preventDefault();var s=o.attr("data-button"),i=t.params.customButtons&&t.params.customButtons[s];if(s&&(tg[s]||i))if(o.trigger("texteditor:buttonclick",s),t.emit("local::buttonClick textEditorButtonClick",t,s),i)i.onClick&&i.onClick(t,o[0]);else{var l=tg[s][2];if("createLink"!==l)if("insertImage"!==l)if(0!==l.indexOf("formatBlock"))a.execCommand(l,!1);else{var c=l.split(".")[1],u=Bl(r.anchorNode);u.parents(c.toLowerCase()).length||u.is(c)?a.execCommand("formatBlock",!1,"div"):a.execCommand("formatBlock",!1,c)}else t.insertImage();else t.createLink()}}},r.getSelectionRange=function(){var e=is(),t=os();if(e.getSelection){var n=e.getSelection();if(n.getRangeAt&&n.rangeCount)return n.getRangeAt(0)}else if(t.selection&&t.selection.createRange)return t.selection.createRange();return null},r.setSelectionRange=function(e){var t=is(),n=os();if(e)if(t.getSelection){var a=t.getSelection();a.removeAllRanges(),a.addRange(e)}else n.selection&&e.select&&e.select()},r.renderButtons=function(){var e=this,t="";function n(t){var n="md"===e.app.theme?"material-icons":"f7-icons";if(e.params.customButtons&&e.params.customButtons[t])return'<button type="button" class="text-editor-button" data-button="'+t+'">'+(e.params.customButtons[t].content||"")+"</button>";if(!tg[t])return"";var a=tg[t]["md"===e.app.theme?1:0];return('<button type="button" class="text-editor-button" data-button="'+t+'">'+(a.indexOf("<")>=0?a:'<i class="'+n+'">'+a+"</i>")+"</button>").trim()}return e.params.buttons.forEach((function(a,r){Array.isArray(a)?(a.forEach((function(e){t+=n(e)})),r<e.params.buttons.length-1&&e.params.dividers&&(t+='<div class="text-editor-button-divider"></div>')):t+=n(a)})),t},r.createToolbar=function(){this.$el.prepend('<div class="text-editor-toolbar">'+this.renderButtons()+"</div>")},r.createKeyboardToolbar=function(){this.$keyboardToolbarEl=Bl('<div class="toolbar toolbar-bottom text-editor-keyboard-toolbar"><div class="toolbar-inner">'+this.renderButtons()+"</div></div>")},r.createPopover=function(){var e=this;e.popover=e.app.popover.create({content:'\n        <div class="popover theme-dark text-editor-popover">\n          <div class="popover-inner">'+e.renderButtons()+"</div>\n        </div>\n      ",closeByOutsideClick:!1,backdrop:!1})},r.openKeyboardToolbar=function(){var e=this;e.$keyboardToolbarEl.parent(e.app.$el).length||(e.$el.trigger("texteditor:keyboardopen"),e.emit("local::keyboardOpen textEditorKeyboardOpen",e),e.app.$el.append(e.$keyboardToolbarEl))},r.closeKeyboardToolbar=function(){var e=this;e.$keyboardToolbarEl.remove(),e.$el.trigger("texteditor:keyboardclose"),e.emit("local::keyboardClose textEditorKeyboardClose",e)},r.openPopover=function(e,t,n,a){var r=this;r.popover&&(Object.assign(r.popover.params,{targetX:e,targetY:t,targetWidth:n,targetHeight:a}),clearTimeout(r.popoverTimeout),r.popoverTimeout=setTimeout((function(){r.popover&&(r.popover.opened?r.popover.resize():(r.$el.trigger("texteditor:popoveropen"),r.emit("local::popoverOpen textEditorPopoverOpen",r),r.popover.open()))}),400))},r.closePopover=function(){var e=this;clearTimeout(e.popoverTimeout),e.popover&&e.popover.opened&&(e.popoverTimeout=setTimeout((function(){e.popover&&(e.$el.trigger("texteditor:popoverclose"),e.emit("local::popoverClose textEditorPopoverClose",e),e.popover.close())}),400))},r.init=function(){var e=this;return e.value?e.$contentEl.html(e.value):e.value=e.$contentEl.html(),e.params.placeholder&&""===e.value&&e.insertPlaceholder(),"toolbar"===e.params.mode?e.createToolbar():"popover"===e.params.mode?e.createPopover():"keyboard-toolbar"===e.params.mode&&e.createKeyboardToolbar(),e.attachEvents(),e.$el.trigger("texteditor:init"),e.emit("local::init textEditorInit",e),e},r.destroy=function(){var e=this;e.$el.trigger("texteditor:beforedestroy"),e.emit("local::beforeDestroy textEditorBeforeDestroy",e),e.detachEvents(),"keyboard-toolbar"===e.params.mode&&e.$keyboardToolbarEl&&e.$keyboardToolbarEl.remove(),e.popover&&(e.popover.close(!1),e.popover.destroy()),delete e.$el[0].f7TextEditor,vs(e),e=null},a}(Us),ag=ng,rg={name:"textEditor",params:{textEditor:{el:null,mode:"toolbar",value:void 0,customButtons:null,buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"],["link","image"],["paragraph","h1","h2","h3"],["alignLeft","alignCenter","alignRight","alignJustify"],["subscript","superscript"],["indent","outdent"]],dividers:!0,imageUrlText:"Insert image URL",linkUrlText:"Insert link URL",placeholder:null,clearFormattingOnPaste:!0}},create:function(){this.textEditor=Os(Dl({defaultSelector:".text-editor",constructor:ag,app:this,domProp:"f7TextEditor"}))},static:{TextEditor:ag},on:{tabMounted:function(e){var t=this;Bl(e).find(".text-editor-init").each((function(e){var n=Bl(e).dataset();t.textEditor.create(Os({el:e},n||{}))}))},tabBeforeRemove:function(e){Bl(e).find(".text-editor-init").each((function(e){e.f7TextEditor&&e.f7TextEditor.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".text-editor-init").each((function(e){var n=Bl(e).dataset();t.textEditor.create(Os({el:e},n||{}))}))},pageBeforeRemove:function(e){e.$el.find(".text-editor-init").each((function(e){e.f7TextEditor&&e.f7TextEditor.destroy()}))}},vnode:{"text-editor-init":{insert:function(e){var t=e.elm,n=Bl(t).dataset();this.textEditor.create(Os({el:t},n||{}))},destroy:function(e){var t=e.elm;t.f7TextEditor&&t.f7TextEditor.destroy()}}}};ql.use([Xl,Yl,Kl,Ql,cc,uc,zc,Bc,Vc,jc,Gc,Yc,Kc,Zc,eu,tu,su,vu,{name:"appbar"},Eu,Iu,Bu,Fu,Wu,Yu,ep,np,rp,sp,lp,up,{name:"contactsList"},mp,xp,{name:"timeline"},Cp,Ip,Rp,{name:"chip"},Lp,Fp,{name:"checkbox"},{name:"radio"},Wp,Yp,ed,sd,ud,gd,kd,Sd,Nd,Pd,Ld,zd,Qd,af,cf,lm,fm,bm,Em,Im,{name:"skeleton"},Rm,Km,Zm,rg,{name:"elevation"},{name:"typography"}]);var og=ql;ql.use([Xl,Yl,Kl,Ql,cc,uc,zc,Bc,Vc,jc,Gc,Yc,Kc,Zc,eu,tu,su,vu]);var sg=ql;function ig(e){var t={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}function lg(e){return"string"==typeof e&&""!==e}function cg(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function ug(){return Date.now()}function pg(){for(var e,t,n=!0,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];"boolean"==typeof r[0]?(n=r[0],e=r[1],r.splice(0,2),t=r):(e=r[0],r.splice(0,1),t=r);for(var s=0;s<t.length;s+=1){var i=r[s];if(null!=i)for(var l=Object.keys(Object(i)),c=0,u=l.length;c<u;c+=1){var p=l[c],d=Object.getOwnPropertyDescriptor(i,p);void 0!==d&&d.enumerable&&(n?cg(e[p])&&cg(i[p])?pg(e[p],i[p]):!cg(e[p])&&cg(i[p])?(e[p]={},pg(e[p],i[p])):e[p]=i[p]:e[p]=i[p])}}return e}function dg(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t){"object"==typeof t&&t.constructor===Object?Object.keys(t).forEach((function(n){t[n]&&e.push(n)})):t&&e.push(t)}));var r=[];return e.forEach((function(e){r.indexOf(e)<0&&r.push(e)})),r.join(" ")}var fg,hg,mg=0,gg=0;function vg(){return mg+=1,ug()+"_"+mg}function bg(){return gg+=1,ug()+"_"+gg}var yg={},xg={views:[],tabs:[],modals:null},wg=function(){fg&&(yg.ios="ios"===fg.theme,yg.md="md"===fg.theme,yg.aurora="aurora"===fg.theme)},Cg=function(){mg=0,gg=0,delete yg.ios,delete yg.md,delete yg.aurora,xg.views=[],xg.tabs=[],xg.modals=null},kg=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!0);var a=pg({},t,{el:e,init:n});if(void 0!==t.store&&(a.store=t.store),a.routes||(a.routes=[]),a.userAgent&&("auto"===a.theme||!a.theme)){var r=sg.getDevice({userAgent:a.userAgent},!0);yg.ios=!!r.ios,yg.aurora=r.desktop&&r.electron,yg.md=!yg.ios&&!yg.aurora}if(!fg||"undefined"==typeof window){"undefined"==typeof window&&Cg();var o=new sg(a);fg=o,wg(),o.initialized?(fg=o,hg.emit("ready",fg)):o.on("init",(function(){fg=o,hg.emit("ready",fg)}))}},Eg=function(e){e&&(fg&&fg.initialized?e(fg):hg.once("ready",e))},Sg=function(e){for(var t=[],n=0;n<e.children.length;n+=1)t.push(e.children[n]);return t},Tg={proto:{pageComponentLoader:function(e){var t,n=e.routerEl,a=e.component,r=e.options,o=e.resolve,s=e.reject,i=this.id,l=n;if(xg.views.forEach((function(e){(e.el&&e.el===n||e.routerId&&e.routerId===i)&&(t=e)})),t){var c,u={component:a,id:bg(),props:pg({f7route:r.route,f7router:this},r.route.params,r.props||{})},p=Sg(l);hg.on("viewRouterDidUpdate",(function e(n){if(n===t&&!c){var a=Sg(l);if(!function(e,t){return e.length===t.length&&new Set([].concat(e,t)).size===e.length}(p,a)){hg.off("viewRouterDidUpdate",e);var r=l.children[l.children.length-1];u.el=r,o(r),c=!0}}})),t.pages.push(u),t.setPages(t.pages)}else s()},removePage:function(e){if(e){var t,n=this;if((t="length"in e&&e[0]?e[0].f7Page:e.f7Page)&&t.route&&t.route.route&&t.route.route.keepAlive)n.app.$(e).remove();else{var a,r,o;if(xg.views.forEach((function(e){e.el&&e.el===n.el&&(a=e)})),"length"in e){if(0===e.length)return;r=e[0]}else r=e;if(r)a.pages.forEach((function(e,t){e.el===r&&(o=!0,a.pages.splice(t,1),a.setPages(a.pages))})),o||r.parentNode.removeChild(r)}}},tabComponentLoader:function(e){var t,n=void 0===e?{}:e,a=n.tabEl,r=n.component,o=n.options,s=n.resolve,i=n.reject;if(a||i(),xg.tabs.forEach((function(e){e.el&&e.el===a&&(t=e)})),t){var l,c={id:bg(),component:r,props:pg({f7route:o.route,f7router:this},o.route.route&&o.route.route.tab&&o.route.route.tab.options&&o.route.route.tab.options.props||{},o.route.params,o.props||{})};hg.on("tabRouterDidUpdate",(function e(n){if(n===t&&!l){hg.off("tabRouterDidUpdate",e);var r=a.children[0];s(r),l=!0}})),t.setTabContent(c)}else i()},removeTabContent:function(e){var t;e&&(xg.tabs.forEach((function(n){n.el&&n.el===e&&(t=n)})),t?t.setTabContent(null):e.innerHTML="")},modalComponentLoader:function(e){var t=void 0===e?{}:e,n=t.component,a=t.options,r=t.resolve,o=t.reject,s=xg.modals;if(s){var i,l={component:n,id:bg(),props:pg({f7route:a.route,f7router:this},a.route.params,a.props||{})};hg.on("modalsRouterDidUpdate",(function e(){if(!i){hg.off("modalsRouterDidUpdate",e);var t=s.el.children[s.el.children.length-1];l.el=t,r(t),i=!0}})),s.modals.push(l),s.setModals(s.modals)}else o()},removeModal:function(e){var t,n=xg.modals;n&&(n.modals.forEach((function(n){n.el===e&&(t=n)})),n.modals.splice(n.modals.indexOf(t),1),n.setModals(n.modals))}}},$g={name:"vuePlugin",installed:!1,install:function(e){if(void 0===e&&(e={}),!$g.installed){$g.installed=!0,hg=new sg.Events;var t=e,n=t.theme,a=t.userAgent;if("md"===n&&(yg.md=!0),"ios"===n&&(yg.ios=!0),"aurora"===n&&(yg.aurora=!0),("undefined"!=typeof window||!!a)&&(!n||"auto"===n)){var r=sg.getDevice({userAgent:a},!0);yg.ios=!!r.ios,yg.aurora=r.desktop&&r.electron,yg.md=!yg.ios&&!yg.aurora}Eg((function(){wg()})),sg.Router.use(Tg)}}},Og=$g;function Ig(e){var t,n=e.color,a=e.colorTheme,r=e.textColor,o=e.bgColor,s=e.borderColor,i=e.rippleColor;return(t={"theme-dark":e.themeDark})["color-"+n]=n,t["color-theme-"+a]=a,t["text-color-"+r]=r,t["bg-color-"+o]=o,t["border-color-"+s]=s,t["ripple-color-"+i]=i,t}var Ng={color:String,colorTheme:String,textColor:String,bgColor:String,borderColor:String,rippleColor:String,themeDark:Boolean},Rg={icon:String,iconMaterial:String,iconF7:String,iconIos:String,iconMd:String,iconAurora:String,iconColor:String,iconSize:[String,Number],iconBadge:[String,Number],iconBadgeColor:String},Pg={back:Boolean,external:Boolean,force:Boolean,animate:{type:Boolean,default:void 0},ignoreCache:Boolean,reloadCurrent:Boolean,reloadAll:Boolean,reloadPrevious:Boolean,reloadDetail:{type:Boolean,default:void 0},routeTabId:String,view:String,routeProps:Object,preventRouter:Boolean,transition:String,openIn:String};function Mg(e){var t,n,a=e.force,r=e.reloadCurrent,o=e.reloadPrevious,s=e.reloadAll,i=e.reloadDetail,l=e.animate,c=e.ignoreCache,u=e.routeTabId,p=e.view,d=e.transition,f=e.openIn;return"animate"in e&&void 0!==l&&(t=l.toString()),"reloadDetail"in e&&void 0!==i&&(n=i.toString()),{"data-force":a||void 0,"data-reload-current":r||void 0,"data-reload-all":s||void 0,"data-reload-previous":o||void 0,"data-reload-detail":n,"data-animate":t,"data-ignore-cache":c||void 0,"data-route-tab-id":u||void 0,"data-view":lg(p)?p:void 0,"data-transition":lg(d)?d:void 0,"data-open-in":lg(f)?f:void 0}}function Bg(e){var t=e.back,n=e.linkBack;return{back:t||n,external:e.external,"prevent-router":e.preventRouter}}var Ag={searchbarEnable:[Boolean,String],searchbarDisable:[Boolean,String],searchbarClear:[Boolean,String],searchbarToggle:[Boolean,String],panelOpen:[Boolean,String],panelClose:[Boolean,String],panelToggle:[Boolean,String],popupOpen:[Boolean,String],popupClose:[Boolean,String],actionsOpen:[Boolean,String],actionsClose:[Boolean,String],popoverOpen:[Boolean,String],popoverClose:[Boolean,String],loginScreenOpen:[Boolean,String],loginScreenClose:[Boolean,String],sheetOpen:[Boolean,String],sheetClose:[Boolean,String],sortableEnable:[Boolean,String],sortableDisable:[Boolean,String],sortableToggle:[Boolean,String],cardOpen:[Boolean,String],cardPreventOpen:[Boolean,String],cardClose:[Boolean,String],menuClose:{type:[Boolean,String],default:void 0}};function _g(e){var t=e.searchbarEnable,n=e.searchbarDisable,a=e.searchbarClear,r=e.searchbarToggle,o=e.panelOpen,s=e.panelClose,i=e.panelToggle,l=e.popupOpen,c=e.popupClose,u=e.actionsOpen,p=e.actionsClose,d=e.popoverOpen,f=e.popoverClose,h=e.loginScreenOpen,m=e.loginScreenClose,g=e.sheetOpen,v=e.sheetClose,b=e.sortableEnable,y=e.sortableDisable,x=e.sortableToggle,w=e.cardOpen,C=e.cardClose;return{"data-searchbar":lg(t)&&t||lg(n)&&n||lg(a)&&a||lg(r)&&r||void 0,"data-panel":lg(o)&&o||lg(s)&&s||lg(i)&&i||void 0,"data-popup":lg(l)&&l||lg(c)&&c||void 0,"data-actions":lg(u)&&u||lg(p)&&p||void 0,"data-popover":lg(d)&&d||lg(f)&&f||void 0,"data-sheet":lg(g)&&g||lg(v)&&v||void 0,"data-login-screen":lg(h)&&h||lg(m)&&m||void 0,"data-sortable":lg(b)&&b||lg(y)&&y||lg(x)&&x||void 0,"data-card":lg(w)&&w||lg(C)&&C||void 0}}function Lg(e){var t=e.searchbarEnable,n=e.searchbarDisable,a=e.searchbarClear,r=e.searchbarToggle,o=e.panelOpen,s=e.panelClose,i=e.panelToggle,l=e.popupOpen,c=e.popupClose,u=e.actionsClose,p=e.actionsOpen,d=e.popoverOpen,f=e.popoverClose,h=e.loginScreenOpen,m=e.loginScreenClose,g=e.sheetOpen,v=e.sheetClose,b=e.sortableEnable,y=e.sortableDisable,x=e.sortableToggle,w=e.cardOpen,C=e.cardPreventOpen,k=e.cardClose,E=e.menuClose;return{"searchbar-enable":t||""===t,"searchbar-disable":n||""===n,"searchbar-clear":a||""===a,"searchbar-toggle":r||""===r,"panel-close":s||""===s,"panel-open":o||""===o,"panel-toggle":i||""===i,"popup-close":c||""===c,"popup-open":l||""===l,"actions-close":u||""===u,"actions-open":p||""===p,"popover-close":f||""===f,"popover-open":d||""===d,"sheet-close":v||""===v,"sheet-open":g||""===g,"login-screen-close":m||""===m,"login-screen-open":h||""===h,"sortable-enable":b||""===b,"sortable-disable":y||""===y,"sortable-toggle":x||""===x,"card-close":k||""===k,"card-open":w||""===w,"card-prevent-open":C||""===C,"menu-close":E||""===E}}function Dg(){return Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Dg.apply(this,arguments)}var Fg={name:"f7-accordion-content",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Dg({},Ng),setup:function(e){return{classes:mo((function(){return dg("accordion-item-content",Ig(e))}))}}};function zg(){return zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zg.apply(this,arguments)}var Vg={name:"f7-accordion-item",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:zg({opened:Boolean},Ng),emits:["accordion:beforeopen","accordion:open","accordion:opened","accordion:beforeclose","accordion:close","accordion:closed"],setup:function(e,t){var n=t.emit,a=Vt(null),r=function(e,t){a.value===e&&n("accordion:beforeopen",t)},o=function(e){a.value===e&&n("accordion:open")},s=function(e){a.value===e&&n("accordion:opened")},i=function(e,t){a.value===e&&n("accordion:beforeclose",t)},l=function(e){a.value===e&&n("accordion:close")},c=function(e){a.value===e&&n("accordion:closed")};ya((function(){Eg((function(){fg.on("accordionBeforeOpen",r),fg.on("accordionOpen",o),fg.on("accordionOpened",s),fg.on("accordionBeforeClose",i),fg.on("accordionClose",l),fg.on("accordionClosed",c)}))})),Ca((function(){return fg.off("accordionBeforeOpen",r),fg.off("accordionOpen",o),fg.off("accordionOpened",s),fg.off("accordionBeforeClose",i),fg.off("accordionClose",l),void fg.off("accordionClosed",c)}));var u=mo((function(){return dg("accordion-item",{"accordion-item-opened":e.opened},Ig(e))}));return{elRef:a,classes:u}}};function Hg(){return Hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hg.apply(this,arguments)}var jg={name:"f7-accordion-toggle",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Hg({},Ng),setup:function(e){return{classes:mo((function(){return dg("accordion-item-toggle",Ig(e))}))}}};function Wg(){return Wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wg.apply(this,arguments)}var Ug={name:"f7-accordion",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Wg({accordionOpposite:Boolean},Ng),setup:function(e){return{classes:mo((function(){return dg("accordion-list",e.accordionOpposite&&"accordion-opposite",Ig(e))}))}}};function Gg(){return Gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gg.apply(this,arguments)}var qg={key:0,class:"actions-button-media"},Xg={class:"actions-button-text"};var Yg={name:"f7-actions-button",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.hasMedia?(yr(),Sr("div",qg,[Ur(e.$slots,"media")])):Dr("",!0),Pr("div",Xg,[Ur(e.$slots,"default")])],2)},props:Gg({bold:Boolean,close:{type:Boolean,default:!0}},Ng),emits:["click"],setup:function(e,t){var n=t.slots,a=t.emit,r=Vt(null),o=mo((function(){return n&&!!n.media}));return{classes:mo((function(){return dg({"actions-button":!0,"actions-button-bold":e.bold},Ig(e))})),elRef:r,hasMedia:o,onClick:function(t){r.value&&e.close&&fg&&fg.actions.close(fg.$(r.value).parents(".actions-modal")),a("click",t)}}}};function Kg(){return Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kg.apply(this,arguments)}var Qg={name:"f7-actions-group",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Kg({},Ng),setup:function(e){return{classes:mo((function(){return dg("actions-group",Ig(e))}))}}};function Zg(){return Zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zg.apply(this,arguments)}var Jg={name:"f7-actions-label",render:function(e,t){return yr(),Sr("div",{class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[Ur(e.$slots,"default")],2)},props:Zg({bold:Boolean},Ng),emits:["click"],setup:function(e,t){var n=t.emit;return{classes:mo((function(){return dg("actions-label",{"actions-button-bold":e.bold},Ig(e))})),onClick:function(e){n("click",e)}}}},ev=function(e){var t=void 0===e?{}:e,n=t.isOpened,a=t.isClosing;return{"modal-in":n&&!a,"modal-out":a}};function tv(){return tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tv.apply(this,arguments)}var nv={name:"f7-actions",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:tv({tabletFullscreen:Boolean,opened:Boolean,animate:{type:Boolean,default:void 0},grid:Boolean,target:{type:[String,Object],default:void 0},convertToPopover:{type:Boolean,default:void 0},forceToPopover:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Ng),emits:["actions:open","actions:opened","actions:close","actions:closed","update:opened"],setup:function(e,t){var n=t.emit,a=null,r=e.opened,o=!1,s=Vt(null),i=function(e){r=!0,o=!1,n("actions:open",e),n("update:opened",!0)},l=function(e){n("actions:opened",e)},c=function(e){r=!1,o=!0,n("actions:close",e)},u=function(e){o=!1,n("actions:closed",e),n("update:opened",!1)};Gn((function(){return e.opened}),(function(e){a&&(e?a.open():a.close())})),ya((function(){if(s.value){var t=e.target,n=e.convertToPopover,r=e.forceToPopover,o=e.closeByBackdropClick,p=e.closeByOutsideClick,d=e.closeOnEscape,f=e.backdrop,h=e.backdropEl,m=e.grid,g=e.containerEl,v={el:s.value,grid:m,on:{open:i,opened:l,close:c,closed:u}};void 0!==t&&(v.target=t),void 0!==n&&(v.convertToPopover=n),void 0!==r&&(v.forceToPopover=r),void 0!==o&&(v.closeByBackdropClick=o),void 0!==p&&(v.closeByOutsideClick=p),void 0!==d&&(v.closeOnEscape=d),void 0!==f&&(v.backdrop=f),void 0!==h&&(v.backdropEl=h),void 0!==g&&(v.containerEl=g),Eg((function(){a=fg.popup.create(v),e.opened&&a.open(!1)}))}})),Ca((function(){a&&a.destroy(),a=null}));var p=mo((function(){return dg("actions-modal",{"actions-grid":e.grid},ev({isOpened:r,isClosing:o}),Ig(e))}));return{elRef:s,classes:p}}};function av(){return av=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},av.apply(this,arguments)}var rv={name:"f7-routable-modals",setup:function(){var e=Vt(null),t=Vt([]),n=Vt(null);ya((function(){n.value={modals:t,el:e.value,setModals:function(e){e.forEach((function(e){e.component=Bt(e.component)})),t.value=[].concat(e)}},xg.modals=n.value})),wa((function(){n.value&&fg&&hg.emit("modalsRouterDidUpdate",n.value)})),Ca((function(){n.value&&(xg.modals=null,n.value=null)}));return function(){return go("div",{ref:e,class:"framework7-modals"},[].concat(t.value.map((function(e){return go(function(e){return Bt(e.component)}(e),av({key:e.id},function(e){var t=e.component,n=e.props,a=[],r={};return t&&t.props&&(a=Object.keys(t.props)),a.forEach((function(e){e in n&&(r[e]=n[e])})),r}(e)))}))))}}};function ov(){return ov=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ov.apply(this,arguments)}var sv={name:"f7-app",render:function(e,t){var n=lr("routable-modals");return yr(),Sr("div",{id:"framework7-root",ref:"elRef",class:e.classes},[Ur(e.$slots,"default"),Pr(n)],2)},components:{RoutableModals:rv},inheritAttrs:!1,props:ov({id:{type:String,default:void 0},name:{type:String,default:void 0},version:{type:String,default:void 0},theme:{type:String,default:void 0},language:{type:String,default:void 0},routes:{type:Array,default:function(){return[]}},store:Object,autoDarkTheme:{type:Boolean,default:void 0},lazyModulesPath:{type:String,default:void 0},initOnDeviceReady:{type:Boolean,default:void 0},iosTranslucentBars:{type:Boolean,default:void 0},iosTranslucentModals:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},accordion:{type:Object,default:function(){}},actions:{type:Object,default:function(){}},areaChart:{type:Object,default:function(){}},autocomplete:{type:Object,default:function(){}},calendar:{type:Object,default:function(){}},card:{type:Object,default:function(){}},colorPicker:{type:Object,default:function(){}},dialog:{type:Object,default:function(){}},form:{type:Object,default:function(){}},gauge:{type:Object,default:function(){}},grid:{type:Object,default:function(){}},infiniteScroll:{type:Object,default:function(){}},input:{type:Object,default:function(){}},lazy:{type:Object,default:function(){}},listIndex:{type:Object,default:function(){}},loginScreen:{type:Object,default:function(){}},messagebar:{type:Object,default:function(){}},messages:{type:Object,default:function(){}},navbar:{type:Object,default:function(){}},notification:{type:Object,default:function(){}},panel:{type:Object,default:function(){}},photoBrowser:{type:Object,default:function(){}},picker:{type:Object,default:function(){}},pieChart:{type:Object,default:function(){}},popover:{type:Object,default:function(){}},popup:{type:Object,default:function(){}},range:{type:Object,default:function(){}},searchbar:{type:Object,default:function(){}},sheet:{type:Object,default:function(){}},smartSelect:{type:Object,default:function(){}},sortable:{type:Object,default:function(){}},statusbar:{type:Object,default:function(){}},stepper:{type:Object,default:function(){}},swipeout:{type:Object,default:function(){}},textEditor:{type:Object,default:function(){}},toast:{type:Object,default:function(){}},toolbar:{type:Object,default:function(){}},tooltip:{type:Object,default:function(){}},view:{type:Object,default:function(){}},virtualList:{type:Object,default:function(){}},clicks:{type:Object,default:function(){}},serviceWorker:{type:Object,default:function(){}},touch:{type:Object,default:function(){}}},Ng),setup:function(e){var t=Vt(null),n=Bt(e.routes);return fg&&"undefined"!=typeof window||kg(t.value,ig(ov({},e,{routes:n})),!1),ya((function(){var a=t.value&&t.value.parentNode;"undefined"!=typeof document&&a&&a!==document.body&&a.parentNode===document.body&&(a.style.height="100%"),fg?fg.init(t.value):kg(t.value,ig(ov({},e,{routes:n})),!0)})),{classes:mo((function(){return dg("framework7-root",Ig(e))})),elRef:t}}};function iv(){return iv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iv.apply(this,arguments)}var lv={name:"f7-appbar",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"before-inner"),e.inner?(yr(),Sr("div",{key:0,class:e.innerClasses},[Ur(e.$slots,"default")],2)):Ur(e.$slots,"default",{key:1}),Ur(e.$slots,"after-inner")],2)},props:iv({noShadow:Boolean,noHairline:Boolean,inner:{type:Boolean,default:!0},innerClass:String,innerClassName:String},Ng),setup:function(e){return{classes:mo((function(){return dg("appbar",{"no-shadow":e.noShadow,"no-hairline":e.noHairline},Ig(e))})),innerClasses:mo((function(){return dg("appbar-inner",e.innerClass,e.innerClassName)}))}}},cv={key:0,class:"area-chart-axis"},uv={key:0},pv={key:1,class:"area-chart-legend"};var dv={name:"f7-area-chart",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[(yr(),Sr("svg",{ref:"svgElRef",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 "+e.width+" "+e.height,preserveAspectRatio:"none"},[(yr(!0),Sr(fr,null,Wr(e.chartData,(function(t,n){return yr(),Sr(ur(e.ChartTag),{key:e.ChartTag+"-"+n,fill:e.lineChart?void 0:t.color,stroke:e.lineChart?t.color:void 0,"fill-rule":"evenodd",points:e.lineChart?void 0:t.points,d:e.lineChart?t.points:void 0},null,8,["fill","stroke","points","d"])})),128)),(yr(!0),Sr(fr,null,Wr(e.verticalLines,(function(t,n){return yr(),Sr("line",{key:"line-"+n,"data-index":n,fill:"#000",x1:t,y1:0,x2:t,y2:e.height,class:e.classNames({"area-chart-current-line":e.currentIndex===n})},null,10,["data-index","x1","x2","y2"])})),128))],8,["width","height","viewBox"])),e.axis?(yr(),Sr("div",cv,[(yr(!0),Sr(fr,null,Wr(e.axisLabels,(function(t,n){return yr(),Sr("span",{key:n},[e.visibleLegends.includes(t)?(yr(),Sr("span",uv,A(e.formatAxisLabelMethod(t)),1)):Dr("",!0)])})),128))])):Dr("",!0),e.legend?(yr(),Sr("div",pv,[(yr(!0),Sr(fr,null,Wr(e.datasets,(function(t,n){return yr(),Sr(ur(e.LegendItemTag),{key:n,class:e.classNames("area-chart-legend-item",{"area-chart-legend-item-hidden":e.hiddenDatasets.includes(n),"area-chart-legend-button":e.toggleDatasets}),type:e.toggleDatasets?"button":void 0,onClick:function(t){return e.toggleDataset(n)}},{default:_n((function(){return[Pr("span",{style:{backgroundColor:t.color}},null,4),_r(" "+A(e.formatLegendLabelMethod(t.label)),1)]})),_:2},1032,["class","type","onClick"])})),128))])):Dr("",!0),Ur(e.$slots,"default")],2)},props:{lineChart:Boolean,datasets:{type:Array,default:function(){return[]}},axis:Boolean,axisLabels:{type:Array,default:function(){return[]}},tooltip:Boolean,legend:Boolean,toggleDatasets:Boolean,width:{type:Number,default:640},height:{type:Number,default:320},maxAxisLabels:{type:Number,default:8},formatAxisLabel:Function,formatLegendLabel:Function,formatTooltip:Function,formatTooltipAxisLabel:Function,formatTooltipTotal:Function,formatTooltipDataset:Function},emits:["select"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null),o=Vt([]),s=Vt(null),i=Vt(null),l=Vt(null),c=mo((function(){if(!e.maxAxisLabels||e.axisLabels.length<=e.maxAxisLabels)return e.axisLabels;var t=Math.ceil(e.axisLabels.length/e.maxAxisLabels),n=e.axisLabels.filter((function(e,n){return n%t==0}));return n})),u=mo((function(){var t=[];return e.datasets.filter((function(e,t){return!o.value.includes(t)})).forEach((function(e){e.values.forEach((function(e,n){t[n]||(t[n]=0),t[n]+=e}))})),t})),p=mo((function(){var t=e.datasets,n=e.lineChart,a=e.width,r=e.height,s=[];if(!t.length)return s;var i=t[0].values.map((function(){return 0})),l=0;return n?t.forEach((function(e){var t=e.values,n=Math.max.apply(Math,t);n>l&&(l=n)})):l=Math.max.apply(Math,u.value),t.filter((function(e,t){return!o.value.includes(t)})).forEach((function(e){var t=e.label,o=e.values,c=e.color,u=o.map((function(e,t){i[t]+=e;var s=n?e:i[t],c=t/(o.length-1)*a,u=r-s/l*r;return n?(0===t?"M":"L")+c+","+u:c+" "+u}));n||u.push(a+" "+r+" 0 "+r),s.push({label:t,points:u.join(" "),color:c})})),s.reverse()})),d=mo((function(){var t=[];if(!e.datasets.length)return t;var n=e.datasets[0].values;return n.forEach((function(a,r){var o=r/(n.length-1)*e.width;t.push(o)})),t})),f=function(t){return e.formatAxisLabel?e.formatAxisLabel(t):t},h=function(){var e=i.value.querySelectorAll("line");l.value=[];for(var t=0;t<e.length;t+=1)l.value.push(e[t].getBoundingClientRect().left)},m=function(){var t=r.value;if(null===t)return"";var n=0,a=e.datasets.filter((function(e,t){return!o.value.includes(t)})).map((function(e){return{color:e.color,label:e.label,value:e.values[t]}}));if(a.forEach((function(e){n+=e.value})),e.formatTooltip)return e.formatTooltip({index:t,total:n,datasets:a});var s=e.formatTooltipAxisLabel?e.formatTooltipAxisLabel(e.axisLabels[t]):f(e.axisLabels[t]);s||(s="");var i=e.formatTooltipTotal?e.formatTooltipTotal(n):n,l=a.length>0?'\n      <ul class="area-chart-tooltip-list">\n        '+a.map((function(t){var n=t.label,a=t.color,r=t.value;return'\n              <li><span style="background-color: '+a+';"></span>'+(e.formatTooltipDataset?e.formatTooltipDataset(n,r,a):n+": "+r)+"</li>\n            "})).join("")+"\n      </ul>":"";return'\n      <div class="area-chart-tooltip-label">'+s+'</div>\n      <div class="area-chart-tooltip-total">'+i+"</div>\n      "+l+"\n    "},g=function(){h()},v=function(e){l.value||h();var t=e.pageX;void 0===t&&(t=0);var n=l.value.map((function(e){return Math.abs(t-e)})),a=Math.min.apply(Math,n),o=n.indexOf(a);r.value=o},b=function(){r.value=null};Gn((function(){return r.value}),(function(){n("select",r.value),function(){var t=e.tooltip,n=e.datasets,l=r.value;if(t){var c=n.filter((function(e,t){return!o.value.includes(t)})).length>0;c?null===l||a?a&&a.hide&&a.show&&(null!==l?(a.setText(m()),a.setTargetEl(i.value.querySelector('line[data-index="'+l+'"]')),a.show()):a.hide()):(a=fg.tooltip.create({trigger:"manual",containerEl:s.value,targetEl:i.value.querySelector('line[data-index="'+l+'"]'),text:m(),cssClass:"area-chart-tooltip"}))&&a.show&&a.show():a&&a.hide&&a.hide()}}()})),ya((function(){i.value&&(i.value.addEventListener("mouseenter",g),i.value.addEventListener("mousemove",v),i.value.addEventListener("mouseleave",b))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null,i.value&&(i.value.removeEventListener("mouseenter",g),i.value.removeEventListener("mousemove",v),i.value.removeEventListener("mouseleave",b))}));var y=mo((function(){return dg("area-chart")})),x=mo((function(){return e.toggleDatasets?"button":"span"})),w=mo((function(){return e.lineChart?"path":"polygon"}));return{currentIndex:r,hiddenDatasets:o,visibleLegends:c,chartData:p,verticalLines:d,elRef:s,svgElRef:i,classes:y,toggleDataset:function(t){e.toggleDatasets&&(o.value.includes(t)?o.value.splice(o.value.indexOf(t),1):o.value.push(t),o.value=[].concat(o.value))},formatAxisLabelMethod:f,formatLegendLabelMethod:function(t){return e.formatLegendLabel?e.formatLegendLabel(t):t},LegendItemTag:x,ChartTag:w,classNames:dg}}},fv=function(e,t){var n=null,a=t.tooltip,r=t.tooltipTrigger;ya((function(){e.value&&a&&Eg((function(){n=fg.tooltip.create({targetEl:e.value,text:a,trigger:r})}))})),Ca((function(){n&&n.destroy&&(n.destroy(),n=null)})),Gn((function(){return t.tooltip}),(function(t){if(!t&&n)return n.destroy(),void(n=null);t&&!n&&fg?n=fg.tooltip.create({targetEl:e.value,text:t,trigger:r}):t&&n&&n.setText(t)}))};function hv(){return hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hv.apply(this,arguments)}var mv={name:"f7-badge",render:function(e,t){return yr(),Sr("span",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:hv({tooltip:String,tooltipTrigger:String},Ng),setup:function(e){var t=Vt(null);return fv(t,e),{elRef:t,classes:mo((function(){return dg("badge",Ig(e))}))}}};function gv(){return gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gv.apply(this,arguments)}var vv={name:"f7-block-footer",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:gv({},Ng),setup:function(e){return{classes:mo((function(){return dg("block-footer",Ig(e))}))}}};function bv(){return bv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bv.apply(this,arguments)}var yv={name:"f7-block-header",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:bv({},Ng),setup:function(e){return{classes:mo((function(){return dg("block-header",Ig(e))}))}}};function xv(){return xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xv.apply(this,arguments)}var wv={name:"f7-block-title",render:function(e,t){return yr(),Sr("div",{class:e.classes,medium:e.medium},[Ur(e.$slots,"default")],10,["medium"])},props:xv({large:Boolean,medium:Boolean},Ng),setup:function(e){return{classes:mo((function(){return dg("block-title",{"block-title-large":e.large,"block-title-medium":e.medium},Ig(e))}))}}},Cv=function(e,t){var n=function(n){e.value===n&&t("tab:show",n)},a=function(n){e.value===n&&t("tab:hide",n)};ya((function(){e.value&&Eg((function(){fg.on("tabShow",n),fg.on("tabHide",a)}))})),Ca((function(){fg&&(fg.off("tabShow",n),fg.off("tabHide",a))}))};function kv(){return kv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kv.apply(this,arguments)}var Ev={name:"f7-block",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:kv({inset:Boolean,xsmallInset:Boolean,smallInset:Boolean,mediumInset:Boolean,largeInset:Boolean,xlargeInset:Boolean,strong:Boolean,tabs:Boolean,tab:Boolean,tabActive:Boolean,accordionList:Boolean,accordionOpposite:Boolean,noHairlines:Boolean,noHairlinesMd:Boolean,noHairlinesIos:Boolean,noHairlinesAurora:Boolean},Ng),emits:["tab:hide","tab:show"],setup:function(e,t){var n=t.emit,a=Vt(null);return Cv(a,n),{elRef:a,classes:mo((function(){return dg("block",{inset:e.inset,"xsmall-inset":e.xsmallInset,"small-inset":e.smallInset,"medium-inset":e.mediumInset,"large-inset":e.largeInset,"xlarge-inset":e.xlargeInset,"block-strong":e.strong,"accordion-list":e.accordionList,"accordion-opposite":e.accordionOpposite,tabs:e.tabs,tab:e.tab,"tab-active":e.tabActive,"no-hairlines":e.noHairlines,"no-hairlines-md":e.noHairlinesMd,"no-hairlines-ios":e.noHairlinesIos,"no-hairlines-aurora":e.noHairlinesAurora},Ig(e))}))}}},Sv=function(e){void 0===e&&(e={});var t=e,n=t.icon,a=t.iconMaterial,r=t.iconF7,o=t.iconMd,s=t.iconIos,i=t.iconAurora,l=t.iconColor,c=t.iconSize,u=t.iconBadge,p=t.badgeColor,d=t.iconBadgeColor;return n||a||r||o||s||i?{props:{material:a,f7:r,icon:n,md:o,ios:s,aurora:i,color:l,size:c},badge:u||0===u?{props:{color:p||d},content:u}:null}:null},Tv=function(e,t){var n=(void 0===t?{}:t).routeProps;ya((function(){e.value&&n&&(e.value.f7RouteProps=n)})),wa((function(){e.value&&n?e.value.f7RouteProps=n:e.value&&e.value.f7RouteProps&&delete e.value.f7RouteProps}))},$v=function(){var e=Vt(fg?yg:null);return fg||Eg((function(){e.value=yg})),e};function Ov(){return Ov=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ov.apply(this,arguments)}var Iv={key:0,class:"preloader-inner"},Nv=Pr("svg",{viewBox:"0 0 36 36"},[Pr("circle",{cx:"18",cy:"18",r:"16"})],-1),Rv={key:1,class:"preloader-inner"},Pv=Lr('<span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span>',8),Mv={key:2,class:"preloader-inner"},Bv=Pr("span",{class:"preloader-inner-circle"},null,-1),Av={key:3,class:"preloader-inner"};var _v={name:"f7-preloader",render:function(e,t){return yr(),Sr("div",{class:e.classes,style:e.style},[e.theme&&e.theme.md?(yr(),Sr("span",Iv,[Nv])):e.theme&&e.theme.ios?(yr(),Sr("span",Rv,[Pv])):e.theme&&e.theme.aurora?(yr(),Sr("span",Mv,[Bv])):e.theme?Dr("",!0):(yr(),Sr("span",Av))],6)},props:Ov({size:[Number,String]},Ng),setup:function(e){var t=$v();return{classes:mo((function(){return dg("preloader",Ig(e))})),style:mo((function(){var t={},n=e.size;return n&&"string"==typeof n&&n.indexOf("px")>=0&&(n=n.replace("px","")),n&&(t.width=n+"px",t.height=n+"px",t["--f7-preloader-size"]=n+"px"),t})),theme:t}}};function Lv(){return Lv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lv.apply(this,arguments)}var Dv={name:"f7-icon",render:function(e,t){return yr(),Sr("i",{ref:"elRef",style:{fontSize:e.sizeComputed,width:e.sizeComputed,height:e.sizeComputed},class:e.classesComputed},[_r(A(e.iconText)+" ",1),Ur(e.$slots,"default")],6)},props:Lv({material:String,f7:String,icon:String,ios:String,aurora:String,md:String,tooltip:String,tooltipTrigger:String,size:[String,Number]},Ng),setup:function(e){var t=Vt(null),n=$v();fv(t,e);var a=mo((function(){var t,a=e.ios,r=e.md,o=e.aurora,s=e.f7,i=e.material,l=e.icon,c={icon:!0};if(n.value&&n.value.ios?t=a:n.value&&n.value.md?t=r:n.value&&n.value.aurora&&(t=o),t){var u=t.split(":"),p=u[0],d=u[1];"material"!==p&&"f7"!==p||(c["material-icons"]="material"===p,c["f7-icons"]="f7"===p),"icon"===p&&(c[d]=!0)}else c={icon:!0,"material-icons":i,"f7-icons":s},l&&(c[l]=!0);return dg(c,Ig(e))})),r=mo((function(){var t=e.size;return"number"!=typeof e.size&&parseFloat(e.size)!==1*e.size||(t=e.size+"px"),t}));return{elRef:t,sizeComputed:r,classesComputed:a,iconText:mo((function(){var t=e.ios,a=e.md,r=e.aurora,o=e.f7,s=e.material||o;return a&&n.value&&n.value.md&&(a.indexOf("material:")>=0||a.indexOf("f7:")>=0)?s=a.split(":")[1]:t&&n.value&&n.value.ios&&(t.indexOf("material:")>=0||t.indexOf("f7:")>=0)?s=t.split(":")[1]:r&&n.value&&n.value.aurora&&(r.indexOf("material:")>=0||r.indexOf("f7:")>=0)&&(s=r.split(":")[1]),s}))}}};var Fv={name:"f7-use-icon",render:function(e,t){var n=lr("f7-badge"),a=lr("f7-icon");return yr(),Sr(a,e.icon.props,{default:_n((function(){return[e.icon.badge?(yr(),Sr(n,Hr({key:0},e.icon.badge.props),{default:_n((function(){return[_r(A(e.icon.badge.content),1)]})),_:1},16)):Dr("",!0)]})),_:1},16)},components:{f7Icon:Dv,f7Badge:mv},props:{icon:Object}};function zv(){return zv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zv.apply(this,arguments)}var Vv={key:1},Hv={key:1};var jv={name:"f7-button",render:function(e,t){var n=lr("f7-preloader"),a=lr("f7-use-icon");return yr(),Sr(ur(e.tag),Hr({ref:"elRef",class:e.classesComputed},e.attrs),{default:_n((function(){return[e.preloader?(yr(),Sr(fr,{key:0},[Pr(n,{size:e.preloaderSize,color:e.preloaderColor},null,8,["size","color"]),Pr("span",null,[e.icon?(yr(),Sr(a,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),e.text?(yr(),Sr("span",Vv,A(e.text),1)):Dr("",!0),Ur(e.$slots,"default")])],64)):(yr(),Sr(fr,{key:1},[e.icon?(yr(),Sr(a,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),e.text?(yr(),Sr("span",Hv,A(e.text),1)):Dr("",!0),Ur(e.$slots,"default")],64))]})),_:3},16,["class"])},components:{f7Preloader:_v,f7UseIcon:Fv},props:zv({text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,type:String,href:{type:[String,Boolean],default:"#"},target:String,round:Boolean,roundMd:Boolean,roundIos:Boolean,roundAurora:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,fillAurora:Boolean,large:Boolean,largeMd:Boolean,largeIos:Boolean,largeAurora:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,smallAurora:Boolean,raised:Boolean,raisedMd:Boolean,raisedIos:Boolean,raisedAurora:Boolean,outline:Boolean,outlineMd:Boolean,outlineIos:Boolean,outlineAurora:Boolean,active:Boolean,disabled:Boolean,tooltip:String,tooltipTrigger:String,preloader:Boolean,preloaderSize:[Number,String],preloaderColor:String,loading:Boolean},Rg,Ng,Ag,Pg),setup:function(e){var t=Vt(null);fv(t,e),Tv(t,e);var n=mo((function(){return Sv(e)})),a=mo((function(){return"submit"===e.type||"reset"===e.type||"button"===e.type?"button":"a"})),r=mo((function(){var t=e.href,n=e.tabLink,r=e.target,o=e.type,s=t;return!0===t&&(s="#"),!1!==t&&"button"!==a.value||(s=void 0),pg({href:s,target:r,type:o,"data-tab":lg(n)&&n||void 0},Mg(e),_g(e))})),o=mo((function(){var t=e.tabLink,n=e.tabLinkActive,a=e.round,r=e.roundMd,o=e.roundIos,s=e.roundAurora,i=e.fill,l=e.fillMd,c=e.fillIos,u=e.fillAurora,p=e.large,d=e.largeMd,f=e.largeIos,h=e.largeAurora,m=e.small,g=e.smallMd,v=e.smallIos,b=e.smallAurora,y=e.raised,x=e.raisedMd,w=e.raisedIos,C=e.raisedAurora,k=e.outline,E=e.outlineMd,S=e.outlineIos,T=e.outlineAurora,$=e.active,O=e.disabled;return dg("button",{"tab-link":t||""===t,"tab-link-active":n,"button-round":a,"button-round-ios":o,"button-round-aurora":s,"button-round-md":r,"button-fill":i,"button-fill-ios":c,"button-fill-aurora":u,"button-fill-md":l,"button-large":p,"button-large-ios":f,"button-large-aurora":h,"button-large-md":d,"button-small":m,"button-small-ios":v,"button-small-aurora":b,"button-small-md":g,"button-raised":y,"button-raised-ios":w,"button-raised-aurora":C,"button-raised-md":x,"button-active":$,"button-outline":k,"button-outline-ios":S,"button-outline-aurora":T,"button-outline-md":E,"button-preloader":e.preloader,"button-loading":e.loading,disabled:O},Ig(e),Bg(e),Lg(e))}));return{tag:a,elRef:t,attrs:r,classesComputed:o,icon:n}}};function Wv(){return Wv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wv.apply(this,arguments)}var Uv={name:"f7-card-content",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Wv({padding:{type:Boolean,default:!0}},Ng),setup:function(e){return{classes:mo((function(){return dg("card-content",{"card-content-padding":e.padding},Ig(e))}))}}};function Gv(){return Gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gv.apply(this,arguments)}var qv={name:"f7-card-footer",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Gv({},Ng),setup:function(e){return{classes:mo((function(){return dg("card-footer",Ig(e))}))}}};function Xv(){return Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xv.apply(this,arguments)}var Yv={name:"f7-card-header",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Xv({},Ng),setup:function(e){return{classes:mo((function(){return dg("card-header",Ig(e))}))}}};function Kv(){return Kv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kv.apply(this,arguments)}var Qv={name:"f7-card",render:function(e,t){var n=lr("f7-card-header"),a=lr("f7-card-content"),r=lr("f7-card-footer");return yr(),Sr("div",{ref:"elRef",class:e.classes,"data-animate":void 0===e.animate?e.animate:e.animate.toString(),"data-hide-navbar-on-open":void 0===e.hideNavbarOnOpen?e.hideNavbarOnOpen:e.hideNavbarOnOpen.toString(),"data-hide-toolbar-on-open":void 0===e.hideToolbarOnOpen?e.hideToolbarOnOpen:e.hideToolbarOnOpen.toString(),"data-hide-statusbar-on-open":void 0===e.hideStatusbarOnOpen?e.hideStatusbarOnOpen:e.hideStatusbarOnOpen.toString(),"data-scrollable-el":e.scrollableEl,"data-swipe-to-close":void 0===e.swipeToClose?e.swipeToClose:e.swipeToClose.toString(),"data-close-by-backdrop-click":void 0===e.closeByBackdropClick?e.closeByBackdropClick:e.closeByBackdropClick.toString(),"data-backdrop":void 0===e.backdrop?e.backdrop:e.backdrop.toString(),"data-backdrop-el":e.backdropEl},[e.hasHeader?(yr(),Sr(n,{key:0},{default:_n((function(){return[_r(A(e.title)+" ",1),Ur(e.$slots,"header")]})),_:3})):Dr("",!0),e.hasContent?(yr(),Sr(a,{key:1,padding:e.padding},{default:_n((function(){return[_r(A(e.content)+" ",1),Ur(e.$slots,"content")]})),_:3},8,["padding"])):Dr("",!0),e.hasFooter?(yr(),Sr(r,{key:2},{default:_n((function(){return[_r(A(e.footer)+" ",1),Ur(e.$slots,"footer")]})),_:3})):Dr("",!0),Ur(e.$slots,"default")],10,["data-animate","data-hide-navbar-on-open","data-hide-toolbar-on-open","data-hide-statusbar-on-open","data-scrollable-el","data-swipe-to-close","data-close-by-backdrop-click","data-backdrop","data-backdrop-el"])},components:{f7CardHeader:Yv,f7CardContent:Uv,f7CardFooter:qv},props:Kv({title:[String,Number],content:[String,Number],footer:[String,Number],outline:Boolean,expandable:Boolean,expandableAnimateWidth:Boolean,expandableOpened:Boolean,animate:{type:Boolean,default:void 0},hideNavbarOnOpen:{type:Boolean,default:void 0},hideToolbarOnOpen:{type:Boolean,default:void 0},hideStatusbarOnOpen:{type:Boolean,default:void 0},scrollableEl:{type:String,default:void 0},swipeToClose:{type:Boolean,default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:String,default:void 0},noShadow:Boolean,noBorder:Boolean,padding:{type:Boolean,default:!0}},Ng),emits:["card:beforeopen","card:open","card:opened","card:close","card:closed","update:expandableOpened"],setup:function(e,t){var n=t.emit,a=t.slots,r=Vt(null),o=function(e,t){r.value===e&&n("card:beforeopen",e,t)},s=function(e){r.value===e&&(n("card:open",e),n("update:expandableOpened",!0))},i=function(e,t){r.value===e&&n("card:opened",e,t)},l=function(e){r.value===e&&n("card:close",e)},c=function(e,t){r.value===e&&(n("card:closed",e,t),n("update:expandableOpened",!1))};ya((function(){e.expandable&&r.value&&Eg((function(){e.expandable&&e.expandableOpened&&fg.card.open(r.value,!1),fg.on("cardBeforeOpen",o),fg.on("cardOpen",s),fg.on("cardOpened",i),fg.on("cardClose",l),fg.on("cardClosed",c)}))})),Ca((function(){fg.off("cardBeforeOpen",o),fg.off("cardOpen",s),fg.off("cardOpened",i),fg.off("cardClose",l),fg.off("cardClosed",c)})),Gn((function(){return e.expandableOpened}),(function(e){e?r.value&&fg.card.open(r.value):r.value&&fg.card.close(r.value)}));var u=mo((function(){return e.title||a.header})),p=mo((function(){return e.content||a.content})),d=mo((function(){return e.footer||a.footer})),f=mo((function(){return dg("card",{"card-outline":e.outline,"card-expandable":e.expandable,"card-expandable-animate-width":e.expandableAnimateWidth,"no-shadow":e.noShadow,"no-border":e.noBorder},Ig(e))}));return{elRef:r,classes:f,hasHeader:u,hasContent:p,hasFooter:d}}};function Zv(){return Zv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zv.apply(this,arguments)}var Jv=Pr("i",{class:"icon-checkbox"},null,-1);var eb={name:"f7-checkbox",render:function(e,t){return yr(),Sr("label",{class:e.classes},[Pr("input",{ref:"inputElRef",type:"checkbox",name:e.name,value:e.value,disabled:e.disabled,readonly:e.readonly,checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","value","disabled","readonly","checked"]),Jv,Ur(e.$slots,"default")],2)},props:Zv({checked:Boolean,indeterminate:Boolean,name:[Number,String],value:{type:[Number,String,Boolean],default:void 0},disabled:Boolean,readonly:Boolean},Ng),emits:["update:checked","change"],setup:function(e,t){var n=t.emit,a=Vt(null);ya((function(){a.value&&(a.value.indeterminate=!!e.indeterminate)})),Gn((function(){return e.indeterminate}),(function(e){a.value&&(a.value.indeterminate=!!e)}));var r=mo((function(){return dg({checkbox:!0,disabled:e.disabled},Ig(e))}));return{inputElRef:a,classes:r,onChange:function(e){n("update:checked",e.target.checked),n("change",e)}}}};function tb(){return tb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tb.apply(this,arguments)}var nb={key:1,class:"chip-label"};var ab={name:"f7-chip",render:function(e,t){var n=lr("f7-use-icon");return yr(),Sr("div",{ref:"elRef",class:e.classes},[e.hasMedia?(yr(),Sr("div",{key:0,class:e.mediaClasses},[e.icon?(yr(),Sr(n,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),_r(" "+A(e.media)+" ",1),Ur(e.$slots,"media")],2)):Dr("",!0),e.hasLabel?(yr(),Sr("div",nb,[_r(A(e.text)+" ",1),Ur(e.$slots,"text"),Ur(e.$slots,"default")])):Dr("",!0),e.deleteable?(yr(),Sr("a",{key:2,class:"chip-delete",onClick:t[1]||(t[1]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})})):Dr("",!0)],2)},components:{f7UseIcon:Fv},props:tb({media:String,text:[String,Number],deleteable:Boolean,mediaBgColor:String,mediaTextColor:String,outline:Boolean,tooltip:String,tooltipTrigger:String},Rg,Ng),emits:["delete"],setup:function(e,t){var n=t.slots,a=t.emit,r=Vt(null);fv(r,e);var o=mo((function(){return Sv(e)})),s=mo((function(){return dg("chip-media",e.mediaTextColor&&"text-color-"+e.mediaTextColor,e.mediaBgColor&&"bg-color-"+e.mediaBgColor)})),i=mo((function(){return dg("chip",{"chip-outline":e.outline},Ig(e))})),l=mo((function(){return e.text||n&&(n.text||n.default)})),c=mo((function(){return e.media||o.value||n&&n.media}));return{classes:i,icon:o,mediaClasses:s,elRef:r,hasLabel:l,hasMedia:c,onDeleteClick:function(e){a("delete",e)}}}};function rb(){return rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rb.apply(this,arguments)}var ob={key:0,class:"resize-handler"};var sb={name:"f7-col",render:function(e,t){return yr(),Sr(ur(e.tag),{ref:"elRef",class:e.classes},{default:_n((function(){return[Ur(e.$slots,"default"),e.resizable&&e.resizableHandler?(yr(),Sr("span",ob)):Dr("",!0)]})),_:3},8,["class"])},props:rb({tag:{type:String,default:"div"},width:{type:[Number,String],default:"auto"},xsmall:{type:[Number,String]},small:{type:[Number,String]},medium:{type:[Number,String]},large:{type:[Number,String]},xlarge:{type:[Number,String]},resizable:Boolean,resizableFixed:Boolean,resizableAbsolute:Boolean,resizableHandler:{type:Boolean,default:!0}},Ng),emits:["grid:resize"],setup:function(e,t){var n=t.emit,a=Vt(null),r=function(e){e===a.value&&n("grid:resize")};return ya((function(){Eg((function(){fg.on("gridResize",r)}))})),Ca((function(){fg.off("gridResize",r)})),{classes:mo((function(){var t;return dg(((t={col:"auto"===e.width})["col-"+e.width]="auto"!==e.width,t["xsmall-"+e.xsmall]=e.xsmall,t["small-"+e.small]=e.small,t["medium-"+e.medium]=e.medium,t["large-"+e.large]=e.large,t["xlarge-"+e.xlarge]=e.xlarge,t.resizable=e.resizable,t["resizable-fixed"]=e.resizableFixed,t["resizable-absolute"]=e.resizableAbsolute,t),Ig(e))})),elRef:a}}};function ib(){return ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ib.apply(this,arguments)}var lb={name:"f7-fab-backdrop",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:ib({},Ng),setup:function(e){return{classes:mo((function(){return dg("fab-backdrop",Ig(e))}))}}};function cb(){return cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cb.apply(this,arguments)}var ub={key:0,class:"fab-label"};var pb={name:"f7-fab-button",render:function(e,t){return yr(),Sr("a",{ref:"elRef",class:e.classes,target:e.target,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[Ur(e.$slots,"default"),e.label?(yr(),Sr("span",ub,A(e.label),1)):Dr("",!0)],10,["target"])},props:cb({fabClose:Boolean,label:String,target:String,tooltip:String,tooltipTrigger:String},Ng),emits:["click"],setup:function(e,t){var n=t.emit,a=Vt(null);return fv(a,e),{classes:mo((function(){return dg({"fab-close":e.fabClose,"fab-label-button":e.label},Ig(e))})),onClick:function(e){n("click",e)},elRef:a}}};function db(){return db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},db.apply(this,arguments)}var fb={name:"f7-fab-buttons",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:db({position:{type:String,default:"top"}},Ng),setup:function(e){return{classes:mo((function(){return dg("fab-buttons","fab-buttons-"+e.position,Ig(e))}))}}};function hb(){return hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hb.apply(this,arguments)}var mb={name:"f7-fab",props:hb({morphTo:String,href:[Boolean,String],target:String,text:String,position:{type:String,default:"right-bottom"},tooltip:String,tooltipTrigger:String},Ng),emits:["click"],setup:function(e,t){var n=t.emit,a=t.slots,r=Vt(null),o=function(e){n("click",e)};fv(r,e);var s=mo((function(){var t=e.href;return!0===t&&(t="#"),!1===t&&(t=void 0),t}));return function(){var t,n,i=[],l=[],c=a.link,u=a.default,p=a.root,d=a.text;return u&&u().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;"FabButtons"===t||"f7-fab-buttons"===t?l.push(e):i.push(e)}})),(e.text||d)&&(t=go("div",{class:"fab-text"},[e.text,d&&d()])),(i.length||c||t)&&(n=go("a",{target:e.target,href:s.value,onClick:o},[i,t,c&&c()])),go("div",{class:dg("fab","fab-"+e.position,{"fab-morph":e.morphTo,"fab-extended":void 0!==t},Ig(e)),"data-morph-to":e.morphTo,ref:r},[n,l,p&&p()])}}},gb={class:"gauge"};var vb={name:"f7-gauge",render:function(e,t){return yr(),Sr("div",gb,[(yr(),Sr("svg",{class:"gauge-svg",width:e.size+"px",height:(e.semiCircle?e.size/2:e.size)+"px",viewBox:"0 0 "+e.size+" "+(e.semiCircle?e.size/2:e.size)},[e.semiCircle?(yr(),Sr("path",{key:0,class:"gauge-back-semi",d:"M"+(e.size-e.borderWidth/2)+","+e.size/2+" a1,1 0 0,0 -"+(e.size-e.borderWidth)+",0",stroke:e.borderBgColor,"stroke-width":e.borderWidth,fill:e.bgColor||"none"},null,8,["d","stroke","stroke-width","fill"])):Dr("",!0),e.semiCircle?(yr(),Sr("path",{key:1,class:"gauge-front-semi",d:"M"+(e.size-e.borderWidth/2)+","+e.size/2+" a1,1 0 0,0 -"+(e.size-e.borderWidth)+",0",stroke:e.borderColor,"stroke-width":e.borderWidth,"stroke-dasharray":e.length/2,"stroke-dashoffset":e.length/2*(1+e.progress),fill:e.borderBgColor?"none":e.bgColor||"none"},null,8,["d","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","fill"])):Dr("",!0),!e.semiCircle&&e.borderBgColor?(yr(),Sr("circle",{key:2,class:"gauge-back-circle",stroke:e.borderBgColor,"stroke-width":e.borderWidth,fill:e.bgColor||"none",cx:e.size/2,cy:e.size/2,r:e.radius},null,8,["stroke","stroke-width","fill","cx","cy","r"])):Dr("",!0),e.semiCircle?Dr("",!0):(yr(),Sr("circle",{key:3,class:"gauge-front-circle",transform:"rotate(-90 "+e.size/2+" "+e.size/2+")",stroke:e.borderColor,"stroke-width":e.borderWidth,"stroke-dasharray":e.length,"stroke-dashoffset":e.length*(1-e.progress),fill:e.borderBgColor?"none":e.bgColor||"none",cx:e.size/2,cy:e.size/2,r:e.radius},null,8,["transform","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","fill","cx","cy","r"])),e.valueText?(yr(),Sr("text",{key:4,class:"gauge-value-text",x:"50%",y:e.semiCircle?"100%":"50%","font-weight":e.valueFontWeight,"font-size":e.valueFontSize,fill:e.valueTextColor,dy:e.semiCircle?e.labelText?-e.labelFontSize-15:-5:0,"text-anchor":"middle","dominant-baseline":e.semiCircle?null:"middle"},A(e.valueText),9,["y","font-weight","font-size","fill","dy","dominant-baseline"])):Dr("",!0),e.labelText?(yr(),Sr("text",{key:5,class:"gauge-label-text",x:"50%",y:e.semiCircle?"100%":"50%","font-weight":e.labelFontWeight,"font-size":e.labelFontSize,fill:e.labelTextColor,dy:e.semiCircle?-5:e.valueText?e.valueFontSize/2+10:0,"text-anchor":"middle","dominant-baseline":e.semiCircle?null:"middle"},A(e.labelText),9,["y","font-weight","font-size","fill","dy","dominant-baseline"])):Dr("",!0)],8,["width","height","viewBox"]))])},props:{type:{type:String,default:"circle"},value:{type:[Number,String],default:0},size:{type:[Number,String],default:200},bgColor:{type:String,default:"transparent"},borderBgColor:{type:String,default:"#eeeeee"},borderColor:{type:String,default:"#000000"},borderWidth:{type:[Number,String],default:10},valueText:[Number,String],valueTextColor:{type:String,default:"#000000"},valueFontSize:{type:[Number,String],default:31},valueFontWeight:{type:[Number,String],default:500},labelText:String,labelTextColor:{type:String,default:"#888888"},labelFontSize:{type:[Number,String],default:14},labelFontWeight:{type:[Number,String],default:400}},setup:function(e){var t=mo((function(){return"semicircle"===e.type})),n=mo((function(){return e.size/2-e.borderWidth/2})),a=mo((function(){return 2*Math.PI*n.value})),r=mo((function(){return Math.max(Math.min(e.value,1),0)}));return{semiCircle:t,radius:n,length:a,progress:r}}};function bb(){return bb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bb.apply(this,arguments)}var yb=Pr("span",{class:"toggle-icon"},null,-1);var xb={name:"f7-toggle",render:function(e,t){return yr(),Sr("label",{ref:"elRef",class:e.classes},[Pr("input",{type:"checkbox",name:e.name,disabled:e.disabled,readonly:e.readonly,checked:e.checked,value:e.value,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","disabled","readonly","checked","value"]),yb],2)},props:bb({init:{type:Boolean,default:!0},checked:Boolean,disabled:Boolean,readonly:Boolean,name:String,value:[String,Number,Array],tooltip:String,tooltipTrigger:String},Ng),emits:["change","toggle:change","update:checked"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null);fv(r,e);return Gn((function(){return e.checked}),(function(e){a&&(a.checked=e)})),ya((function(){Eg((function(){e.init&&r.value&&(a=fg.toggle.create({el:r.value,on:{change:function(e){n("toggle:change",e.checked),n("update:checked",e.checked)}}}))}))})),Ca((function(){a&&a.destroy&&a.$el&&a.destroy(),a=null})),{classes:mo((function(){return dg("toggle",{disabled:e.disabled},Ig(e))})),elRef:r,f7Toggle:a,onChange:function(e){n("change",e)}}}};function wb(){return wb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wb.apply(this,arguments)}var Cb={name:"f7-range",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[e.input?(yr(),Sr("input",{key:0,id:"inputId",type:"range",name:e.name},null,8,["name"])):Dr("",!0),Ur(e.$slots,"default")],2)},props:wb({init:{type:Boolean,default:!0},value:{type:[Number,Array,String],default:0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:Boolean,default:!1},dual:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},verticalReversed:{type:Boolean,default:!1},draggableBar:{type:Boolean,default:!0},formatLabel:Function,scale:{type:Boolean,default:!1},scaleSteps:{type:Number,default:5},scaleSubSteps:{type:Number,default:0},formatScaleLabel:Function,limitKnobPosition:{type:Boolean,default:void 0},name:String,input:Boolean,inputId:String,disabled:Boolean},Ng),emits:["range:change","range:changed","rangeChange","rangeChanged","update:value"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null);Gn((function(){return e.value}),(function(e){if(a){var t=a.value;Array.isArray(e)&&Array.isArray(t)&&t[0]===e[0]&&t[1]===e[1]||a.setValue(e)}})),ya((function(){Eg((function(){e.init&&r.value&&(a=fg.range.create(ig(wb({el:r.value},e,{on:{change:function(e,t){n("range:change",t),n("rangeChange",t)},changed:function(e,t){n("range:changed",t),n("rangeChanged",t),n("update:value",t)}}}))))}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var o=mo((function(){return dg("range-slider",{"range-slider-horizontal":!e.vertical,"range-slider-vertical":e.vertical,"range-slider-vertical-reversed":e.vertical&&e.verticalReversed,disabled:e.disabled},Ig(e))}));return{elRef:r,classes:o}}};function kb(){return kb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kb.apply(this,arguments)}var Eb={class:"text-editor-content",contenteditable:""};var Sb={name:"f7-text-editor",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"root-start"),Pr("div",Eb,[Ur(e.$slots,"default")]),Ur(e.$slots,"root-end"),Ur(e.$slots,"root")],2)},props:kb({mode:{type:String,default:void 0},value:{type:String,default:void 0},buttons:Array,customButtons:Object,dividers:{type:Boolean,default:void 0},imageUrlText:{type:String,default:void 0},linkUrlText:{type:String,default:void 0},placeholder:{type:String,default:void 0},clearFormattingOnPaste:{type:Boolean,default:void 0},resizable:{type:Boolean,default:!1}},Ng),emits:["texteditor:change","texteditor:input","texteditor:focus","texteditor:blur","texteditor:buttonclick","texteditor:keyboardopen","texteditor:keyboardclose","texteditor:popoveropen","texteditor:popoverclose","texteditor:insertlink","texteditor:insertimage","texteditorChange","texteditorInput","texteditorFocus","texteditorBlur"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null),o=function(e,t){n("texteditor:change",t),n("texteditorChange",t)},s=function(e,t){n("texteditor:input",t),n("texteditorInput",t)},i=function(){n("texteditor:focus"),n("texteditorFocus")},l=function(){n("texteditor:blur"),n("texteditorBlur")},c=function(e,t){n("texteditor:buttonclick",t)},u=function(){n("texteditor:keyboardopen")},p=function(){n("texteditor:keyboardclose")},d=function(){n("texteditor:popoveropen")},f=function(){n("texteditor:popoverclose")},h=function(e,t){n("texteditor:insertlink",t)},m=function(e,t){n("texteditor:insertimage",t)};Gn((function(){return e.value}),(function(e){a&&a.setValue(e)})),ya((function(){var t=ig({el:r.value,mode:e.mode,value:e.value,buttons:e.buttons,customButtons:e.customButtons,dividers:e.dividers,imageUrlText:e.imageUrlText,linkUrlText:e.linkUrlText,placeholder:e.placeholder,clearFormattingOnPaste:e.clearFormattingOnPaste,on:{change:o,input:s,focus:i,blur:l,buttonClick:c,keyboardOpen:u,keyboardClose:p,popoverOpen:d,popoverClose:f,insertLink:h,insertImage:m}});Eg((function(){a=fg.textEditor.create(t)}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var g=mo((function(){return dg("text-editor",e.resizable&&"text-editor-resizable",Ig(e))}));return{elRef:r,classes:g}}};function Tb(){return Tb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tb.apply(this,arguments)}var $b={name:"f7-input",props:Tb({type:String,name:String,value:{type:[String,Number,Array,Date,Object],default:void 0},inputmode:String,placeholder:String,inputId:[String,Number],size:[String,Number],accept:[String,Number],autocomplete:[String],autocorrect:[String],autocapitalize:[String],spellcheck:[String],autofocus:Boolean,autosave:String,checked:Boolean,disabled:Boolean,max:[String,Number],min:[String,Number],step:[String,Number],maxlength:[String,Number],minlength:[String,Number],multiple:Boolean,readonly:Boolean,required:Boolean,inputStyle:[String,Object],pattern:String,validate:[Boolean,String],validateOnBlur:Boolean,onValidate:Function,tabindex:[String,Number],resizable:Boolean,clearButton:Boolean,noFormStoreData:Boolean,noStoreData:Boolean,ignoreStoreData:Boolean,errorMessage:String,errorMessageForce:Boolean,info:String,outline:Boolean,wrap:{type:Boolean,default:!0},dropdown:{type:[String,Boolean],default:"auto"},calendarParams:Object,colorPickerParams:Object,textEditorParams:Object},Ng),emits:["input","focus","blur","change","textarea:resize","input:notempty","input:empty","input:clear","texteditor:change","calendar:change","colorpicker:change","update:value"],setup:function(e,t){var n=t.emit,a=t.slots,r=null,o=null,s=Vt(!1),i=Vt(!1),l=Vt(null),c=Vt(null),u=!1,p=Vt(function(){if(c.value)return c.value.value}()),d=mo((function(){return("datepicker"!==e.type||!Array.isArray(e.value)||0!==e.value.length)&&(void 0===e.value?p.value||0===p.value:e.value||0===e.value)})),f=function(){if(fg&&c.value){var t=c.value.validity;t&&(t.valid?(e.onValidate&&e.onValidate(!0),!1!==s.value&&(s.value=!1)):(e.onValidate&&e.onValidate(!1),!0!==s.value&&(s.value=!0)))}},h=function(e){n("textarea:resize",e)},m=function(e){n("input:notempty",e)},g=function(e){n("input:empty",e)},v=function(e){n("input:clear",e)},b=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["input"].concat(a)),c.value&&(p.value=c.value.value),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||!c.value||f(),c.value&&"texteditor"!==e.type&&"colorpicker"!==e.type&&"datepicker"!==e.type&&n("update:value",c.value.value)},y=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,["focus"].concat(t)),i.value=!0},x=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["blur"].concat(a)),(e.validate||""===e.validate||e.validateOnBlur||""===e.validateOnBlur)&&c.value&&f(),i.value=!1},w=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["change"].concat(a)),"texteditor"===e.type&&(n("texteditor:change",a[1]),n("update:value",a[1]))};ya((function(){var t=e.type,a=e.resizable,s=e.clearButton,i=e.value,l=e.calendarParams,u=e.colorPickerParams,p=e.validate,d=e.validateOnBlur;Eg((function(){"range"!==t&&"toggle"!==t&&c.value&&(c.value.addEventListener("input:notempty",m,!1),"textarea"===t&&a&&c.value.addEventListener("textarea:resize",h,!1),s&&(c.value.addEventListener("input:empty",g,!1),c.value.addEventListener("input:clear",v,!1)),"datepicker"===t&&(r=fg.calendar.create(Tb({inputEl:c.value,value:i,on:{change:function(e,t){n("calendar:change",t),n("update:value",t)}}},l||{}))),"colorpicker"===t&&(o=fg.colorPicker.create(Tb({inputEl:c.value,value:i,on:{change:function(e,t){n("colorpicker:change",t),n("update:value",t)}}},u||{}))),fg.input.checkEmptyState(c.value),d||""===d||!p&&""!==p||null==i||""===i||setTimeout((function(){f()}),0),a&&fg.input.resizeTextarea(c.value))}))})),Ca((function(){"range"!==e.type&&"toggle"!==e.type&&c.value&&(c.value.removeEventListener("input:notempty",m,!1),"textarea"===e.type&&e.resizable&&c.value.removeEventListener("textarea:resize",h,!1),e.clearButton&&(c.value.removeEventListener("input:empty",g,!1),c.value.removeEventListener("input:clear",v,!1)),r&&r.destroy&&(r.destroy(),r=null),o&&o.destroy&&(o.destroy(),o=null))})),wa((function(){if(fg&&u){if(!c.value)return;u=!1,fg.input.checkEmptyState(c.value),e.validate&&!e.validateOnBlur&&f(),e.resizable&&fg.input.resizeTextarea(c.value)}})),Gn((function(){return e.colorPickerParams}),(function(e){fg&&o&&pg(o.params,e||{})})),Gn((function(){return e.calendarParams}),(function(e){fg&&r&&pg(r.params,e||{})})),Gn((function(){return e.value}),(function(t){"range"!==e.type&&"toggle"!==e.type&&fg&&(u=!0,r&&r.setValue(t),o&&o.setValue(t))}));var C=function(t,n){var a="file"!==e.type&&"datepicker"!==e.type&&"colorpicker"!==e.type,r="input"===t,o=e.type;"datepicker"!==o&&"colorpicker"!==o||(o="text");var l,u=dg({resizable:"textarea"===o&&e.resizable,"no-store-data":e.noFormStoreData||e.noStoreData||e.ignoreStoreData,"input-invalid":e.errorMessage&&e.errorMessageForce||s.value,"input-with-value":d.value,"input-focused":i.value});a&&(l=void 0!==e.value?e.value:p.value);var f={};"datepicker"!==e.type&&"colorpicker"!==e.type&&"value"in e&&(f.value=l);var h=ig({name:e.name,type:r?o:void 0,placeholder:e.placeholder,inputmode:e.inputmode,id:e.inputId,size:e.size,accept:e.accept,autocomplete:e.autocomplete,autoCorrect:e.autocorrect,autocapitalize:e.autocapitalize,spellcheck:e.spellcheck,autofocus:e.autofocus,autoSave:e.autosave,checked:e.checked,disabled:e.disabled,max:e.max,maxlength:e.maxlength,min:e.min,minlength:e.minlength,step:e.step,multiple:e.multiple,readonly:e.readonly,required:e.required,pattern:e.pattern,validate:"string"==typeof e.validate&&e.validate.length?e.validate:void 0,tabindex:e.tabindex});return go(t,Tb({ref:c,style:e.inputStyle},h,{"data-validate":!0===e.validate||""===e.validate||!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-validate-on-blur":!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-error-message":e.errorMessageForce?void 0:e.errorMessage,class:u,onFocus:y,onBlur:x,onInput:b,onChange:w},f),[n])},k=mo((function(){return dg("input",{"input-outline":e.outline,"input-dropdown":"auto"===e.dropdown?"select"===e.type:e.dropdown,"input-invalid":e.errorMessage&&e.errorMessageForce||s.value},Ig(e))}));return function(){var t;return t="select"===e.type||"textarea"===e.type||"file"===e.type?"select"===e.type?C("select",a.default&&a.default()):"file"===e.type?C("input"):C("textarea"):a.default||!e.type?a.default():"toggle"===e.type?go(xb,{checked:e.checked,readonly:e.readonly,name:e.name,value:e.value,disabled:e.disabled,id:e.inputId,onChange:w}):"range"===e.type?go(Cb,{value:e.value,disabled:e.disabled,min:e.min,max:e.max,step:e.step,name:e.name,id:e.inputId,input:!0,onRangeChange:w}):"texteditor"===e.type?go(Sb,Tb({value:e.value,resizable:e.resizable,placeholder:e.placeholder,onTextEditorFocus:y,onTextEditorBlur:x,onTextEditorInput:b,onTextEditorChange:w},e.textEditorParams||{})):C("input"),e.wrap?go("div",{class:k.value,ref:l},[t,(e.errorMessage||a["error-message"])&&e.errorMessageForce&&go("div",{class:"input-error-message"},[e.errorMessage,a["error-message"]&&a["error-message"]()]),e.clearButton&&go("span",{class:"input-clear-button"}),(e.info||a.info)&&go("div",{class:"input-info"},[e.info,a.info&&a.info()])]):t}}},Ob=function(e,t,n){var a;ya((function(){Eg((function(){if(e.smartSelect){var r=pg({el:n()},e.smartSelectParams||{});a=fg.smartSelect.create(r),t(a)}}))})),Ca((function(){a&&a.destroy&&a.destroy(),t(a=null)}))};function Ib(){return Ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ib.apply(this,arguments)}var Nb={name:"f7-link",render:function(e,t){var n=lr("f7-use-icon"),a=lr("f7-badge");return yr(),Sr("a",Hr({ref:"elRef",class:e.classes},e.attrs),[e.icon?(yr(),Sr(n,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),e.text?(yr(),Sr("span",{key:1,class:e.isTabbarLabel?"tabbar-label":""},[_r(A(e.text)+" ",1),e.badge?(yr(),Sr(a,{key:0,color:e.badgeColor},{default:_n((function(){return[_r(A(e.badge),1)]})),_:1},8,["color"])):Dr("",!0)],2)):Dr("",!0),Ur(e.$slots,"default")],16)},components:{f7Badge:mv,f7UseIcon:Fv},props:Ib({noLinkClass:Boolean,text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,tabbarLabel:Boolean,iconOnly:Boolean,badge:[String,Number],badgeColor:[String],href:{type:[String,Boolean],default:"#"},target:String,tooltip:String,tooltipTrigger:String,smartSelect:Boolean,smartSelectParams:Object},Rg,Ng,Ag,Pg),setup:function(e,t){var n=t.slots,a=Vt(null),r=null;fv(a,e),Tv(a,e),Ob(e,(function(e){r=e}),(function(){return a.value}));var o=Wn("TabbarContext",{value:{}}),s=mo((function(){return e.tabbarLabel||o.value.tabbarHasLabels})),i=mo((function(){var t=e.href,n=e.tabLink,a=t;return!0===t&&(a="#"),!1===t&&(a=void 0),Ib({href:a,target:e.target,"data-tab":lg(n)&&n||void 0},Mg(e),_g(e))})),l=mo((function(){var t,a=e.iconOnly,r=e.text,o=e.noLinkClass,i=e.tabLink,l=e.tabLinkActive,c=e.smartSelect,u=n&&n.default;return t=!(!a&&(r||u)),dg({link:!(o||s.value),"icon-only":t,"tab-link":i||""===i,"tab-link-active":l,"smart-select":c},Ig(e),Bg(e),Lg(e))})),c=mo((function(){return Sv(e)}));return{elRef:a,icon:c,isTabbarLabel:s,attrs:i,classes:l,f7SmartSelect:r}}};function Rb(){return Rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rb.apply(this,arguments)}var Pb={name:"f7-list-button",render:function(e,t){return yr(),Sr("li",null,[Pr("a",Hr({ref:"linkElRef",class:e.linkClasses},e.linkAttrs,{onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[_r(A(e.title)+" "+A(e.text)+" ",1),Ur(e.$slots,"default")],16)])},props:Rb({title:[String,Number],text:[String,Number],tabLink:[Boolean,String],tabLinkActive:Boolean,link:[Boolean,String],href:[Boolean,String],target:String,tooltip:String,tooltipTrigger:String},Ng,Ag,Pg),emits:["click"],setup:function(e,t){var n=t.emit,a=Vt(null);return fv(a,e),Tv(a,e),{linkAttrs:mo((function(){return Rb({href:"boolean"==typeof e.link&&"boolean"==typeof e.href?"#":e.link||e.href,target:e.target,"data-tab":lg(e.tabLink)&&e.tabLink},Mg(e),_g(e))})),linkClasses:mo((function(){return dg(Rb({"list-button":!0,"tab-link":e.tabLink||""===e.tabLink,"tab-link-active":e.tabLinkActive},Ig(e),Bg(e),Lg(e)))})),onClick:function(e){n("click",e)},linkElRef:a}}};function Mb(){return Mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mb.apply(this,arguments)}var Bb={name:"f7-list-group",render:function(e,t){return yr(),Sr("div",{class:e.classes,"data-sortable-move-elements":void 0!==e.sortableMoveElements?e.sortableMoveElements.toString():void 0},[Pr("ul",null,[Ur(e.$slots,"default")])],10,["data-sortable-move-elements"])},props:Mb({mediaList:Boolean,simpleList:Boolean,sortable:Boolean,sortableOpposite:Boolean,sortableTapHold:Boolean,sortableMoveElements:{type:Boolean,default:void 0}},Ng),setup:function(e){var t=Wn("ListContext",{value:{listIsMedia:e.mediaList,listIsSimple:e.simpleList,listIsSortable:e.sortable,listIsSortableOpposite:e.sortableOpposite}});return jn("ListContext",mo((function(){return{listIsMedia:e.mediaList||t.value.listIsMedia,listIsSimple:e.simpleList||t.value.listIsSimple,listIsSortable:e.sortable||t.value.listIsSortable,listIsSortableOpposite:e.sortableOpposite||t.value.listIsSortableOpposite}}))),{classes:mo((function(){return dg("list-group",{"media-list":e.mediaList,sortable:e.sortable,"sortable-tap-hold":e.sortableTapHold,"sortable-opposite":e.sortableOpposite},Ig(e))}))}}};function Ab(){return Ab=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ab.apply(this,arguments)}var _b={name:"f7-list-index",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:Ab({init:{type:Boolean,default:!0},listEl:[String,Object],indexes:{type:[String,Array],default:"auto"},scrollList:{type:Boolean,default:!0},label:{type:Boolean,default:!1},iosItemHeight:{type:Number,default:14},mdItemHeight:{type:Number,default:14},auroraItemHeight:{type:Number,default:14}},Ng),emits:["listindex:select"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null),o=function(){a&&a.update()};Gn((function(){return e.indexes}),(function(e){a&&(a.params.indexes=e,o())})),ya((function(){e.init&&Eg((function(){a=fg.listIndex.create({el:r.value,listEl:e.listEl,indexes:e.indexes,iosItemHeight:e.iosItemHeight,mdItemHeight:e.mdItemHeight,auroraItemHeight:e.auroraItemHeight,scrollList:e.scrollList,label:e.label,on:{select:function(e,t,a){n("listindex:select",t,a)}}})}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var s=mo((function(){return dg("list-index",Ig(e))}));return{elRef:r,classes:s,update:o,scrollListToIndex:function(e){a&&a.scrollListToIndex(e)}}}};function Lb(){return Lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lb.apply(this,arguments)}var Db={name:"f7-list-input",props:Lb({sortable:{type:Boolean,default:void 0},media:String,dropdown:{type:[String,Boolean],default:"auto"},wrap:{type:Boolean,default:!0},input:{type:Boolean,default:!0},type:{type:String,default:"text"},name:String,value:{type:[String,Number,Array,Date,Object],default:void 0},inputmode:String,readonly:Boolean,required:Boolean,disabled:Boolean,placeholder:String,inputId:[String,Number],size:[String,Number],accept:[String,Number],autocomplete:[String],autocorrect:[String],autocapitalize:[String],spellcheck:[String],autofocus:Boolean,autosave:String,max:[String,Number],min:[String,Number],step:[String,Number],maxlength:[String,Number],minlength:[String,Number],multiple:Boolean,inputStyle:[String,Object],pattern:String,validate:[Boolean,String],validateOnBlur:Boolean,onValidate:Function,tabindex:[String,Number],resizable:Boolean,clearButton:Boolean,noFormStoreData:Boolean,noStoreData:Boolean,ignoreStoreData:Boolean,errorMessage:String,errorMessageForce:Boolean,info:String,outline:Boolean,label:[String,Number],inlineLabel:Boolean,floatingLabel:Boolean,calendarParams:Object,colorPickerParams:Object,textEditorParams:Object},Ng),emits:["textarea:resize","input:notempty","input:empty","input:clear","texteditor:change","calendar:change","colorpicker:change","change","focus","blur","input","update:value"],setup:function(e,t){var n=t.emit,a=t.slots,r=Vt(!1),o=Vt(!1),s=Wn("ListContext",{value:{listIsMedia:!1,listIsSortable:!1,listIsSortableOpposite:!1,listIsSimple:!1}}),i=null,l=null,c=Vt(null),u=Vt(null),p=Vt(null),d=!1,f=Vt(function(){if(u.value)return u.value.value}()),h=mo((function(){return("datepicker"!==e.type||!Array.isArray(e.value)||0!==e.value.length)&&(void 0===e.value?f.value||0===f.value:e.value||0===e.value)})),m=function(){if(fg&&u.value){var t=u.value.validity;t&&(t.valid?(e.onValidate&&e.onValidate(!0),!1!==r.value&&(r.value=!1)):(e.onValidate&&e.onValidate(!1),!0!==r.value&&(r.value=!0)))}},g=function(e){n("textarea:resize",e)},v=function(e){n("input:notempty",e)},b=function(e){n("input:empty",e)},y=function(e){n("input:clear",e)},x=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["input"].concat(a)),u.value&&(f.value=u.value.value),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||!u.value||m(u.value),u.value&&"texteditor"!==e.type&&"colorpicker"!==e.type&&"datepicker"!==e.type&&n("update:value",u.value.value)},w=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,["focus"].concat(t)),o.value=!0},C=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["blur"].concat(a)),(e.validate||""===e.validate||e.validateOnBlur||""===e.validateOnBlur)&&u.value&&m(u.value),o.value=!1},k=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n.apply(void 0,["change"].concat(a)),"texteditor"===e.type&&(n("texteditor:change",a[0]),n("update:value",a[0]))};ya((function(){(c.value||p.value)&&Eg((function(){u.value&&(u.value.addEventListener("input:notempty",v,!1),u.value.addEventListener("textarea:resize",g,!1),u.value.addEventListener("input:empty",b,!1),u.value.addEventListener("input:clear",y,!1),"datepicker"===e.type&&(i=fg.calendar.create(Lb({inputEl:u.value,value:e.value,on:{change:function(e,t){n("update:value",t),n("calendar:change",t)}}},e.calendarParams||{}))),"colorpicker"===e.type&&(l=fg.colorPicker.create(Lb({inputEl:u.value,value:e.value,on:{change:function(e,t){n("update:value",t),n("colorpicker:change",t)}}},e.colorPickerParams||{}))),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||void 0===e.value||null===e.value||""===e.value||setTimeout((function(){m()}),0),"textarea"===e.type&&e.resizable&&fg.input.resizeTextarea(u.value))}))})),Ca((function(){u.value&&(u.value.removeEventListener("input:notempty",v,!1),u.value.removeEventListener("textarea:resize",g,!1),u.value.removeEventListener("input:empty",b,!1),u.value.removeEventListener("input:clear",y,!1)),i&&i.destroy&&(i.destroy(),i=null),l&&l.destroy&&(l.destroy(),l=null)})),wa((function(){if(fg&&d){if(!u.value)return;d=!1,e.validate&&!e.validateOnBlur&&m(),"textarea"===e.type&&e.resizable&&fg.input.resizeTextarea(u.value)}})),Gn((function(){return e.colorPickerParams}),(function(e){fg&&l&&pg(l.params,e||{})})),Gn((function(){return e.calendarParams}),(function(e){fg&&i&&pg(i.params,e||{})})),Gn((function(){return e.value}),(function(e){fg&&(d=!0,i&&i.setValue(e),l&&l.setValue(e))}));var E=mo((function(){return!0===e.sortable||!1===e.sortable?e.sortable:s.value.listIsSortable||!1})),S=function(t,n){var a="file"!==e.type&&"datepicker"!==e.type&&"colorpicker"!==e.type,s="input"===t,i=e.type;"datepicker"!==i&&"colorpicker"!==i||(i="text");var l,c=dg({resizable:"textarea"===i&&e.resizable,"no-store-data":e.noFormStoreData||e.noStoreData||e.ignoreStoreData,"input-invalid":e.errorMessage&&e.errorMessageForce||r.value,"input-with-value":h.value,"input-focused":o.value});a&&(l=void 0!==e.value?e.value:f.value);var p={};"datepicker"!==e.type&&"colorpicker"!==e.type&&"value"in e&&(p.value=l);var d=ig({name:e.name,type:s?i:void 0,placeholder:e.placeholder,inputmode:e.inputmode,id:e.inputId,size:e.size,accept:e.accept,autocomplete:e.autocomplete,autocorrect:e.autocorrect,autocapitalize:e.autocapitalize,spellcheck:e.spellcheck,autofocus:e.autofocus,autosave:e.autosave,disabled:e.disabled,max:e.max,maxlength:e.maxlength,min:e.min,minlength:e.minlength,step:e.step,multiple:e.multiple,readonly:e.readonly,required:e.required,pattern:e.pattern,validate:"string"==typeof e.validate&&e.validate.length?e.validate:void 0,tabindex:e.tabindex});return go(t,Lb({ref:u,style:e.inputStyle},d,{"data-validate":!0===e.validate||""===e.validate||!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-validate-on-blur":!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-error-message":e.errorMessageForce?void 0:e.errorMessage,class:c,onFocus:w,onBlur:C,onInput:x,onChange:k},p),[n])};return function(){var t;e.input&&(t="select"===e.type||"textarea"===e.type||"file"===e.type?"select"===e.type?S("select",a.default&&a.default()):"file"===e.type?S("input"):S("textarea"):"texteditor"===e.type?go(Sb,Lb({value:e.value,resizable:e.resizable,placeholder:e.placeholder,onTexteditorFocus:w,onTexteditorBlur:C,onTexteditorInput:x,onTexteditorChange:k},e.textEditorParams||{})):S("input"));var n=!!e.errorMessage||a["error-message"],s=go("div",{ref:p,class:dg("item-content item-input",!e.wrap&&{disabled:e.disabled},!e.wrap&&Ig(e),{"inline-label":e.inlineLabel,"item-input-outline":e.outline,"item-input-focused":o.value,"item-input-with-info":!!e.info||a.info,"item-input-with-value":h.value,"item-input-with-error-message":n&&e.errorMessageForce||r.value,"item-input-invalid":n&&e.errorMessageForce||r.value})},[a["content-start"]&&a["content-start"](),(e.media||a.media)&&go("div",{class:"item-media"},[e.media&&go("img",{src:e.media}),a.media&&a.media()]),go("div",{class:"item-inner"},[a["inner-start"]&&a["inner-start"](),(e.label||a.label)&&go("div",{class:dg("item-title item-label",{"item-floating-label":e.floatingLabel})},[e.label,a.label&&a.label()]),go("div",{class:dg("item-input-wrap",{"input-dropdown":"auto"===e.dropdown?"select"===e.type:e.dropdown})},[t,a.input&&a.input(),n&&e.errorMessageForce&&go("div",{class:"item-input-error-message"},[e.errorMessage,a["error-message"]&&a["error-message"]()]),e.clearButton&&go("span",{class:"input-clear-button"}),(e.info||a.info)&&go("div",{class:"item-input-info"},[e.info,a.info&&a.info()])]),a.inner&&a.inner(),a["inner-end"]&&a["inner-end"]()]),a.content&&a.content(),a["content-end"]&&a["content-end"]()]);return e.wrap?go("li",{ref:c,class:dg({disabled:e.disabled},Ig(e))},[a["root-start"]&&a["root-start"](),s,E.value&&go("div",{class:"sortable-handler"}),a.root&&a.root(),a["root-end"]&&a["root-end"]()]):s}}};function Fb(){return Fb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fb.apply(this,arguments)}var zb={name:"f7-list-item-cell",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Fb({},Ng),setup:function(e){return{classes:mo((function(){return dg("item-cell",Ig(e))}))}}};function Vb(){return Vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vb.apply(this,arguments)}var Hb={name:"f7-list-item-row",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Vb({},Ng),setup:function(e){return{classes:mo((function(){return dg("item-row",Ig(e))}))}}};function jb(){return jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jb.apply(this,arguments)}var Wb={name:"f7-list-item",props:jb({title:[String,Number],text:[String,Number],media:String,subtitle:[String,Number],header:[String,Number],footer:[String,Number],tooltip:String,tooltipTrigger:String,link:[Boolean,String],target:String,tabLink:[Boolean,String],tabLinkActive:Boolean,selected:Boolean,after:[String,Number],badge:[String,Number],badgeColor:String,mediaItem:Boolean,mediaList:Boolean,divider:Boolean,groupTitle:Boolean,swipeout:Boolean,swipeoutOpened:Boolean,sortable:{type:Boolean,default:void 0},sortableOpposite:{type:Boolean,default:void 0},accordionItem:Boolean,accordionItemOpened:Boolean,smartSelect:Boolean,smartSelectParams:Object,noChevron:Boolean,chevronCenter:Boolean,checkbox:Boolean,radio:Boolean,radioIcon:String,checked:Boolean,indeterminate:Boolean,name:String,value:{type:[String,Number,Array],default:void 0},readonly:Boolean,required:Boolean,disabled:Boolean,virtualListIndex:Number},Ng,Ag,Pg),emits:["click","swipeout","swipeout:overswipeenter","swipeout:overswipeexit","swipeout:deleted","swipeout:delete","swipeout:close","swipeout:closed","swipeout:open","swipeout:opened","accordion:beforeclose","accordion:close","accordion:closed","accordion:beforeopen","accordion:open","accordion:opened","change","update:checked"],setup:function(e,t){var n=t.slots,a=t.emit,r=Wn("ListContext",{value:{listIsMedia:!1,listIsSortable:!1,listIsSortableOpposite:!1,listIsSimple:!1}}),o=mo((function(){return r.value.listIsMedia||!1})),s=mo((function(){return r.value.listIsSortable||!1})),i=mo((function(){return r.value.listIsSortableOpposite||!1})),l=mo((function(){return r.value.listIsSimple||!1})),c=Vt(null),u=Vt(null),p=Vt(null),d=function(e){"input"!==e.target.tagName.toLowerCase()&&a("click",e)},f=function(e){c.value===e&&a("swipeout:overswipeenter")},h=function(e){c.value===e&&a("swipeout:overswipeexit")},m=function(e){c.value===e&&a("swipeout:deleted")},g=function(e){c.value===e&&a("swipeout:delete")},v=function(e){c.value===e&&a("swipeout:close")},b=function(e){c.value===e&&a("swipeout:closed")},y=function(e){c.value===e&&a("swipeout:open")},x=function(e){c.value===e&&a("swipeout:opened")},w=function(e,t){c.value===e&&a("swipeout",t)},C=function(e,t){c.value===e&&a("accordion:beforeclose",t)},k=function(e){c.value===e&&a("accordion:close")},E=function(e){c.value===e&&a("accordion:closed")},S=function(e,t){c.value===e&&a("accordion:beforeopen",t)},T=function(e){c.value===e&&a("accordion:open")},$=function(e){c.value===e&&a("accordion:opened")},O=function(e){a("change",e),a("update:checked",e.target.checked)};fv(c,e),Tv(u,e),Ob(e,(function(){}),(function(){return c.value.querySelector("a.smart-select")})),Gn((function(){return e.swipeoutOpened}),(function(t){e.swipeout&&c.value&&fg&&(t?fg.swipeout.open(c.value):fg.swipeout.close(c.value))})),ya((function(){Eg((function(){e.swipeout&&(fg.on("swipeoutOpen",y),fg.on("swipeoutOpened",x),fg.on("swipeoutClose",v),fg.on("swipeoutClosed",b),fg.on("swipeoutDelete",g),fg.on("swipeoutDeleted",m),fg.on("swipeoutOverswipeEnter",f),fg.on("swipeoutOverswipeExit",h),fg.on("swipeout",w)),e.accordionItem&&(fg.on("accordionBeforeOpen",S),fg.on("accordionOpen",T),fg.on("accordionOpened",$),fg.on("accordionBeforeClose",C),fg.on("accordionClose",k),fg.on("accordionClosed",E)),e.swipeout&&e.swipeoutOpened&&fg.swipeout.open(c.value)})),e.checkbox&&p.value&&(p.value.indeterminate=!!e.indeterminate)})),Ca((function(){fg&&(fg.off("swipeoutOpen",y),fg.off("swipeoutOpened",x),fg.off("swipeoutClose",v),fg.off("swipeoutClosed",b),fg.off("swipeoutDelete",g),fg.off("swipeoutDeleted",m),fg.off("swipeoutOverswipeEnter",f),fg.off("swipeoutOverswipeExit",h),fg.off("swipeout",w),fg.off("accordionBeforeOpen",S),fg.off("accordionOpen",T),fg.off("accordionOpened",$),fg.off("accordionBeforeClose",C),fg.off("accordionClose",k),fg.off("accordionClosed",E))})),Gn((function(){return e.indeterminate}),(function(e){p.value&&(p.value.indeterminate=!!e)}));var I=mo((function(){return e.mediaItem||e.mediaList||o.value})),N=mo((function(){return!0===e.sortable||!1===e.sortable?e.sortable:s.value})),R=mo((function(){return N.value&&(e.sortableOpposite||i.value)})),P=mo((function(){return jb({href:!0===e.link?"":e.link||e.href,target:e.target,"data-tab":lg(e.tabLink)&&e.tabLink||void 0},Mg(e),_g(e))})),M=mo((function(){return dg({"item-link":!0,"smart-select":e.smartSelect,"tab-link":e.tabLink||""===e.tabLink,"tab-link-active":e.tabLinkActive,"item-selected":e.selected},Bg(e),Lg(e))})),B=mo((function(){return dg("item-content",{"item-checkbox":e.checkbox,"item-radio":e.radio,"item-radio-icon-start":e.radio&&"start"===e.radioIcon,"item-radio-icon-end":e.radio&&"end"===e.radioIcon},Ig(e))})),A=mo((function(){return dg({"item-divider":e.divider,"list-group-title":e.groupTitle,"media-item":I.value,swipeout:e.swipeout,"accordion-item":e.accordionItem,"accordion-item-opened":e.accordionItemOpened,disabled:e.disabled&&!(e.radio||e.checkbox),"no-chevron":e.noChevron,"chevron-center":e.chevronCenter,"disallow-sorting":!1===e.sortable},Ig(e))}));return function(){var t,a;if(l.value||(a=function(e){var t,n,a,r,o,s,i,l,c,u,p,d,f,h,m=void 0===e?{}:e,g=m.props,v=m.slots,b=m.inputElRef,y=m.onChange,x=m.onClick,w=m.isMediaComputed,C=m.isSortableComputed,k=m.isSortableOppositeComputed,E=m.itemContentClasses,S=g.radio,T=g.checkbox,$=g.value,O=g.name,I=g.readonly,N=g.disabled,R=g.checked,P=g.required,M=g.media,B=g.header,A=g.footer,_=g.title,L=g.subtitle,D=g.text,F=g.after,z=g.badge,V=g.badgeColor,H=g.swipeout,j=g.sortable,W=g.accordionItem;return(S||T)&&(u=go("input",{ref:b,value:$,name:O,checked:R,readonly:I,disabled:N,required:P,type:S?"radio":"checkbox",onChange:y}),p=go("i",{class:"icon icon-"+(S?"radio":"checkbox")})),(M||v.media)&&(M&&(h=go("img",{src:M})),c=go("div",{class:"item-media"},[h,v.media&&v.media()])),(B||v.header)&&(d=go("div",{class:"item-header"},[B,v.header&&v.header()])),(A||v.footer)&&(f=go("div",{class:"item-footer"},[A,v.footer&&v.footer()])),(_||v.title||!w.value&&d||!w.value&&f)&&(t=go("div",{class:"item-title"},[!w.value&&d,_,v.title&&v.title(),!w.value&&f])),(L||v.subtitle)&&(i=go("div",{class:"item-subtitle"},[L,v.subtitle&&v.subtitle()])),(D||v.text)&&(l=go("div",{class:"item-text"},[D,v.text&&v.text()])),(F||z||v.after)&&(F&&(a=go("span",[F])),z&&(r=go(mv,{color:V},(function(){return z}))),n=go("div",{class:"item-after"},[v["after-start"]&&v["after-start"](),a,r,v.after&&v.after(),v["after-end"]&&v["after-end"]()])),w.value?(s=go("div",{class:"item-title-row"},[v["before-title"]&&v["before-title"](),t,v["after-title"]&&v["after-title"](),n]),o=go("div",{class:"item-inner"},[v["inner-start"]&&v["inner-start"],d,s,i,l,H||W?null:v.default&&v.default(),v.inner&&v.inner(),f,v["inner-end"]&&v["inner-end"]])):o=go("div",{class:"item-inner"},[v["inner-start"]&&v["inner-start"](),v["before-title"]&&v["before-title"](),t,v["after-title"]&&v["after-title"](),n,H||W?null:v.default&&v.default(),v.inner&&v.inner(),v["inner-end"]&&v["inner-end"]()]),go(T||S?"label":"div",{class:E.value,onClick:x},[C.value&&!1!==j&&k.value&&go("div",{class:"sortable-handler"}),v["content-start"]&&v["content-start"](),u,p,c,o,v.content&&v.content(),v["content-end"]&&v["content-end"]()])}({props:e,slots:n,inputElRef:p,onChange:O,onClick:e.link||e.href||e.accordionItem||e.smartSelect?void 0:d,isMediaComputed:I,isSortableComputed:N,isSortableOppositeComputed:R,itemContentClasses:B}),(e.link||e.href||e.accordionItem||e.smartSelect)&&(t=go("a",jb({ref:u,class:M.value},P.value,{onClick:d}),[a]))),e.divider||e.groupTitle)return go("li",{ref:c,class:A.value,"data-virtual-list-index":e.virtualListIndex,onClick:d},[e.title,n.default&&n.default()]);if(l.value)return go("li",{ref:c,class:A.value,onClick:d,"data-virtual-list-index":e.virtualListIndex},[e.title,n.default&&n.default()]);var r=e.link||e.href||e.smartSelect||e.accordionItem?t:a;return go("li",{ref:c,class:A.value,"data-virtual-list-index":e.virtualListIndex},[n["root-start"]&&n["root-start"](),e.swipeout?go("div",{class:"swipeout-content"},[r]):r,N.value&&!1!==e.sortable&&!R.value&&go("div",{class:"sortable-handler"}),(e.swipeout||e.accordionItem)&&n.default(),n.root&&n.root(),n["root-end"]&&n["root-end"]()])}}};function Ub(){return Ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ub.apply(this,arguments)}var Gb={name:"f7-list",props:Ub({inset:Boolean,xsmallInset:Boolean,smallInset:Boolean,mediumInset:Boolean,largeInset:Boolean,xlargeInset:Boolean,mediaList:Boolean,sortable:Boolean,sortableTapHold:Boolean,sortableEnabled:Boolean,sortableMoveElements:{type:Boolean,default:void 0},sortableOpposite:Boolean,accordionList:Boolean,accordionOpposite:Boolean,contactsList:Boolean,simpleList:Boolean,linksList:Boolean,menuList:Boolean,noHairlines:Boolean,noHairlinesBetween:Boolean,noHairlinesMd:Boolean,noHairlinesBetweenMd:Boolean,noHairlinesIos:Boolean,noHairlinesBetweenIos:Boolean,noHairlinesAurora:Boolean,noHairlinesBetweenAurora:Boolean,noChevron:Boolean,chevronCenter:Boolean,tab:Boolean,tabActive:Boolean,form:Boolean,formStoreData:Boolean,inlineLabels:Boolean,virtualList:Boolean,virtualListParams:Object},Ng),emits:["submit","sortable:enable","sortable:disable","sortable:sort","sortable:move","virtual:itembeforeinsert","virtual:beforeclear","virtual:itemsbeforeinsert","virtual:itemsafterinsert","tab:hide","tab:show"],setup:function(e,t){var n=t.emit,a=t.slots,r=null,o=Vt(null),s=function(e){n("submit",e)},i=function(e){o.value===e&&n("sortable:enable")},l=function(e){o.value===e&&n("sortable:disable")},c=function(e,t,a){o.value===a&&n("sortable:sort",t)},u=function(e,t){o.value===t&&n("sortable:move",e,t)};Cv(o,n),ya((function(){Eg((function(){if(fg.on("sortableEnable",i),fg.on("sortableDisable",l),fg.on("sortableSort",c),fg.on("sortableMove",u),e.virtualList){var t=e.virtualListParams||{};(t.renderItem||t.renderExternal)&&(t.items&&(t.items=Bt(t.items)),r=fg.virtualList.create(pg({el:o.value,on:{itemBeforeInsert:function(e,t){n("virtual:itembeforeinsert",this,e,t)},beforeClear:function(e){n("virtual:beforeclear",this,e)},itemsBeforeInsert:function(e){n("virtual:itemsbeforeinsert",this,e)},itemsAfterInsert:function(e){n("virtual:itemsafterinsert",this,e)}}},t)))}}))})),Ca((function(){fg&&(fg.off("sortableEnable",i),fg.off("sortableDisable",l),fg.off("sortableSort",c),fg.off("sortableMove",u),e.virtualList&&r&&(r.destroy&&r.destroy(),r=null))}));var p=mo((function(){return dg("list",{inset:e.inset,"xsmall-inset":e.xsmallInset,"small-inset":e.smallInset,"medium-inset":e.mediumInset,"large-inset":e.largeInset,"xlarge-inset":e.xlargeInset,"media-list":e.mediaList,"simple-list":e.simpleList,"links-list":e.linksList,"menu-list":e.menuList,sortable:e.sortable,"sortable-tap-hold":e.sortableTapHold,"sortable-enabled":e.sortableEnabled,"sortable-opposite":e.sortableOpposite,"accordion-list":e.accordionList,"accordion-opposite":e.accordionOpposite,"contacts-list":e.contactsList,"virtual-list":e.virtualList,tab:e.tab,"tab-active":e.tabActive,"no-hairlines":e.noHairlines,"no-hairlines-md":e.noHairlinesMd,"no-hairlines-ios":e.noHairlinesIos,"no-hairlines-aurora":e.noHairlinesAurora,"no-hairlines-between":e.noHairlinesBetween,"no-hairlines-between-md":e.noHairlinesBetweenMd,"no-hairlines-between-ios":e.noHairlinesBetweenIos,"no-hairlines-between-aurora":e.noHairlinesBetweenAurora,"form-store-data":e.formStoreData,"inline-labels":e.inlineLabels,"no-chevron":e.noChevron,"chevron-center":e.chevronCenter},Ig(e))})),d=mo((function(){return e.form?"form":"div"}));return jn("ListContext",mo((function(){return{listIsMedia:e.mediaList,listIsSimple:e.simpleList,listIsSortable:e.sortable,listIsSortableOpposite:e.sortableOpposite}}))),function(){var t=a.list,n=a.default,r=[],i=[],l=t||[],c=!1;return n&&n().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;t&&"symbol"==typeof t?(c=!0,l.push(e)):!t||t&&!("li"===t||t.indexOf("f7-list-item")>=0||t.indexOf("f7-list-button")>=0||t.indexOf("f7-list-input")>=0)?c?i.push(e):r.push(e):t&&(c=!0,l.push(e))}})),go(d.value,{ref:o,class:p.value,"data-sortable-move-elements":void 0!==e.sortableMoveElements?e.sortableMoveElements.toString():void 0,onSubmit:s},[a["before-list"]&&a["before-list"](),r,l.length>0&&go("ul",l),a["after-list"]&&a["after-list"](),i])}}};function qb(){return qb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qb.apply(this,arguments)}var Xb={name:"f7-login-screen-title",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:qb({},Ng),setup:function(e){return{classes:mo((function(){return dg("login-screen-title",Ig(e))}))}}};function Yb(){return Yb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yb.apply(this,arguments)}var Kb={name:"f7-login-screen",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:Yb({opened:Boolean,animate:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Ng),emits:["loginscreen:open","loginscreen:opened","loginscreen:close","loginscreen:closed","update:opened"],setup:function(e,t){var n=t.emit,a=Vt(null),r=e.opened,o=!1,s=Vt(null),i=function(e){r=!0,o=!1,n("loginscreen:open",e),n("update:opened",!0)},l=function(e){n("loginscreen:opened",e)},c=function(e){r=!1,o=!0,n("loginscreen:close",e)},u=function(e){o=!1,n("loginscreen:closed",e),n("update:opened",!1)};Gn((function(){return e.opened}),(function(e){a.value&&(e?a.value.open():a.value.close())})),ya((function(){s.value&&Eg((function(){var t={el:s.value,on:{open:i,opened:l,close:c,closed:u}};void 0!==e.animate&&(t.animate=e.animate),void 0!==e.containerEl&&(t.containerEl=e.containerEl),a.value=fg.loginScreen.create(t),e.opened&&a.value.open(!1)}))})),Ca((function(){a.value&&a.value.destroy(),a.value=null}));var p=mo((function(){return dg("login-screen",ev({isOpened:r,isClosing:o}),Ig(e))}));return{elRef:s,classes:p}}};function Qb(){return Qb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qb.apply(this,arguments)}var Zb={name:"f7-menu-dropdown-item",render:function(e,t){return yr(),Sr("div",Hr({ref:"elRef",class:e.classes},e.attrs,{onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[_r(A(e.text)+" ",1),Ur(e.$slots,"default")],16)},props:Qb({text:String,link:Boolean,href:String,target:String,divider:Boolean},Ng,Pg,Ag),emits:["click"],setup:function(e,t){var n=t.emit,a=Vt(null);Tv(a,e);var r=mo((function(){return e.link||e.href||""===e.href})),o=mo((function(){return r.value?"a":"div"}));return{classes:mo((function(){return dg({"menu-dropdown-link":r.value&&!e.divider,"menu-dropdown-item":!r.value&&!e.divider,"menu-dropdown-divider":e.divider},Ig(e),Bg(e),Lg(e),{"menu-close":void 0===e.menuClose})})),attrs:mo((function(){var t=e.href;return void 0===t&&e.link&&(t="#"),Qb({href:t,target:e.target},Mg(e),_g(e))})),tag:o,onClick:function(e){n("click",e)},elRef:a}}};function Jb(){return Jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jb.apply(this,arguments)}var ey={name:"f7-menu-dropdown",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Pr("div",{class:"menu-dropdown-content",style:{height:e.contentHeight}},[Ur(e.$slots,"default")],4)],2)},props:Jb({contentHeight:String,position:String,left:Boolean,center:Boolean,right:Boolean},Ng),setup:function(e){return{classes:mo((function(){var t=e.position||"left";return e.left&&(t="left"),e.center&&(t="center"),e.right&&(t="right"),dg("menu-dropdown","menu-dropdown-"+t,Ig(e))}))}}};function ty(){return ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ty.apply(this,arguments)}var ny={key:0,class:"menu-item-content"};var ay={name:"f7-menu-item",render:function(e,t){var n=lr("f7-use-icon");return yr(),Sr(ur(e.tag),Hr({ref:"elRef",class:e.classes},e.attrs,{onClick:e.onClick}),{default:_n((function(){return[e.text||e.$slots.text||e.icon?(yr(),Sr("div",ny,[_r(A(e.text)+" ",1),e.icon?(yr(),Sr(n,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),Ur(e.$slots,"text")])):Dr("",!0),Ur(e.$slots,"default")]})),_:3},16,["class","onClick"])},components:{f7UseIcon:Fv},props:ty({text:String,iconOnly:Boolean,href:String,link:Boolean,target:String,dropdown:Boolean,tooltip:String,tooltipTrigger:String},Ng,Pg,Ag,Rg),emits:["click","menu:opened","menu:closed"],setup:function(e,t){var n=t.slots,a=t.emit,r=Vt(null);fv(r,e);var o=function(e){r.value===e&&a("menu:opened",e)},s=function(e){r.value===e&&a("menu:closed",e)};Tv(r,e);ya((function(){Eg((function(){fg.on("menuOpened",o),fg.on("menuClosed",s)}))})),Ca((function(){return fg.off("menuOpened",o),void fg.off("menuClosed",o)}));var i=mo((function(){return Sv(e)}));return{tag:mo((function(){return e.link||e.href||""===e.href?"a":"div"})),classes:mo((function(){var t;return t=!(!e.iconOnly&&(e.text||n.text)),dg({"menu-item":!0,"menu-item-dropdown":e.dropdown||""===e.dropdown,"icon-only":t},Ig(e),Bg(e),Lg(e))})),attrs:mo((function(){var t=e.href;return void 0===t&&e.link&&(t="#"),ty({href:t,target:e.target},Mg(e),_g(e))})),icon:i,onClick:function(e){a("click",e)},elRef:r}}};function ry(){return ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ry.apply(this,arguments)}var oy={class:"menu-inner"};var sy={name:"f7-menu",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Pr("div",oy,[Ur(e.$slots,"default")])],2)},props:ry({},Ng),setup:function(e){return{classes:mo((function(){return dg("menu",Ig(e))}))}}};function iy(){return iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iy.apply(this,arguments)}var ly={class:"message-content"},cy={key:0,class:"message-image"},uy={key:1,class:"message-text-header"},py={key:0,class:"message-typing-indicator"},dy=Pr("div",null,null,-1),fy=Pr("div",null,null,-1),hy=Pr("div",null,null,-1),my={key:3,class:"message-text-footer"};var gy={name:"f7-message",render:function(e,t){return yr(),Sr("div",{class:e.classes,onClick:t[7]||(t[7]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[Ur(e.$slots,"start"),e.hasAvatar?(yr(),Sr("div",{key:0,class:"message-avatar",style:{backgroundImage:e.avatar&&"url("+e.avatar+")"},onClick:t[1]||(t[1]=function(){return e.onAvatarClick&&e.onAvatarClick.apply(e,arguments)})},[Ur(e.$slots,"avatar")],4)):Dr("",!0),Pr("div",ly,[Ur(e.$slots,"content-start"),e.hasName?(yr(),Sr("div",{key:0,class:"message-name",onClick:t[2]||(t[2]=function(){return e.onNameClick&&e.onNameClick.apply(e,arguments)})},[_r(A(e.name)+" ",1),Ur(e.$slots,"name")])):Dr("",!0),e.hasHeader?(yr(),Sr("div",{key:1,class:"message-header",onClick:t[3]||(t[3]=function(){return e.onHeaderClick&&e.onHeaderClick.apply(e,arguments)})},[_r(A(e.header)+" ",1),Ur(e.$slots,"header")])):Dr("",!0),Pr("div",{class:"message-bubble",onClick:t[5]||(t[5]=function(){return e.onBubbleClick&&e.onBubbleClick.apply(e,arguments)})},[Ur(e.$slots,"bubble-start"),e.hasImage?(yr(),Sr("div",cy,[Ur(e.$slots,"image",{},(function(){return[Pr("img",{src:e.image},null,8,["src"])]}))])):Dr("",!0),e.hasTextHeader?(yr(),Sr("div",uy,[_r(A(e.textHeader)+" ",1),Ur(e.$slots,"text-header")])):Dr("",!0),e.hasText?(yr(),Sr("div",{key:2,class:"message-text",onClick:t[4]||(t[4]=function(){return e.onTextClick&&e.onTextClick.apply(e,arguments)})},[_r(A(e.text)+" ",1),Ur(e.$slots,"text"),e.typing?(yr(),Sr("div",py,[dy,fy,hy])):Dr("",!0)])):Dr("",!0),e.hasTextFooter?(yr(),Sr("div",my,[_r(A(e.textFooter)+" ",1),Ur(e.$slots,"text-footer")])):Dr("",!0),Ur(e.$slots,"bubble-end"),Ur(e.$slots,"default")]),e.hasFooter?(yr(),Sr("div",{key:2,class:"message-footer",onClick:t[6]||(t[6]=function(){return e.onFooterClick&&e.onFooterClick.apply(e,arguments)})},[_r(A(e.footer)+" ",1),Ur(e.$slots,"footer")])):Dr("",!0),Ur(e.$slots,"content-end")]),Ur(e.$slots,"end")],2)},props:iy({text:String,name:String,avatar:String,type:{type:String,default:"sent"},image:String,header:String,footer:String,textHeader:String,textFooter:String,first:Boolean,last:Boolean,tail:Boolean,sameName:Boolean,sameHeader:Boolean,sameFooter:Boolean,sameAvatar:Boolean,typing:Boolean},Ng),emits:["click","click:name","click:text","click:avatar","click:header","click:footer","click:bubble"],setup:function(e,t){var n=t.emit,a=t.slots;return{classes:mo((function(){return dg("message",{"message-sent":"sent"===e.type,"message-received":"received"===e.type,"message-typing":e.typing,"message-first":e.first,"message-last":e.last,"message-tail":e.tail,"message-same-name":e.sameName,"message-same-header":e.sameHeader,"message-same-footer":e.sameFooter,"message-same-avatar":e.sameAvatar},Ig(e))})),onClick:function(e){n("click",e)},onNameClick:function(e){n("click:name",e)},onTextClick:function(e){n("click:text",e)},onAvatarClick:function(e){n("click:avatar",e)},onHeaderClick:function(e){n("click:header",e)},onFooterClick:function(e){n("click:footer",e)},onBubbleClick:function(e){n("click:bubble",e)},hasAvatar:mo((function(){return a.avatar||e.avatar})),hasName:mo((function(){return a.name||e.name})),hasHeader:mo((function(){return a.header||e.header})),hasImage:mo((function(){return a.image||e.image})),hasTextHeader:mo((function(){return a["text-header"]||e.textHeader})),hasText:mo((function(){return a.text||e.text||e.typing})),hasTextFooter:mo((function(){return a["text-footer"]||e.textFooter})),hasFooter:mo((function(){return a.footer||e.footer}))}}};function vy(){return vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vy.apply(this,arguments)}var by={name:"f7-messagebar-attachment",render:function(e,t){return yr(),Sr("div",{class:e.classes,onClick:t[2]||(t[2]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.image?(yr(),Sr("img",{key:0,src:e.image},null,8,["src"])):Dr("",!0),e.deletable?(yr(),Sr("span",{key:1,class:"messagebar-attachment-delete",onClick:t[1]||(t[1]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})})):Dr("",!0),Ur(e.$slots,"default")],2)},props:vy({image:String,deletable:{type:Boolean,default:!0}},Ng),emits:["attachment:click","attachment:delete"],setup:function(e,t){var n=t.emit;return{classes:mo((function(){return dg("messagebar-attachment",Ig(e))})),onClick:function(e){n("attachment:click",e)},onDeleteClick:function(e){n("attachment:delete",e)}}}};function yy(){return yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yy.apply(this,arguments)}var xy={name:"f7-messagebar-attachments",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:yy({},Ng),setup:function(e){return{classes:mo((function(){return dg("messagebar-attachments",Ig(e))}))}}};function wy(){return wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wy.apply(this,arguments)}var Cy=Pr("i",{class:"icon icon-checkbox"},null,-1);var ky={name:"f7-messagebar-sheet-image",render:function(e,t){return yr(),Sr("label",{class:e.classes,style:e.styles},[Pr("input",{type:"checkbox",checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["checked"]),Cy,Ur(e.$slots,"default")],6)},props:wy({image:String,checked:Boolean},Ng),emits:["checked","unchecked","change","update:checked"],setup:function(e,t){var n=t.emit;return{classes:mo((function(){return dg("messagebar-sheet-image","checkbox",Ig(e))})),styles:mo((function(){return{backgroundImage:e.image&&"url("+e.image+")"}})),onChange:function(e){e.target.checked?n("checked",e):n("unchecked",e),n("update:checked",e.target.checked),n("change",e)}}}};function Ey(){return Ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ey.apply(this,arguments)}var Sy={name:"f7-messagebar-sheet-item",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Ey({},Ng),setup:function(e){return{classes:mo((function(){return dg("messagebar-sheet-item",Ig(e))}))}}};function Ty(){return Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ty.apply(this,arguments)}var $y={name:"f7-messagebar-sheet",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Ty({},Ng),setup:function(e){return{classes:mo((function(){return dg("messagebar-sheet",Ig(e))}))}}};function Oy(){return Oy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oy.apply(this,arguments)}var Iy={name:"f7-messagebar",props:Oy({sheetVisible:Boolean,attachmentsVisible:Boolean,top:Boolean,resizable:{type:Boolean,default:!0},bottomOffset:{type:Number,default:0},topOffset:{type:Number,default:0},maxHeight:Number,resizePage:{type:Boolean,default:!0},sendLink:String,value:[String,Number,Array],disabled:Boolean,readonly:Boolean,textareaId:[Number,String],name:String,placeholder:{type:String,default:"Message"},init:{type:Boolean,default:!0}},Ng),emits:["change","input","focus","blur","submit","send","click","messagebar:attachmentdelete","messagebar:attachmentclick","messagebar:resizepage","update:value"],setup:function(e,t){var n=t.emit,a=t.slots,r=Vt(null),o=Vt(null),s=null,i=!1,l=!1,c=function(e){n("change",e)},u=function(e){n("input",e),n("update:value",e.target.value)},p=function(e){n("focus",e)},d=function(e){n("blur",e)},f=function(e){var t=o.value.$el,a=s?function(){s.clear()}:function(){};n("submit",t,a),n("send",t,a),n("click",e)},h=function(e,t,a){n("messagebar:attachmentdelete",e,t,a)},m=function(e,t,a){n("messagebar:attachmentclick",e,t,a)},g=function(e){n("messagebar:resizepage",e)};Gn((function(){return e.sheetVisible}),(function(){e.resizable&&s&&(i=!0)})),Gn((function(){return e.attachmentsVisible}),(function(){e.resizable&&s&&(l=!0)})),ya((function(){if(e.init&&r.value){var t=ig({el:r.value,top:e.top,resizePage:e.resizePage,bottomOffset:e.bottomOffset,topOffset:e.topOffset,maxHeight:e.maxHeight,on:{attachmentDelete:h,attachmentClick:m,resizePage:g}});Eg((function(){s=fg.messagebar.create(t)}))}})),wa((function(){s&&(i&&(i=!1,s.sheetVisible=e.sheetVisible,s.resizePage()),l&&(l=!1,s.attachmentsVisible=e.attachmentsVisible,s.resizePage()))})),Ca((function(){s&&s.destroy&&s.destroy(),s=null}));var v=mo((function(){return dg("toolbar","messagebar",{"messagebar-attachments-visible":e.attachmentsVisible,"messagebar-sheet-visible":e.sheetVisible},Ig(e))}));return function(){var t={};"value"in e&&(t.value=e.value);var n,s,i=a.default,l=a["before-inner"],h=a["after-inner"],m=a["send-link"],g=a["inner-start"],b=a["inner-end"],y=a["before-area"],x=a["after-area"],w=[];return i&&i().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;t&&(t.indexOf("messagebar-attachments")>=0||"F7MessagebarAttachments"===t||"f7-messagebar-attachments"===t)?n=e:t&&(t.indexOf("messagebar-sheet")>=0||"F7MessagebarSheet"===t||"f7-messagebar-sheet"===t)?s=e:w.push(e)}})),go("div",{class:v.value,ref:r},[l&&l(),go("div",{class:"toolbar-inner"},[g&&g(),go("div",{class:"messagebar-area"},[y&&y(),n,go($b,Oy({id:e.textareaId,ref:o,type:"textarea",wrap:!1,placeholder:e.placeholder,disabled:e.disabled,name:e.name,readonly:e.readonly,resizable:e.resizable,onInput:u,onChange:c,onFocus:p,onBlur:d},t)),x&&x()]),(e.sendLink&&e.sendLink.length>0||m)&&go(Nb,{onClick:f},[m?m():e.sendLink]),b&&b(),w]),h&&h(),s])}}};function Ny(){return Ny=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ny.apply(this,arguments)}var Ry={name:"f7-messages-title",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Ny({},Ng),setup:function(e){return{classes:mo((function(){return dg("messages-title",Ig(e))}))}}};function Py(){return Py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Py.apply(this,arguments)}var My={name:"f7-messages",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:Py({autoLayout:{type:Boolean,default:!1},messages:{type:Array,default:function(){return[]}},newMessagesFirst:{type:Boolean,default:!1},scrollMessages:{type:Boolean,default:!0},scrollMessagesOnEdge:{type:Boolean,default:!0},typing:{type:Boolean,default:!1},firstMessageRule:Function,lastMessageRule:Function,tailMessageRule:Function,sameNameMessageRule:Function,sameHeaderMessageRule:Function,sameFooterMessageRule:Function,sameAvatarMessageRule:Function,customClassMessageRule:Function,renderMessage:Function,init:{type:Boolean,default:!0}},Ng),setup:function(e,t){var n=t.slots,a=null,r=null,o=Vt(null);ya((function(){e.init&&Eg((function(){(a=fg.messages.create(ig({el:o.value,autoLayout:e.autoLayout,messages:e.messages,newMessagesFirst:e.newMessagesFirst,scrollMessages:e.scrollMessages,scrollMessagesOnEdge:e.scrollMessagesOnEdge,firstMessageRule:e.firstMessageRule,lastMessageRule:e.lastMessageRule,tailMessageRule:e.tailMessageRule,sameNameMessageRule:e.sameNameMessageRule,sameHeaderMessageRule:e.sameHeaderMessageRule,sameFooterMessageRule:e.sameFooterMessageRule,sameAvatarMessageRule:e.sameAvatarMessageRule,customClassMessageRule:e.customClassMessageRule,renderMessage:e.renderMessage})))&&e.typing&&a.showTyping()}))})),xa((function(){if(e.init&&o.value){var t=o.value.children;if(t){r=t.length;for(var s=0;s<t.length;s+=1)t[s].classList.add("message-appeared");var i=function(e,t){void 0===t&&(t="default");var n=[];return e[t]&&function e(t){Array.isArray(t)&&t.forEach((function(t){t.type===fr&&t.children?e(t.children):t.type&&t.type!==mr&&n.push(t)}))}(e[t]()),n}(n);a&&e.scrollMessages&&r!==i&&a.setScrollData()}}})),wa((function(){if(e.init&&o.value){var t=o.value.children;if(t){for(var n=t.length,s=0;s<t.length;s+=1)t[s].classList.contains("message-appeared")||t[s].classList.add("message-appear-from-bottom");a&&a.layout&&e.autoLayout&&a.layout(),n!==r&&a&&a.scroll&&a.scrollData&&e.scrollMessages&&a.scrollWithEdgeCheck(!0)}}})),Ca((function(){a&&a.destroy&&a.destroy(),a=null})),Gn((function(){return e.typing}),(function(e){a&&(e?a.showTyping():a.hideTyping())}));var s=mo((function(){return dg("messages",Ig(e))}));return{elRef:o,classes:s}}};function By(){return By=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},By.apply(this,arguments)}var Ay={name:"f7-nav-left",render:function(e,t){var n=lr("f7-link");return yr(),Sr("div",{class:e.classes},[e.backLink?(yr(),Sr(n,{key:0,href:e.backLinkUrl||"#",back:"",icon:"icon-back",force:e.backLinkForce||void 0,class:e.text?void 0:"icon-only",text:e.text,onClick:e.onBackClick},null,8,["href","force","class","text","onClick"])):Dr("",!0),Ur(e.$slots,"default")],2)},components:{f7Link:Nb},props:By({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,backLinkShowText:{type:Boolean,default:void 0},sliding:Boolean},Ng),emits:["back:click","click:back"],setup:function(e,t){var n=t.emit,a=$v(),r=mo((function(){var t=e.backLinkShowText;if(void 0===t&&(t=!a.value.md),e.backLink)return!0!==e.backLink&&t?e.backLink:void 0}));return{classes:mo((function(){return dg("left",{sliding:e.sliding},Ig(e))})),onBackClick:function(e){n("back:click",e),n("click:back",e)},text:r}}};function _y(){return _y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_y.apply(this,arguments)}var Ly={name:"f7-nav-right",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:_y({sliding:Boolean},Ng),setup:function(e){return{classes:mo((function(){return dg("right",{sliding:e.sliding},Ig(e))}))}}};function Dy(){return Dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Dy.apply(this,arguments)}var Fy={class:"title-large-text"};var zy={name:"f7-nav-title-large",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Pr("div",Fy,[Ur(e.$slots,"default")])],2)},props:Dy({},Ng),setup:function(e){return{classes:mo((function(){return dg("title-large",Ig(e))}))}}};function Vy(){return Vy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vy.apply(this,arguments)}var Hy={key:0,class:"subtitle"};var jy={name:"f7-nav-title",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default"),_r(" "+A(e.title)+" ",1),e.subtitle?(yr(),Sr("span",Hy,A(e.subtitle),1)):Dr("",!0)],2)},props:Vy({title:String,subtitle:String,sliding:Boolean},Ng),setup:function(e){return{classes:mo((function(){return dg("title",{sliding:e.sliding},Ig(e))}))}}};function Wy(){return Wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wy.apply(this,arguments)}var Uy=Pr("div",{class:"navbar-bg"},null,-1),Gy={key:3,className:"title-large"},qy={className:"title-large-text"};var Xy={name:"f7-navbar",render:function(e,t){var n=lr("f7-nav-left"),a=lr("f7-nav-title"),r=lr("f7-nav-right");return yr(),Sr("div",{ref:"elRef",class:e.classes},[Uy,Ur(e.$slots,"before-inner"),Pr("div",{class:e.innerClasses},[e.hasLeft?(yr(),Sr(n,{key:0,"back-link":e.backLink,"back-link-url":e.backLinkUrl,"back-link-force":e.backLinkForce,"back-link-show-text":e.backLinkShowText,"onBack:click":e.onBackClick},{default:_n((function(){return[Ur(e.$slots,"nav-left"),Ur(e.$slots,"left")]})),_:3},8,["back-link","back-link-url","back-link-force","back-link-show-text","onBack:click"])):Dr("",!0),e.hasTitle?(yr(),Sr(a,{key:1,title:e.title,subtitle:e.subtitle},{default:_n((function(){return[Ur(e.$slots,"title")]})),_:3},8,["title","subtitle"])):Dr("",!0),e.hasRight?(yr(),Sr(r,{key:2},{default:_n((function(){return[Ur(e.$slots,"nav-right"),Ur(e.$slots,"right")]})),_:3})):Dr("",!0),e.hasLargeTitle?(yr(),Sr("div",Gy,[Pr("div",qy,[_r(A(e.largeTitle)+" ",1),Ur(e.$slots,"title-large")])])):Dr("",!0),Ur(e.$slots,"default")],2),Ur(e.$slots,"after-inner")],2)},components:{f7NavLeft:Ay,f7NavTitle:jy,f7NavRight:Ly},props:Wy({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,backLinkShowText:{type:Boolean,default:void 0},sliding:{type:Boolean,default:!0},title:String,subtitle:String,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,innerClass:String,innerClassName:String,large:Boolean,largeTransparent:Boolean,transparent:Boolean,titleLarge:String},Ng),emits:["navbar:hide","navbar:show","navbar:expand","navbar:collapse","navbar:transparentshow","navbar:transparenthide","click:back","back:click"],setup:function(e,t){var n=t.emit,a=t.slots,r="",o=!1,s=null,i=!1,l=!1,c=!1,u=Vt(null),p=$v(),d=function(e){u.value===e&&n("navbar:hide")},f=function(e){u.value===e&&n("navbar:show")},h=function(e){u.value===e&&(o=!1,n("navbar:expand"))},m=function(e){u.value===e&&(o=!0,n("navbar:collapse"))},g=function(e){u.value===e&&(c=!0,n("navbar:transparentshow"))},v=function(e){u.value===e&&(c=!1,n("navbar:transparenthide"))},b=function(e,t){u.value===e&&(r=t?"navbar-"+t:"")},y=function(e,t){u.value===e&&(s=t.role,i=t.detailRoot)},x=function(e){u.value===e&&(l=!0)},w=function(e){u.value===e&&(l=!1)};ya((function(){u.value&&Eg((function(){fg.navbar.size(u.value),fg.on("navbarShow",f),fg.on("navbarHide",d),fg.on("navbarCollapse",m),fg.on("navbarExpand",h),fg.on("navbarPosition",b),fg.on("navbarRole",y),fg.on("navbarMasterStack",x),fg.on("navbarMasterUnstack",w),fg.on("navbarTransparentShow",g),fg.on("navbarTransparentHide",v)}))})),Ca((function(){fg&&(fg.off("navbarShow",f),fg.off("navbarHide",d),fg.off("navbarCollapse",m),fg.off("navbarExpand",h),fg.off("navbarPosition",b),fg.off("navbarRole",y),fg.off("navbarMasterStack",x),fg.off("navbarMasterUnstack",w),fg.off("navbarTransparentShow",g),fg.off("navbarTransparentHide",v))}));var C=mo((function(){return p.value&&p.value.ios&&fg&&!fg.params.navbar.iosCenterTitle})),k=mo((function(){return p.value&&p.value.md&&fg&&fg.params.navbar.mdCenterTitle||p.value&&p.value.aurora&&fg&&fg.params.navbar.auroraCenterTitle})),E=mo((function(){return e.large||e.largeTransparent})),S=mo((function(){return e.transparent||E.value&&e.largeTransparent})),T=mo((function(){return S.value&&c})),$=mo((function(){return dg("navbar",r,{"navbar-hidden":e.hidden,"navbar-large":E.value,"navbar-large-collapsed":E.value&&o,"navbar-transparent":S.value,"navbar-transparent-visible":T.value,"navbar-master":"master"===s,"navbar-master-detail":"detail"===s,"navbar-master-detail-root":!0===i,"navbar-master-stacked":!0===l,"no-shadow":e.noShadow,"no-hairline":e.noHairline},Ig(e))})),O=mo((function(){var t=e.titleLarge;return!t&&e.large&&e.title&&(t=e.title),t})),I=mo((function(){return e.backLink||a["nav-left"]||a.left})),N=mo((function(){return e.title||e.subtitle||a.title})),R=mo((function(){return a["nav-right"]||a.right})),P=mo((function(){return O.value||a["title-large"]})),M=mo((function(){return dg("navbar-inner",e.innerClass,e.innerClassName,{sliding:e.sliding,"navbar-inner-left-title":C.value,"navbar-inner-centered-title":k.value})}));return{elRef:u,classes:$,innerClasses:M,hide:function(e){fg&&fg.navbar.hide(u.value,e)},show:function(e){fg&&fg.navbar.show(u.value,e)},size:function(){fg&&fg.navbar.size(u.value)},largeTitle:O,hasLeft:I,hasTitle:N,hasRight:R,hasLargeTitle:P,onBackClick:function(e){n("back:click",e),n("click:back",e)}}}};function Yy(){return Yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yy.apply(this,arguments)}var Ky={key:0,class:"ptr-preloader"},Qy=Pr("div",{class:"ptr-arrow"},null,-1),Zy={key:3,class:"ptr-preloader"},Jy=Pr("div",{class:"ptr-arrow"},null,-1);var ex={name:"f7-page-content",render:function(e,t){var n=lr("f7-preloader");return yr(),Sr("div",{ref:"elRef",class:e.classes,"data-ptr-distance":e.ptrDistance||void 0,"data-ptr-mousewheel":e.ptrMousewheel||void 0,"data-infinite-distance":e.infiniteDistance||void 0},[e.ptr&&e.ptrPreloader&&!e.ptrBottom?(yr(),Sr("div",Ky,[Pr(n),Qy])):Dr("",!0),e.infinite&&e.infinitePreloader&&e.infiniteTop?(yr(),Sr(n,{key:1,class:"infinite-scroll-preloader"})):Dr("",!0),Ur(e.$slots,"default"),e.infinite&&e.infinitePreloader&&!e.infiniteTop?(yr(),Sr(n,{key:2,class:"infinite-scroll-preloader"})):Dr("",!0),e.ptr&&e.ptrPreloader&&e.ptrBottom?(yr(),Sr("div",Zy,[Pr(n),Jy])):Dr("",!0)],10,["data-ptr-distance","data-ptr-mousewheel","data-infinite-distance"])},components:{f7Preloader:_v},props:Yy({tab:Boolean,tabActive:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},ptrBottom:Boolean,ptrMousewheel:Boolean,infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},Ng),emits:["ptr:pullstart","ptr:pullmove","ptr:pullend","ptr:refresh","ptr:done","infinite","ptrPullStart","ptrPullMove","ptrPullEnd","ptrRefresh","ptrDone","tab:hide","tab:show"],setup:function(e,t){var n=t.emit,a=Vt(null),r=function(e){a.value===e&&(n("ptr:pullstart"),n("ptrPullStart"))},o=function(e){a.value===e&&(n("ptr:pullmove"),n("ptrPullMove"))},s=function(e){a.value===e&&(n("ptr:pullend"),n("ptrPullEnd"))},i=function(e,t){a.value===e&&(n("ptr:refresh",t),n("ptrRefresh",t))},l=function(e){a.value===e&&(n("ptr:done"),n("ptrDone"))},c=function(e){a.value===e&&n("infinite")};Cv(a,n),ya((function(){Eg((function(){e.ptr&&(fg.on("ptrPullStart",r),fg.on("ptrPullMove",o),fg.on("ptrPullEnd",s),fg.on("ptrRefresh",i),fg.on("ptrDone",l)),e.infinite&&fg.on("infinite",c)}))})),Ca((function(){fg&&(fg.off("ptrPullStart",r),fg.off("ptrPullMove",o),fg.off("ptrPullEnd",s),fg.off("ptrRefresh",i),fg.off("ptrDone",l),fg.off("infinite",c))}));var u=mo((function(){return dg("page-content",{tab:e.tab,"tab-active":e.tabActive,"ptr-content":e.ptr,"ptr-bottom":e.ptrBottom,"infinite-scroll-content":e.infinite,"infinite-scroll-top":e.infiniteTop,"hide-bars-on-scroll":e.hideBarsOnScroll,"hide-navbar-on-scroll":e.hideNavbarOnScroll,"hide-toolbar-on-scroll":e.hideToolbarOnScroll,"messages-content":e.messagesContent,"login-screen-content":e.loginScreen},Ig(e))}));return{elRef:a,classes:u}}};function tx(){return tx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tx.apply(this,arguments)}var nx={name:"f7-page",props:tx({name:String,stacked:Boolean,withSubnavbar:{type:Boolean,default:void 0},subnavbar:{type:Boolean,default:void 0},withNavbarLarge:{type:Boolean,default:void 0},navbarLarge:{type:Boolean,default:void 0},noNavbar:Boolean,noToolbar:Boolean,tabs:Boolean,pageContent:{type:Boolean,default:!0},noSwipeback:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},ptrBottom:Boolean,ptrMousewheel:Boolean,infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},Ng),emits:["page:mounted","page:init","page:reinit","page:beforein","page:beforeout","page:afterout","page:afterin","page:beforeremove","page:beforeunmount","page:tabshow","page:tabhide","ptr:pullstart","ptr:pullmove","ptr:pullend","ptr:refresh","ptr:done","infinite"],setup:function(e,t){var n=t.emit,a=t.slots,r=!1,o=!1,s=!1,i=!1,l="",c=!1,u=null,p=!1,d=!1,f=Vt(null),h=function(e){f.value===e.el&&n("page:mounted",e)},m=function(t){f.value===t.el&&(void 0===e.withSubnavbar&&void 0===e.subnavbar&&(t.$navbarEl&&t.$navbarEl.length&&t.$navbarEl.find(".subnavbar").length||t.$el.children(".navbar").find(".subnavbar").length)&&(r=!0),void 0===e.withNavbarLarge&&void 0===e.navbarLarge&&t.$navbarEl&&t.$navbarEl.hasClass("navbar-large")&&(o=!0),n("page:init",t))},g=function(e){f.value===e.el&&n("page:reinit",e)},v=function(e){f.value===e.el&&(e.swipeBack||("next"===e.from&&(l="page-next"),"previous"===e.from&&(l="page-previous")),n("page:beforein",e))},b=function(e){f.value===e.el&&n("page:beforeout",e)},y=function(e){f.value===e.el&&("next"===e.to&&(l="page-next"),"previous"===e.to&&(l="page-previous"),n("page:afterout",e))},x=function(e){f.value===e.el&&(l="page-current",n("page:afterin",e))},w=function(e){f.value===e.el&&n("page:beforeremove",e)},C=function(e){f.value===e.el&&n("page:beforeunmount",e)},k=function(e){f.value===e&&(c=!1)},E=function(e){f.value===e&&(c=!0)},S=function(e,t){f.value===e&&(l="page-"+t)},T=function(e,t){f.value===e&&(u=t.role,p=t.detailRoot)},$=function(e){f.value===e&&(d=!0)},O=function(e){f.value===e&&(d=!1)},I=function(e){f.value===e&&(s=!0)},N=function(e){f.value===e&&(s=!1)},R=function(e,t){f.value===t&&(i=!0)},P=function(e,t){f.value===t&&(i=!1)},M=function(e){f.value===e&&n("page:tabshow")},B=function(e){f.value===e&&n("page:tabhide")},A=function(){n("ptr:pullstart")},_=function(){n("ptr:pullmove")},L=function(){n("ptr:pullend")},D=function(e){n("ptr:refresh",e)},F=function(){n("ptr:done")},z=function(){n("infinite")};ya((function(){Eg((function(){fg.on("pageMounted",h),fg.on("pageInit",m),fg.on("pageReinit",g),fg.on("pageBeforeIn",v),fg.on("pageBeforeOut",b),fg.on("pageAfterOut",y),fg.on("pageAfterIn",x),fg.on("pageBeforeRemove",w),fg.on("pageBeforeUnmount",C),fg.on("pageStack",k),fg.on("pageUnstack",E),fg.on("pagePosition",S),fg.on("pageRole",T),fg.on("pageMasterStack",$),fg.on("pageMasterUnstack",O),fg.on("pageNavbarLargeCollapsed",I),fg.on("pageNavbarLargeExpanded",N),fg.on("cardOpened",R),fg.on("cardClose",P),fg.on("pageTabShow",M),fg.on("pageTabHide",B)}))})),Ca((function(){fg&&(fg.off("pageMounted",h),fg.off("pageInit",m),fg.off("pageReinit",g),fg.off("pageBeforeIn",v),fg.off("pageBeforeOut",b),fg.off("pageAfterOut",y),fg.off("pageAfterIn",x),fg.off("pageBeforeRemove",w),fg.off("pageBeforeUnmount",C),fg.off("pageStack",k),fg.off("pageUnstack",E),fg.off("pagePosition",S),fg.off("pageRole",T),fg.off("pageMasterStack",$),fg.off("pageMasterUnstack",O),fg.off("pageNavbarLargeCollapsed",I),fg.off("pageNavbarLargeExpanded",N),fg.off("cardOpened",R),fg.off("cardClose",P),fg.off("pageTabShow",M),fg.off("pageTabHide",B))}));var V=mo((function(){return dg("page",l,{stacked:e.stacked&&!c,tabs:e.tabs,"page-with-subnavbar":e.subnavbar||e.withSubnavbar,"page-with-navbar-large":e.navbarLarge||e.withNavbarLarge,"no-navbar":e.noNavbar,"no-toolbar":e.noToolbar,"no-swipeback":e.noSwipeback,"page-master":"master"===u,"page-master-detail":"detail"===u,"page-master-detail-root":!0===p,"page-master-stacked":!0===d,"page-with-navbar-large-collapsed":!0===s,"page-with-card-opened":!0===i,"login-screen-page":e.loginScreen},Ig(e))})),H="navbar toolbar tabbar subnavbar searchbar messagebar fab list-index panel".split(" ").map((function(e){return"f7-"+e}));return function(){var t=[],n=[],s=a.static,i=a.fixed,l=a.default,c=!1,u=!1,p=e.messagesContent,d=l&&l();d&&d.forEach((function(a){if(void 0!==a){var r=a.type&&a.type.name?a.type.name:a.type,o=!1;r?("f7-subnavbar"===r&&(c=!0),"f7-navbar"===r&&a.props&&(a.props.large||""===a.props.large)&&(u=!0),void 0===p&&"f7-messages"===r&&(p=!0),H.indexOf(r)>=0&&(o=!0),e.pageContent&&(o?t.push(a):n.push(a))):(e.pageContent||""===e.pageContent)&&n.push(a)}}));var h=V.value;return(c||r)&&void 0===e.subnavbar&&void 0===e.withSubnavbar&&h.indexOf("page-with-subnavbar")<0&&(h+=" page-with-subnavbar"),(u||o)&&void 0===e.navbarLarge&&void 0===e.withNavbarLarge&&h.indexOf("page-with-navbar-large")<0&&(h+=" page-with-navbar-large"),e.pageContent?go("div",{class:h,ref:f,"data-name":e.name},[t,i&&i(),go(ex,{ptr:e.ptr,ptrDistance:e.ptrDistance,ptrPreloader:e.ptrPreloader,ptrBottom:e.ptrBottom,ptrMousewheel:e.ptrMousewheel,infinite:e.infinite,infiniteTop:e.infiniteTop,infiniteDistance:e.infiniteDistance,infinitePreloader:e.infinitePreloader,hideBarsOnScroll:e.hideBarsOnScroll,hideNavbarOnScroll:e.hideNavbarOnScroll,hideToolbarOnScroll:e.hideToolbarOnScroll,messagesContent:e.messagesContent||p,loginScreen:e.loginScreen,onPtrPullStart:A,onPtrPullMove:_,onPtrPullEnd:L,onPtrRefresh:D,onPtrDone:F,onInfinite:z},(function(){return[s&&s(),n]}))]):go("div",{class:h,ref:f,"data-name":e.name},[i&&i(),s&&s(),l&&d])}}};function ax(){return ax=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ax.apply(this,arguments)}var rx={key:0,class:"panel-resize-handler"};var ox={name:"f7-panel",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default"),e.resizable?(yr(),Sr("div",rx)):Dr("",!0)],2)},props:ax({side:String,effect:String,cover:Boolean,reveal:Boolean,push:Boolean,left:Boolean,right:Boolean,opened:Boolean,resizable:Boolean,backdrop:{type:Boolean,default:!0},backdropEl:{type:String,default:void 0},containerEl:{type:String,default:void 0},visibleBreakpoint:{type:Number,default:void 0},collapsedBreakpoint:{type:Number,default:void 0},swipe:Boolean,swipeNoFollow:Boolean,swipeOnlyClose:Boolean,swipeActiveArea:{type:Number,default:0},swipeThreshold:{type:Number,default:0}},Ng),emits:["panel:open","panel:opened","panel:close","panel:closed","click","panel:backdropclick","panel:swipe","panel:swipeopen","panel:breakpoint","panel:collapsedbreakpoint","panel:resize","update:opened"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null),o=!1,s=!1,i=!1,l=!1,c=function(e){o=!0,s=!1,n("panel:open",e),n("update:opened",!0)},u=function(e){n("panel:opened",e)},p=function(e){o=!1,s=!0,n("panel:close",e)},d=function(e){s=!1,n("panel:closed",e),n("update:opened",!1)},f=function(e){n("click",e),n("panel:backdropclick",e)},h=function(e){n("panel:swipe",e)},m=function(e){n("panel:swipeopen",e)},g=function(e){l=!0,i=!1,n("panel:breakpoint",e)},v=function(e){l=!1,i=!0,n("panel:collapsedbreakpoint",e)},b=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,["panel:resize"].concat(t))};Gn((function(){return e.resizable}),(function(e){a&&(e?a.enableResizable():a.disableResizable())})),Gn((function(){return e.opened}),(function(e){a&&(e?a.open():a.close())})),ya((function(){Eg((function(){var t=fg.$;if(t){0===t(".panel-backdrop").length&&t('<div class="panel-backdrop"></div>').insertBefore(r.value);var n=ig({el:r.value,resizable:e.resizable,backdrop:e.backdrop,backdropEl:e.backdropEl,containerEl:e.containerEl,visibleBreakpoint:e.visibleBreakpoint,collapsedBreakpoint:e.collapsedBreakpoint,swipe:e.swipe,swipeNoFollow:e.swipeNoFollow,swipeOnlyClose:e.swipeOnlyClose,swipeActiveArea:e.swipeActiveArea,swipeThreshold:e.swipeThreshold,on:{open:c,opened:u,close:p,closed:d,backdropClick:f,swipe:h,swipeOpen:m,collapsedBreakpoint:v,breakpoint:g,resize:b}});a=fg.panel.create(n),e.opened&&a.open(!1)}}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var y=mo((function(){var t,n=e.side||(e.left?"left":"right"),a=e.effect||(e.reveal?"reveal":e.push?"push":"cover");return dg("panel",((t={"panel-in":o&&!s&&!l,"panel-in-breakpoint":l,"panel-in-collapsed":i,"panel-resizable":e.resizable})["panel-"+n]=n,t["panel-"+a]=a,t),Ig(e))}));return{elRef:r,classes:y}}};function sx(){return sx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sx.apply(this,arguments)}var ix={name:"f7-photo-browser",props:{init:{type:Boolean,default:!0},params:Object,photos:Array,exposition:{type:Boolean,default:!0},expositionHideCaptions:{type:Boolean,default:!1},type:{type:String},navbar:{type:Boolean,default:!0},toolbar:{type:Boolean,default:!0},theme:{type:String},captionsTheme:{type:String},iconsColor:{type:String},swipeToClose:{type:Boolean,default:!0},pageBackLinkText:{type:String,default:void 0},popupCloseLinkText:{type:String,default:void 0},navbarOfText:{type:String,default:void 0},navbarShowCount:{type:Boolean,default:void 0},swiper:{type:Object},url:{type:String},routableModals:{type:Boolean,default:!1},virtualSlides:{type:Boolean,default:!0},view:[String,Object],renderNavbar:Function,renderToolbar:Function,renderCaption:Function,renderObject:Function,renderLazyPhoto:Function,renderPhoto:Function,renderPage:Function,renderPopup:Function,renderStandalone:Function},emits:["photobrowser:open","photobrowser:close","photobrowser:opened","photobrowser:closed","photobrowser:swipetoclose"],setup:function(e,t){var n=t.emit,a=null;return Gn((function(){return e.photos}),(function(e){var t=a;t&&(t.params.photos=e,t.opened&&t.swiper&&t.swiper.update())})),ya((function(){e.init&&Eg((function(){var t;void 0!==e.params?t=e.params:delete(t=sx({},e)).params,Object.keys(t).forEach((function(e){void 0!==t[e]&&""!==t[e]||delete t[e]})),t=pg({},t,{on:{open:function(){n("photobrowser:open")},close:function(){n("photobrowser:close")},opened:function(){n("photobrowser:opened")},closed:function(){n("photobrowser:closed")},swipeToClose:function(){n("photobrowser:swipetoclose")}}}),a=fg.photoBrowser.create(t)}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null})),{open:function(e){return a.open(e)},close:function(){return a.close()},expositionToggle:function(){return a.expositionToggle()},expositionEnable:function(){return a.expositionEnable()},expositionDisable:function(){return a.expositionDisable()}}},render:function(){return null}};var lx={name:"f7-pie-chart",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[(yr(),Sr("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"-"+e.size/3+" -"+e.size/3+" "+2*e.size/3+" "+2*e.size/3,style:{transform:"rotate(-90deg)"}},[(yr(!0),Sr(fr,null,Wr(e.paths,(function(n,a){return yr(),Sr("path",{key:n.label||a,d:n.points,fill:n.color,"data-index":a,class:e.classNames({"pie-chart-hidden":null!==e.currentIndex&&e.currentIndex!==a}),onClick:function(t){return e.setCurrentIndex(a)},onMouseenter:function(t){return e.setCurrentIndex(a)},onMouseleave:t[1]||(t[1]=function(t){return e.setCurrentIndex(null)})},null,42,["d","fill","data-index","onClick","onMouseenter"])})),128))],12,["width","height","viewBox"])),Ur(e.$slots,"default")],2)},props:{size:{type:Number,default:320},tooltip:Boolean,datasets:{type:Array,default:function(){return[]}},formatTooltip:Function},emits:["select"],setup:function(e,t){var n=t.emit,a=Vt(null),r=null,o=Vt(null),s=mo((function(){var t=0;return e.datasets.map((function(e){return e.value||0})).forEach((function(e){t+=e})),t})),i=mo((function(){var t=[],n=0;function a(t){return[Math.cos(2*Math.PI*t)*(e.size/3),Math.sin(2*Math.PI*t)*(e.size/3)]}return e.datasets.forEach((function(r){var o=r.value,i=r.label,l=r.color,c=o/s.value,u=a(n),p=u[0],d=u[1],f=a(n+=c),h=f[0],m=f[1],g=c>.5?1:0,v=["M "+p+" "+d,"A "+e.size/3+" "+e.size/3+" 0 "+g+" 1 "+h+" "+m,"L 0 0"].join(" ");t.push({points:v,label:i,color:l})})),t})),l=function(){if(null===o.value)return"";var t=e.datasets[o.value],n=t.value,a=t.label,r=t.color,i=n/s.value*100,l=function(e){return parseInt(e,10)===e?e:Math.round(100*e)/100};return e.formatTooltip?e.formatTooltip({index:o.value,value:n,label:a,color:r,percentage:i}):'\n      <div class="pie-chart-tooltip-label">\n        <span class="pie-chart-tooltip-color" style="background-color: '+r+';"></span> '+((a?a+": ":"")+l(n)+" ("+l(i)+"%)")+"\n      </div>\n    "};Gn((function(){return o.value}),(function(){n("select",o.value,e.datasets[o.value]),function(){var t=o.value;(null!==t||r)&&e.tooltip&&a.value&&fg&&(null===t||r?r&&(null!==t?(r.setText(l()),r.setTargetEl(a.value.querySelector('path[data-index="'+t+'"]')),r.show()):r.hide()):(r=fg.tooltip.create({trigger:"manual",containerEl:a.value,targetEl:a.value.querySelector('path[data-index="'+t+'"]'),text:l(),cssClass:"pie-chart-tooltip"})).show())}()})),Ca((function(){r&&r.destroy&&r.destroy(),r=null}));var c=mo((function(){return dg("pie-chart")}));return{elRef:a,currentIndex:o,classes:c,paths:i,classNames:dg,setCurrentIndex:function(e){o.value=e}}}};function cx(){return cx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cx.apply(this,arguments)}var ux=Pr("div",{class:"popover-angle"},null,-1),px={class:"popover-inner"};var dx={name:"f7-popover",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[ux,Pr("div",px,[Ur(e.$slots,"default")])],2)},props:cx({opened:Boolean,animate:{type:Boolean,default:void 0},targetEl:{type:[String,Object],default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Ng),emits:["popover:open","popover:opened","popover:close","popover:closed","update:opened"],setup:function(e,t){var n=t.emit,a=Vt(null),r=e.opened,o=!1,s=Vt(null),i=function(e){r=!0,o=!1,n("popover:open",e),n("update:opened",!0)},l=function(e){n("popover:opened",e)},c=function(e){r=!1,o=!0,n("popover:close",e)},u=function(e){o=!1,n("popover:closed",e),n("update:opened",!1)};Gn((function(){return e.opened}),(function(e){a.value&&(e?a.value.open():a.value.close())})),ya((function(){if(s.value){var t={el:s.value,on:{open:i,opened:l,close:c,closed:u}},n=e.targetEl,r=e.closeByBackdropClick,o=e.closeByOutsideClick,p=e.closeOnEscape,d=e.backdrop,f=e.backdropEl,h=e.containerEl;void 0!==n&&(t.targetEl=n),void 0!==r&&(t.closeByBackdropClick=r),void 0!==o&&(t.closeByOutsideClick=o),void 0!==p&&(t.closeOnEscape=p),void 0!==d&&(t.backdrop=d),void 0!==f&&(t.backdropEl=f),void 0!==h&&(t.containerEl=h),Eg((function(){a.value=fg.popover.create(t),e.opened&&a.value.open(n,!1)}))}})),Ca((function(){a.value&&a.value.destroy(),a.value=null}));var p=mo((function(){return dg("popover",ev({isOpened:r,isClosing:o}),Ig(e))}));return{elRef:s,classes:p}}};function fx(){return fx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fx.apply(this,arguments)}var hx={name:"f7-popup",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"default")],2)},props:fx({tabletFullscreen:Boolean,opened:Boolean,animate:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},swipeToClose:{type:[Boolean,String],default:!1},swipeHandler:{type:[String,Object],default:void 0},push:Boolean,containerEl:{type:[String,Object],default:void 0}},Ng),emits:["popup:swipestart","popup:swipemove","popup:swipeend","popup:swipeclose","popup:open","popup:opened","popup:close","popup:closed","update:opened"],setup:function(e,t){var n=t.emit,a=Vt(null),r=e.opened,o=!1,s=Vt(null),i=function(e){n("popup:swipestart",e)},l=function(e){n("popup:swipemove",e)},c=function(e){n("popup:swipeend",e)},u=function(e){n("popup:swipeclose",e)},p=function(e){r=!0,o=!1,n("popup:open",e),n("update:opened",!0)},d=function(e){n("popup:opened",e)},f=function(e){r=!1,o=!0,n("popup:close",e)},h=function(e){o=!1,n("popup:closed",e),n("update:opened",!1)};Gn((function(){return e.opened}),(function(e){a.value&&(e?a.value.open():a.value.close())})),ya((function(){if(s.value){var t={el:s.value,on:{swipeStart:i,swipeMove:l,swipeEnd:c,swipeClose:u,open:p,opened:d,close:f,closed:h}},n=e.closeByBackdropClick,r=e.closeOnEscape,o=e.animate,m=e.backdrop,g=e.backdropEl,v=e.swipeToClose,b=e.swipeHandler,y=e.containerEl;void 0!==n&&(t.closeByBackdropClick=n),void 0!==r&&(t.closeOnEscape=r),void 0!==o&&(t.animate=o),void 0!==m&&(t.backdrop=m),void 0!==g&&(t.backdropEl=g),void 0!==v&&(t.swipeToClose=v),void 0!==b&&(t.swipeHandler=b),void 0!==y&&(t.containerEl=y),Eg((function(){a.value=fg.popup.create(t),e.opened&&a.value.open(!1)}))}})),Ca((function(){a.value&&a.value.destroy(),a.value=null}));var m=mo((function(){return dg("popup",{"popup-tablet-fullscreen":e.tabletFullscreen,"popup-push":e.push},ev({isOpened:r,isClosing:o}),Ig(e))}));return{elRef:s,classes:m}}};function mx(){return mx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mx.apply(this,arguments)}var gx={name:"f7-progressbar",render:function(e,t){return yr(),Sr("span",{ref:"elRef",class:e.classes,"data-progress":e.progress},[Pr("span",{style:e.transformStyle},null,4)],10,["data-progress"])},props:mx({progress:Number,infinite:Boolean},Ng),setup:function(e){var t=Vt(null),n=mo((function(){return{transform:e.progress?"translate3d("+(-100+e.progress)+"%, 0, 0)":"",WebkitTransform:e.progress?"translate3d("+(-100+e.progress)+"%, 0, 0)":""}}));return{classes:mo((function(){return dg("progressbar",{"progressbar-infinite":e.infinite},Ig(e))})),set:function(e,n){fg&&fg.progressbar.set(t.value,e,n)},transformStyle:n,elRef:t}}};function vx(){return vx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vx.apply(this,arguments)}var bx=Pr("i",{class:"icon-radio"},null,-1);var yx={name:"f7-radio",render:function(e,t){return yr(),Sr("label",{class:e.classes},[Pr("input",{ref:"inputElRef",type:"radio",name:e.name,value:e.value,disabled:e.disabled,readonly:e.readonly,checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","value","disabled","readonly","checked"]),bx,Ur(e.$slots,"default")],2)},props:vx({checked:Boolean,name:[Number,String],value:{type:[Number,String,Boolean],default:void 0},disabled:Boolean,readonly:Boolean},Ng),emits:["update:checked","change"],setup:function(e,t){var n=t.emit;return{inputElRef:Vt(null),classes:mo((function(){return dg({radio:!0,disabled:e.disabled},Ig(e))})),onChange:function(e){n("update:checked",e.target.checked),n("change",e)}}}};function xx(){return xx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xx.apply(this,arguments)}var wx={key:0,class:"resize-handler"};var Cx={name:"f7-row",render:function(e,t){return yr(),Sr(ur(e.tag),{ref:"elRef",class:e.classes},{default:_n((function(){return[Ur(e.$slots,"default"),e.resizable&&e.resizableHandler?(yr(),Sr("span",wx)):Dr("",!0)]})),_:3},8,["class"])},props:xx({noGap:Boolean,tag:{type:String,default:"div"},resizable:Boolean,resizableFixed:Boolean,resizableAbsolute:Boolean,resizableHandler:{type:Boolean,default:!0}},Ng),emits:["grid:resize"],setup:function(e,t){var n=t.emit,a=Vt(null),r=function(e){e===a.value&&n("grid:resize")};return ya((function(){Eg((function(){fg.on("gridResize",r)}))})),Ca((function(){fg.off("gridResize",r)})),{classes:mo((function(){return dg("row",{"no-gap":e.noGap,resizable:e.resizable,"resizable-fixed":e.resizableFixed,"resizable-absolute":e.resizableAbsolute},Ig(e))})),elRef:a}}};function kx(){return kx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kx.apply(this,arguments)}var Ex={class:"searchbar-inner"},Sx={class:"searchbar-input-wrap"},Tx=Pr("i",{class:"searchbar-icon"},null,-1);var $x={name:"f7-searchbar",render:function(e,t){return yr(),Sr(ur(e.tag),{ref:"elRef",class:e.classes,onSubmit:e.onSubmit},{default:_n((function(){return[Ur(e.$slots,"before-inner"),Pr("div",Ex,[Ur(e.$slots,"inner-start"),Pr("div",Sx,[Ur(e.$slots,"input-wrap-start"),Pr("input",{value:e.value,placeholder:e.placeholder,spellcheck:e.spellcheck,type:"search",onInput:t[1]||(t[1]=function(){return e.onInput&&e.onInput.apply(e,arguments)}),onChange:t[2]||(t[2]=function(){return e.onChange&&e.onChange.apply(e,arguments)}),onFocus:t[3]||(t[3]=function(){return e.onFocus&&e.onFocus.apply(e,arguments)}),onBlur:t[4]||(t[4]=function(){return e.onBlur&&e.onBlur.apply(e,arguments)})},null,40,["value","placeholder","spellcheck"]),Tx,e.clearButton?(yr(),Sr("span",{key:0,class:"input-clear-button",onClick:t[5]||(t[5]=function(){return e.onClearButtonClick&&e.onClearButtonClick.apply(e,arguments)})})):Dr("",!0),Ur(e.$slots,"input-wrap-end")]),e.disableButton?(yr(),Sr("span",{key:0,class:"searchbar-disable-button",onClick:t[6]||(t[6]=function(){return e.onDisableButtonClick&&e.onDisableButtonClick.apply(e,arguments)})},A(e.disableButtonText),1)):Dr("",!0),Ur(e.$slots,"inner-end"),Ur(e.$slots,"default")]),Ur(e.$slots,"after-inner")]})),_:3},8,["class","onSubmit"])},props:kx({noShadow:Boolean,noHairline:Boolean,form:{type:Boolean,default:!0},placeholder:{type:String,default:"Search"},spellcheck:{type:Boolean,default:void 0},disableButton:{type:Boolean,default:!0},disableButtonText:{type:String,default:"Cancel"},clearButton:{type:Boolean,default:!0},value:[String,Number,Array],inputEvents:{type:String,default:"change input compositionend"},expandable:Boolean,inline:Boolean,searchContainer:[String,Object],searchIn:{type:String,default:".item-title"},searchItem:{type:String,default:"li"},searchGroup:{type:String,default:".list-group"},searchGroupTitle:{type:String,default:".item-divider, .list-group-title"},foundEl:{type:[String,Object],default:".searchbar-found"},notFoundEl:{type:[String,Object],default:".searchbar-not-found"},backdrop:{type:Boolean,default:void 0},backdropEl:[String,Object],hideOnEnableEl:{type:[String,Object],default:".searchbar-hide-on-enable"},hideOnSearchEl:{type:[String,Object],default:".searchbar-hide-on-search"},ignore:{type:String,default:".searchbar-ignore"},customSearch:{type:Boolean,default:!1},removeDiacritics:{type:Boolean,default:!1},hideDividers:{type:Boolean,default:!0},hideGroups:{type:Boolean,default:!0},init:{type:Boolean,default:!0}},Ng),emits:["change","input","focus","blur","submit","click:clear","click:disable","searchbar:search","searchbar:clear","searchbar:enable","searchbar:disable","update:value"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null);ya((function(){e.init&&Eg((function(){var t=ig({el:r.value,inputEvents:e.inputEvents,searchContainer:e.searchContainer,searchIn:e.searchIn,searchItem:e.searchItem,searchGroup:e.searchGroup,searchGroupTitle:e.searchGroupTitle,hideOnEnableEl:e.hideOnEnableEl,hideOnSearchEl:e.hideOnSearchEl,foundEl:e.foundEl,notFoundEl:e.notFoundEl,backdrop:e.backdrop,backdropEl:e.backdropEl,disableButton:e.disableButton,ignore:e.ignore,customSearch:e.customSearch,removeDiacritics:e.removeDiacritics,hideDividers:e.hideDividers,hideGroups:e.hideGroups,expandable:e.expandable,inline:e.inline,on:{search:function(e,t,a){n("searchbar:search",e,t,a)},clear:function(e,t){n("searchbar:clear",e,t)},enable:function(e){n("searchbar:enable",e)},disable:function(e){n("searchbar:disable",e)}}});Object.keys(t).forEach((function(e){""===t[e]&&delete t[e]})),a=fg.searchbar.create(t)}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var o=mo((function(){return dg("searchbar",{"searchbar-inline":e.inline,"no-shadow":e.noShadow,"no-hairline":e.noHairline,"searchbar-expandable":e.expandable},Ig(e))})),s=mo((function(){return e.form?"form":"div"}));return{elRef:r,tag:s,classes:o,search:function(e){if(a)return a.search(e)},enable:function(){if(a)return a.enable()},disable:function(){if(a)return a.disable()},toggle:function(){if(a)return a.toggle()},clear:function(){if(a)return a.clear()},onChange:function(e){n("change",e)},onInput:function(e){n("input",e),n("update:value",e.target.value)},onFocus:function(e){n("focus",e)},onBlur:function(e){n("blur",e)},onSubmit:function(e){n("submit",e)},onClearButtonClick:function(e){n("click:clear",e)},onDisableButtonClick:function(e){n("click:disable",e)}}}};function Ox(){return Ox=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ox.apply(this,arguments)}var Ix={key:0,class:"segmented-highlight"};var Nx={name:"f7-segmented",render:function(e,t){return yr(),Sr(ur(e.tag),{class:e.classes},{default:_n((function(){return[Ur(e.$slots,"default"),e.strong||e.strongIos||e.strongMd||e.strongAurora?(yr(),Sr("span",Ix)):Dr("",!0)]})),_:3},8,["class"])},props:Ox({raised:Boolean,raisedIos:Boolean,raisedMd:Boolean,raisedAurora:Boolean,round:Boolean,roundIos:Boolean,roundMd:Boolean,roundAurora:Boolean,strong:Boolean,strongIos:Boolean,strongMd:Boolean,strongAurora:Boolean,tag:{type:String,default:"div"}},Ng),setup:function(e){return{classes:mo((function(){return dg({segmented:!0,"segmented-raised":e.raised,"segmented-raised-ios":e.raisedIos,"segmented-raised-aurora":e.raisedAurora,"segmented-raised-md":e.raisedMd,"segmented-round":e.round,"segmented-round-ios":e.roundIos,"segmented-round-aurora":e.roundAurora,"segmented-round-md":e.roundMd,"segmented-strong":e.strong,"segmented-strong-ios":e.strongIos,"segmented-strong-md":e.strongMd,"segmented-strong-aurora":e.strongAurora},Ig(e))}))}}};function Rx(){return Rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rx.apply(this,arguments)}var Px={name:"f7-sheet",props:Rx({opened:Boolean,animate:{type:Boolean,default:void 0},top:Boolean,bottom:Boolean,position:String,backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},push:Boolean,swipeToClose:{type:Boolean,default:void 0},swipeToStep:{type:Boolean,default:void 0},swipeHandler:{type:[String,Object],default:void 0},containerEl:{type:[String,Object],default:void 0}},Ng),emits:["sheet:stepprogress","sheet:stepopen","sheet:stepclose","sheet:open","sheet:opened","sheet:close","sheet:closed","update:opened"],setup:function(e,t){var n=t.emit,a=t.slots,r=null,o=e.opened,s=!1,i=Vt(null),l=function(e,t){n("sheet:stepprogress",e,t)},c=function(e){n("sheet:stepopen",e)},u=function(e){n("sheet:stepclose",e)},p=function(e){o=!0,s=!1,n("sheet:open",e),n("update:opened",!0)},d=function(e){n("sheet:opened",e)},f=function(e){o=!1,s=!0,n("sheet:close",e)},h=function(e){s=!1,n("sheet:closed",e),n("update:opened",!1)};ya((function(){if(i.value){var t={el:i.value,on:{open:p,opened:d,close:f,closed:h,stepOpen:c,stepClose:u,stepProgress:l}},n=e.animate,a=e.backdrop,o=e.backdropEl,s=e.closeByBackdropClick,m=e.closeByOutsideClick,g=e.closeOnEscape,v=e.swipeToClose,b=e.swipeToStep,y=e.swipeHandler,x=e.containerEl;void 0!==n&&(t.animate=n),void 0!==a&&(t.backdrop=a),void 0!==o&&(t.backdropEl=o),void 0!==s&&(t.closeByBackdropClick=s),void 0!==m&&(t.closeByOutsideClick=m),void 0!==g&&(t.closeOnEscape=g),void 0!==v&&(t.swipeToClose=v),void 0!==b&&(t.swipeToStep=b),void 0!==y&&(t.swipeHandler=y),void 0!==x&&(t.containerEl=x),Eg((function(){r=fg.sheet.create(t),e.opened&&r.open(!1)}))}})),Ca((function(){r&&r.destroy(),r=null})),Gn((function(){return e.opened}),(function(e){r&&(e?r.open():r.close())})),["closeByBackdropClick","closeByOutsideClick","closeOnEscape","swipeToClose"].forEach((function(t){Gn((function(){return e[t]}),(function(e){r&&(r.params[t]=e)}))}));var m=mo((function(){var t="bottom";return e.position?t=e.position:e.top?t="top":e.bottom&&(t="bottom"),dg("sheet-modal","sheet-modal-"+t,{"sheet-modal-push":e.push},ev({isOpened:o,isClosing:s}),Ig(e))})),g="navbar toolbar tabbar subnavbar searchbar messagebar fab list-index panel".split(" ").map((function(e){return"f7-"+e}));return function(){var e=[],t=[];return a.default&&a.default().forEach((function(n){if(void 0!==n){var a=n.type&&n.type.name?n.type.name:n.type;g.indexOf(a)>=0?e.push(n):t.push(n)}})),go("div",{class:m.value,ref:i},[e,a.fixed&&a.fixed(),go("div",{class:"sheet-modal-inner"},[t,a.static&&a.static()])])}}};var Mx=function(e,t,n,a){const r=.5*Math.min(n,a),o=r/t;return e.replace(/([0-9,\.]{1,})/g,(e=>{e=e.split(",").map((e=>parseFloat(e)));const s=e[0]*o+n/2-t*o/2,i=e[1]*o+a/2-t*o/2;return r>=100?`${Math.round(s)},${Math.round(i)}`:`${s},${i}`}))},Bx={name:"skeleton-image",props:{tag:{type:String,default:"span"},width:{type:Number,default:1200},height:{type:Number,default:600},color:String,iconColor:String,showIcon:{type:Boolean,default:!0},effect:String,borderRadius:String},render(){const{tag:e,color:t,iconColor:n,showIcon:a,width:r,height:o,effect:s,borderRadius:i}=this;return go(e,{class:{"skeleton-image":!0,[`skeleton-effect-${s}`]:s}},[go("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:o,viewBox:`0 0 ${r} ${o}`,style:{borderRadius:i},preserveAspectRatio:"none"},[go("polygon",{style:{fill:t},fillRule:"evenodd",points:`0 0 ${r} 0 ${r} ${o} 0 ${o}`}),a&&go("path",{style:{fill:n},d:Mx("M7.7148,49.5742 L48.2852,49.5742 C53.1836,49.5742 55.6446,47.1367 55.6446,42.3086 L55.6446,13.6914 C55.6446,8.8633 53.1836,6.4258 48.2852,6.4258 L7.7148,6.4258 C2.8398,6.4258 0.3554,8.8398 0.3554,13.6914 L0.3554,42.3086 C0.3554,47.1602 2.8398,49.5742 7.7148,49.5742 Z M39.2851,27.9414 C38.2304,27.0039 37.0351,26.5118 35.7695,26.5118 C34.457,26.5118 33.3085,26.9571 32.2304,27.918 L21.6366,37.3867 L17.3007,33.4492 C16.3163,32.582 15.2617,32.1133 14.1366,32.1133 C13.1054,32.1133 12.0976,32.5586 11.1366,33.4258 L4.1288,39.7305 L4.1288,13.8789 C4.1288,11.4414 5.4413,10.1992 7.7851,10.1992 L48.2147,10.1992 C50.535,10.1992 51.8708,11.4414 51.8708,13.8789 L51.8708,39.7539 L39.2851,27.9414 Z M17.8163,28.1992 C20.8398,28.1992 23.3241,25.7149 23.3241,22.668 C23.3241,19.6445 20.8398,17.1367 17.8163,17.1367 C14.7695,17.1367 12.2851,19.6445 12.2851,22.668 C12.2851,25.7149 14.7695,28.1992 17.8163,28.1992 Z",56,r,o)})]),this.$slots.default&&this.$slots.default()])}},Ax={name:"skeleton-avatar",props:{tag:{type:String,default:"span"},size:{type:Number,default:48},borderRadius:{type:[String,Number],default:"50%"},color:String,iconColor:String,showIcon:{type:Boolean,default:!0},effect:String},render(){const{tag:e,color:t,iconColor:n,showIcon:a,size:r,borderRadius:o,effect:s}=this;return go(e,{class:{"skeleton-avatar":!0,[`skeleton-effect-${s}`]:s}},[go("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:`0 0 ${r} ${r}`,preserveAspectRatio:"none"},[go("rect",{style:{fill:t},fillRule:"evenodd",width:r,height:r,rx:o}),a&&go("path",{style:{fill:n},d:Mx("M28.22461,27.1590817 C34.9209931,27.1590817 40.6829044,21.1791004 40.6829044,13.3926332 C40.6829044,5.69958662 34.8898972,0 28.22461,0 C21.5594557,0 15.7663156,5.82423601 15.7663156,13.4549579 C15.7663156,21.1791004 21.5594557,27.1590817 28.22461,27.1590817 Z M8.66515427,56 L47.7841986,56 C52.6739629,56 54.4181241,54.5984253 54.4181241,51.8576005 C54.4181241,43.8219674 44.358068,32.7341519 28.22461,32.7341519 C12.0600561,32.7341519 2,43.8219674 2,51.8576005 C2,54.5984253 3.74402832,56 8.66515427,56 Z",56,r,r)})]),this.$slots.default&&this.$slots.default()])}},_x=Ax,Lx={name:"skeleton-block",props:{tag:{type:String,default:"div"},width:[String,Number],height:[String,Number],borderRadius:String,effect:String},render(){return go(this.tag,{class:{"skeleton-block":!0,[`skeleton-effect-${this.effect}`]:this.effect},style:{width:this.width,height:this.height,borderRadius:this.borderRadius}},this.$slots.default&&this.$slots.default())}},Dx=Bx,Fx={name:"skeleton-text",props:{tag:{type:String,default:"span"},effect:String},render(){return go(this.tag,{class:{"skeleton-text":!0,[`skeleton-effect-${this.effect}`]:this.effect}},this.$slots.default&&this.$slots.default())}};function zx(){return zx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zx.apply(this,arguments)}var Vx={key:0,class:"stepper-input-wrap"},Hx={key:1,class:"stepper-value"};var jx={name:"f7-stepper",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Pr("div",{class:"stepper-button-minus",onClick:t[1]||(t[1]=function(){return e.onMinusClick&&e.onMinusClick.apply(e,arguments)})}),e.input&&!e.buttonsOnly?(yr(),Sr("div",Vx,[Pr("input",{id:e.inputId,name:e.name,type:e.inputType,min:"number"===e.inputType?e.min:void 0,max:"number"===e.inputType?e.max:void 0,step:"number"===e.inputType?e.step:void 0,value:e.value,readonly:e.inputReadonly,onInput:t[2]||(t[2]=function(){return e.onInput&&e.onInput.apply(e,arguments)}),onChange:t[3]||(t[3]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["id","name","type","min","max","step","value","readonly"])])):Dr("",!0),e.input||e.buttonsOnly?Dr("",!0):(yr(),Sr("div",Hx,A(e.value),1)),Pr("div",{class:"stepper-button-plus",onClick:t[4]||(t[4]=function(){return e.onPlusClick&&e.onPlusClick.apply(e,arguments)})})],2)},props:zx({init:{type:Boolean,default:!0},value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},formatValue:Function,name:String,inputId:String,input:{type:Boolean,default:!0},inputType:{type:String,default:"text"},inputReadonly:{type:Boolean,default:!1},autorepeat:{type:Boolean,default:!1},autorepeatDynamic:{type:Boolean,default:!1},wraps:{type:Boolean,default:!1},manualInputMode:{type:Boolean,default:!1},decimalPoint:{type:Number,default:4},buttonsEndInputMode:{type:Boolean,default:!0},disabled:Boolean,buttonsOnly:Boolean,round:Boolean,roundMd:Boolean,roundIos:Boolean,roundAurora:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,fillAurora:Boolean,large:Boolean,largeMd:Boolean,largeIos:Boolean,largeAurora:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,smallAurora:Boolean,raised:Boolean,raisedMd:Boolean,raisedIos:Boolean,raisedAurora:Boolean},Ng),emits:["input","change","stepper:minusclick","stepper:plusclick","stepper:change","update:value"],setup:function(e,t){var n=t.emit,a=null,r=Vt(null);Gn((function(){return e.value}),(function(e){a&&a.setValue(e)})),ya((function(){Eg((function(){e.init&&r.value&&(a=fg.stepper.create(ig({el:r.value,min:e.min,max:e.max,value:e.value,step:e.step,formatValue:e.formatValue,autorepeat:e.autorepeat,autorepeatDynamic:e.autorepeatDynamic,wraps:e.wraps,manualInputMode:e.manualInputMode,decimalPoint:e.decimalPoint,buttonsEndInputMode:e.buttonsEndInputMode,on:{change:function(e,t){n("stepper:change",t),n("update:value",t)}}})))}))})),Ca((function(){a&&a.destroy&&a.destroy(),a=null}));var o=mo((function(){return dg("stepper",{disabled:e.disabled,"stepper-round":e.round,"stepper-round-ios":e.roundIos,"stepper-round-md":e.roundMd,"stepper-round-aurora":e.roundAurora,"stepper-fill":e.fill,"stepper-fill-ios":e.fillIos,"stepper-fill-md":e.fillMd,"stepper-fill-aurora":e.fillAurora,"stepper-large":e.large,"stepper-large-ios":e.largeIos,"stepper-large-md":e.largeMd,"stepper-large-aurora":e.largeAurora,"stepper-small":e.small,"stepper-small-ios":e.smallIos,"stepper-small-md":e.smallMd,"stepper-small-aurora":e.smallAurora,"stepper-raised":e.raised,"stepper-raised-ios":e.raisedIos,"stepper-raised-md":e.raisedMd,"stepper-raised-aurora":e.raisedAurora},Ig(e))}));return{elRef:r,classes:o,increment:function(){a&&a.increment()},decrement:function(){a&&a.decrement()},setValue:function(e){a&&a.setValue&&a.setValue(e)},getValue:function(){if(a&&a.getValue)return a.getValue()},onInput:function(e){n("input",e,a)},onChange:function(e){n("change",e,a)},onMinusClick:function(e){n("stepper:minusclick",e,a)},onPlusClick:function(e){n("stepper:plusclick",e,a)}}}};function Wx(){return Wx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wx.apply(this,arguments)}var Ux={key:0,class:"subnavbar-inner"},Gx={key:0,class:"subnavbar-title"};var qx={name:"f7-subnavbar",render:function(e,t){return yr(),Sr("div",{class:e.classes},[e.inner?(yr(),Sr("div",Ux,[e.title?(yr(),Sr("div",Gx,A(e.title),1)):Dr("",!0),Ur(e.$slots,"default")])):Ur(e.$slots,"default",{key:1})],2)},props:Wx({sliding:Boolean,title:String,inner:{type:Boolean,default:!0}},Ng),setup:function(e){return{classes:mo((function(){return dg("subnavbar",{sliding:e.sliding},Ig(e))}))}}};function Xx(){return Xx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xx.apply(this,arguments)}var Yx={name:"f7-swipeout-actions",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:Xx({left:Boolean,right:Boolean,side:String},Ng),setup:function(e){var t=mo((function(){var t=e.side;return t||(e.left&&(t="left"),e.right&&(t="right")),t}));return{classes:mo((function(){return dg("swipeout-actions-"+t.value,Ig(e))}))}}};function Kx(){return Kx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kx.apply(this,arguments)}var Qx={name:"f7-swipeout-button",render:function(e,t){return yr(),Sr("a",{href:e.href||"#","data-confirm":e.confirmText||void 0,"data-confirm-title":e.confirmTitle||void 0,class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[_r(A(e.text)+" ",1),Ur(e.$slots,"default")],10,["href","data-confirm","data-confirm-title"])},props:Kx({text:String,confirmTitle:String,confirmText:String,overswipe:Boolean,close:Boolean,delete:Boolean,href:String},Ng),emits:["click"],setup:function(e,t){var n=t.emit;return{classes:mo((function(){return dg({"swipeout-overswipe":e.overswipe,"swipeout-delete":e.delete,"swipeout-close":e.close},Ig(e))})),onClick:function(e){n("click",e)}}}};function Zx(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Jx(e={},t={}){Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:Zx(t[n])&&Zx(e[n])&&Object.keys(t[n]).length>0&&Jx(e[n],t[n])}))}const ew={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tw(){const e="undefined"!=typeof document?document:{};return Jx(e,ew),e}const aw={document:ew,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function rw(){const e="undefined"!=typeof window?window:{};return Jx(e,aw),e}class ow extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function sw(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...sw(e)):t.push(e)})),t}function iw(e,t){return Array.prototype.filter.call(e,t)}function lw(e,t){const n=rw(),a=tw();let r=[];if(!t&&e instanceof ow)return e;if(!e)return new ow(r);if("string"==typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=a.createElement(e);t.innerHTML=n;for(let e=0;e<t.childNodes.length;e+=1)r.push(t.childNodes[e])}else r=function(e,t){if("string"!=typeof e)return[e];const n=[],a=t.querySelectorAll(e);for(let e=0;e<a.length;e+=1)n.push(a[e]);return n}(e.trim(),t||a)}else if(e.nodeType||e===n||e===a)r.push(e);else if(Array.isArray(e)){if(e instanceof ow)return e;r=e}return new ow(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(r))}lw.fn=ow.prototype;const cw="resize scroll".split(" ");function uw(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)cw.indexOf(e)<0&&(e in this[t]?this[t][e]():lw(this[t]).trigger(e));return this}return this.on(e,...t)}}uw("click"),uw("blur"),uw("focus"),uw("focusin"),uw("focusout"),uw("keyup"),uw("keydown"),uw("keypress"),uw("submit"),uw("change"),uw("mousedown"),uw("mousemove"),uw("mouseup"),uw("mouseenter"),uw("mouseleave"),uw("mouseout"),uw("mouseover"),uw("touchstart"),uw("touchend"),uw("touchmove"),uw("resize"),uw("scroll");const pw={addClass:function(...e){const t=sw(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=sw(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=sw(e.map((e=>e.split(" "))));return iw(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=sw(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,n,a,r]=e;function o(e){const t=e.target;if(!t)return;const r=e.target.dom7EventData||[];if(r.indexOf(e)<0&&r.unshift(e),lw(t).is(n))a.apply(t,r);else{const e=lw(t).parents();for(let t=0;t<e.length;t+=1)lw(e[t]).is(n)&&a.apply(e[t],r)}}function s(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"==typeof e[1]&&([t,a,r]=e,n=void 0),r||(r=!1);const i=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(l=0;l<i.length;l+=1){const e=i[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:a,proxyListener:o}),t.addEventListener(e,o,r)}else for(l=0;l<i.length;l+=1){const e=i[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:a,proxyListener:s}),t.addEventListener(e,s,r)}}return this},off:function(...e){let[t,n,a,r]=e;"function"==typeof e[1]&&([t,a,r]=e,n=void 0),r||(r=!1);const o=t.split(" ");for(let e=0;e<o.length;e+=1){const t=o[e];for(let e=0;e<this.length;e+=1){const o=this[e];let s;if(!n&&o.dom7Listeners?s=o.dom7Listeners[t]:n&&o.dom7LiveListeners&&(s=o.dom7LiveListeners[t]),s&&s.length)for(let e=s.length-1;e>=0;e-=1){const n=s[e];a&&n.listener===a||a&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===a?(o.removeEventListener(t,n.proxyListener,r),s.splice(e,1)):a||(o.removeEventListener(t,n.proxyListener,r),s.splice(e,1))}}}return this},trigger:function(...e){const t=rw(),n=e[0].split(" "),a=e[1];for(let r=0;r<n.length;r+=1){const o=n[r];for(let n=0;n<this.length;n+=1){const r=this[n];if(t.CustomEvent){const n=new t.CustomEvent(o,{detail:a,bubbles:!0,cancelable:!0});r.dom7EventData=e.filter(((e,t)=>t>0)),r.dispatchEvent(n),r.dom7EventData=[],delete r.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function n(a){a.target===this&&(e.call(this,a),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=rw();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=rw(),t=tw(),n=this[0],a=n.getBoundingClientRect(),r=t.body,o=n.clientTop||r.clientTop||0,s=n.clientLeft||r.clientLeft||0,i=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:a.top+i-o,left:a.left+l-s}}return null},css:function(e,t){const n=rw();let a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(const t in e)this[a].style[t]=e[t];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,n)=>{e.apply(t,[t,n])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=rw(),n=tw(),a=this[0];let r,o;if(!a||void 0===e)return!1;if("string"==typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(r=lw(e),o=0;o<r.length;o+=1)if(r[o]===a)return!0;return!1}if(e===n)return a===n;if(e===t)return a===t;if(e.nodeType||e instanceof ow){for(r=e.nodeType?[e]:e,o=0;o<r.length;o+=1)if(r[o]===a)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return lw([]);if(e<0){const n=t+e;return lw(n<0?[]:[this[n]])}return lw([this[e]])},append:function(...e){let t;const n=tw();for(let a=0;a<e.length;a+=1){t=e[a];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const a=n.createElement("div");for(a.innerHTML=t;a.firstChild;)this[e].appendChild(a.firstChild)}else if(t instanceof ow)for(let n=0;n<t.length;n+=1)this[e].appendChild(t[n]);else this[e].appendChild(t)}return this},prepend:function(e){const t=tw();let n,a;for(n=0;n<this.length;n+=1)if("string"==typeof e){const r=t.createElement("div");for(r.innerHTML=e,a=r.childNodes.length-1;a>=0;a-=1)this[n].insertBefore(r.childNodes[a],this[n].childNodes[0])}else if(e instanceof ow)for(a=0;a<e.length;a+=1)this[n].insertBefore(e[a],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&lw(this[0].nextElementSibling).is(e)?lw([this[0].nextElementSibling]):lw([]):this[0].nextElementSibling?lw([this[0].nextElementSibling]):lw([]):lw([])},nextAll:function(e){const t=[];let n=this[0];if(!n)return lw([]);for(;n.nextElementSibling;){const a=n.nextElementSibling;e?lw(a).is(e)&&t.push(a):t.push(a),n=a}return lw(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&lw(t.previousElementSibling).is(e)?lw([t.previousElementSibling]):lw([]):t.previousElementSibling?lw([t.previousElementSibling]):lw([])}return lw([])},prevAll:function(e){const t=[];let n=this[0];if(!n)return lw([]);for(;n.previousElementSibling;){const a=n.previousElementSibling;e?lw(a).is(e)&&t.push(a):t.push(a),n=a}return lw(t)},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?lw(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return lw(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let a=this[n].parentNode;for(;a;)e?lw(a).is(e)&&t.push(a):t.push(a),a=a.parentNode}return lw(t)},closest:function(e){let t=this;return void 0===e?lw([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let n=0;n<this.length;n+=1){const a=this[n].querySelectorAll(e);for(let e=0;e<a.length;e+=1)t.push(a[e])}return lw(t)},children:function(e){const t=[];for(let n=0;n<this.length;n+=1){const a=this[n].children;for(let n=0;n<a.length;n+=1)e&&!lw(a[n]).is(e)||t.push(a[n])}return lw(t)},filter:function(e){return lw(iw(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(pw).forEach((e=>{Object.defineProperty(lw.fn,e,{value:pw[e],writable:!0})}));var dw=lw;function fw(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function hw(){return Date.now()}function mw(e,t){void 0===t&&(t="x");const n=rw();let a,r,o;const s=function(e){const t=rw();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===r?"":r)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=o.toString().split(",")),"x"===t&&(r=n.WebKitCSSMatrix?o.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(r=n.WebKitCSSMatrix?o.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),r||0}function gw(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function vw(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function bw(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const a=n<0||arguments.length<=n?void 0:arguments[n];if(null!=a&&!vw(a)){const n=Object.keys(Object(a)).filter((e=>t.indexOf(e)<0));for(let t=0,r=n.length;t<r;t+=1){const r=n[t],o=Object.getOwnPropertyDescriptor(a,r);void 0!==o&&o.enumerable&&(gw(e[r])&&gw(a[r])?a[r].__swiper__?e[r]=a[r]:bw(e[r],a[r]):!gw(e[r])&&gw(a[r])?(e[r]={},a[r].__swiper__?e[r]=a[r]:bw(e[r],a[r])):e[r]=a[r])}}}return e}function yw(e,t,n){e.style.setProperty(t,n)}function xw(e){let{swiper:t,targetPosition:n,side:a}=e;const r=rw(),o=-t.translate;let s,i=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=n>o?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,p=()=>{s=(new Date).getTime(),null===i&&(i=s);const e=Math.max(Math.min((s-i)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let d=o+c*(n-o);if(u(d,n)&&(d=n),t.wrapperEl.scrollTo({[a]:d}),u(d,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:d})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(p)};p()}let ww,Cw,kw;function Ew(){return ww||(ww=function(){const e=rw(),t=tw();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),ww}function Sw(e){return void 0===e&&(e={}),Cw||(Cw=function(e){let{userAgent:t}=void 0===e?{}:e;const n=Ew(),a=rw(),r=a.navigator.platform,o=t||a.navigator.userAgent,s={ios:!1,android:!1},i=a.screen.width,l=a.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===r;let h="MacIntel"===r;return!u&&h&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${i}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),h=!1),c&&!f&&(s.os="android",s.android=!0),(u||d||p)&&(s.os="ios",s.ios=!0),s}(e)),Cw}function Tw(){return kw||(kw=function(){const e=rw();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),kw}var $w={on(e,t,n){const a=this;if("function"!=typeof t)return a;const r=n?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][r](t)})),a},once(e,t,n){const a=this;if("function"!=typeof t)return a;function r(){a.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];t.apply(a,o)}return r.__emitterProxy=t,a.on(e,r,n)},onAny(e,t){const n=this;if("function"!=typeof e)return n;const a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[a](e),n},offAny(e){const t=this;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((a,r)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners)return e;let t,n,a;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),a=e):(t=o[0].events,n=o[0].data,a=o[0].context||e),n.unshift(a);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(a,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(a,n)}))})),e}};var Ow={updateSize:function(){const e=this;let t,n;const a=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a[0].clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:a[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(a.css("padding-left")||0,10)-parseInt(a.css("padding-right")||0,10),n=n-parseInt(a.css("padding-top")||0,10)-parseInt(a.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const a=e.params,{$wrapperEl:r,size:o,rtlTranslate:s,wrongRTL:i}=e,l=e.virtual&&a.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=r.children(`.${e.params.slideClass}`),p=l?e.virtual.slides.length:u.length;let d=[];const f=[],h=[];let m=a.slidesOffsetBefore;"function"==typeof m&&(m=a.slidesOffsetBefore.call(e));let g=a.slidesOffsetAfter;"function"==typeof g&&(g=a.slidesOffsetAfter.call(e));const v=e.snapGrid.length,b=e.slidesGrid.length;let y=a.spaceBetween,x=-m,w=0,C=0;if(void 0===o)return;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*o),e.virtualSize=-y,s?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),a.centeredSlides&&a.cssMode&&(yw(e.wrapperEl,"--swiper-centered-offset-before",""),yw(e.wrapperEl,"--swiper-centered-offset-after",""));const k=a.grid&&a.grid.rows>1&&e.grid;let E;k&&e.grid.initSlides(p);const S="auto"===a.slidesPerView&&a.breakpoints&&Object.keys(a.breakpoints).filter((e=>void 0!==a.breakpoints[e].slidesPerView)).length>0;for(let r=0;r<p;r+=1){E=0;const s=u.eq(r);if(k&&e.grid.updateSlide(r,s,p,t),"none"!==s.css("display")){if("auto"===a.slidesPerView){S&&(u[r].style[t("width")]="");const o=getComputedStyle(s[0]),i=s[0].style.transform,l=s[0].style.webkitTransform;if(i&&(s[0].style.transform="none"),l&&(s[0].style.webkitTransform="none"),a.roundLengths)E=e.isHorizontal()?s.outerWidth(!0):s.outerHeight(!0);else{const e=n(o,"width"),t=n(o,"padding-left"),a=n(o,"padding-right"),r=n(o,"margin-left"),i=n(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)E=e+r+i;else{const{clientWidth:n,offsetWidth:o}=s[0];E=e+t+a+r+i+(o-n)}}i&&(s[0].style.transform=i),l&&(s[0].style.webkitTransform=l),a.roundLengths&&(E=Math.floor(E))}else E=(o-(a.slidesPerView-1)*y)/a.slidesPerView,a.roundLengths&&(E=Math.floor(E)),u[r]&&(u[r].style[t("width")]=`${E}px`);u[r]&&(u[r].swiperSlideSize=E),h.push(E),a.centeredSlides?(x=x+E/2+w/2+y,0===w&&0!==r&&(x=x-o/2-y),0===r&&(x=x-o/2-y),Math.abs(x)<.001&&(x=0),a.roundLengths&&(x=Math.floor(x)),C%a.slidesPerGroup==0&&d.push(x),f.push(x)):(a.roundLengths&&(x=Math.floor(x)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(x),f.push(x),x=x+E+y),e.virtualSize+=E+y,w=E,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,s&&i&&("slide"===a.effect||"coverflow"===a.effect)&&r.css({width:`${e.virtualSize+a.spaceBetween}px`}),a.setWrapperSize&&r.css({[t("width")]:`${e.virtualSize+a.spaceBetween}px`}),k&&e.grid.updateWrapperSize(E,d,t),!a.centeredSlides){const t=[];for(let n=0;n<d.length;n+=1){let r=d[n];a.roundLengths&&(r=Math.floor(r)),d[n]<=e.virtualSize-o&&t.push(r)}d=t,Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-o)}if(0===d.length&&(d=[0]),0!==a.spaceBetween){const n=e.isHorizontal()&&s?"marginLeft":t("marginRight");u.filter(((e,t)=>!a.cssMode||t!==u.length-1)).css({[n]:`${y}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let e=0;h.forEach((t=>{e+=t+(a.spaceBetween?a.spaceBetween:0)})),e-=a.spaceBetween;const t=e-o;d=d.map((e=>e<0?-m:e>t?t+g:e))}if(a.centerInsufficientSlides){let e=0;if(h.forEach((t=>{e+=t+(a.spaceBetween?a.spaceBetween:0)})),e-=a.spaceBetween,e<o){const t=(o-e)/2;d.forEach(((e,n)=>{d[n]=e-t})),f.forEach(((e,n)=>{f[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:f,slidesSizesGrid:h}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){yw(e.wrapperEl,"--swiper-centered-offset-before",-d[0]+"px"),yw(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-h[h.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(p!==c&&e.emit("slidesLengthChange"),d.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==b&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),!(l||a.cssMode||"slide"!==a.effect&&"fade"!==a.effect)){const t=`${a.containerModifierClass}backface-hidden`,n=e.$el.hasClass(t);p<=a.maxBackfaceHiddenSlides?n||e.$el.addClass(t):n&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,n=[],a=t.virtual&&t.params.virtual.enabled;let r,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>a?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{n.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!a)break;n.push(s(e))}else n.push(s(t.activeIndex));for(r=0;r<n.length;r+=1)if(void 0!==n[r]){const e=n[r].offsetHeight;o=e>o?e:o}(o||0===o)&&t.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:a,rtlTranslate:r,snapGrid:o}=t;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;r&&(s=e),a.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<a.length;e+=1){const i=a[e];let l=i.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=a[0].swiperSlideOffset);const c=(s+(n.centeredSlides?t.minTranslate():0)-l)/(i.swiperSlideSize+n.spaceBetween),u=(s-o[0]+(n.centeredSlides?t.minTranslate():0)-l)/(i.swiperSlideSize+n.spaceBetween),p=-(s-l),d=p+t.slidesSizesGrid[e];(p>=0&&p<t.size-1||d>1&&d<=t.size||p<=0&&d>=t.size)&&(t.visibleSlides.push(i),t.visibleSlidesIndexes.push(e),a.eq(e).addClass(n.slideVisibleClass)),i.progress=r?-c:c,i.originalProgress=r?-u:u}t.visibleSlides=dw(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:s}=t;const i=o,l=s;0===a?(r=0,o=!0,s=!0):(r=(e-t.minTranslate())/a,o=r<=0,s=r>=1),Object.assign(t,{progress:r,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!i&&t.emit("reachBeginning toEdge"),s&&!l&&t.emit("reachEnd toEdge"),(i&&!o||l&&!s)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,$wrapperEl:a,activeIndex:r,realIndex:o}=e,s=e.virtual&&n.virtual.enabled;let i;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),i=s?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${r}"]`):t.eq(r),i.addClass(n.slideActiveClass),n.loop&&(i.hasClass(n.slideDuplicateClass)?a.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):a.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let l=i.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=t.eq(0),l.addClass(n.slideNextClass));let c=i.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===c.length&&(c=t.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?a.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):a.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?a.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):a.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:a,snapGrid:r,params:o,activeIndex:s,realIndex:i,snapIndex:l}=t;let c,u=e;if(void 0===u){for(let e=0;e<a.length;e+=1)void 0!==a[e+1]?n>=a[e]&&n<a[e+1]-(a[e+1]-a[e])/2?u=e:n>=a[e]&&n<a[e+1]&&(u=e+1):n>=a[e]&&(u=e);o.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(r.indexOf(n)>=0)c=r.indexOf(n);else{const e=Math.min(o.slidesPerGroupSkip,u);c=e+Math.floor((u-e)/o.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),u===s)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const p=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:c,realIndex:p,previousIndex:s,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),i!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,a=dw(e).closest(`.${n.slideClass}`)[0];let r,o=!1;if(a)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===a){o=!0,r=e;break}if(!a||!o)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(dw(a).attr("data-swiper-slide-index"),10):t.clickedIndex=r,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var Iw={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:a,$wrapperEl:r}=this;if(t.virtualTranslate)return n?-a:a;if(t.cssMode)return a;let o=mw(r[0],e);return n&&(o=-o),o||0},setTranslate:function(e,t){const n=this,{rtlTranslate:a,params:r,$wrapperEl:o,wrapperEl:s,progress:i}=n;let l,c=0,u=0;n.isHorizontal()?c=a?-e:e:u=e,r.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:r.virtualTranslate||o.transform(`translate3d(${c}px, ${u}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u;const p=n.maxTranslate()-n.minTranslate();l=0===p?0:(e-n.minTranslate())/p,l!==i&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,a,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===a&&(a=!0);const o=this,{params:s,wrapperEl:i}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(u=a&&e>l?l:a&&e<c?c:e,o.updateProgress(u),s.cssMode){const e=o.isHorizontal();if(0===t)i[e?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return xw({swiper:o,targetPosition:-u,side:e?"left":"top"}),!0;i.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function Nw(e){let{swiper:t,runCallbacks:n,direction:a,step:r}=e;const{activeIndex:o,previousIndex:s}=t;let i=a;if(i||(i=o>s?"next":o<s?"prev":"reset"),t.emit(`transition${r}`),n&&o!==s){if("reset"===i)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),"next"===i?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}var Rw={setTransition:function(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),Nw({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:a}=n;n.animating=!1,a.cssMode||(n.setTransition(0),Nw({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Pw={slideTo:function(e,t,n,a,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const o=this;let s=e;s<0&&(s=0);const{params:i,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:p,rtlTranslate:d,wrapperEl:f,enabled:h}=o;if(o.animating&&i.preventInteractionOnTransition||!h&&!a&&!r)return!1;const m=Math.min(o.params.slidesPerGroupSkip,s);let g=m+Math.floor((s-m)/o.params.slidesPerGroup);g>=l.length&&(g=l.length-1),(p||i.initialSlide||0)===(u||0)&&n&&o.emit("beforeSlideChangeStart");const v=-l[g];if(o.updateProgress(v),i.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),n=Math.floor(100*c[e]),a=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=n&&t<a-(a-n)/2?s=e:t>=n&&t<a&&(s=e+1):t>=n&&(s=e)}if(o.initialized&&s!==p){if(!o.allowSlideNext&&v<o.translate&&v<o.minTranslate())return!1;if(!o.allowSlidePrev&&v>o.translate&&v>o.maxTranslate()&&(p||0)!==s)return!1}let b;if(b=s>p?"next":s<p?"prev":"reset",d&&-v===o.translate||!d&&v===o.translate)return o.updateActiveIndex(s),i.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==i.effect&&o.setTranslate(v),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(i.cssMode){const e=o.isHorizontal(),n=d?v:-v;if(0===t){const t=o.virtual&&o.params.virtual.enabled;t&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),f[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{if(!o.support.smoothScroll)return xw({swiper:o,targetPosition:n,side:e?"left":"top"}),!0;f.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(v),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,a),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);const r=this;let o=e;return r.params.loop&&(o+=r.loopedSlides),r.slideTo(o,t,n,a)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const a=this,{animating:r,enabled:o,params:s}=a;if(!o)return a;let i=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(i=Math.max(a.slidesPerViewDynamic("current",!0),1));const l=a.activeIndex<s.slidesPerGroupSkip?1:i;if(s.loop){if(r&&s.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}return s.rewind&&a.isEnd?a.slideTo(0,e,t,n):a.slideTo(a.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const a=this,{params:r,animating:o,snapGrid:s,slidesGrid:i,rtlTranslate:l,enabled:c}=a;if(!c)return a;if(r.loop){if(o&&r.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=u(l?a.translate:-a.translate),d=s.map((e=>u(e)));let f=s[d.indexOf(p)-1];if(void 0===f&&r.cssMode){let e;s.forEach(((t,n)=>{p>=t&&(e=n)})),void 0!==e&&(f=s[e>0?e-1:e])}let h=0;if(void 0!==f&&(h=i.indexOf(f),h<0&&(h=a.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(h=h-a.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),r.rewind&&a.isBeginning){const r=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(r,e,t,n)}return a.slideTo(h,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===a&&(a=.5);const r=this;let o=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,o),i=s+Math.floor((o-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[i]){const e=r.snapGrid[i];l-e>(r.snapGrid[i+1]-e)*a&&(o+=r.params.slidesPerGroup)}else{const e=r.snapGrid[i-1];l-e<=(r.snapGrid[i]-e)*a&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:n}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,o=e.clickedIndex;if(t.loop){if(e.animating)return;r=parseInt(dw(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-a/2||o>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${r}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),fw((()=>{e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-a?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${r}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),fw((()=>{e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};var Mw={loopCreate:function(){const e=this,t=tw(),{params:n,$wrapperEl:a}=e,r=a.children().length>0?dw(a.children()[0].parentNode):a;r.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let o=r.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-o.length%n.slidesPerGroup;if(e!==n.slidesPerGroup){for(let a=0;a<e;a+=1){const e=dw(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);r.append(e)}o=r.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>o.length&&(e.loopedSlides=o.length);const s=[],i=[];o.each(((t,n)=>{const a=dw(t);n<e.loopedSlides&&i.push(t),n<o.length&&n>=o.length-e.loopedSlides&&s.push(t),a.attr("data-swiper-slide-index",n)}));for(let e=0;e<i.length;e+=1)r.append(dw(i[e].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let e=s.length-1;e>=0;e-=1)r.prepend(dw(s[e].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:a,allowSlidePrev:r,allowSlideNext:o,snapGrid:s,rtlTranslate:i}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-s[t]-e.getTranslate();if(t<a){l=n.length-3*a+t,l+=a;e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((i?-e.translate:e.translate)-c)}else if(t>=n.length-a){l=-n.length+t+a,l+=a;e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((i?-e.translate:e.translate)-c)}e.allowSlidePrev=r,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:n}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};var Bw={setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function Aw(e){const t=this,n=tw(),a=rw(),r=t.touchEventsData,{params:o,touches:s,enabled:i}=t;if(!i)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let c=dw(l.target);if("wrapper"===o.touchEventsTarget&&!c.closest(t.wrapperEl).length)return;if(r.isTouchEvent="touchstart"===l.type,!r.isTouchEvent&&"which"in l&&3===l.which)return;if(!r.isTouchEvent&&"button"in l&&l.button>0)return;if(r.isTouched&&r.isMoved)return;!!o.noSwipingClass&&""!==o.noSwipingClass&&l.target&&l.target.shadowRoot&&e.path&&e.path[0]&&(c=dw(e.path[0]));const u=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,p=!(!l.target||!l.target.shadowRoot);if(o.noSwiping&&(p?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==tw()&&n!==rw()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(u,l.target):c.closest(u)[0]))return void(t.allowClick=!0);if(o.swipeHandler&&!c.closest(o.swipeHandler)[0])return;s.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,s.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const d=s.currentX,f=s.currentY,h=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,m=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(h&&(d<=m||d>=a.innerWidth-m)){if("prevent"!==h)return;e.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=d,s.startY=f,r.touchStartTime=hw(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;c.is(r.focusableElements)&&(e=!1,"SELECT"===c[0].nodeName&&(r.isTouched=!1)),n.activeElement&&dw(n.activeElement).is(r.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const a=e&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!a||c[0].isContentEditable||l.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function _w(e){const t=tw(),n=this,a=n.touchEventsData,{params:r,touches:o,rtlTranslate:s,enabled:i}=n;if(!i)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!a.isTouched)return void(a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",l));if(a.isTouchEvent&&"touchmove"!==l.type)return;const c="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u="touchmove"===l.type?c.pageX:l.pageX,p="touchmove"===l.type?c.pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=u,void(o.startY=p);if(!n.allowTouchMove)return dw(l.target).is(a.focusableElements)||(n.allowClick=!1),void(a.isTouched&&(Object.assign(o,{startX:u,startY:p,currentX:u,currentY:p}),a.touchStartTime=hw()));if(a.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(p<o.startY&&n.translate<=n.maxTranslate()||p>o.startY&&n.translate>=n.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(u<o.startX&&n.translate<=n.maxTranslate()||u>o.startX&&n.translate>=n.minTranslate())return;if(a.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&dw(l.target).is(a.focusableElements))return a.isMoved=!0,void(n.allowClick=!1);if(a.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=u,o.currentY=p;const d=o.currentX-o.startX,f=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(d**2+f**2)<n.params.threshold)return;if(void 0===a.isScrolling){let e;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?a.isScrolling=!1:d*d+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,a.isScrolling=n.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",l),void 0===a.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(a.startMoving=!0)),a.isScrolling)return void(a.isTouched=!1);if(!a.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),a.isMoved||(r.loop&&!r.cssMode&&n.loopFix(),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),a.isMoved=!0;let h=n.isHorizontal()?d:f;o.diff=h,h*=r.touchRatio,s&&(h=-h),n.swipeDirection=h>0?"prev":"next",a.currentTranslate=h+a.startTranslate;let m=!0,g=r.resistanceRatio;if(r.touchReleaseOnEdges&&(g=0),h>0&&a.currentTranslate>n.minTranslate()?(m=!1,r.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+h)**g)):h<0&&a.currentTranslate<n.maxTranslate()&&(m=!1,r.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-h)**g)),m&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),n.allowSlidePrev||n.allowSlideNext||(a.currentTranslate=a.startTranslate),r.threshold>0){if(!(Math.abs(h)>r.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,a.currentTranslate=a.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function Lw(e){const t=this,n=t.touchEventsData,{params:a,touches:r,rtlTranslate:o,slidesGrid:s,enabled:i}=t;if(!i)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);a.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=hw(),u=c-n.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),u<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(n.lastClickTime=hw(),fw((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let p;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,p=a.followFinger?o?t.translate:-t.translate:-n.currentTranslate,a.cssMode)return;if(t.params.freeMode&&a.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});let d=0,f=t.slidesSizesGrid[0];for(let e=0;e<s.length;e+=e<a.slidesPerGroupSkip?1:a.slidesPerGroup){const t=e<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==s[e+t]?p>=s[e]&&p<s[e+t]&&(d=e,f=s[e+t]-s[e]):p>=s[e]&&(d=e,f=s[s.length-1]-s[s.length-2])}let h=null,m=null;a.rewind&&(t.isBeginning?m=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(h=0));const g=(p-s[d])/f,v=d<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(u>a.longSwipesMs){if(!a.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?h:d+v):t.slideTo(d)),"prev"===t.swipeDirection&&(g>1-a.longSwipesRatio?t.slideTo(d+v):null!==m&&g<0&&Math.abs(g)>a.longSwipesRatio?t.slideTo(m):t.slideTo(d))}else{if(!a.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(l.target===t.navigation.nextEl||l.target===t.navigation.prevEl)?l.target===t.navigation.nextEl?t.slideTo(d+v):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==h?h:d+v),"prev"===t.swipeDirection&&t.slideTo(null!==m?m:d))}}function Dw(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:r,snapGrid:o}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=r,e.allowSlideNext=a,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Fw(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function zw(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:a}=e;if(!a)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();r=0===o?0:(e.translate-e.minTranslate())/o,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let Vw=!1;function Hw(){}const jw=(e,t)=>{const n=tw(),{params:a,touchEvents:r,el:o,wrapperEl:s,device:i,support:l}=e,c=!!a.nested,u="on"===t?"addEventListener":"removeEventListener",p=t;if(l.touch){const t=!("touchstart"!==r.start||!l.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};o[u](r.start,e.onTouchStart,t),o[u](r.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),o[u](r.end,e.onTouchEnd,t),r.cancel&&o[u](r.cancel,e.onTouchEnd,t)}else o[u](r.start,e.onTouchStart,!1),n[u](r.move,e.onTouchMove,c),n[u](r.end,e.onTouchEnd,!1);(a.preventClicks||a.preventClicksPropagation)&&o[u]("click",e.onClick,!0),a.cssMode&&s[u]("scroll",e.onScroll),a.updateOnWindowResize?e[p](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Dw,!0):e[p]("observerUpdate",Dw,!0)};var Ww={attachEvents:function(){const e=this,t=tw(),{params:n,support:a}=e;e.onTouchStart=Aw.bind(e),e.onTouchMove=_w.bind(e),e.onTouchEnd=Lw.bind(e),n.cssMode&&(e.onScroll=zw.bind(e)),e.onClick=Fw.bind(e),a.touch&&!Vw&&(t.addEventListener("touchstart",Hw),Vw=!0),jw(e,"on")},detachEvents:function(){jw(this,"off")}};const Uw=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Gw={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:n,loopedSlides:a=0,params:r,$el:o}=e,s=r.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const i=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!i||e.currentBreakpoint===i)return;const l=(i in s?s[i]:void 0)||e.originalParams,c=Uw(e,r),u=Uw(e,l),p=r.enabled;c&&!u?(o.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(o.addClass(`${r.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===r.grid.fill)&&o.addClass(`${r.containerModifierClass}grid-column`),e.emitContainerClasses());const d=l.direction&&l.direction!==r.direction,f=r.loop&&(l.slidesPerView!==r.slidesPerView||d);d&&n&&e.changeDirection(),bw(e.params,l);const h=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!h?e.disable():!p&&h&&e.enable(),e.currentBreakpoint=i,e.emit("_beforeBreakpoint",l),f&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let a=!1;const r=rw(),o="window"===t?r.innerHeight:n.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<s.length;e+=1){const{point:o,value:i}=s[e];"window"===t?r.matchMedia(`(min-width: ${i}px)`).matches&&(a=o):i<=n.clientWidth&&(a=o)}return a||"max"}};var qw={addClasses:function(){const e=this,{classNames:t,params:n,rtl:a,$el:r,device:o,support:s}=e,i=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((a=>{e[a]&&n.push(t+a)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!s.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides}],n.containerModifierClass);t.push(...i),r.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};var Xw={loadImage:function(e,t,n,a,r,o){const s=rw();let i;function l(){o&&o()}dw(e).parent("picture")[0]||e.complete&&r?l():t?(i=new s.Image,i.onload=l,i.onerror=l,a&&(i.sizes=a),n&&(i.srcset=n),t&&(i.src=t)):l()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const a=e.imagesToLoad[n];e.loadImage(a,a.currentSrc||a.getAttribute("src"),a.srcset||a.getAttribute("srcset"),a.sizes||a.getAttribute("sizes"),!0,t)}}};var Yw={checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:a}=n;if(a){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},Kw={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Qw(e,t){return function(n){void 0===n&&(n={});const a=Object.keys(n)[0],r=n[a];"object"==typeof r&&null!==r?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===e[a]&&(e[a]={auto:!0}),a in e&&"enabled"in r?(!0===e[a]&&(e[a]={enabled:!0}),"object"!=typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),bw(t,n)):bw(t,n)):bw(t,n)}}const Zw={eventsEmitter:$w,update:Ow,translate:Iw,transition:Rw,slide:Pw,loop:Mw,grabCursor:Bw,events:Ww,breakpoints:Gw,checkOverflow:Yw,classes:qw,images:Xw},Jw={};class eC{constructor(){let e,t;for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?t=a[0]:[e,t]=a,t||(t={}),t=bw({},t),e&&!t.el&&(t.el=e),t.el&&dw(t.el).length>1){const e=[];return dw(t.el).each((n=>{const a=bw({},t,{el:n});e.push(new eC(a))})),e}const o=this;o.__swiper__=!0,o.support=Ew(),o.device=Sw({userAgent:t.userAgent}),o.browser=Tw(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const s={};o.modules.forEach((e=>{e({swiper:o,extendParams:Qw(t,s),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const i=bw({},Kw,s);return o.params=bw({},i,Jw,t),o.originalParams=bw({},o.params),o.passedParams=bw({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=dw,Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:dw(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return o.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},o.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:hw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const a=n.minTranslate(),r=(n.maxTranslate()-a)*e+a;n.translateTo(r,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((n=>{const a=e.getSlideClasses(n);t.push({slideEl:n,classNames:a}),e.emit("_slideClass",n,a)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:a,slidesGrid:r,slidesSizesGrid:o,size:s,activeIndex:i}=this;let l=1;if(n.centeredSlides){let e,t=a[i].swiperSlideSize;for(let n=i+1;n<a.length;n+=1)a[n]&&!e&&(t+=a[n].swiperSlideSize,l+=1,t>s&&(e=!0));for(let n=i-1;n>=0;n-=1)a[n]&&!e&&(t+=a[n].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let e=i+1;e<a.length;e+=1){(t?r[e]+o[e]-r[i]<s:r[e]-r[i]<s)&&(l+=1)}else for(let e=i-1;e>=0;e-=1){r[i]-r[e]<s&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let r;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(a(),e.params.autoHeight&&e.updateAutoHeight()):(r=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),r||a()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,a=n.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(`${n.params.containerModifierClass}${a}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}mount(e){const t=this;if(t.mounted)return!0;const n=dw(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=dw(e.shadowRoot.querySelector(a()));return t.children=e=>n.children(e),t}return n.children(a())})();if(0===r.length&&t.params.createElements){const e=tw().createElement("div");r=dw(e),e.className=t.params.wrapperClass,n.append(e),n.children(`.${t.params.slideClass}`).each((e=>{r.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:r,wrapperEl:r[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===r.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:a,$el:r,$wrapperEl:o,slides:s}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),a.loop&&n.loopDestroy(),t&&(n.removeClasses(),r.removeAttr("style"),o.removeAttr("style"),s&&s.length&&s.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){bw(Jw,e)}static get extendedDefaults(){return Jw}static get defaults(){return Kw}static installModule(e){eC.prototype.__modules__||(eC.prototype.__modules__=[]);const t=eC.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>eC.installModule(e))),eC):(eC.installModule(e),eC)}}Object.keys(Zw).forEach((e=>{Object.keys(Zw[e]).forEach((t=>{eC.prototype[t]=Zw[e][t]}))})),eC.use([function(e){let{swiper:t,on:n,emit:a}=e;const r=rw();let o=null,s=null;const i=()=>{t&&!t.destroyed&&t.initialized&&(a("beforeResize"),a("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&a("orientationchange")};n("init",(()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(o=new ResizeObserver((e=>{s=r.requestAnimationFrame((()=>{const{width:n,height:a}=t;let r=n,o=a;e.forEach((e=>{let{contentBoxSize:n,contentRect:a,target:s}=e;s&&s!==t.el||(r=a?a.width:(n[0]||n).inlineSize,o=a?a.height:(n[0]||n).blockSize)})),r===n&&o===a||i()}))})),o.observe(t.el)):(r.addEventListener("resize",i),r.addEventListener("orientationchange",l))})),n("destroy",(()=>{s&&r.cancelAnimationFrame(s),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null),r.removeEventListener("resize",i),r.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:a,emit:r}=e;const o=[],s=rw(),i=function(e,t){void 0===t&&(t={});const n=new(s.MutationObserver||s.WebkitMutationObserver)((e=>{if(1===e.length)return void r("observerUpdate",e[0]);const t=function(){r("observerUpdate",e[0])};s.requestAnimationFrame?s.requestAnimationFrame(t):s.setTimeout(t,0)}));n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),o.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)i(e[t])}i(t.$el[0],{childList:t.params.observeSlideChildren}),i(t.$wrapperEl[0],{attributes:!1})}})),a("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);var tC=eC;function nC(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function aC(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{void 0===e[n]?e[n]=t[n]:nC(t[n])&&nC(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:aC(e[n],t[n]):e[n]=t[n]}))}function rC(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function oC(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function sC(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function iC(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}const lC=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function cC(e){void 0===e&&(e={});const t={on:{}},n={};aC(t,tC.defaults),aC(t,tC.extendedDefaults),t._emitClasses=!0,t.init=!1;const a={},r=lC.map((e=>e.replace(/_/,""))),o=Object.assign({},e);return Object.keys(o).forEach((o=>{void 0!==e[o]&&(r.indexOf(o)>=0?nC(e[o])?(t[o]={},n[o]={},aC(t[o],e[o]),aC(n[o],e[o])):(t[o]=e[o],n[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:a[o]=e[o])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:n,rest:a}}function uC(e,t){let n=t.slidesPerView;if(t.breakpoints){const e=tC.prototype.getBreakpoint(t.breakpoints),a=e in t.breakpoints?t.breakpoints[e]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let a=Math.ceil(parseFloat(t.loopedSlides||n,10));return a+=t.loopAdditionalSlides,a>e.length&&(a=e.length),a}function pC(e,t,n){void 0===e&&(e={});const a=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(e,t)=>{Array.isArray(e)&&e.forEach((e=>{const n="symbol"==typeof e.type;"default"===t&&(t="container-end"),n&&e.children?o(e.children,"default"):!e.type||"SwiperSlide"!==e.type.name&&"AsyncComponentWrapper"!==e.type.name?r[t]&&r[t].push(e):a.push(e)}))};return Object.keys(e).forEach((t=>{if("function"!=typeof e[t])return;const n=e[t]();o(n,t)})),n.value=t.value,t.value=a,{slides:a,slots:r}}function dC(e){let{swiper:t,slides:n,passedParams:a,changedParams:r,nextEl:o,prevEl:s,paginationEl:i,scrollbarEl:l}=e;const c=r.filter((e=>"children"!==e&&"direction"!==e)),{params:u,pagination:p,navigation:d,scrollbar:f,virtual:h,thumbs:m}=t;let g,v,b,y,x;r.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),r.includes("controller")&&a.controller&&a.controller.control&&u.controller&&!u.controller.control&&(v=!0),r.includes("pagination")&&a.pagination&&(a.pagination.el||i)&&(u.pagination||!1===u.pagination)&&p&&!p.el&&(b=!0),r.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||l)&&(u.scrollbar||!1===u.scrollbar)&&f&&!f.el&&(y=!0),r.includes("navigation")&&a.navigation&&(a.navigation.prevEl||s)&&(a.navigation.nextEl||o)&&(u.navigation||!1===u.navigation)&&d&&!d.prevEl&&!d.nextEl&&(x=!0);if(c.forEach((e=>{if(nC(u[e])&&nC(a[e]))aC(u[e],a[e]);else{const n=a[e];!0!==n&&!1!==n||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?u[e]=a[e]:!1===n&&(e=>{t[e]&&(t[e].destroy(),"navigation"===e?(u[e].prevEl=void 0,u[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(u[e].el=void 0,t[e].el=void 0))})(e)}})),r.includes("children")&&h&&u.virtual.enabled?(h.slides=n,h.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g){m.init()&&m.update(!0)}v&&(t.controller.control=u.controller.control),b&&(i&&(u.pagination.el=i),p.init(),p.render(),p.update()),y&&(l&&(u.scrollbar.el=l),f.init(),f.updateSize(),f.setTranslate()),x&&(o&&(u.navigation.nextEl=o),s&&(u.navigation.prevEl=s),d.init(),d.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),r.includes("direction")&&t.changeDirection(a.direction,!1),t.update()}const fC={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","zoomChange"],setup(e,t){let{slots:n,emit:a}=t;const{tag:r,wrapperTag:o}=e,s=Vt("swiper"),i=Vt(null),l=Vt(!1),c=Vt(!1),u=Vt(null),p=Vt(null),d=Vt(null),f={value:[]},h={value:[]},m=Vt(null),g=Vt(null),v=Vt(null),b=Vt(null),{params:y,passedParams:x}=cC(e);pC(n,f,h),d.value=x,h.value=f.value;if(y.onAny=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a(e,...n)},Object.assign(y.on,{_beforeBreakpoint:()=>{pC(n,f,h),l.value=!0},_containerClasses(e,t){s.value=t}}),p.value=function(e){return new tC(e)}(y),p.value.loopCreate=()=>{},p.value.loopDestroy=()=>{},y.loop&&(p.value.loopedSlides=uC(f.value,y)),p.value.virtual&&p.value.params.virtual.enabled){p.value.virtual.slides=f.value;const e={cache:!1,slides:f.value,renderExternal:e=>{i.value=e},renderExternalUpdate:!1};aC(p.value.params.virtual,e),aC(p.value.originalParams.virtual,e)}function w(e){return y.virtual?function(e,t,n){if(!n)return null;const a=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return t.filter(((e,t)=>t>=n.from&&t<=n.to)).map((t=>(t.props||(t.props={}),t.props.style||(t.props.style={}),t.props.swiperRef=e,t.props.style=a,go(t.type,{...t.props},t.children))))}(p,e,i.value):!y.loop||p.value&&p.value.destroyed?(e.forEach((e=>{e.props||(e.props={}),e.props.swiperRef=p})),e):function(e,t,n){const a=t.map(((t,n)=>(t.props||(t.props={}),t.props.swiperRef=e,t.props["data-swiper-slide-index"]=n,t)));function r(e,t,a){return e.props||(e.props={}),go(e.type,{...e.props,key:`${e.key}-duplicate-${t}-${a}`,class:`${e.props.className||""} ${n.slideDuplicateClass} ${e.props.class||""}`},e.children)}if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-a.length%n.slidesPerGroup;if(e!==n.slidesPerGroup)for(let t=0;t<e;t+=1){const e=go("div",{class:`${n.slideClass} ${n.slideBlankClass}`});a.push(e)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length);const o=uC(a,n),s=[],i=[];return a.forEach(((e,t)=>{t<o&&i.push(r(e,t,"prepend")),t<a.length&&t>=a.length-o&&s.push(r(e,t,"append"))})),e.value&&(e.value.loopedSlides=o),[...s,...a,...i]}(p,e,y)}return wa((()=>{!c.value&&p.value&&(p.value.emitSlidesClasses(),c.value=!0);const{passedParams:t}=cC(e),n=function(e,t,n,a){const r=[];if(!t)return r;const o=e=>{r.indexOf(e)<0&&r.push(e)},s=a.map((e=>e.props&&e.props.key)),i=n.map((e=>e.props&&e.props.key));return s.join("")!==i.join("")&&r.push("children"),a.length!==n.length&&r.push("children"),lC.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(nC(e[n])&&nC(t[n])){const a=Object.keys(e[n]),r=Object.keys(t[n]);a.length!==r.length?o(n):(a.forEach((a=>{e[n][a]!==t[n][a]&&o(n)})),r.forEach((a=>{e[n][a]!==t[n][a]&&o(n)})))}else e[n]!==t[n]&&o(n)})),r}(t,d.value,f.value,h.value);d.value=t,(n.length||l.value)&&p.value&&!p.value.destroyed&&dC({swiper:p.value,slides:f.value,passedParams:t,changedParams:n,nextEl:m.value,prevEl:g.value,scrollbarEl:b.value,paginationEl:v.value}),l.value=!1})),jn("swiper",p),Gn(i,(()=>{dn((()=>{!function(e){!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}(p.value)}))})),ya((()=>{u.value&&(!function(e,t){let{el:n,nextEl:a,prevEl:r,paginationEl:o,scrollbarEl:s,swiper:i}=e;rC(t)&&a&&r&&(i.params.navigation.nextEl=a,i.originalParams.navigation.nextEl=a,i.params.navigation.prevEl=r,i.originalParams.navigation.prevEl=r),oC(t)&&o&&(i.params.pagination.el=o,i.originalParams.pagination.el=o),sC(t)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(n)}({el:u.value,nextEl:m.value,prevEl:g.value,paginationEl:v.value,scrollbarEl:b.value,swiper:p.value},y),a("swiper",p.value))})),Ca((()=>{p.value&&!p.value.destroyed&&p.value.destroy(!0,!1)})),()=>{const{slides:t,slots:a}=pC(n,f,h);return go(r,{ref:u,class:iC(s.value)},[a["container-start"],rC(e)&&[go("div",{ref:g,class:"swiper-button-prev"}),go("div",{ref:m,class:"swiper-button-next"})],sC(e)&&go("div",{ref:b,class:"swiper-scrollbar"}),oC(e)&&go("div",{ref:v,class:"swiper-pagination"}),go(o,{class:"swiper-wrapper"},[a["wrapper-start"],w(t),a["wrapper-end"]]),a["container-end"]])}}},hC={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},zoom:{type:Boolean,default:void 0},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,a=!1;const{swiperRef:r}=e,o=Vt(null),s=Vt("swiper-slide");function i(e,t,n){t===o.value&&(s.value=n)}ya((()=>{r.value&&(r.value.on("_slideClass",i),a=!0)})),xa((()=>{!a&&r&&r.value&&(r.value.on("_slideClass",i),a=!0)})),wa((()=>{o.value&&r&&r.value&&r.value.destroyed&&"swiper-slide"!==s.value&&(s.value="swiper-slide")})),Ca((()=>{r&&r.value&&r.value.off("_slideClass",i)}));const l=mo((()=>({isActive:s.value.indexOf("swiper-slide-active")>=0||s.value.indexOf("swiper-slide-duplicate-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isDuplicate:s.value.indexOf("swiper-slide-duplicate")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0||s.value.indexOf("swiper-slide-duplicate-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0||s.value.indexOf("swiper-slide-duplicate-next")>=0})));return jn("swiperSlide",l),()=>go(e.tag,{class:iC(`${s.value}`),ref:o,"data-swiper-slide-index":e.virtualIndex},e.zoom?go("div",{class:"swiper-zoom-container","data-swiper-zoom":"number"==typeof e.zoom?e.zoom:void 0},n.default&&n.default(l.value)):n.default&&n.default(l.value))}};var mC=hC,gC=fC;function vC(){return vC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vC.apply(this,arguments)}var bC={name:"f7-tab",render:function(e,t){var n;return yr(),Sr("div",{ref:"elRef",class:e.classes},[e.tabContent?(yr(),Sr(ur(e.getComponent(e.tabContent)),Hr((n={key:0},n.key=e.tabContent.id,n),e.getProps(e.tabContent)),null,16)):Ur(e.$slots,"default",{key:1})],2)},props:vC({tabActive:Boolean},Ng),emits:["tab:show","tab:hide"],setup:function(e,t){var n=t.emit,a=Vt(null),r=Vt(null),o=Wn("f7route",null),s=Wn("f7route",null),i=null;if(!r.value&&o&&o.route&&o.route.tab&&o.route.tab.id===e.id){var l=o.route.tab,c=l.component,u=l.asyncComponent,p=l.options;if(c||u){var d=o.route.options&&o.route.options.props;i={id:bg(),component:c||u,isAsync:!!u,props:vC({},d||{},p&&p.props||{},{f7router:s,f7route:o},o.params)}}}var f=Vt(i||null),h=function(e){f.value=e};fg&&!r.value&&(r.value={setTabContent:h},xg.tabs.push(r.value)),ya((function(){a.value&&i&&(a.value.f7RouterTabLoaded=!0),Eg((function(){r.value?r.value.el=a.value:(r.value={el:a.value,setTabContent:h},xg.tabs.push(r.value))}))})),Ca((function(){r.value&&(xg.tabs.splice(xg.tabs.indexOf(r.value),1),r.value=null)})),wa((function(){r.value&&fg&&hg.emit("tabRouterDidUpdate",r.value)})),Cv(a,n);var m=mo((function(){return dg("tab",{"tab-active":e.tabActive},Ig(e))}));return{elRef:a,classes:m,tabContent:f,getComponent:function(e){return Bt(e.component)},getProps:function(e){var t=e.component,n=e.props,a=[],r={};return t&&t.props&&(a=Object.keys(t.props)),a.forEach((function(e){e in n&&(r[e]=n[e])})),r}}}};function yC(){return yC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yC.apply(this,arguments)}var xC={name:"f7-tabs",render:function(e,t){return e.animated||e.swipeable?(yr(),Sr("div",{key:0,ref:"elRef",class:e.classNames(e.wrapClasses,e.classes)},[Pr("div",{class:e.tabsClasses},[Ur(e.$slots,"default")],2)],2)):(yr(),Sr("div",{key:1,ref:"elRef",class:e.classNames(e.tabsClasses,e.classes)},[Ur(e.$slots,"default")],2))},props:yC({animated:Boolean,swipeable:Boolean,routable:Boolean,swiperParams:{type:Object,default:void 0}},Ng),setup:function(e){var t=Vt(null);ya((function(){e.swipeable&&e.swiperParams&&t.value&&(t.value.f7SwiperParams=e.swiperParams)}));var n=mo((function(){return dg(Ig(e))})),a=mo((function(){return dg({"tabs-animated-wrap":e.animated,"tabs-swipeable-wrap":e.swipeable})})),r=mo((function(){return dg({tabs:!0,"tabs-routable":e.routable})}));return{elRef:t,classes:n,wrapClasses:a,tabsClasses:r,classNames:dg}}};function wC(){return wC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wC.apply(this,arguments)}var CC={key:0,className:"toolbar-inner"};var kC={name:"f7-toolbar",render:function(e,t){return yr(),Sr("div",{ref:"elRef",class:e.classes},[Ur(e.$slots,"before-inner"),e.inner?(yr(),Sr("div",CC,[Ur(e.$slots,"default")])):Ur(e.$slots,"default",{key:1}),Ur(e.$slots,"after-inner")],2)},props:wC({tabbar:Boolean,labels:Boolean,scrollable:Boolean,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,noBorder:Boolean,position:{type:String,default:void 0},topMd:{type:Boolean,default:void 0},topIos:{type:Boolean,default:void 0},topAurora:{type:Boolean,default:void 0},top:{type:Boolean,default:void 0},bottomMd:{type:Boolean,default:void 0},bottomIos:{type:Boolean,default:void 0},bottomAurora:{type:Boolean,default:void 0},bottom:{type:Boolean,default:void 0},inner:{type:Boolean,default:!0}},Ng),emits:["toolbar:hide","toolbar:show"],setup:function(e,t){var n=t.emit,a=Vt(null),r=$v(),o=function(e){a.value===e&&n("toolbar:hide")},s=function(e){a.value===e&&n("toolbar:show")};return ya((function(){e.tabbar&&fg&&a.value&&fg.toolbar.setHighlight(a.value),fg.on("toolbarShow",s),fg.on("toolbarHide",o)})),Ca((function(){fg.off("toolbarShow",s),fg.off("toolbarHide",o)})),jn("TabbarContext",mo((function(){return{tabbarHasLabels:e.labels}}))),{classes:mo((function(){var t=e.tabbar,n=e.bottomMd,a=e.bottomIos,o=e.bottomAurora,s=e.bottom,i=e.position,l=e.topMd,c=e.topIos,u=e.topAurora,p=e.top,d=e.labels,f=e.scrollable,h=e.hidden,m=e.noShadow,g=e.noHairline,v=e.noBorder;return dg("toolbar",{tabbar:t,"toolbar-bottom":r.value&&r.value.md&&n||r.value&&r.value.ios&&a||r.value&&r.value.aurora&&o||s||"bottom"===i,"toolbar-top":r.value&&r.value.md&&l||r.value&&r.value.ios&&c||r.value&&r.value.aurora&&u||p||"top"===i,"tabbar-labels":d,"tabbar-scrollable":f,"toolbar-hidden":h,"no-shadow":m,"no-hairline":g||v},Ig(e))})),elRef:a,hide:function(e){fg&&fg.toolbar.hide(a.value,e)},show:function(e){fg&&fg.toolbar.show(a.value,e)}}}};function EC(){return EC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},EC.apply(this,arguments)}var SC={key:0,className:"treeview-toggle"},TC={className:"treeview-item-content"},$C={className:"treeview-item-label"},OC={key:0,className:"treeview-item-children"};var IC={name:"f7-treeview-item",render:function(e,t){var n=lr("f7-use-icon");return yr(),Sr("div",{ref:"elRef",class:e.classes},[(yr(),Sr(ur(e.itemRootTag),Hr({class:e.itemRootClasses},e.itemRootAttrs,{onClick:e.onClick}),{default:_n((function(){return[Ur(e.$slots,"root-start"),e.needToggle?(yr(),Sr("div",SC)):Dr("",!0),Pr("div",TC,[Ur(e.$slots,"content-start"),e.icon?(yr(),Sr(n,{key:0,icon:e.icon},null,8,["icon"])):Dr("",!0),Ur(e.$slots,"media"),Pr("div",$C,[Ur(e.$slots,"label-start"),_r(" "+A(e.label)+" ",1),Ur(e.$slots,"label")]),Ur(e.$slots,"content"),Ur(e.$slots,"content-end")]),Ur(e.$slots,"root"),Ur(e.$slots,"root-end")]})),_:3},16,["class","onClick"])),e.hasChildren?(yr(),Sr("div",OC,[Ur(e.$slots,"children-start"),Ur(e.$slots,"default"),Ur(e.$slots,"children")])):Dr("",!0)],2)},components:{f7UseIcon:Fv},props:EC({toggle:{type:Boolean,default:void 0},itemToggle:Boolean,selectable:Boolean,selected:Boolean,opened:Boolean,label:String,loadChildren:Boolean,link:{type:[Boolean,String],default:void 0}},Ng,Ag,Rg,Pg),emits:["click","treeview:open","treeview:close","treeview:loadchildren"],setup:function(e,t){var n=t.slots,a=t.emit,r=Vt(null),o=mo((function(){return n.default||n.children||n["children-start"]})),s=mo((function(){return void 0===e.toggle?o.value:e.toggle})),i=mo((function(){return Sv(e)})),l=function(e){r.value===e&&a("treeview:open",e)},c=function(e){r.value===e&&a("treeview:close",e)},u=function(e,t){r.value===e&&a("treeview:loadchildren",e,t)};ya((function(){r.value&&Eg((function(){fg.on("treeviewOpen",l),fg.on("treeviewClose",c),fg.on("treeviewLoadChildren",u)}))})),Ca((function(){fg&&(fg.off("treeviewOpen",l),fg.off("treeviewClose",c),fg.off("treeviewLoadChildren",u))}));var p=mo((function(){return dg("treeview-item",{"treeview-item-opened":e.opened,"treeview-load-children":e.loadChildren},Ig(e))})),d=mo((function(){return dg("treeview-item-root",{"treeview-item-selectable":e.selectable,"treeview-item-selected":e.selected,"treeview-item-toggle":e.itemToggle},Bg(e),Lg(e))}));return{itemRootTag:mo((function(){return e.link||""===e.link?"a":"div"})),itemRootAttrs:mo((function(){var t=e.link;return!0===e.link&&(t="#"),!1===e.link&&(t=void 0),EC({href:t},Mg(e),_g(e))})),itemRootClasses:d,classes:p,icon:i,onClick:function(e){a("click",e)},hasChildren:o,needToggle:s,elRef:r}}};function NC(){return NC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},NC.apply(this,arguments)}var RC={name:"f7-treeview",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:NC({},Ng),setup:function(e){return{classes:mo((function(){return dg("treeview",Ig(e))}))}}};function PC(){return PC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},PC.apply(this,arguments)}function MC(){return MC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},MC.apply(this,arguments)}var BC={name:"f7-view",props:MC({tab:Boolean,tabActive:Boolean,name:String,router:{type:Boolean,default:!0},linksView:[Object,String],url:String,main:{type:Boolean,default:void 0},stackPages:{type:Boolean,default:void 0},xhrCache:{type:Boolean,default:void 0},xhrCacheIgnore:Array,xhrCacheIgnoreGetParameters:{type:Boolean,default:void 0},xhrCacheDuration:Number,preloadPreviousPage:{type:Boolean,default:void 0},allowDuplicateUrls:{type:Boolean,default:void 0},reloadPages:{type:Boolean,default:void 0},reloadDetail:{type:Boolean,default:void 0},masterDetailResizable:{type:Boolean,default:void 0},masterDetailBreakpoint:Number,removeElements:{type:Boolean,default:void 0},removeElementsWithTimeout:{type:Boolean,default:void 0},removeElementsTimeout:Number,restoreScrollTopOnBack:{type:Boolean,default:void 0},loadInitialPage:{type:Boolean,default:void 0},iosSwipeBack:{type:Boolean,default:void 0},iosSwipeBackAnimateShadow:{type:Boolean,default:void 0},iosSwipeBackAnimateOpacity:{type:Boolean,default:void 0},iosSwipeBackActiveArea:Number,iosSwipeBackThreshold:Number,mdSwipeBack:{type:Boolean,default:void 0},mdSwipeBackAnimateShadow:{type:Boolean,default:void 0},mdSwipeBackAnimateOpacity:{type:Boolean,default:void 0},mdSwipeBackActiveArea:Number,mdSwipeBackThreshold:Number,auroraSwipeBack:{type:Boolean,default:void 0},auroraSwipeBackAnimateShadow:{type:Boolean,default:void 0},auroraSwipeBackAnimateOpacity:{type:Boolean,default:void 0},auroraSwipeBackActiveArea:Number,auroraSwipeBackThreshold:Number,browserHistory:{type:Boolean,default:void 0},browserHistoryRoot:String,browserHistoryAnimate:{type:Boolean,default:void 0},browserHistoryAnimateOnLoad:{type:Boolean,default:void 0},browserHistorySeparator:String,browserHistoryOnLoad:{type:Boolean,default:void 0},browserHistoryInitialMatch:{type:Boolean,default:!0},browserHistoryStoreHistory:{type:Boolean,default:void 0},animate:{type:Boolean,default:void 0},transition:String,iosDynamicNavbar:{type:Boolean,default:void 0},iosAnimateNavbarBackIcon:{type:Boolean,default:void 0},materialPageLoadDelay:Number,passRouteQueryToRequest:{type:Boolean,default:void 0},passRouteParamsToRequest:{type:Boolean,default:void 0},routes:Array,routesAdd:Array,routesBeforeEnter:[Function,Array],routesBeforeLeave:[Function,Array],init:{type:Boolean,default:!0}},Ng),emits:["view:init","view:resize","swipeback:move","swipeback:beforechange","swipeback:afterchange","swipeback:beforereset","swipeback:afterreset","tab:hide","tab:show"],setup:function(e,t){var n,a,r=t.emit,o=t.slots,s=null,i=Vt(null),l=null,c=function(t){r("view:init",t),e.init||(l.instance=t,s=l.instance)},u=function(){var t=Bt(e.routes||[]),n=Bt(e.routesAdd||[]);return ig(MC({},e,{routes:t,routesAdd:n}))};if(fg&&!s&&e.init){var p=vg();if(s=fg.views.create(i.value,MC({},u(),{routerId:p,init:!1,on:{init:c}})),l={routerId:p,instance:s},xg.views.push(l),s&&s.router&&(e.url||e.main)){var d=function(e,t){var n,a,r=e.getInitialUrl().initialUrl,o=e.findMatchingRoute(r),s={};return o&&o.route&&o.route.options&&(s=o.route.options.props),!o||!o.route||!o.route.component&&!o.route.asyncComponent||!0===(a=o.route).master||"function"==typeof a.master&&a.master(e.app)||(n={component:o.route.component||o.route.asyncComponent,initialComponent:t,id:bg(),isAsync:!!o.route.asyncComponent,props:PC({f7route:o,f7router:e},s,o.params)}),{initialPage:n,initialRoute:o}}(s.router,null);n=d.initialPage,(a=d.initialRoute)&&a.route&&a.route.masterRoute&&(n=void 0,a=void 0)}}var f=Vt(n?[n]:[]),h=function(e){e.forEach((function(e){e.component=Bt(e.component)})),f.value=e},m=function(e,t){r("view:resize",t)},g=function(e){r("swipeback:move",e)},v=function(e){r("swipeback:beforechange",e)},b=function(e){r("swipeback:afterchange",e)},y=function(e){r("swipeback:beforereset",e)},x=function(e){r("swipeback:afterreset",e)};ya((function(){Eg((function(){if(s)l.el=i.value,l.pages=f.value,l.setPages=function(e){h([].concat(e))},n&&n.isAsync&&!n.initialComponent?n.component().then((function(){setTimeout((function(){s.init(i.value),n&&(n.el=s.router.currentPageEl,a&&a.route&&a.route.keepAlive&&(a.route.keepAliveData={pageEl:n.el}))}),100)})):(s.init(i.value),n&&(n.el=s.router.currentPageEl,a&&a.route&&a.route.keepAlive&&(a.route.keepAliveData={pageEl:n.el})));else{var t=vg();l={el:i.value,routerId:t,pages:f.value,instance:s,setPages:function(e){h([].concat(e))}},xg.views.push(l),l.instance=fg.views.create(i.value,MC({routerId:t},u(),{on:{init:c}})),s=l.instance}e.init&&(s.on("resize",m),s.on("swipebackMove",g),s.on("swipebackBeforeChange",v),s.on("swipebackAfterChange",b),s.on("swipebackBeforeReset",y),s.on("swipebackAfterReset",x))}))})),Ca((function(){s&&(s.off("resize",m),s.off("swipebackMove",g),s.off("swipebackBeforeChange",v),s.off("swipebackAfterChange",b),s.off("swipebackBeforeReset",y),s.off("swipebackAfterReset",x),s.destroy&&s.destroy(),s=null),xg.views.splice(xg.views.indexOf(l),1),l=null})),wa((function(){l&&fg&&hg.emit("viewRouterDidUpdate",l)})),Cv(i,r);var w=mo((function(){return dg("view",{"view-main":e.main,"tab-active":e.tabActive,tab:e.tab},Ig(e))}));return function(){return go("div",{ref:i,class:w.value},[o.default&&o.default()].concat(f.value.map((function(e){return go(function(e){return Bt(e.component)}(e),MC({key:e.id},function(e){var t=e.component,n=e.props,a=[],r={};return t&&t.props&&(a=Object.keys(t.props)),a.forEach((function(e){e in n&&(r[e]=n[e])})),r}(e)))}))))}}};function AC(){return AC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},AC.apply(this,arguments)}var _C={name:"f7-views",render:function(e,t){return yr(),Sr("div",{class:e.classes},[Ur(e.$slots,"default")],2)},props:AC({tabs:Boolean},Ng),setup:function(e){return{classes:mo((function(){return dg("views",{tabs:e.tabs},Ig(e))}))}}},LC=Og;let DC;const FC=e=>DC=e,zC=Symbol();function VC(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var HC;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(HC||(HC={}));const jC="undefined"!=typeof window,WC=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function UC(e,t,n){const a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){KC(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function GC(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function qC(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const XC="object"==typeof navigator?navigator:{userAgent:""},YC=(()=>/Macintosh/.test(XC.userAgent)&&/AppleWebKit/.test(XC.userAgent)&&!/Safari/.test(XC.userAgent))(),KC=jC?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!YC?function(e,t="download",n){const a=document.createElement("a");a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?GC(a.href)?UC(e,t,n):(a.target="_blank",qC(a)):qC(a)):(a.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(a.href)}),4e4),setTimeout((function(){qC(a)}),0))}:"msSaveOrOpenBlob"in XC?function(e,t="download",n){if("string"==typeof e)if(GC(e))UC(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){qC(t)}))}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){(a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading...");if("string"==typeof e)return UC(e,t,n);const r="application/octet-stream"===e.type,o=/constructor/i.test(String(WC.HTMLElement))||"safari"in WC,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o||YC)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw a=null,new Error("Wrong reader.result type");e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location.assign(e),a=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);a?a.location.assign(t):location.href=t,a=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}:()=>{};const QC=()=>{};function ZC(e,t,n,a=QC){e.push(t);const r=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};return!n&&eo()&&ka(r),r}function JC(e,...t){e.slice().forEach((e=>{e(...t)}))}function ek(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n],r=e[n];VC(r)&&VC(a)&&e.hasOwnProperty(n)&&!zt(a)&&!Nt(a)?e[n]=ek(r,a):e[n]=a}return e}const tk=Symbol();const{assign:nk}=Object;function ak(e,t,n,a){const{state:r,actions:o,getters:s}=t,i=n.state.value[e];let l;return l=rk(e,(function(){i||(n.state.value[e]=r?r():{});const t=function(e){const t=X(e)?new Array(e.length):{};for(const n in e)t[n]=qt(e,n);return t}(n.state.value[e]);return nk(t,o,Object.keys(s||{}).reduce(((t,a)=>(t[a]=At(mo((()=>{FC(n);const t=n._s.get(e);return s[a].call(t,t)}))),t)),{}))}),t,n,a),l.$reset=function(){const e=r?r():{};this.$patch((t=>{nk(t,e)}))},l}function rk(e,t,n={},a,r){let o;const s=n.state,i=nk({actions:{}},n);const l={deep:!0};let c,u;let p,d=At([]),f=At([]);const h=a.state.value[e];s||h||(a.state.value[e]={});Vt({});function m(t){let n;c=u=!1,"function"==typeof t?(t(a.state.value[e]),n={type:HC.patchFunction,storeId:e,events:p}):(ek(a.state.value[e],t),n={type:HC.patchObject,payload:t,storeId:e,events:p}),dn().then((()=>{c=!0})),u=!0,JC(d,n,a.state.value[e])}const g=QC;function v(t,n){return function(){FC(a);const r=Array.from(arguments),o=[],s=[];function i(e){o.push(e)}function l(e){s.push(e)}let c;JC(f,{args:r,name:t,store:y,after:i,onError:l});try{c=n.apply(this&&this.$id===e?this:y,r)}catch(e){throw JC(s,e),e}return c instanceof Promise?c.then((e=>(JC(o,e),e))).catch((e=>(JC(s,e),Promise.reject(e)))):(JC(o,c),c)}}const b={_p:a,$id:e,$onAction:ZC.bind(null,f),$patch:m,$reset:g,$subscribe(t,n={}){const r=ZC(d,t,n.detached,(()=>s())),s=o.run((()=>Gn((()=>a.state.value[e]),(a=>{("sync"===n.flush?u:c)&&t({storeId:e,type:HC.direct,events:p},a)}),nk({},l,n))));return r},$dispose:function(){o.stop(),d=[],f=[],a._s.delete(e)}};const y=$t(nk({},b));a._s.set(e,y);const x=a._e.run((()=>(o=Ce(),o.run((()=>t())))));for(const t in x){const n=x[t];if(zt(n)&&(!zt(C=n)||!C.effect)||Nt(n))s||(!h||VC(w=n)&&w.hasOwnProperty(tk)||(zt(n)?n.value=h[t]:ek(n,h[t])),a.state.value[e][t]=n);else if("function"==typeof n){const e=v(t,n);x[t]=e,i.actions[t]=n}else 0}var w,C;return nk(y,x),nk(Bt(y),x),Object.defineProperty(y,"$state",{get:()=>a.state.value[e],set:e=>{m((t=>{nk(t,e)}))}}),a._p.forEach((e=>{nk(y,o.run((()=>e({store:y,app:a._a,pinia:a,options:i}))))})),h&&s&&n.hydrate&&n.hydrate(y.$state,h),c=!0,u=!0,y}var ok={class:"app__img",id:"app__img",ref:"imageRef",width:"224",height:"224"};function sk(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function ik(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){sk(o,a,r,s,i,"next",e)}function i(e){sk(o,a,r,s,i,"throw",e)}s(void 0)}))}}var lk=n(757),ck=n.n(lk),uk=n.p+"images/blink.png",pk={class:"loading-page"},dk=Rr("h1",{class:"loading-page__title"},"Blink-To-Text",-1),fk=Rr("img",{class:"loading-page__img",src:uk,alt:"eye_logo"},null,-1),hk=Rr("h3",{class:"loading-page__loading-text"},[_r(" Please wait until the app"),Rr("br"),_r("finishes loading... ")],-1),mk=Rr("p",{class:"loading-page__app-info"},[_r(" Created by Asial Corporation"),Rr("br"),_r("App Version: 1.0.0 ")],-1);var gk={},vk=n(744);var bk=(0,vk.Z)(gk,[["render",function(e,t,n,a,r,o){var s=lr("f7-preloader"),i=lr("f7-page");return yr(),Sr(i,{name:"LoadingPage"},{default:_n((function(){return[Rr("div",pk,[dk,fk,Pr(s,{class:"loading-page__spinner",size:35,color:"white"}),hk,mk])]})),_:1})}]]),yk={class:"predicting-page"},xk=Rr("h3",{class:"predicting-page__title"},"Blink-To-Text",-1),wk=Rr("p",{class:"predicting-page__description"},[_r(" Use "),Rr("a",{href:"/morse-code"},"Morse Code"),_r(" method: "),Rr("br"),_r(" Short blink - dot "),Rr("br"),_r(" Long blink - dash ")],-1),Ck={key:0,class:"predicting-page__video",id:"predicting-page__video",ref:"videoRef",playsinline:"",autoplay:""},kk={key:1,class:"predicting-page__img",id:"predicting-page__img",ref:"imageRef",width:"224",height:"224",src:uk},Ek=Rr("p",{class:"predicting-page__recognized-blink-title"},"Recognized blink:",-1),Sk={class:"predicting-page__recognized-blink-container"},Tk=Rr("p",{class:"predicting-page__recognized-text-title"},"Recognized text:",-1),$k={class:"predicting-page__recognized-text-container"},Ok={class:"predicting-page__recognized-text-p"},Ik={class:"predicting-page__btns-container"},Nk=["disabled"],Rk=["disabled"];var Pk={".-":"A","-...":"B","-.-.":"C","-..":"D",".":"E","..-.":"F","--.":"G","....":"H","..":"I",".---":"J","-.-":"K",".-..":"L","--":"M","-.":"N","---":"O",".--.":"P","--.-":"Q",".-.":"R","...":"S","-":"T","..-":"U","...-":"V",".--":"W","-..-":"X","-.--":"Y","--..":"Z"},Mk=function(e){return Pk[e]},Bk=function(e,t,n){let a,r;const o="function"==typeof t;function s(e,n){const s=eo();(e=e||s&&Wn(zC))&&FC(e),(e=DC)._s.has(a)||(o?rk(a,t,r,e):ak(a,r,e));return e._s.get(a)}return"string"==typeof e?(a=e,r=o?n:t):(r=e,a=e.id),s.$id=a,s}("blinkStore",{state:function(){return{blinkSequence:"",capturing:!1,convertedLetters:"",timer:null}},actions:{setBlinkSequence:function(e){this.capturing&&(this.blinkSequence+=e,4===this.blinkSequence.length&&this.stopCapturingBlinks())},convertCapturedSequence:function(){this.capturing=!1;var e=Mk(this.blinkSequence);void 0!==e&&(this.convertedLetters+=e),this.blinkSequence=""},startCapturingBlinks:function(){var e=this;this.capturing=!0,this.timer=setTimeout((function(){e.convertCapturedSequence()}),7e3)},stopCapturingBlinks:function(){this.convertCapturedSequence(),clearTimeout(this.timer)},removeLastLetter:function(){this.convertedLetters=this.convertedLetters.slice(0,-1)}}});class Ak{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class _k{refCount(e){return Lk("refCount")}incRef(e){return Lk("incRef")}timerAvailable(){return!0}time(e){return Lk("time")}read(e){return Lk("read")}readSync(e){return Lk("readSync")}readToGPU(e,t){return Lk("readToGPU")}numDataIds(){return Lk("numDataIds")}disposeData(e,t){return Lk("disposeData")}write(e,t,n){return Lk("write")}move(e,t,n,a,r){return Lk("move")}memory(){return Lk("memory")}floatPrecision(){return Lk("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Lk("dispose")}}function Lk(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Dk(e,t,n){return Math.max(e,Math.min(t,n))}function Fk(e){return e%2==0?e:e+1}function zk(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function Vk(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function Hk(e,t,n=""){Vk(Gk(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function jk(e){Vk(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Wk(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||nE(e)&&!n)for(let a=0;a<e.length;++a)Wk(e[a],t,n);else t.push(e);return t}function Uk(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Gk(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qk(e){return e%1==0}function Xk(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Yk(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Kk(e,t=(e=>0),n){return new Promise(((a,r)=>{let o=0;const s=()=>{if(e())return void a();o++;const i=t(o);null!=n&&o>=n?r():setTimeout(s,i)};s()}))}function Qk(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),Vk(e.every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),Vk(e.every((e=>qk(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Zk(e,t){const n=[],a=[],r=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||r?null:Qk(t,e).sort();let s=0;for(let t=0;t<e.length;++t){if(null!=o){if(o[s]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==o[s]||o[s]>t)&&1===e[t]&&(n.push(e[t]),a.push(t)),o[s]<=t&&s++}1!==e[t]&&(n.push(e[t]),a.push(t))}return{newShape:n,keptDims:a}}function Jk(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function eE(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function tE(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function nE(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function aE(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function rE(e){return"string"==typeof e||e instanceof String}function oE(e){return Array.isArray(e)?oE(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":function(e){return"number"==typeof e}(e)?"float32":rE(e)?"string":function(e){return"boolean"==typeof e}(e)?"bool":"float32"}function sE(e){return!!(e&&e.constructor&&e.call&&e.apply)}function iE(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function lE(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}function cE(e,t,n,a=!1){const r=new Array;if(1===t.length){const o=t[0]*(a?2:1);for(let t=0;t<o;t++)r[t]=n[e+t]}else{const o=t[0],s=t.slice(1),i=s.reduce(((e,t)=>e*t))*(a?2:1);for(let t=0;t<o;t++)r[t]=cE(e+t*i,s,n,a)}return r}function uE(e,t,n=!1){if(0===e.length)return t[0];const a=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===a)return[];if(a!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return cE(0,e,t,n)}function pE(e,t){const n=dE(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function dE(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function fE(e){e.forEach((t=>{Vk(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function hE(e,t,n){if(0===t)return 0;if(1===t)return e[0];let a=e[e.length-1];for(let t=0;t<e.length-1;++t)a+=n[t]*e[t];return a}function mE(e,t,n){if(0===t)return[];if(1===t)return[e];const a=new Array(t);for(let t=0;t<a.length-1;++t)a[t]=Math.floor(e/n[t]),e-=a[t]*n[t];return a[a.length-1]=e,a}function gE(e){return e&&e.then&&"function"==typeof e.then}const vE="tfjsflags";class bE{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=yE,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(xE().getBool("IS_TEST")||xE().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];xE().getBool("IS_TEST")||xE().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(gE(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(vE in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function yE(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function xE(){return CE}let wE,CE=null;function kE(){if(null==wE){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}wE=e}return wE}function EE(e,t){const n=function(){const e=kE();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const a=t();return n.set(e,a),n.get(e)}}const SE="Abs",TE="Acos",$E="Acosh",OE="Add",IE="AddN",NE="ArgMax",RE="ArgMin",PE="Asin",ME="Asinh",BE="Atan",AE="Atanh",_E="Atan2",LE="AvgPool",DE="AvgPool3D",FE="BatchMatMul",zE="BatchToSpaceND",VE="Bincount",HE="BroadcastArgs",jE="Cast",WE="Ceil",UE="ClipByValue",GE="Complex",qE="ComplexAbs",XE="Concat",YE="Conv2D",KE="Conv2DBackpropFilter",QE="Conv2DBackpropInput",ZE="Conv3D",JE="Cosh",eS="Cumprod",tS="Cumsum",nS="CropAndResize",aS="DenseBincount",rS="DepthToSpace",oS="DepthwiseConv2dNative",sS="DepthwiseConv2dNativeBackpropFilter",iS="DepthwiseConv2dNativeBackpropInput",lS="Dilation2D",cS="RealDiv",uS="Einsum",pS="Equal",dS="Exp",fS="ExpandDims",hS="Expm1",mS="Fill",gS="FlipLeftRight",vS="Floor",bS="FloorDiv",yS="FusedBatchNorm",xS="GatherV2",wS="GatherNd",CS="Greater",kS="GreaterEqual",ES="Identity",SS="IFFT",TS="Imag",$S="IsNan",OS="LeakyRelu",IS="Less",NS="LessEqual",RS="LinSpace",PS="Log",MS="Log1p",BS="LogicalAnd",AS="LogicalNot",_S="LogicalOr",LS="Maximum",DS="MaxPool",FS="MaxPool3D",zS="MaxPoolWithArgmax",VS="Mean",HS="Minimum",jS="MirrorPad",WS="Multinomial",US="Multiply",GS="Neg",qS="NotEqual",XS="NonMaxSuppressionV3",YS="NonMaxSuppressionV4",KS="NonMaxSuppressionV5",QS="OnesLike",ZS="OneHot",JS="Pack",eT="PadV2",tT="Prelu",nT="Prod",aT="Range",rT="Real",oT="Reciprocal",sT="Relu",iT="Reshape",lT="ResizeNearestNeighbor",cT="ResizeBilinear",uT="Relu6",pT="Reverse",dT="Round",fT="Rsqrt",hT="ScatterNd",mT="Select",gT="Selu",vT="Slice",bT="Sinh",yT="Sign",xT="Sigmoid",wT="Softplus",CT="Sqrt",kT="SpaceToBatchND",ET="SplitV",ST="Softmax",TT="SparseFillEmptyRows",$T="SparseReshape",OT="SparseSegmentMean",IT="SparseSegmentSum",NT="SparseToDense",RT="SquaredDifference",PT="StridedSlice",MT="StringNGrams",BT="StringSplit",AT="StringToHashBucketFast",_T="Sub",LT="Tanh",DT="Tile",FT="TopK",zT="Transform",VT="Transpose",HT="Unique",jT="Unpack",WT="ZerosLike",UT="Step",GT="FromPixels",qT="RotateWithOffset",XT="_FusedMatMul",YT="FusedConv2D",KT="FusedDepthwiseConv2D";function QT(...e){xE().getBool("IS_TEST")||xE().getBool("PROD")||console.warn(...e)}function ZT(...e){xE().getBool("IS_TEST")||xE().getBool("PROD")||console.log(...e)}const JT=EE("kernelRegistry",(()=>new Map)),e$=EE("gradRegistry",(()=>new Map));function t$(e,t){const n=o$(e,t);return JT.get(n)}function n$(e){return e$.get(e)}function a$(e){const t=JT.entries(),n=[];for(;;){const{done:a,value:r}=t.next();if(a)break;const[o,s]=r,[i]=o.split("_");i===e&&n.push(s)}return n}function r$(e){const{kernelName:t,backendName:n}=e,a=o$(t,n);JT.has(a)&&QT(`The kernel '${t}' for backend '${n}' is already registered`),JT.set(a,e)}function o$(e,t){return`${t}_${e}`}var s$=n(720);const i$=n.n(s$)()||s$;function l$(e){return i$.fromString(e,!0,16)}const c$=l$("c3a5c85c97cb3127"),u$=l$("b492b66fbe98f273"),p$=l$("9ae16a3b2f90404f");function d$(e){return e.xor(e.shru(47))}function f$(e,t,n){const a=e.slice(t,t+n);return i$.fromBytes(Array.from(a),!0,!0)}function h$(e,t){return f$(e,t,8)}function m$(e,t){return f$(e,t,4)}function g$(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function v$(e,t,n=l$("9ddfea08eb382d69")){let a=e.xor(t).mul(n);a=a.xor(a.shru(47));let r=t.xor(a).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function b$(e,t,n,a){return function(e,t,n,a,r,o){r=r.add(e),o=g$(o.add(r).add(a),21);const s=r;return r=(r=r.add(t)).add(n),o=o.add(g$(r,44)),[r.add(a),o.add(s)]}(h$(e,t),h$(e,t+8),h$(e,t+16),h$(e,t+24),n,a)}function y$(e,t=e.length){const n=i$.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=p$.add(2*t),a=h$(e,0).add(p$),r=h$(e,t-8);return v$(g$(r,37).mul(n).add(a),g$(a,25).add(r).mul(n),n)}if(t>=4){const n=p$.add(2*t);return v$(m$(e,0).shl(3).add(t),m$(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),a=t+(e[t-1]<<2);return d$(p$.mul(n).xor(c$.mul(a))).mul(p$)}return p$}(e,t):function(e,t=e.length){const n=p$.add(2*t),a=h$(e,0).mul(u$),r=h$(e,8),o=h$(e,t-8).mul(n),s=h$(e,t-16).mul(p$);return v$(g$(a.add(r),43).add(g$(o,30)).add(s),a.add(g$(r.add(p$),18)).add(o),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=p$.add(2*t),a=h$(e,0).mul(p$),r=h$(e,8),o=h$(e,t-8).mul(n),s=h$(e,t-16).mul(p$),i=g$(a.add(r),43).add(g$(o,30)).add(s),l=v$(i,a.add(g$(r.add(p$),18)).add(o),n),c=h$(e,16).mul(n),u=h$(e,24),p=i.add(h$(e,t-32)).mul(n),d=l.add(h$(e,t-24)).mul(n);return v$(g$(c.add(u),43).add(g$(p,30)).add(d),c.add(g$(u.add(a),18)).add(p),n)}(e,t);let a=n,r=n.mul(u$).add(113),o=d$(r.mul(p$).add(113)).mul(p$),s=[i$.UZERO,i$.UZERO],i=[i$.UZERO,i$.UZERO];a=a.mul(p$).add(h$(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{a=g$(a.add(r).add(s[0]).add(h$(e,l+8)),37).mul(u$),r=g$(r.add(s[1]).add(h$(e,l+48)),42).mul(u$),a=a.xor(i[1]),r=r.add(s[0]).add(h$(e,l+40)),o=g$(o.add(i[0]),33).mul(u$),s=b$(e,l,s[1].mul(u$),a.add(i[0])),i=b$(e,l+32,o.add(i[1]),r.add(h$(e,l+16))),[o,a]=[a,o],l+=64}while(l!==c);const p=u$.add(o.and(255).shl(1));return l=u,i[0]=i[0].add(t-1&63),s[0]=s[0].add(i[0]),i[0]=i[0].add(s[0]),a=g$(a.add(r).add(s[0]).add(h$(e,l+8)),37).mul(p),r=g$(r.add(s[1]).add(h$(e,l+48)),42).mul(p),a=a.xor(i[1].mul(9)),r=r.add(s[0].mul(9).add(h$(e,l+40))),o=g$(o.add(i[0]),33).mul(p),s=b$(e,l,s[1].mul(p),a.add(i[0])),i=b$(e,l+32,o.add(i[1]),r.add(h$(e,l+16))),[o,a]=[a,o],v$(v$(s[0],i[0],p).add(d$(r).mul(c$)).add(o),v$(s[1],i[1],p).add(a),p)}function x$(e,t){return"string"===t?k$(e):w$([e],t)}function w$(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Wk(e)),xE().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const a=e[n];if(isNaN(a)||!isFinite(a))throw Error(`A tensor of type ${t} being uploaded contains ${a}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function C$(){return xE().platform.now()}function k$(e,t="utf-8"){return t=t||"utf-8",xE().platform.encode(e,t)}function E$(e,t="utf-8"){return t=t||"utf-8",xE().platform.decode(e,t)}class S${constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new $$)}profileKernel(e,t,n){let a;const r=()=>{a=n()};let o;const s=C$();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(r);else{r();for(const e of a)e.dataSync();o=Promise.resolve({kernelMs:C$()-s})}if(xE().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<a.length;t++){const n=a[t];n.data().then((t=>{T$(t,n.dtype,e)}))}return{kernelName:e,outputs:a,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:a,inputs:r,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),a,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function T$(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const a=e[t];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class $${logKernelProfile(e,t,n,a,r,o){const s="number"==typeof a?Yk(`${a}ms`,9):a.error,i=Yk(e,25),l=t.rank,c=t.size,u=Yk(t.shape.toString(),14);let p="";for(const e in r){const n=r[e];if(null!=n){const a=n.shape||t.shape,r=a.length;p+=`${e}: ${r}D ${r>0?a:""} `}}console.log(`%c${i}\t%c${s}\t%c${l}D ${u}\t%c${c}\t%c${p}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function O$(e,t,n,a){const r=lE(t),o=function(e,t,n,a){const r=Uk(t),o=a[a.length-1],s=new Array(o).fill(0),i=t.length,l="complex64"===n?P$(e):e;if(i>1)for(let e=0;e<r/o;e++){const t=e*o;for(let e=0;e<o;e++)s[e]=Math.max(s[e],I$(l[t+e],0,n).length)}return s}(e,t,n,r),s=t.length,i=R$(e,t,n,r,o),l=["Tensor"];return a&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(i.map((e=>"    "+e)).join("\n")),l.join("\n")}function I$(e,t,n){let a;return a=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:rE(e)?`'${e}'`:"bool"===n?N$(e):parseFloat(e.toFixed(7)).toString(),Yk(a,t)}function N$(e){return 0===e?"false":"true"}function R$(e,t,n,a,r,o=!0){const s="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[I$(P$(e)[0],0,n)]}return"bool"===n?[N$(e[0])]:[e[0].toString()]}if(1===l){if(i>20){const t=3*s;let a=Array.from(e.slice(0,t)),o=Array.from(e.slice((i-3)*s,i*s));return"complex64"===n&&(a=P$(a),o=P$(o)),["["+a.map(((e,t)=>I$(e,r[t],n))).join(", ")+", ..., "+o.map(((e,t)=>I$(e,r[i-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?P$(e):Array.from(e)).map(((e,t)=>I$(e,r[t],n))).join(", ")+"]"]}const c=t.slice(1),u=a.slice(1),p=a[0]*s,d=[];if(i>20){for(let t=0;t<3;t++){const a=t*p,o=a+p;d.push(...R$(e.slice(a,o),c,n,u,r,!1))}d.push("...");for(let t=i-3;t<i;t++){const a=t*p,o=a+p;d.push(...R$(e.slice(a,o),c,n,u,r,t===i-1))}}else for(let t=0;t<i;t++){const a=t*p,o=a+p;d.push(...R$(e.slice(a,o),c,n,u,r,t===i-1))}const f=2===l?",":"";d[0]="["+d[0]+f;for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+f;let h=",\n";for(let e=2;e<l;e++)h+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(o?"":h),d}function P$(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class M${constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Uk(e),null!=n){const e=n.length;Vk(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||eE(t,this.size),this.strides=lE(e)}set(e,...t){0===t.length&&(t=[0]),Vk(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return B$().makeTensor(this.values,this.shape,this.dtype)}}let B$=null,A$=null,_$=null;class L${constructor(e,t,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Uk(e),this.strides=lE(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return A$.buffer(this.shape,this.dtype,e)}bufferSync(){return A$.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return uE(this.shape,e,"complex64"===this.dtype)}arraySync(){return uE(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=B$().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>E$(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),B$().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=B$().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>E$(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await B$().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(B$().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return A$.print(this,e)}clone(){return this.throwIfDisposed(),A$.clone(this)}toString(e=!1){return O$(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),A$.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),B$().makeVariable(this,e,t,n)}}Object.defineProperty(L$,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),EE("Tensor",(()=>L$));class D$ extends L${constructor(e,t,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Gk(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);B$().disposeTensor(this),this.dataId=e.dataId,B$().incRef(this,null)}dispose(){B$().disposeVariable(this),this.isDisposedInternal=!0}}var F$,z$,V$,H$,j$;Object.defineProperty(D$,Symbol.hasInstance,{value:e=>e instanceof L$&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(F$||(F$={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(z$||(z$={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(V$||(V$={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(H$||(H$={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(j$||(j$={}));const W$={float32:H$,int32:z$,bool:V$,complex64:j$};function U$(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return W$[e][t]}function G$(e){return U$(e,"int32")}function q$(e,t){if(e.dtype===t.dtype)return[e,t];const n=U$(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function X$(e){const t=[];return Y$(e,t,new Set),t}function Y$(e,t,n){if(null==e)return;if(e instanceof L$)return void t.push(e);if(a=e,!Array.isArray(a)&&"object"!=typeof a)return;var a;const r=e;for(const e in r){const a=r[e];n.has(a)||(n.add(a),Y$(a,t,n))}}function K$(e){return null!=e.kernelName}class Q${constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Z${constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Q$}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(QT(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new S$(this.backendInstance),!0}setupRegisteredKernels(){a$(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){a$(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof _k||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,a=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,QT(`Initialization of backend ${e} failed`),QT(n.stack||n.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(t){return QT(`Initialization of backend ${e} failed`),QT(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:a,asyncInit:r}=this.initializeBackend(n);if(r||a)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),a=n.backend,r=this.readSync(t),o=a.refCount(t);a.disposeData(t,!0),n.backend=e,e.move(t,r,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return Z$.nextTensorId++}nextVariableId(){return Z$.nextVariableId++}clone(e){const t=eO.runKernel(ES,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return eO.runKernel(jE,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=t$(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const a=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-t-r-o;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const a=this.isTapeOn(),r=this.state.numBytes,o=this.state.numTensors;let s,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=K$(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(K$(e)){const{kernelName:t,inputs:r,attrs:o}=e;null==this.backendName&&this.backend;const l=t$(t,this.backendName);Vk(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),s=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:r,attrs:o,backend:this.backend});const s=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const c=s.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:n,dtype:a}=e;return this.makeTensorFromDataId(t,n,a)}));if(a){const e=this.getTensorsForGradient(t,r,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,r=e=>{a&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,r)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,p=K$(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,c,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=s()})),a&&this.addTapeNode(l,c,t,p,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const a=n$(e);if(null!=a){const e=a.inputsToSave||[],r=a.outputsToSave||[];let o;a.saveAllInputs?(Vk(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const s=n.filter(((e,t)=>r[t]));return o.concat(s)}return[]}makeTensor(e,t,n,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let r=e;"string"===n&&rE(e[0])&&(r=e.map((e=>k$(e))));const o=a.write(r,t,n),s=new L$(t,n,o,this.nextTensorId());if(this.trackTensor(s,a),"string"===n){const e=this.state.tensorInfo.get(o),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,a){const r=new L$(t,n=n||"float32",e,this.nextTensorId());return this.trackTensor(r,a),r}makeVariable(e,t=!0,n,a){n=n||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const r=new D$(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error(`Variable with name ${r.name} was already registered`);return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*aE(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof D$||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*aE(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,a,r,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},i=n$(e);null!=i&&(a=i.gradFunc),null!=a&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],a=dE(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],r,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=X$(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,t,n,a=!1){if(Vk(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));Vk(r instanceof L$,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const a={},r={};for(let e=0;e<t.length;e++)a[t[e].id]=!0;for(let n=0;n<e.length;n++){const o=e[n],s=o.inputs;for(const e in s){const n=s[e];let i=!1;for(let e=0;e<t.length;e++)if(a[n.id]){o.outputs.forEach((e=>a[e.id]=!0)),i=!0,r[o.id]=!0;break}if(i)break}}const o={};o[n.id]=!0;const s={};for(let t=e.length-1;t>=0;t--){const n=e[t],a=n.inputs;for(let e=0;e<n.outputs.length;e++)if(o[n.outputs[e].id]){for(const e in a)o[a[e].id]=!0,s[n.id]=!0;break}}const i=[];for(let t=0;t<e.length;t++){const n=e[t];if(r[n.id]&&s[n.id]){const e={};for(const t in n.inputs){const r=n.inputs[t];a[r.id]&&(e[t]=r)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,i.push(t)}}return i}(this.state.activeTape,t,r);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=pE(Uk(e),"float32");return eO.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,a){for(let r=t.length-1;r>=0;r--){const o=t[r],s=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==o.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const i=o.gradient(s);for(const t in o.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const r=n((()=>i[t]()));if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${r.dtype}'`);const s=o.inputs[t];if(!Gk(r.shape,s.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${t}' has shape '${r.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=r;else{const t=e[s.id];e[s.id]=a(t,r),t.dispose()}}}}(e,o,(e=>this.tidy(e)),tO);const a=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:a}}))}customGrad(e){return Vk(sE(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;Vk(t.every((e=>e instanceof L$)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};t.forEach(((e,t)=>{a[t]=e}));return this.runKernelFunc({forwardFunc:(a,r)=>(n=e(...t,r),Vk(n.value instanceof L$,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),Vk(sE(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,a)=>{const r=n.gradFunc(e,a),o=Array.isArray(r)?r:[r];Vk(o.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),Vk(o.every((e=>e instanceof L$)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return o.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=C$(),n=await this.backend.time(e);return n.wallMs=C$()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Q$;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function J$(){const e=kE();if(null==e._tfengine){const t=new bE(e);e._tfengine=new Z$(t)}var t;return t=e._tfengine.ENV,CE=t,B$=()=>e._tfengine,e._tfengine}Z$.nextTensorId=0,Z$.nextVariableId=0;const eO=J$();function tO(e,t){const n={a:e,b:t};return eO.runKernel(OE,n)}let nO;function aO(e){if(void 0!==nO)return nO;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function rO(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const oO=xE();function sO(e,t){let n=e;if(nE(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(n)||nE(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&xE().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&iO(e,a,[]),a}function iO(e,t,n){if(n=n||[],!Array.isArray(e)&&!nE(e))return void Vk(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));Vk(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),Vk(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const a=t.slice(1);for(let t=0;t<e.length;++t)iO(e[t],a,n.concat(t))}function lO(e,t,n,a){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${a}' must be ${e} tensor, but got ${t} tensor`)}}function cO(e,t,n,a="numeric"){if(e instanceof L$)return lO(a,e.dtype,t,n),e;let r=oE(e);if("string"!==r&&["bool","int32","float32"].indexOf(a)>=0&&(r=a),lO(a,r,t,n),null==e||!nE(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const a=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${a}'`)}const o=sO(e,r);nE(e)||Array.isArray(e)||(e=[e]);const s="string"!==r?w$(e,r):Wk(e,[],!0);return eO.makeTensor(s,o,r)}function uO(e,t,n,a="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,r)=>cO(e,`${t}[${r}]`,n,a)))}oO.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),oO.registerFlag("IS_BROWSER",(()=>rO())),oO.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),oO.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),oO.registerFlag("PROD",(()=>!1)),oO.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>oO.getBool("DEBUG"))),oO.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),oO.registerFlag("IS_TEST",(()=>!1)),oO.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),oO.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),oO.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));function pO(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const a=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const r=(...e)=>{eO.startScope(n);try{const t=a(...e);return gE(t)&&console.error("Cannot return a Promise inside of tidy."),eO.endScope(t),t}catch(e){throw eO.endScope(null),e}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}const dO=pO({complex_:function(e,t){const n=cO(e,"real","complex"),a=cO(t,"imag","complex");Hk(n.shape,a.shape,`real and imag shapes, ${n.shape} and ${a.shape}, must match in call to tf.complex().`);const r={real:n,imag:a};return eO.runKernel(GE,r)}});function fO(e,t,n,a){if(null==a&&(a=oE(e)),"complex64"===a)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!nE(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){fE(t);const e=Uk(t),a=Uk(n);Vk(e===a,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${a}`));for(let e=0;e<n.length;++e){const a=n[e],r=e!==n.length-1||a!==Uk(t.slice(e));Vk(n[e]===t[e]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return nE(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==a?w$(e,a):Wk(e,[],!0),eO.makeTensor(e,t,a)}function hO(e,t,n){return fO(e,t,sO(e,n),n)}const mO={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function gO(e,t){const n={};let a,r=0;for(const o of t){const t=o.name,s=o.dtype,i=o.shape,l=Uk(i);let c;if("quantization"in o){const n=o.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${o.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${o.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${o.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${s}.`)}const i=mO[n.dtype],u=e.slice(r,r+l*i),p="uint8"===n.dtype?new Uint8Array(u):new Uint16Array(u);if("float32"===s)if("uint8"===n.dtype||"uint16"===n.dtype){c=new Float32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===a&&(a=kO()),c=a(p)}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);c=new Int32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=Math.round(t*n.scale+n.min)}}r+=l*i}else if("string"===s){const t=Uk(o.shape);c=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(r,r+4))[0];r+=4;const n=new Uint8Array(e.slice(r,r+t));c.push(n),r+=t}}else{const a=mO[s],o=e.slice(r,r+l*a);if("float32"===s)c=new Float32Array(o);else if("int32"===s)c=new Int32Array(o);else if("bool"===s)c=new Uint8Array(o);else{if("complex64"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);{c=new Float32Array(o);const e=new Float32Array(c.length/2),a=new Float32Array(c.length/2);for(let t=0;t<e.length;t++)e[t]=c[2*t],a[t]=c[2*t+1];const r=hO(e,i,"float32"),s=hO(a,i,"float32");n[t]=dO(r,s),r.dispose(),s.dispose()}}r+=l*a}"complex64"!==s&&(n[t]=hO(c,i,s))}return n}const vO="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function bO(e){return vO?Buffer.byteLength(e):new Blob([e]).size}function yO(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(new Uint8Array(e),a),a+=e.byteLength})),n.buffer}function xO(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function wO(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[a,r]=await t(e.weightsManifest);n.weightSpecs=a,n.weightData=r}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function CO(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:bO(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:bO(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function kO(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return a=>{const r=new ArrayBuffer(4*a.length),o=new Uint32Array(r);for(let r=0;r<a.length;r++){const s=a[r],i=e[n[s>>10]+(1023&s)]+t[s>>10];o[r]=i}return new Float32Array(r)}}class EO{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==EO.instance&&(EO.instance=new EO),EO.instance}static registerSaveRouter(e){EO.getInstance().saveRouters.push(e)}static registerLoadRouter(e){EO.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return EO.getHandlers(e,"save")}static getLoadHandlers(e,t){return EO.getHandlers(e,"load",t)}static getHandlers(e,t,n){const a=[];return("load"===t?EO.getInstance().loadRouters:EO.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&a.push(r)})),a}}const SO="tensorflowjs",TO="models_store",$O="model_info_store";function OO(){if(!xE().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function IO(e){const t=e.result;t.createObjectStore(TO,{keyPath:"modelPath"}),t.createObjectStore($O,{keyPath:"modelPath"})}class NO{constructor(e){if(this.indexedDB=OO(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const a=this.indexedDB.open(SO,1);a.onupgradeneeded=()=>IO(a),a.onsuccess=()=>{const r=a.result;if(null==t){const t=r.transaction(TO,"readonly"),a=t.objectStore(TO).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return r.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(a.result.modelArtifacts)},a.onerror=e=>(r.close(),n(a.error)),t.oncomplete=()=>r.close()}else{const a=CO(t),o=r.transaction($O,"readwrite");let s=o.objectStore($O);const i=s.put({modelPath:this.modelPath,modelArtifactsInfo:a});let l;i.onsuccess=()=>{l=r.transaction(TO,"readwrite");const i=l.objectStore(TO).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a});i.onsuccess=()=>e({modelArtifactsInfo:a}),i.onerror=e=>{s=o.objectStore($O);const t=s.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(i.error)),t.onerror=e=>(r.close(),n(i.error))}},i.onerror=e=>(r.close(),n(i.error)),o.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}}},a.onerror=e=>n(a.error)}))}}NO.URL_SCHEME="indexeddb://";const RO=e=>{return xE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(NO.URL_SCHEME)?(t=e.slice(NO.URL_SCHEME.length),new NO(t)):null;var t};EO.registerSaveRouter(RO),EO.registerLoadRouter(RO);class PO{constructor(){this.indexedDB=OO()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(SO,1);n.onupgradeneeded=()=>IO(n),n.onsuccess=()=>{const a=n.result,r=a.transaction($O,"readonly"),o=r.objectStore($O).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(a.close(),t(o.error)),r.oncomplete=()=>a.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(NO.URL_SCHEME)?t.slice(NO.URL_SCHEME.length):t,new Promise(((t,n)=>{const a=this.indexedDB.open(SO,1);a.onupgradeneeded=()=>IO(a),a.onsuccess=()=>{const r=a.result,o=r.transaction($O,"readwrite"),s=o.objectStore($O),i=s.get(e);let l;i.onsuccess=()=>{if(null==i.result)return r.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const a=s.delete(e),o=()=>{l=r.transaction(TO,"readwrite");const a=l.objectStore(TO).delete(e);a.onsuccess=()=>t(i.result.modelArtifactsInfo),a.onerror=e=>n(i.error)};a.onsuccess=o,a.onerror=e=>(o(),r.close(),n(i.error))}},i.onerror=e=>(r.close(),n(i.error)),o.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}},a.onerror=e=>n(a.error)}))}}const MO="/",BO="tensorflowjs_models",AO="info",_O="model_topology",LO="weight_specs",DO="weight_data",FO="model_metadata";function zO(e){return{info:[BO,e,AO].join(MO),topology:[BO,e,_O].join(MO),weightSpecs:[BO,e,LO].join(MO),weightData:[BO,e,DO].join(MO),modelMetadata:[BO,e,FO].join(MO)}}function VO(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function HO(e){const t=e.split(MO);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(MO)}class jO{constructor(e){if(!xE().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=zO(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=CO(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(vO)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,a=t.length;e<a;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData));const r={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(r)),{modelArtifactsInfo:a}}catch(e){throw VO(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=a;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(vO){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(o),t}}jO.URL_SCHEME="localstorage://";const WO=e=>{return xE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(jO.URL_SCHEME)?(t=e.slice(jO.URL_SCHEME.length),new jO(t)):null;var t};EO.registerSaveRouter(WO),EO.registerLoadRouter(WO);class UO{constructor(){Vk(xE().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Vk("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=BO+MO,n=MO+AO;for(let a=0;a<this.LS.length;++a){const r=this.LS.key(a);if(r.startsWith(t)&&r.endsWith(n)){e[HO(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){var t;const n=zO(e=(t=e).startsWith(jO.URL_SCHEME)?t.slice(jO.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const a=JSON.parse(this.LS.getItem(n.info));return VO(n),a}}const GO="://";class qO{constructor(){this.managers={}}static getInstance(){return null==qO.instance&&(qO.instance=new qO),qO.instance}static registerManager(e,t){Vk(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(GO)&&(e=e.slice(0,e.indexOf(GO))),Vk(e.length>0,(()=>"scheme must not be an empty string."));const n=qO.getInstance();Vk(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}class XO{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if(xE().get("IS_BROWSER")){xE().setPlatform("browser",new XO);try{qO.registerManager(jO.URL_SCHEME,new UO)}catch(e){}try{qO.registerManager(NO.URL_SCHEME,new PO)}catch(e){}}const YO=()=>n(410);let KO;class QO{constructor(){this.util=n(628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=xE().global.fetch?xE().global.fetch(e,t):(null==KO&&(KO=YO()),KO(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}function ZO(e,t="float32",n){return t=t||"float32",fE(e),new M$(e,t,n)}xE().get("IS_NODE")&&!xE().get("IS_BROWSER")&&xE().setPlatform("node",new QO);const JO=pO({cast_:function(e,t){const n=cO(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const a={x:n},r={dtype:t};return eO.runKernel(jE,a,r)}});const eI=pO({clone_:function(e){const t={x:cO(e,"x","clone","string_or_numeric")};return eO.runKernel(ES,t)}});J$();const tI={buffer:ZO,cast:JO,clone:eI,print:function(e,t=!1){console.log(e.toString(t))}};A$=tI;function nI(e){return new Promise((e=>setTimeout(e))).then(e)}class aI{constructor(e){if(!xE().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(aI.URL_SCHEME)&&(e=e.slice(aI.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=xO(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),a=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=a,await nI((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await nI((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:CO(e)}}}}aI.URL_SCHEME="downloads://";function rI(e,t,n,a){!function(e){Vk(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){Vk(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),Vk(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),Vk(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,a=null==a?1:a);let r=0;return Promise.all(e.map((o=>(o.then((o=>{const s=n+ ++r/e.length*(a-n);return t(s),o})),o))))}async function oI(e,t){null==t&&(t={});const n=null==t.fetchFunc?xE().platform.fetch:t.fetchFunc,a=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(a):await rI(a,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await rI(r,t.onProgress,.5,1)}EO.registerSaveRouter((e=>xE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(aI.URL_SCHEME)?function(e="model"){return new aI(e)}(e.slice(aI.URL_SCHEME.length)):null));class sI{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Vk("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=xE().platform.fetch,Vk(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Vk(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=xO(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:CO(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,a=t.weightsManifest;if(null==n&&null==a)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return wO(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),a=e.substring(0,t),r=n>t?e.substring(n):"";return[a+"/",r]}(t),r=this.weightPathPrefix||n,o=[];for(const t of e)o.push(...t.weights);const s=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):s.push(r+e+a);this.weightUrlConverter&&s.push(...await Promise.all(i));return[o,yO(await oI(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function iI(e){return null!=e.match(sI.URL_SCHEME_REGEX)}sI.URL_SCHEME_REGEX=/^https?:\/\//;const lI=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>iI(e))):iI(e),n)return cI(e,t)}return null};function cI(e,t){return new sI(e,t)}function uI(e,t){return cI(e,t)}EO.registerSaveRouter(lI),EO.registerLoadRouter(lI);function pI(e,t){const n=e.length,a=[];for(let r=0;r<n;r++){const o=n-1-r,s=e[o]||1;(t[t.length-1-r]||1)>1&&1===s&&a.unshift(o)}return a}function dI(e,t){const n=[];for(let a=0;a<t.length;a++){const r=e[e.length-a-1],o=t.length-a-1,s=t[o];(null==r||1===r&&s>1)&&n.unshift(o)}return n}function fI(e,t){const n=[],a=Math.max(e.length,t.length);for(let r=0;r<a;r++){let a=e[e.length-r-1];null==a&&(a=1);let o=t[t.length-r-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(a)}}return n}let hI;function mI(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,r=!1,o=!1,s=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);i=!0}if(r){const t=2;if(r&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=t$(GT,eO.backendName)){const n={pixels:e},a={numChannels:t};return eO.runKernel(GT,n,a)}const[l,c]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,p;if(s)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(a||n)u=e.data;else if(o||r||i){if(null==hI)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");hI=new OffscreenCanvas(1,1).getContext("2d")}else hI=document.createElement("canvas").getContext("2d");hI.canvas.width=l,hI.canvas.height=c,hI.drawImage(e,0,0,l,c),u=hI.getImageData(0,0,l,c).data}if(4===t)p=new Int32Array(u);else{const e=l*c;p=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)p[n*t+e]=u[4*n+e]}return function(e,t,n){if(jk(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const a=sO(e,n);if(3!==a.length&&1!==a.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return fO(e,t,a,n)}(p,[c,l,t],"int32")}const gI=pO({fromPixels_:mI});function vI(e,t,n){const a=e.shape.length;Vk(a===t.length,(()=>`Error in slice${a}D: Length of begin ${t} must match the rank of the array (${a}).`)),Vk(a===n.length,(()=>`Error in slice${a}D: Length of size ${n} must match the rank of the array (${a}).`));for(let r=0;r<a;++r)Vk(t[r]+n[r]<=e.shape[r],(()=>`Error in slice${a}D: begin[${r}] + size[${r}] (${t[r]+n[r]}) would overflow input.shape[${r}] (${e.shape[r]})`))}function bI(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function yI(e,t,n){const a=[];for(let r=0;r<e.length;r++)a[r]=Math.ceil((t[r]-e[r])/n[r]);return a}function xI(e,t,n,a){const r=[...e];for(let e=r.length;e<a.length;e++)r.push(1);for(let e=0;e<n;e++)0===e?r[t]=1:(r.splice(t,0,1),r.pop());return r}function wI(e,t,n){return n<=e?n:n-(t-1)}function CI(e,t){const n=[];for(let a=0;a<e;a++)n.push(t+a);return n}function kI(e,t,n,a,r,o,s,i,l){const c=e.length;let u=new Array(c),p=new Array(c),d=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=EI(s,l,c,a,e),p=SI(i,l,c,r,e),d=xI(o,l,c,e)}else for(let t=0;t<c;t++)u[t]=$I(s,a,o,e,t,l),p[t]=OI(i,r,o,e,t,l),d[t]=TI(o,t,l);return{begin:u,end:p,strides:d}}function EI(e,t,n,a,r){const o=[...r],s=CI(n,t);for(let r=0;r<o.length;r++)if(s.indexOf(r)>-1)o[r]=0;else{const s=wI(t,n,r);let i=a[s];e&1<<s&&(i=0),o[r]=i}return o}function SI(e,t,n,a,r){const o=[...r],s=CI(n,t);for(let r=0;r<o.length;r++)if(s.indexOf(r)>-1)o[r]=Number.MAX_SAFE_INTEGER;else{const s=wI(t,n,r);let i=a[s];e&1<<s&&(i=Number.MAX_SAFE_INTEGER),o[r]=i}for(let e=0;e<o.length;e++){const t=r[e];o[e]<0&&(o[e]+=t),o[e]=Dk(0,o[e],r[e])}return o}function TI(e,t,n){let a=e[t];return(n&1<<t||null==a)&&(a=1),a}function $I(e,t,n,a,r,o){let s=t[r];const i=n[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=a[r];return s<0&&(s+=l),s=Dk(0,s,l-1),s}function OI(e,t,n,a,r,o){let s=t[r];const i=n[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=a[r];return s<0&&(s+=l),s=i>0?Dk(0,s,l):Dk(-1,s,l-1),s}function II(e,t,n){let a=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){a=e;break}for(let r=a+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function NI(e,t){let n=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)n+=e[a]*t[a];return n}function RI(e,t,n){let a;const r=e.shape.length;let o;return a="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),a.forEach((e=>{Vk(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(r).fill(-1):"number"==typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(Vk(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-a[n]))),[a,o]}function PI(e,t,n,a,r,o,s,i,l){let c;if(null==a?(c=new Array(t.length),c.fill(1)):c=a,null!=s&&0!=(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const p={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};for(let e=0;e<p.dims;e++)u&&0!=(1<<e&i)&&p.numAddAxisAfterEllipsis++,1<<e&s&&(u=!0);u||(p.ellipsisMask|=1<<p.dims,p.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let a=0;a<e.dims;a++)if(1<<a&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-a)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<r;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=a}else if(1<<a&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[a]),null!=e.end&&(t.end[n]=e.end[a]),t.strides[n]=e.strides[a],e.beginMask&1<<a&&(t.beginMask|=1<<n),e.endMask&1<<a&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<a?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(a)),t.inputShapeGatherIndicesSparse[n]=a,n++}}(p,d);let f=!0,h=!0,m=!0;const g=[],v=[];for(let t=0;t<e.length;++t){if(0===d.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(d.shrinkAxisMask&1<<t),a=e[t];if(-1===a){g.push(n?1:-1);continue}const r=[d.beginMask&1<<t,d.endMask&1<<t],o=[d.strides[t]>0?0:-1,d.strides[t]>0?a:a-1];if(n&&d.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[t];const s=!!(d.beginMask&1<<t&&d.endMask&1<<t);if(d.beginValid&&d.endValid){if(n){const e=d.begin[t]<0?a+d.begin[t]:d.begin[t];if(d.begin[t]=e,d.end[t]=d.begin[t]+1,e<0||e>=a)throw Error(`slice index ${d.begin[t]} of dimension ${t} out of bounds.`)}else d.begin[t]=MI(d.begin[t],0,d.strides[t],a,r,o),d.end[t]=MI(d.end[t],1,d.strides[t],a,r,o);const e=1===d.strides[t]&&0===d.begin[t]&&d.end[t]===a;f=f&&e,h=h&&(0===t&&1===d.strides[t]||e)}else f=f&&1===d.strides[t]&&s,h=h&&(0===t&&1===d.strides[t]||s);let i,l=!1;if(d.beginValid&&d.endValid?(i=d.end[t]-d.begin[t],l=!0):n?(i=1,l=!0):s&&a>=0&&(i=d.strides[t]<0?-a:a,l=!0),l){let e;e=0===i||i<0!=d.strides[t]<0?0:Math.trunc(i/d.strides[t])+(i%d.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<d.finalShapeGatherIndices.length;++e){const t=d.finalShapeGatherIndices[e];t>=0?v.push(g[t]):-2===t&&v.push(1)}const b=v.filter(((e,t)=>-2!==d.finalShapeGatherIndices[t]));return{finalShapeSparse:b,finalShape:v,isIdentity:f,sliceDim0:h,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function MI(e,t,n,a,r,o){if(r[t])return n>0?o[t]:o[t+1&1];{const t=e<0?a+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}const BI=pO({add_:function(e,t){let n=cO(e,"a","add"),a=cO(t,"b","add");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel(OE,r)}});const AI=pO({concat_:function(e,t=0){Vk(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=uO(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return eI(n[0]);const a=n,r={axis:t};return eO.runKernel(XE,a,r)}});const _I=pO({concat2d_:function(e,t){return AI(e,t)}});const LI=pO({floorDiv_:function(e,t){let n=cO(e,"a","floorDiv"),a=cO(t,"b","floorDiv");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel(bS,r)}});const DI=pO({div_:function(e,t){let n=cO(e,"a","div"),a=cO(t,"b","div");if([n,a]=q$(n,a),"int32"===n.dtype&&"int32"===a.dtype)return LI(n,a);const r={a:n,b:a};return eO.runKernel(cS,r,{})}});const FI=pO({expandDims_:function(e,t=0){const n=cO(e,"x","expandDims","string_or_numeric");Vk(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const a={input:n},r={dim:t};return eO.runKernel(fS,a,r)}});const zI=pO({mul_:function(e,t){let n=cO(e,"a","mul"),a=cO(t,"b","mul");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel(US,r)}});const VI=pO({reshape_:function(e,t){const n={x:cO(e,"x","reshape","string_or_numeric")},a={shape:t};return eO.runKernel(iT,n,a)}});function HI(e,t){if((nE(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&nE(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return fO(e,[],[],t)}const jI=pO({sigmoid_:function(e){const t={x:cO(e,"x","sigmoid","float32")};return eO.runKernel(xT,t)}});const WI=pO({slice_:function(e,t,n){const a=cO(e,"x","slice","string_or_numeric");if(0===a.rank)throw new Error("Slicing scalar is not possible");const r={x:a},o={begin:t,size:n};return eO.runKernel(vT,r,o)}});const UI=pO({squeeze_:function(e,t){const n=cO(e,"x","squeeze");return VI(n,Zk(n.shape,t).newShape)}});const GI=pO({stack_:function(e,t=0){const n=uO(e,"tensors","stack","string_or_numeric");Vk(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&Vk(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const a=n,r={axis:t};return eO.runKernel(JS,a,r)}});const qI=pO({sub_:function(e,t){let n=cO(e,"a","sub"),a=cO(t,"b","sub");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel(_T,r)}});function XI(e,t){jk(e);const n=sO(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return fO(e,null,n,t)}function YI(e,t,n){if(jk(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const a=sO(e,n);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return fO(e,t,a,n)}const KI=pO({unstack_:function(e,t=0){const n=cO(e,"x","unstack","string_or_numeric");Vk(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const a={value:n},r={axis:t};return eO.runKernel(jT,a,r)}});function QI(e,t="float32"){if("complex64"===t){const t=QI(e,"float32"),n=QI(e,"float32");return dO(t,n)}const n=dE(Uk(e),t);return eO.makeTensor(n,e,t)}const ZI=pO({imag_:function(e){const t={input:cO(e,"input","imag")};return eO.runKernel(TS,t)}});const JI=pO({real_:function(e){const t={input:cO(e,"input","real")};return eO.runKernel(rT,t)}});const eN=pO({split_:function(e,t,n=0){const a={x:cO(e,"x","split")},r={numOrSizeSplits:t,axis:n};return eO.runKernel(ET,a,r)}});const tN=pO({zerosLike_:function(e){const t={x:cO(e,"x","zerosLike")};return eO.runKernel(WT,t)}});const nN=pO({fft_:function(e){Vk("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return eO.runKernel("FFT",t)}});const aN=pO({rfft_:function(e,t){Vk("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const a=e.size/n;let r;if(null!=t&&t<n){const a=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,r=WI(e,a,o),n=t}else if(null!=t&&t>n){const a=e.shape.map((e=>e));a[e.shape.length-1]=t-n,r=AI([e,QI(a)],e.shape.length-1),n=t}else r=e;const o=tN(r),s=VI(dO(r,o),[a,n]),i=nN(s),l=Math.floor(n/2)+1,c=JI(i),u=ZI(i),p=eN(c,[l,n-l],c.shape.length-1),d=eN(u,[l,n-l],u.shape.length-1),f=r.shape.slice();return f[r.shape.length-1]=l,VI(dO(p[0],d[0]),f)}});const rN=pO({ifft_:function(e){Vk("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return eO.runKernel(SS,t)}});const oN=pO({reverse_:function(e,t){const n={x:cO(e,"x","reverse")},a={dims:t};return eO.runKernel(pT,n,a)}});const sN=pO({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let a;if(t<=2){const r=VI(e,[n,t]);a=rN(r)}else{const r=[n,2*(t-1)],o=VI(JI(e),[n,t]),s=VI(ZI(e),[n,t]),i=oN(WI(o,[0,1],[n,t-2]),1),l=zI(oN(WI(s,[0,1],[n,t-2]),1),HI(-1)),c=AI([o,i],1),u=AI([s,l],1),p=VI(dO(c,u),[r[0],r[1]]);a=rN(p)}if(a=JI(a),3===e.rank&&0!==e.shape[0]){const t=a,n=e.shape[0];a=VI(a,[n,a.shape[0]/n,a.shape[1]]),t.dispose()}return a}});function iN(e,t,n){const a=1-e%2,r=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+a-1);r[o]=t-n*Math.cos(s)}return XI(r,"float32")}pO({hammingWindow_:function(e){return iN(e,.54,.46)}});const lN=pO({hannWindow_:function(e){return iN(e,.5,.5)}});function cN(e,t,n){const a={shape:e,value:t,dtype:n};return eO.runKernel(mS,{},a)}const uN=pO({frame_:function(e,t,n,a=!1,r=0){let o=0;const s=[];for(;o+t<=e.size;)s.push(WI(e,o,t)),o+=n;if(a)for(;o<e.size;){const a=o+t-e.size,i=AI([WI(e,o,t-a),cN([a],r)]);s.push(i),o+=n}return 0===s.length?YI([],[0,t]):VI(AI(s),[s.length,t])}});pO({stft_:function(e,t,n,a,r=lN){null==a&&(a=function(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}(t));const o=uN(e,t,n),s=zI(o,r(t));return aN(s,a)}});const pN=pO({cropAndResize_:function(e,t,n,a,r="bilinear",o=0){const s=cO(e,"image","cropAndResize"),i=cO(t,"boxes","cropAndResize","float32"),l=cO(n,"boxInd","cropAndResize","int32"),c=i.shape[0];Vk(4===s.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`)),Vk(2===i.rank&&4===i.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${i.shape}.`)),Vk(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${i.shape}.`)),Vk(2===a.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${a.length}.`)),Vk(a[0]>=1&&a[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${a}`)),Vk("bilinear"===r||"nearest"===r,(()=>`method must be bilinear or nearest, but was ${r}`));const u={image:s,boxes:i,boxInd:l},p={method:r,extrapolationValue:o,cropSize:a};return eO.runKernel(nS,u,p)}});const dN=pO({flipLeftRight_:function(e){const t=cO(e,"image","flipLeftRight","float32");Vk(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return eO.runKernel(gS,n,{})}});const fN=pO({tile_:function(e,t){const n=cO(e,"x","tile","string_or_numeric");Vk(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const a={x:n},r={reps:t};return eO.runKernel(DT,a,r)}});const hN=pO({grayscaleToRGB_:function(e){const t=cO(e,"image","grayscaleToRGB"),n=t.rank-1,a=t.shape[n];Vk(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),Vk(1===a,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${a}.`));const r=new Array(t.rank);return r.fill(1,0,n),r[n]=3,fN(t,r)}});const mN=pO({rotateWithOffset_:function(e,t,n=0,a=.5){const r=cO(e,"image","rotateWithOffset","float32");Vk(4===r.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`));const o={image:r},s={radians:t,fillValue:n,center:a};return eO.runKernel(qT,o,s)}});function gN(e,t,n,a,r,o){null==a&&(a=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return n=Math.min(n,s),Vk(0<=a&&a<=1,(()=>`iouThreshold must be in [0, 1], but was '${a}'`)),Vk(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),Vk(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),Vk(1===t.rank,(()=>"scores must be a 1D tensor")),Vk(t.shape[0]===s,(()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`)),Vk(0<=o&&o<=1,(()=>`softNmsSigma must be in [0, 1], but was '${o}'`)),{maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:o}}const vN=pO({nonMaxSuppression_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY){const o=cO(e,"boxes","nonMaxSuppression","float32"),s=cO(t,"scores","nonMaxSuppression","float32"),i=gN(o,s,n,a,r),l={maxOutputSize:n=i.maxOutputSize,iouThreshold:a=i.iouThreshold,scoreThreshold:r=i.scoreThreshold};return eO.runKernel(XS,{boxes:o,scores:s},l)}});function bN(e,t,n){const a=function(e,t,n){return function(e,t,n){let a=0,r=e.length,o=0,s=!1;for(;a<r;){o=a+(r-a>>>1);const i=n(t,e[o]);i>0?a=o+1:(r=o,s=!i)}return s?a:-a-1}(e,t,n||yN)}(e,t,n),r=a<0?-(a+1):a;e.splice(r,0,t)}function yN(e,t){return e>t?1:e<t?-1:0}function xN(e,t,n,a,r){return kN(e,t,n,a,r,0)}function wN(e,t,n,a,r,o){return kN(e,t,n,a,r,0,!1,o,!0)}function CN(e,t,n,a,r,o){return kN(e,t,n,a,r,o,!0)}function kN(e,t,n,a,r,o,s=!1,i=!1,l=!1){const c=[];for(let e=0;e<t.length;e++)t[e]>r&&c.push({score:t[e],boxIndex:e,suppressBeginIndex:0});c.sort(TN);const u=o>0?-.5/o:0,p=[],d=[];for(;p.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<r)break;let i=!1;for(let n=p.length-1;n>=s;--n){const s=EN(e,o,p[n]);if(s>=a){i=!0;break}if(t.score=t.score*SN(a,u,s),t.score<=r)break}t.suppressBeginIndex=p.length,i||(t.score===n?(p.push(o),d.push(t.score)):t.score>r&&bN(c,t,TN))}const f=p.length,h=n-f;i&&h>0&&(p.push(...new Array(h).fill(0)),d.push(...new Array(h).fill(0)));const m={selectedIndices:p};return s&&(m.selectedScores=d),l&&(m.validOutputs=f),m}function EN(e,t,n){const a=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),o=Math.min(a[0],a[2]),s=Math.min(a[1],a[3]),i=Math.max(a[0],a[2]),l=Math.max(a[1],a[3]),c=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),p=Math.max(r[0],r[2]),d=Math.max(r[1],r[3]),f=(i-o)*(l-s),h=(p-c)*(d-u);if(f<=0||h<=0)return 0;const m=Math.max(o,c),g=Math.max(s,u),v=Math.min(i,p),b=Math.min(l,d),y=Math.max(v-m,0)*Math.max(b-g,0);return y/(f+h-y)}function SN(e,t,n){const a=Math.exp(t*n*n);return n<=e?a:0}function TN(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const $N=async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY){const o=cO(e,"boxes","nonMaxSuppressionAsync"),s=cO(t,"scores","nonMaxSuppressionAsync"),i=gN(o,s,n,a,r);n=i.maxOutputSize,a=i.iouThreshold,r=i.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:p}=xN(c,u,n,a,r);return o!==e&&o.dispose(),s!==t&&s.dispose(),XI(p,"int32")};const ON=pO({nonMaxSuppressionWithScore_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=cO(e,"boxes","nonMaxSuppression"),i=cO(t,"scores","nonMaxSuppression"),l=gN(s,i,n,a,r,o),c={boxes:s,scores:i},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:a=l.iouThreshold,scoreThreshold:r=l.scoreThreshold,softNmsSigma:o=l.softNmsSigma},p=eO.runKernel(KS,c,u);return{selectedIndices:p[0],selectedScores:p[1]}}});const IN=async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=cO(e,"boxes","nonMaxSuppressionAsync"),i=cO(t,"scores","nonMaxSuppressionAsync"),l=gN(s,i,n,a,r,o);n=l.maxOutputSize,a=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([s.data(),i.data()]),u=c[0],p=c[1],{selectedIndices:d,selectedScores:f}=CN(u,p,n,a,r,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:XI(d,"int32"),selectedScores:XI(f)}};const NN=pO({nonMaxSuppressionPadded_:function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=cO(e,"boxes","nonMaxSuppression"),i=cO(t,"scores","nonMaxSuppression"),l=gN(s,i,n,a,r,null),c={boxes:s,scores:i},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},p=eO.runKernel(YS,c,u);return{selectedIndices:p[0],validOutputs:p[1]}}});const RN=async function(e,t,n,a=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=cO(e,"boxes","nonMaxSuppressionAsync"),i=cO(t,"scores","nonMaxSuppressionAsync"),l=gN(s,i,n,a,r,null),c=l.maxOutputSize,u=l.iouThreshold,p=l.scoreThreshold,[d,f]=await Promise.all([s.data(),i.data()]),{selectedIndices:h,validOutputs:m}=wN(d,f,c,u,p,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:XI(h,"int32"),validOutputs:HI(m,"int32")}};const PN=pO({resizeBilinear_:function(e,t,n=!1,a=!1){const r=cO(e,"images","resizeBilinear");Vk(3===r.rank||4===r.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`)),Vk(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),Vk(!1===a||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=VI(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=eO.runKernel(cT,i,l);return s?VI(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const MN=pO({resizeNearestNeighbor_:function(e,t,n=!1,a=!1){const r=cO(e,"images","resizeNearestNeighbor");Vk(3===r.rank||4===r.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`)),Vk(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),Vk("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),Vk(!1===a||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=VI(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=eO.runKernel(lT,i,l);return s?VI(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const BN=pO({bincount_:function(e,t,n){const a=cO(e,"x","bincount"),r=cO(t,"weights","bincount");Vk("int32"===a.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${a.dtype}`)),Vk(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Vk(r.size===a.size||0===r.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${a.shape}, weights shape: ${r.shape}.`));const o={x:a,weights:r},s={size:n};return eO.runKernel(VE,o,s)}});const AN=pO({lessEqual_:function(e,t){let n=cO(e,"a","lessEqual","string_or_numeric"),a=cO(t,"b","lessEqual","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(NS,r)}});const _N=pO({greater_:function(e,t){let n=cO(e,"a","greater","string_or_numeric"),a=cO(t,"b","greater","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(CS,r)}});const LN=pO({sum_:function(e,t=null,n=!1){let a=cO(e,"x","sum");"bool"===a.dtype&&(a=JO(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return eO.runKernel("Sum",r,o)}});const DN=pO({round_:function(e){const t={x:cO(e,"x","round")};return eO.runKernel(dT,t)}});const FN=pO({broadcastTo_:function(e,t){let n=cO(e,"broadcastTo","x");const a=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=VI(n,e)}const r=n.shape,o=Array.from(t);for(let e=t.length-1;e>=0;e--)if(r[e]===t[e])o[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${t}].`);const s=o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===s.length)return eI(n);const i={x:n},l={reps:o};return eO.runKernel(DT,i,l)}});const zN=pO({where_:function(e,t,n){const a=cO(t,"a","where"),r=cO(n,"b","where"),o=cO(e,"condition","where","bool"),s=fI(fI(o.shape,a.shape),r.shape),i={condition:FN(o,s),t:FN(a,s),e:FN(r,s)};return eO.runKernel(mT,i)}});function VN(e,t,n=1,a="float32"){if(0===n)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:n,dtype:a};return eO.runKernel(aT,{},r)}const HN=pO({threshold_:function(e,t="binary",n=!1,a=.5){const r=cO(e,"image","threshold"),o=r.shape[0]*r.shape[1];let s,i,l,c,u=zI(XI([a]),255);if(Vk(3===r.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`)),Vk(3===r.shape[2]||1===r.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`)),Vk("int32"===r.dtype||"float32"===r.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`)),Vk("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===r.shape[2]){[s,i,l]=eN(r,[1,1,1],-1);const e=zI(s,.2989),t=zI(i,.587),n=zI(l,.114);c=BI(BI(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,a,r,o,s,i,l=XI([-1]),c=XI([0]),u=XI([0]);for(let p=0;p<e.size-1;p++){n=WI(e,0,p+1),a=WI(e,p+1),s=DI(LN(n),t),i=DI(LN(a),t);const d=LN(zI(n,VN(0,n.size)));r=DI(d,LN(n));const f=cN(a.shape,n.size),h=BI(VN(0,a.size),f),m=zI(a,h);o=DI(LN(m),LN(a));const g=qI(r,o),v=qI(r,o),b=zI(s,i);u=zI(zI(b,g),v);const y=_N(u,c);c=zN(y,u,c),l=zN(y,XI([p]),l)}return l}(BN(JO(DN(c),"int32"),hO([]),256),o)}const p=n?AN(c,u):_N(c,u);return JO(zI(p,255),"int32")}});const jN=pO({transform_:function(e,t,n="nearest",a="constant",r=0,o){const s=cO(e,"image","transform","float32"),i=cO(t,"transforms","transform","float32");Vk(4===s.rank,(()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`)),Vk(2===i.rank&&(i.shape[0]===s.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),Vk(null==o||2===o.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`));const l={image:s,transforms:i},c={interpolation:n,fillMode:a,fillValue:r,outputShape:o};return eO.runKernel(zT,l,c)}});const WN=pO({greaterEqual_:function(e,t){let n=cO(e,"a","greaterEqual","string_or_numeric"),a=cO(t,"b","greaterEqual","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(kS,r)}});const UN=pO({logicalAnd_:function(e,t){const n=cO(e,"a","logicalAnd","bool"),a=cO(t,"b","logicalAnd","bool");fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(BS,r)}});pO({bandPart_:function(e,t,n){Vk(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),Vk(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const a=cO(e,"a","bandPart");Vk(a.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${a.rank}.`));const r=a.shape,[o,s]=a.shape.slice(-2);if(!(t<=o))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`);if(!(n<=s))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`);t<0&&(t=o),n<0&&(n=s);const i=VI(VN(0,o,1,"int32"),[-1,1]),l=VN(0,s,1,"int32"),c=qI(i,l),u=UN(AN(c,HI(+t,"int32")),WN(c,HI(-n,"int32"))),p=QI([o,s],a.dtype);return VI(GI(KI(VI(a,[-1,o,s])).map((e=>zN(u,e,p)))),r)}});const GN=pO({abs_:function(e){const t=cO(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return eO.runKernel(qE,e)}{const e={x:t};return eO.runKernel(SE,e)}}});function qN(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function XN(e,t,n){const a=e.length+t.length,r=[];let o=0,s=0;for(let i=0;i<a;i++)-1===n.indexOf(i)?r.push(e[o++]):r.push(t[s++]);return r}function YN(e,t){const n=[],a=e.length;for(let r=0;r<a;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function KN(e,t){return XN(e,t.map((e=>1)),t)}function QN(e,t,n){Vk(qN(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function ZN(e,t){if(qN(e,t))return null;const n=[];for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);return e.forEach((e=>n.push(e))),n}function JN(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function eR(e,t){const n=[];for(let a=t-e;a<t;++a)n.push(a);return n}const tR=pO({max_:function(e,t=null,n=!1){const a={x:cO(e,"x","max")},r={reductionIndices:t,keepDims:n};return eO.runKernel("Max",a,r)}});const nR=pO({min_:function(e,t=null,n=!1){const a={x:cO(e,"x","min")},r={axis:t,keepDims:n};return eO.runKernel("Min",a,r)}});const aR=pO({pow_:function(e,t){let n=cO(e,"base","pow"),a=cO(t,"exp","pow");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel("Pow",r)}});const rR=pO({sqrt_:function(e){const t={x:cO(e,"x","sqrt","float32")};return eO.runKernel(CT,t)}});const oR=pO({square_:function(e){const t=cO(e,"x","square");return eO.runKernel("Square",{x:t},{})}});function sR(e,t,n=null){if(0===e.rank)return GN(e);if(1!==e.rank&&null===n)return sR(VI(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return LN(GN(e),n);if(t===1/0)return tR(GN(e),n);if(t===-1/0)return nR(GN(e),n);if("euclidean"===t||2===t)return rR(LN(aR(GN(e),HI(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return tR(LN(GN(e),n[0]),n[1]-1);if(t===1/0)return tR(LN(GN(e),n[1]),n[0]);if(t===-1/0)return nR(LN(GN(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return rR(LN(oR(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const iR=pO({norm_:function(e,t="euclidean",n=null,a=!1){const r=sR(e=cO(e,"x","norm"),t,n);let o=r.shape;if(a){const t=Qk(n,e.shape);o=KN(r.shape,t)}return VI(r,o)}});pO({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Vk(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)Vk(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=eN(e,e.shape[0],0).map((e=>UI(e,[0])));Vk(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],a=e;for(let t=0;t<e.length;++t)n.push(eO.tidy((()=>{let e=a[t];if(t>0)for(let a=0;a<t;++a){const t=zI(LN(zI(n[a],e)),n[a]);e=qI(e,t)}return DI(e,iR(e,"euclidean"))})));return t?GI(n,0):n}});function lR(){return eO}function cR(e,t){return eO.tidy(e,t)}function uR(e){return eO.keep(e)}_$=function(e){xE().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const pR=pO({eye_:function(e,t,n,a="float32"){null==t&&(t=e);const r=ZO([e,t],a),o=e<=t?e:t;for(let e=0;e<o;++e)r.set(1,e,e);const s=VI(r.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return fN(FI(s,0),[n[0],1,1]);if(2===n.length)return fN(FI(FI(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return fN(FI(FI(FI(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const dR=pO({matMul_:function(e,t,n=!1,a=!1){let r=cO(e,"a","matMul"),o=cO(t,"b","matMul");[r,o]=q$(r,o);const s={a:r,b:o},i={transposeA:n,transposeB:a};return eO.runKernel(FE,s,i)}});const fR=pO({neg_:function(e){const t={x:cO(e,"x","neg")};return eO.runKernel(GS,t)}});const hR=pO({transpose_:function(e,t){const n=cO(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),Vk(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{Vk(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const a={x:n},r={perm:t};return eO.runKernel(VT,a,r)}});function mR(e,t=!1){return eO.tidy((()=>{Vk(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],a=e.shape[1];let r=pR(n),o=eI(e);const s=YI([[1]],[1,1]);let i=eI(s);const l=n>=a?a:n;for(let e=0;e<l;++e){const t=o,l=i,c=r;[i,o,r]=eO.tidy((()=>{const t=WI(o,[e,e],[n-e,1]),l=iR(t),c=WI(o,[e,e],[1,1]),u=zN(_N(c,0),YI([[-1]]),YI([[1]])),p=qI(c,zI(u,l)),d=DI(t,p);i=1===d.shape[0]?eI(s):AI([s,WI(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const f=fR(DI(dR(u,p),l)),h=WI(o,[e,0],[n-e,a]),m=zI(f,i),g=hR(i);if(0===e)o=qI(h,dR(m,dR(g,h)));else{const t=qI(h,dR(m,dR(g,h)));o=AI([WI(o,[0,0],[e,a]),t],0)}const v=hR(m),b=WI(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=qI(b,dR(dR(b,i),v));else{const t=qI(b,dR(dR(b,i),v));r=AI([WI(r,[0,0],[n,e]),t],1)}return[i,o,r]})),X$([t,l,c]).forEach((e=>e.dispose()))}return!t&&n>a&&(r=WI(r,[0,0],[n,a]),o=WI(o,[0,0],[a,a])),[r,o]}))}pO({qr_:function(e,t=!1){if(Vk(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return mR(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),a=KI(VI(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],o=[];a.forEach((e=>{const[n,a]=mR(e,t);r.push(n),o.push(a)}));return[VI(GI(r,0),e.shape),VI(GI(o,0),e.shape)]}}});var gR;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(gR||(gR={}));const vR=pO({mean_:function(e,t=null,n=!1){const a={x:cO(e,"x","mean")},r={axis:t,keepDims:n};return eO.runKernel(VS,a,r)}});const bR=pO({notEqual_:function(e,t){let n=cO(e,"a","notEqual","string_or_numeric"),a=cO(t,"b","notEqual","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(qS,r)}});function yR(e,t="float32"){if("complex64"===t){const t=yR(e,"float32"),n=QI(e,"float32");return dO(t,n)}const n=pE(Uk(e),t);return eO.makeTensor(n,e,t)}const xR=pO({computeWeightedLoss_:function(e,t,n=gR.SUM_BY_NONZERO_WEIGHTS){const a=cO(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=cO(t,"weights","computeWeightedLoss"));const o=null==r?a:zI(a,r);if(n===gR.NONE)return o;if(n===gR.SUM)return LN(o);if(n===gR.MEAN){if(null==r)return vR(o);{const e=a.size/r.size,t=DI(LN(o),LN(r));return e>1?DI(t,HI(e)):t}}if(n===gR.SUM_BY_NONZERO_WEIGHTS){if(null==r)return DI(LN(o),HI(a.size));{const e=zI(r,yR(a.shape)),t=JO(LN(bR(e,HI(0))),"float32");return DI(LN(o),t)}}throw Error(`Unknown reduction: ${n}`)}});pO({absoluteDifference_:function(e,t,n,a=gR.SUM_BY_NONZERO_WEIGHTS){const r=cO(e,"labels","absoluteDifference"),o=cO(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=cO(n,"weights","absoluteDifference")),Hk(r.shape,o.shape,"Error in absoluteDifference: ");const i=GN(qI(r,o));return xR(i,s,a)}});pO({cosineDistance_:function(e,t,n,a,r=gR.SUM_BY_NONZERO_WEIGHTS){const o=cO(e,"labels","cosineDistance"),s=cO(t,"predictions","cosineDistance");let i=null;null!=a&&(i=cO(a,"weights","cosineDistance")),Hk(o.shape,s.shape,"Error in cosineDistance: ");const l=HI(1),c=qI(l,LN(zI(o,s),n,!0));return xR(c,i,r)}});const wR=pO({relu_:function(e){const t={x:cO(e,"x","relu")};return eO.runKernel(sT,t)}});pO({hingeLoss_:function(e,t,n,a=gR.SUM_BY_NONZERO_WEIGHTS){let r=cO(e,"labels","hingeLoss");const o=cO(t,"predictions","hingeLoss");let s=null;null!=n&&(s=cO(n,"weights","hingeLoss")),Hk(r.shape,o.shape,"Error in hingeLoss: ");const i=HI(1);r=qI(zI(HI(2),r),i);const l=wR(qI(i,zI(r,o)));return xR(l,s,a)}});const CR=pO({minimum_:function(e,t){let n=cO(e,"a","minimum"),a=cO(t,"b","minimum");[n,a]=q$(n,a),"bool"===n.dtype&&(n=JO(n,"int32"),a=JO(a,"int32")),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(HS,r)}});pO({huberLoss_:function(e,t,n,a=1,r=gR.SUM_BY_NONZERO_WEIGHTS){const o=cO(e,"labels","huberLoss"),s=cO(t,"predictions","huberLoss");let i=null;null!=n&&(i=cO(n,"weights","huberLoss")),Hk(o.shape,s.shape,"Error in huberLoss: ");const l=HI(a),c=GN(qI(s,o)),u=CR(c,l),p=qI(c,u),d=BI(zI(HI(.5),oR(u)),zI(l,p));return xR(d,i,r)}});const kR=pO({log_:function(e){const t={x:cO(e,"x","log","float32")};return eO.runKernel(PS,t)}});pO({logLoss_:function(e,t,n,a=1e-7,r=gR.SUM_BY_NONZERO_WEIGHTS){const o=cO(e,"labels","logLoss"),s=cO(t,"predictions","logLoss");let i=null;null!=n&&(i=cO(n,"weights","logLoss")),Hk(o.shape,s.shape,"Error in logLoss: ");const l=HI(1),c=HI(a),u=fR(zI(o,kR(BI(s,c)))),p=zI(qI(l,o),kR(BI(qI(l,s),c))),d=qI(u,p);return xR(d,i,r)}});const ER=pO({squaredDifference_:function(e,t){let n=cO(e,"a","squaredDifference"),a=cO(t,"b","squaredDifference");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(RT,r,{})}});pO({meanSquaredError_:function(e,t,n,a=gR.SUM_BY_NONZERO_WEIGHTS){const r=cO(e,"labels","meanSquaredError"),o=cO(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=cO(n,"weights","meanSquaredError")),Hk(r.shape,o.shape,"Error in meanSquaredError: ");const i=ER(r,o);return xR(i,s,a)}});const SR=pO({exp_:function(e){const t={x:cO(e,"x","exp")};return eO.runKernel(dS,t)}});const TR=pO({log1p_:function(e){const t={x:cO(e,"x","log1p")};return eO.runKernel(MS,t)}});pO({sigmoidCrossEntropy_:function(e,t,n,a=0,r=gR.SUM_BY_NONZERO_WEIGHTS){let o=cO(e,"multiClassLabels","sigmoidCrossEntropy");const s=cO(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=cO(n,"weights","sigmoidCrossEntropy")),Hk(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),a>0){const e=HI(a),t=HI(1),n=HI(.5);o=BI(zI(o,qI(t,e)),zI(n,e))}const l=function(e,t){const n=cO(e,"labels","sigmoidCrossEntropyWithLogits"),a=cO(t,"logits","sigmoidCrossEntropyWithLogits");Hk(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=wR(a),o=zI(a,n),s=TR(SR(fR(GN(a))));return BI(qI(r,o),s)}(o,s);return xR(l,i,r)}});function $R(e){return eO.customGrad(e)}const OR=pO({logSumExp_:function(e,t=null,n=!1){const a=cO(e,"x","logSumExp"),r=Qk(t,a.shape),o=tR(a,r,!0),s=qI(a,o),i=SR(s),l=LN(i,r),c=kR(l),u=BI(VI(o,c.shape),c);if(n){const e=KN(u.shape,r);return VI(u,e)}return u}});pO({softmaxCrossEntropy_:function(e,t,n,a=0,r=gR.SUM_BY_NONZERO_WEIGHTS){let o=cO(e,"onehotLabels","softmaxCrossEntropy");const s=cO(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=cO(n,"weights","softmaxCrossEntropy")),Hk(o.shape,s.shape,"Error in softmaxCrossEntropy: "),a>0){const e=HI(a),t=HI(1),n=HI(o.shape[1]);o=BI(zI(o,qI(t,e)),DI(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const a=$R(((e,t,a)=>{const r=OR(t,[n],!0),o=qI(JO(t,"float32"),r);a([e,o]);const s=fR(zI(o,e));return{value:LN(s,[n]),gradFunc:(e,t)=>{const[a,r]=t,o=KN(e.shape,[n]);return[zI(VI(e,o),qI(JO(a,"float32"),SR(r))),zI(VI(e,o),qI(SR(r),JO(a,"float32")))]}}}));return a(e,t)}(o,s);return xR(l,i,r)}});const IR=pO({sparseFillEmptyRows_:function(e,t,n,a){const r=cO(e,"indices","sparseFillEmptyRows","int32"),o=cO(t,"values","sparseFillEmptyRows"),s=cO(n,"denseShape","sparseFillEmptyRows","int32"),i=cO(a,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==o.rank)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(1!==s.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(0!==i.rank)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:r,values:o,denseShape:s,defaultValue:i},c=eO.runKernel(TT,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const NR=pO({sparseReshape_:function(e,t,n){const a=cO(e,"inputIndices","sparseReshape","int32"),r=cO(t,"inputShape","sparseReshape","int32"),o=cO(n,"newShape","sparseReshape","int32");if(2!==a.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==o.rank)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const s={inputIndices:a,inputShape:r,newShape:o},i=eO.runKernel($T,s);return{outputIndices:i[0],outputShape:i[1]}}});const RR=pO({sparseSegmentMean_:function(e,t,n){const a=cO(e,"data","sparseSegmentMean"),r=cO(t,"indices","sparseSegmentMean","int32"),o=cO(n,"segmentIds","sparseSegmentMean","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${o.shape}`);const s={data:a,indices:r,segmentIds:o};return eO.runKernel(OT,s)}});const PR=pO({sparseSegmentSum_:function(e,t,n){const a=cO(e,"data","sparseSegmentSum"),r=cO(t,"indices","sparseSegmentSum","int32"),o=cO(n,"segmentIds","sparseSegmentSum","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${o.shape}`);const s={data:a,indices:r,segmentIds:o};return eO.runKernel(IT,s)}});const MR=pO({stringNGrams_:function(e,t,n,a,r,o,s,i){const l=cO(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=cO(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:a,leftPad:r,rightPad:o,padWidth:s,preserveShortSequences:i},p={data:l,dataSplits:c},d=eO.runKernel(MT,p,u);return{nGrams:d[0],nGramsSplits:d[1]}}});const BR=pO({stringSplit_:function(e,t,n=!0){const a=cO(e,"input","stringSplit","string"),r=cO(t,"delimiter","stringSplit","string");if(1!==a.rank)throw new Error(`Input should be Tensor1D but received shape ${a.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const o={skipEmpty:n},s={input:a,delimiter:r},i=eO.runKernel(BT,s,o);return{indices:i[0],values:i[1],shape:i[2]}}});const AR=pO({stringToHashBucketFast_:function(e,t){const n=cO(e,"input","stringToHashBucketFast","string"),a={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return eO.runKernel(AT,r,a)}}),_R={flipLeftRight:dN,grayscaleToRGB:hN,resizeNearestNeighbor:MN,resizeBilinear:PN,rotateWithOffset:mN,cropAndResize:pN,nonMaxSuppression:vN,nonMaxSuppressionAsync:$N,nonMaxSuppressionWithScore:ON,nonMaxSuppressionWithScoreAsync:IN,nonMaxSuppressionPadded:NN,nonMaxSuppressionPaddedAsync:RN,threshold:HN,transform:jN},LR={sparseFillEmptyRows:IR,sparseReshape:NR,sparseSegmentMean:RR,sparseSegmentSum:PR},DR={stringNGrams:MR,stringSplit:BR,stringToHashBucketFast:AR},FR="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function zR(e,t){const n=e[0].length;e.forEach(((e,t)=>{Vk(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),Vk(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const a=e[0];e.forEach(((e,r)=>{for(let o=0;o<n;o++)Vk(o===t||e[o]===a[o],(()=>`Error in concat${n}D: Shape of tensors[${r}] (${e}) does not match the shape of the rest (${a}) along the non-concatenated axis ${r}.`))}))}function VR(e,t){const n=e[0].slice();for(let a=1;a<e.length;a++)n[t]+=e[a][t];return n}function HR(e,t,n,a,r="NHWC",o){return UR(e,[...t,e[3]],n,o,a,null,null,eP(r))}function jR(e,t,n,a,r,o,s="channelsLast"){const[i,l]=XR(t);let c;if("channelsLast"===s)c=[i,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);c=[i,l,e[1],e[1]]}return UR(e,c,n,a,r,o,!1,s)}function WR(e,t,n,a,r,o,s="NDHWC"){const[i,l,c]=YR(t);let u,p;if("NDHWC"===s)p="channelsLast",u=[i,l,c,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);p="channelsFirst",u=[i,l,c,e[1],e[1]]}return GR(e,u,n,a,r,!1,p,o)}function UR(e,t,n,a,r,o,s=!1,i="channelsLast"){let[l,c,u,p]=[-1,-1,-1,-1];if("channelsLast"===i)[l,c,u,p]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,p,c,u]=e}const[d,f,,h]=t,[m,g]=XR(n),[v,b]=XR(a),y=KR(d,v),x=KR(f,b),{padInfo:w,outHeight:C,outWidth:k}=function(e,t,n,a,r,o,s,i,l){let c,u,p;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,a,r){null==a&&(a=qR(e,t,n));const o=e[0],s=e[1],i=QR((o-t+2*a)/n+1,r),l=QR((s-t+2*a)/n+1,r);return[i,l]}([t,n],o,a,e,i);u=r[0],p=r[1]}else if("same"===e){u=Math.ceil(t/a),p=Math.ceil(n/r);const e=Math.max(0,(u-1)*a+o-t),i=Math.max(0,(p-1)*r+s-n),l=Math.floor(e/2),d=e-l,f=Math.floor(i/2);c={top:l,bottom:d,left:f,right:i-f,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-o+1)/a),p=Math.ceil((n-s+1)/r);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],f="channelsLast"===l?e[1][1]:e[2][1],h="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:d,bottom:f,left:h,right:m,type:0===d&&0===f&&0===h&&0===m?"VALID":"EXPLICIT"},u=QR((t-o+d+f)/a+1,i),p=QR((n-s+h+m)/r+1,i)}}return{padInfo:c,outHeight:u,outWidth:p}}(r,c,u,m,g,y,x,o,i),E=s?h*p:h;let S;return"channelsFirst"===i?S=[l,E,C,k]:"channelsLast"===i&&(S=[l,C,k,E]),{batchSize:l,dataFormat:i,inHeight:c,inWidth:u,inChannels:p,outHeight:C,outWidth:k,outChannels:E,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:f,effectiveFilterHeight:y,effectiveFilterWidth:x,dilationHeight:v,dilationWidth:b,inShape:e,outShape:S,filterShape:t}}function GR(e,t,n,a,r,o=!1,s="channelsLast",i){let[l,c,u,p,d]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,p,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,c,u,p]=e}const[f,h,m,,g]=t,[v,b,y]=YR(n),[x,w,C]=YR(a),k=KR(f,x),E=KR(h,w),S=KR(m,C),{padInfo:T,outDepth:$,outHeight:O,outWidth:I}=function(e,t,n,a,r,o,s,i,l,c,u){let p,d,f,h;if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,a,r,o){null==r&&(r=qR(e,t,a));const s=e[0],i=e[1],l=e[2],c=QR((s-t+2*r)/a+1,o),u=QR((i-t+2*r)/a+1,o),p=QR((l-t+2*r)/a+1,o);return[c,u,p,n]}([t,n,a,1],i,1,r,e,u);d=o[0],f=o[1],h=o[2]}else if("same"===e){d=Math.ceil(t/r),f=Math.ceil(n/o),h=Math.ceil(a/s);const e=(d-1)*r+i-t,u=(f-1)*o+l-n,m=(h-1)*s+c-a,g=Math.floor(e/2),v=e-g,b=Math.floor(u/2),y=u-b,x=Math.floor(m/2);p={top:b,bottom:y,left:x,right:m-x,front:g,back:v,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-i+1)/r),f=Math.ceil((n-l+1)/o),h=Math.ceil((a-c+1)/s)}return{padInfo:p,outDepth:d,outHeight:f,outWidth:h}}(r,c,u,p,v,b,y,k,E,S,i),N=o?g*d:g;let R;return"channelsFirst"===s?R=[l,N,$,O,I]:"channelsLast"===s&&(R=[l,$,O,I,N]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:p,inChannels:d,outDepth:$,outHeight:O,outWidth:I,outChannels:N,padInfo:T,strideDepth:v,strideHeight:b,strideWidth:y,filterDepth:f,filterHeight:h,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:E,effectiveFilterWidth:S,dilationDepth:x,dilationHeight:w,dilationWidth:C,inShape:e,outShape:R,filterShape:t}}function qR(e,t,n,a=1){const r=KR(t,a);return Math.floor((e[0]*(n-1)-n+r)/2)}function XR(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function YR(e){return"number"==typeof e?[e,e,e]:e}function KR(e,t){return t<=1?e:e+(e-1)*(t-1)}function QR(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function ZR(e){const[t,n,a]=XR(e);return 1===t&&1===n&&1===a}function JR(e,t){return ZR(e)||ZR(t)}function eP(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function tP(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)Vk(qk(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{Vk(qk(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const nP=pO({elu_:function(e){const t={x:cO(e,"x","elu","float32")};return eO.runKernel("Elu",t)}});const aP=pO({leakyRelu_:function(e,t=.2){const n={x:cO(e,"x","leakyRelu")},a={alpha:t};return eO.runKernel(OS,n,a)}});const rP=pO({prelu_:function(e,t){const n={x:cO(e,"x","prelu"),alpha:cO(t,"alpha","prelu")};return eO.runKernel(tT,n)}});const oP=pO({relu6_:function(e){const t={x:cO(e,"x","relu6")};return eO.runKernel(uT,t)}});const sP=pO({step_:function(e,t=0){const n={x:cO(e,"x","step")},a={alpha:t};return eO.runKernel(UT,n,a)}});function iP(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return zI(e,sP(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function lP(e,t){let n=t;const a=dI(e.shape,t.shape);return a.length>0&&(n=LN(n,a)),VI(n,e.shape)}function cP(e,t,n,a){if("linear"===t)return e;if("relu"===t)return wR(e);if("elu"===t)return nP(e);if("relu6"===t)return oP(e);if("prelu"===t)return rP(e,n);if("leakyrelu"===t)return aP(e,a);if("sigmoid"===t)return jI(e);throw new Error(`Unknown fused activation ${t}.`)}const uP=(e,t)=>!(e>0)||"linear"===t,pP=30;function dP(e){return e<=pP?e:iE(e,Math.floor(Math.sqrt(e)))}function fP(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function hP(e,t,n,a=!0){let r=[];if(a)r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function mP(e,t,n=!0){const a=[];if(n){a.push(t);for(let n=t+1;n<e;++n)n<=2*t?(a.push(n),a.push(n-(t+1))):a.push(n)}else{const n=[],r=[];for(let a=1;a<e;++a)a>=2*t+1||a%2==1?r.push(a):n.push(a);a.push(...n),a.push(0),a.push(...r)}return a}function gP(e,t,n,a=!0){const r=[];a?r.push(e[0]/n):r.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?a?r.push(t[n-1]*e[n]):r.push(e[n]/t[n-1]):r.push(e[n]);return r}function vP(e,t){const n=[0];for(let a=0;a<t;++a)n.push(e[a][0]);return n}function bP(e,t,n){const a=e.slice(0,1);for(let r=0;r<n;++r)a.push(e[r+1]-t[r][0]-t[r][1]);return a}function yP(e,t){const n=e.shape.length,a=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(a<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${a}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[a-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[a-1]} vs. ${n}`);if(0===Uk(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const r=t.shape,o=r[r.length-1];let s=1;for(let e=0;e<r.length-1;++e)s*=r[e];const i=e.shape,l=r.slice();l.pop();let c=1;for(let e=o;e<n;++e)c*=i[e],l.push(i[e]);const u=[...lE(e.shape).map((e=>e/c)),1].slice(0,o);return[l,s,c,u]}function xP(e,t,n){const a=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${a}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(o+` update.rank < ${r}. `);if(e.length<a+(n.rank-r))throw new Error(o+` Output shape length < ${a+(n.rank-r)}`);if(n.rank!==r+e.length-a)throw new Error(o+" update.rank != "+(r+e.length-a));for(let e=0;e<r;++e)if(n.shape[e]!==t.shape[e])throw new Error(o+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-r;++t)if(n.shape[t+r]!==e[t+a])throw new Error(o+` updates.shape[${t+r}] (${n.shape[t+r]}) != shape[${t+r}] (${e[t+r]})`)}function wP(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}xP(n,t,e)}function CP(e,t,n){const a=t.shape.length,r=a>1?t.shape[a-1]:1,o=n.length;let s=1;for(let e=r;e<o;++e)s*=n[e];const i=r<1?1:r;return{sliceRank:r,numUpdates:Uk(t.shape)/i,sliceSize:s,strides:[...lE(n.slice(0,r)),1],outputSize:Uk(n)}}const kP=1.7580993408473768,EP=1.0507009873554805,SP=.3275911,TP=.254829592,$P=-.284496736,OP=1.421413741,IP=-1.453152027,NP=1.061405429;function RP(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let a=0;a<n.length;a+=2)n[a]=e[a/2],n[a+1]=t[a/2];return n}function PP(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=e[a],n[a/2]=e[a+1];return{real:t,imag:n}}function MP(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function BP(e){const t=Math.floor(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function AP(e,t){return{real:e[2*t],imag:e[2*t+1]}}function _P(e,t,n,a){e[2*a]=t,e[2*a+1]=n}function LP(e,t){const n=new Float32Array(e/2),a=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const o=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(o),a[r]=Math.sin(o)}return{real:n,imag:a}}function DP(e,t,n){const a=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(a),imag:Math.sin(a)}}const FP="->",zP=/->/g;function VP(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(zP,"").length)/FP.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[a,r]=e.split(FP);Vk(-1===a.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const o=a.split(","),s=o.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let e=0;e<r.length;++e){const t=r[e];if(!o.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===i.indexOf(t)&&i.push(t)}for(let e=0;e<a.length;++e){const t=a[e];-1===i.indexOf(t)&&","!==t&&i.push(t)}const l=new Array(o.length);for(let e=0;e<s;++e){if(new Set(o[e].split("")).size!==o[e].length)throw new Error(`Found duplicate axes in input component ${o[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<o[e].length;++t)l[e].push(i.indexOf(o[e][t]))}const c=i.length,u=[];for(let e=r.length;e<c;++e)u.push(e);return{allDims:i,summedDims:u,idDims:l}}function HP(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const a=[];for(let t=0;t<e;++t)-1===n[t]&&a.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:a}}function jP(e,t,n){const a=new Array(e);for(let e=0;e<n.length;++e){const r=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===a[t[e][n]]?a[t[e][n]]=r[n]:Vk(a[t[e][n]]===r[n],(()=>`Expected dimension ${a[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(r)}, but got dimension ${r[n]}`))}}function WP(e,t){const n=e,a=[];let r=0;0===e.length&&n.push(-1),r=e.length+1;for(let e=0;e<r;++e)a.push([]);const o=[];for(let e=0;e<n.length;++e){const r=GP(t,n[e]);for(const t of r)-1===o.indexOf(t)&&(a[e].push(t),o.push(t))}return{path:n,steps:a}}function UP(e){return e.every(((e,t)=>e===t))}function GP(e,t){const n=[];for(let a=0;a<e.length;++a)0!==e[a].length&&-1===e[a].indexOf(t)&&-1!==t||n.push(a);return n}function qP(e,t,n=0){let a=[];if("number"==typeof t)Vk(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),a=new Array(t).fill(e.shape[n]/t);else{const r=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);Vk(r<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const a=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-a}Vk(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),a=t}return a}function XP(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function YP(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function KP(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function QP(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function ZP(e,t){return`size ${e} must be non-negative, not ${t}`}function JP(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function eM(e,t){return`Input to reshape is a SparseTensor with ${Uk(e)}\n  dense values, but the requested shape requires a multiple of ${Uk(t)}. inputShape=${e} outputShape= ${t}`}function tM(e,t){return`Input to reshape is a tensor with ${Uk(e)} dense values, but the requested shape has ${Uk(t)}. inputShape=${e} outputShape=${t}`}function nM(){return"segment ids must be >= 0"}function aM(){return"segment ids are not increasing"}function rM(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function oM(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function sM(e,t){let n,a=!1;for(e<=pP?(n=e,a=!0):n=iE(e,Math.floor(Math.sqrt(e)));!a;)n>t||n===e?a=!0:n=iE(e,n+1);return n}function iM(e,t,n){const a=[],r=e.length;for(let o=0;o<r;o++)o!==t?a.push(e[o]):a.push(n);return a}function lM(e,t,n,a){const r=t.shape.length,o=e.shape.length;if(0!==a&&(a<-r||a>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${a}`);if(a<0&&(a+=r),a>o)throw new Error(`batchDims (${a}) must be less than rank(x) (\n    ${o}).`);if(n<a)throw new Error(`batchDims (${a}) must be less than or equal to axis (${n}).`);for(let n=0;n<a;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const s=e.shape[n],i=[];let l=1,c=1,u=1;for(let t=0;t<a;++t)i.push(e.shape[t]),l*=e.shape[t];for(let t=a;t<n;t++)i.push(e.shape[t]),c*=e.shape[t];for(let e=a;e<r;e++)i.push(t.shape[e]);for(let t=n+1;t<o;t++)i.push(e.shape[t]),u*=e.shape[t];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:i}}function cM(e){try{return e.map((e=>E$(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function uM(e){return e.map((e=>k$(e)))}function pM(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const a=ZO(e,"int32"),r=ZO([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const o=a.indexToLoc(n[t]),s=t*e.length;r.values.set(o,s)}return r.toTensor()}var dM,fM;xE().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(dM||(dM={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(fM||(fM={}));const hM={};function mM(e){return hM[e]}function gM(e,t,n,a,r){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd;if("tensor"===o.type)return vM(t.inputNames[o.inputIndexStart],n,a,r);if("tensors"===o.type){return t.inputNames.slice(e,s).map((e=>vM(e,n,a,r)))}const i=vM(t.inputNames.slice(e)[0],n,a,r),l=i.dataSync();return"number"===o.type?l[0]:uE(i.shape,l)}const s=t.attrParams[e];return s&&s.value}function vM(e,t,n,a){const[r,o]=xM(e);if(null!=a){const e=a.getHashTableHandleByName(r);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[yM(r,e)]));return void 0!==s?t[yM(r,s)][o]:void 0}function bM(e,t){const[n,a,r]=xM(e);return[yM(n,t&&t.currentContextId),a,r]}function yM(e,t){return t?`${e}-${t}`:e}function xM(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],a=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),a]}function wM(e,t,n){let a=gM("pad",e,t,n);if("explicit"===a){a=gM("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=a[2*e],r[e][1]=a[2*e+1];return r}return a}function CM(e){return e.kept?e:eI(e)}const kM=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],EM=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],SM=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],TM=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],$M=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],OM=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],IM=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],NM=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],RM=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],PM=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],MM=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],BM=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],AM=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],_M=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],LM=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],DM=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],FM=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],zM=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],VM=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class HM{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[s,i,l,c,u,p,d,f,h,m,g,v,b,y,x,w,C,k,E].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,a=[],r=[],o=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?a.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let i=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const p=Object.keys(s);p.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[a,,r]=bM(e),o=s[a];if(null!=o.outputs){const e=o.outputs.indexOf(r);if(-1!==e){const r=`${a}:${e}`;t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(u).length?p.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=bM(e),n=s[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=bM(e),n=s[t];n&&(n.signatureKey=c[e],i.push(n))})):i=a;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const f={nodes:s,inputs:i,outputs:l,weights:r,placeholders:a,signature:t,functions:d};return o.length>0&&(f.initNodes=o),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=mM(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const a=n.type;let r;switch(n.type){case"string":r=WM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=WM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=eB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=eB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=GM(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=GM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=JM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=JM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=UM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=UM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=nB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=nB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=ZM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ZM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=tB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=tB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=YM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=YM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=KM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=KM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=XM(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=XM(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:r,type:a},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let a={};null!=t&&(a=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=bM(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:qM(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),a[t]=n}));Object.keys(a).forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=bM(e),s=a[r];if(null!=s.outputs){const e=s.outputs.indexOf(o);if(-1!==e){const a=`${r}:${e}`;t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=bM(s[e.name]),r=a[t];null!=r&&(r.defaultOutput=n,o.push(r))}));const i=this.mapArgsToSignature(e);return{nodes:a,inputs:r,outputs:o,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function jM(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=xE().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function WM(e,t,n,a=!1){const r=e[t];return null!=r?jM(r.s,a):n}function UM(e,t,n){const a=e[t];return a?a.b:n}function GM(e,t,n){const a=e[t]||{},r=null!=a.i?a.i:null!=a.f?a.f:n;return"number"==typeof r?r:parseInt(r,10)}function qM(e){switch("string"==typeof e&&(e=dM[e]),e){case dM.DT_FLOAT:case dM.DT_HALF:return"float32";case dM.DT_INT32:case dM.DT_INT64:case dM.DT_INT8:case dM.DT_UINT8:return"int32";case dM.DT_BOOL:return"bool";case dM.DT_DOUBLE:return"float32";case dM.DT_STRING:return"string";default:return null}}function XM(e,t,n){const a=e[t];return a&&a.func?a.func.name:n}function YM(e,t,n){const a=e[t];return a&&a.type?qM(a.type):n}function KM(e,t,n){const a=e[t];return a&&a.list&&a.list.type?a.list.type.map((e=>qM(e))):n}function QM(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function ZM(e,t,n){const a=e[t];return a&&a.shape?QM(a.shape):n}function JM(e,t,n){const a=e[t];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function eB(e,t,n,a=!1){const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>jM(e,a))):n}function tB(e,t,n){const a=e[t];return a&&a.list&&a.list.shape?a.list.shape.map((e=>QM(e))):n}function nB(e,t,n){const a=e[t];return a&&a.list&&a.list.b?a.list.b:n}class aB{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return vM(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return vM(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return GM(this.node.rawAttrs,e,t);if(null!=n.s)return WM(this.node.rawAttrs,e,t);if(null!=n.b)return UM(this.node.rawAttrs,e,t);if(null!=n.shape)return ZM(this.node.rawAttrs,e,t);if(null!=n.type)return YM(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return JM(this.node.rawAttrs,e,t);if(null!=n.list.s)return eB(this.node.rawAttrs,e,t);if(null!=n.list.shape)return tB(this.node.rawAttrs,e,t);if(null!=n.list.b)return nB(this.node.rawAttrs,e,t);if(null!=n.list.type)return KM(this.node.rawAttrs,e,t)}return t}}const rB=pO({addN_:function(e){Vk(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),Vk(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>cO(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!Gk(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const a=t;return eO.runKernel(IE,a)}});const oB=pO({mod_:function(e,t){let n=cO(e,"a","mod"),a=cO(t,"b","mod");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel("Mod",r)}});const sB=pO({equal_:function(e,t){let n=cO(e,"a","equal","string_or_numeric"),a=cO(t,"b","equal","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(pS,r)}});const iB=pO({divNoNan_:function(e,t){let n=cO(e,"a","div"),a=cO(t,"b","div");[n,a]=q$(n,a);const r=DI(n,a),o=tN(r),s=sB(a,o);return zN(s,o,r)}});const lB=pO({maximum_:function(e,t){let n=cO(e,"a","maximum"),a=cO(t,"b","maximum");[n,a]=q$(n,a),"bool"===n.dtype&&(n=JO(n,"int32"),a=JO(a,"int32")),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(LS,r)}});const cB=pO({acos_:function(e){const t={x:cO(e,"x","acos")};return eO.runKernel(TE,t)}});const uB=pO({acosh_:function(e){const t={x:cO(e,"x","acosh")};return eO.runKernel($E,t)}});const pB=pO({asin_:function(e){const t={x:cO(e,"x","asin")};return eO.runKernel(PE,t)}});const dB=pO({asinh_:function(e){const t={x:cO(e,"x","asinh")};return eO.runKernel(ME,t)}});const fB=pO({atan_:function(e){const t={x:cO(e,"x","atan")};return eO.runKernel(BE,t)}});const hB=pO({atan2_:function(e,t){let n=cO(e,"a","atan2"),a=cO(t,"b","atan2");[n,a]=q$(n,a);const r={a:n,b:a};return eO.runKernel(_E,r)}});const mB=pO({atanh_:function(e){const t={x:cO(e,"x","atanh")};return eO.runKernel(AE,t)}});const gB=pO({ceil_:function(e){const t={x:cO(e,"x","ceil","float32")};return eO.runKernel(WE,t)}});const vB=pO({cos_:function(e){const t={x:cO(e,"x","cos","float32")};return eO.runKernel("Cos",t)}});const bB=pO({cosh_:function(e){const t={x:cO(e,"x","cosh","float32")};return eO.runKernel(JE,t)}});const yB=pO({erf_:function(e){let t=cO(e,"x","erf");Vk("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=JO(t,"float32"));const n={x:t};return eO.runKernel("Erf",n)}});const xB=pO({expm1_:function(e){const t={x:cO(e,"x","expm1")};return eO.runKernel(hS,t)}});const wB=pO({floor_:function(e){const t={x:cO(e,"x","floor","float32")};return eO.runKernel(vS,t)}});const CB=pO({reciprocal_:function(e){const t={x:cO(e,"x","reciprocal")};return eO.runKernel(oT,t)}});const kB=pO({selu_:function(e){const t={x:cO(e,"x","selu")};return eO.runKernel(gT,t)}});const EB=pO({sin_:function(e){const t={x:cO(e,"x","sin","float32")};return eO.runKernel("Sin",t)}});const SB=pO({sign_:function(e){const t={x:cO(e,"x","sign")};return eO.runKernel(yT,t)}});const TB=pO({sinh_:function(e){const t={x:cO(e,"x","sinh")};return eO.runKernel(bT,t)}});const $B=pO({softplus_:function(e){const t={x:cO(e,"x","softplus")};return eO.runKernel(wT,t)}});const OB=pO({tanh_:function(e){const t={x:cO(e,"x","tanh","float32")};return eO.runKernel(LT,t)}});const IB=pO({tan_:function(e){const t={x:cO(e,"x","tan","float32")};return eO.runKernel("Tan",t)}});const NB=pO({clipByValue_:function(e,t,n){const a=cO(e,"x","clipByValue");Vk(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const r={x:a},o={clipValueMin:t,clipValueMax:n};return eO.runKernel(UE,r,o)}});const RB=pO({rsqrt_:function(e){const t={x:cO(e,"x","rsqrt","float32")};return eO.runKernel(fT,t)}});const PB=pO({prod_:function(e,t=null,n=!1){let a=cO(e,"x","prod");"bool"===a.dtype&&(a=JO(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return eO.runKernel(nT,r,o)}});const MB=pO({isNaN_:function(e){const t={x:cO(e,"x","isNaN")};return eO.runKernel($S,t)}});function BB(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){Vk(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let a=0;a<e.length;a++){const r=e[a],o=t[a];Vk(r<0||o<0||r===o,(()=>n+` Shapes ${e} and ${t} must match`))}}}function AB(e){return"number"!=typeof e&&!e.some((e=>e<0))}function _B(e,t,n){let a=LB(e,n);const r=!AB(a);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${a}`);if(r&&t.forEach((e=>{a=LB(e.shape,a)})),!AB(a))throw new Error(`Non-fully-defined elementShape: ${a}`);return a}function LB(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let a=0;a<e.length;++a){const r=e[a],o=t[a];if(r>=0&&o>=0&&r!==o)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[a]=r>=0?r:o}return n}class DB{constructor(e,t,n,a,r,o,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=r,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=HI(0),uR(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),BB(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,uR(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return hO([],[0].concat(this.elementShape));const n=this.readMany(e);return BB(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),GI(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return hO([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return BB(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),AI(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,KI(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const a=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const r=0===n?0:t.size/n,o=[];cR((()=>{t=VI(t,[1,n,r]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:a[n-1],0],i=[1,e[n],r];o[n]=VI(WI(t,s,i),this.elementShape)}return o}));const s=[];for(let t=0;t<e.length;t++)s[t]=t;this.writeMany(s,o)}}class FB{constructor(e,t,n,a=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);BB(t,e.shape,"TensorList shape mismatch: "),uR(e)})),this.idTensor=HI(0),this.maxNumElements=a,uR(this.idTensor)}get id(){return this.idTensor.id}copy(){return new FB([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);BB(e,this.elementShape,"TensorList shape mismatch: ");const a=_B(this.elementShape,this.tensors,e);return cR((()=>{const e=this.tensors.map((e=>VI(e,a)));return GI(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=_B(this.elementShape,this.tensors,e),a=this.tensors.pop();return BB(a.shape,e,"TensorList shape mismatch: "),VI(a,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(BB(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");uR(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);BB(this.tensors[e].shape,t,"TensorList shape mismatch: ");const a=_B(this.elementShape,this.tensors,t);return VI(this.tensors[e],a)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);BB(this.elementShape,t.shape,"TensorList shape mismatch: "),uR(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);BB(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=_B(this.elementShape,this.tensors,n);return 0===e.length?hO([],[0].concat(a)):cR((()=>{const t=e.map((e=>VI(this.tensors[e],a)));return GI(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);BB(this.elementShape,t,"TensorList shape mismatch: ");const n=_B(this.elementShape,this.tensors,t);return 0===this.size()?hO([],[0].concat(n)):cR((()=>{const e=this.tensors.map((e=>VI(e,n)));return AI(e,0)}))}}const zB=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const a=gM("thenBranch",e,t,n),r=gM("elseBranch",e,t,n),o=gM("cond",e,t,n),s=gM("args",e,t,n);return(await o.data())[0]?n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=gM("body",e,t,n),r=gM("cond",e,t,n),o=gM("args",e,t,n),s=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let c=o;for(;l[0];){const e=c;c=await n.functionMap[a].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[CM(gM("pred",e,t,n))];case"Switch":{const a=gM("pred",e,t,n);let r=gM("data",e,t,n);return r.kept||(r=CM(r)),(await a.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const a=e.inputNames.find((e=>void 0!==vM(e,t,n)));if(a){return[CM(vM(a,t,n))]}return}case"Enter":{const a=gM("frameName",e,t,n),r=gM("tensor",e,t,n);return n.enterFrame(a),[CM(r)]}case"Exit":{const a=gM("tensor",e,t,n);return n.exitFrame(),[CM(a)]}case"NextIteration":{const a=gM("tensor",e,t,n);return n.nextIteration(),[CM(a)]}case"TensorArrayV3":{const a=gM("size",e,t,n),r=gM("dtype",e,t,n),o=gM("elementShape",e,t,n),s=gM("dynamicSize",e,t,n),i=gM("clearAfterRead",e,t,n),l=gM("identicalElementShapes",e,t,n),c=gM("name",e,t,n),u=new DB(c,r,a,o,l,s,i);return n.addTensorArray(u),[u.idTensor,HI(1)]}case"TensorArrayWriteV3":{const a=gM("tensorArrayId",e,t,n),r=gM("index",e,t,n),o=gM("tensor",e,t,n),s=n.getTensorArray(a.id);return s.write(r,o),[s.idTensor]}case"TensorArrayReadV3":{const a=gM("tensorArrayId",e,t,n),r=gM("index",e,t,n);return[n.getTensorArray(a.id).read(r)]}case"TensorArrayGatherV3":{const a=gM("tensorArrayId",e,t,n),r=gM("indices",e,t,n),o=gM("dtype",e,t,n);return[n.getTensorArray(a.id).gather(r,o)]}case"TensorArrayScatterV3":{const a=gM("tensorArrayId",e,t,n),r=gM("indices",e,t,n),o=gM("tensor",e,t,n),s=n.getTensorArray(a.id);return s.scatter(r,o),[s.idTensor]}case"TensorArrayConcatV3":{const a=gM("tensorArrayId",e,t,n),r=n.getTensorArray(a.id),o=gM("dtype",e,t,n);return[r.concat(o)]}case"TensorArraySplitV3":{const a=gM("tensorArrayId",e,t,n),r=gM("tensor",e,t,n),o=gM("lengths",e,t,n),s=n.getTensorArray(a.id);return s.split(o,r),[s.idTensor]}case"TensorArraySizeV3":{const a=gM("tensorArrayId",e,t,n);return[HI(n.getTensorArray(a.id).size(),"int32")]}case"TensorArrayCloseV3":{const a=gM("tensorArrayId",e,t,n),r=n.getTensorArray(a.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const a=gM("tensorListId",e,t,n),r=gM("index",e,t,n),o=gM("tensor",e,t,n),s=n.getTensorList(a.id);return s.setItem(r,o),[s.idTensor]}case"TensorListGetItem":{const a=gM("tensorListId",e,t,n),r=gM("index",e,t,n),o=gM("elementShape",e,t,n),s=gM("elementDType",e,t,n);return[n.getTensorList(a.id).getItem(r,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const a=gM("indices",e,t,n),r=function(e,t,n,a){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const r=Math.max(...t);if(null!=a&&-1!==a&&r>=a)throw new Error(`Max index must be < array size (${r}  vs. ${a})`);const o=new FB([],n,e.dtype,a),s=KI(e,0);return t.forEach(((e,t)=>{o.setItem(e,s[t])})),o}(gM("tensor",e,t,n),a,gM("elementShape",e,t,n),gM("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const a=gM("elementShape",e,t,n),r=gM("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=function(e,t,n){return new FB([],e,t,n)}(a,r,gM(o,e,t,n));return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const a=gM("tensorListId",e,t,n),r=gM("indices",e,t,n),o=gM("elementShape",e,t,n),s=gM("elementDType",e,t,n);return[n.getTensorList(a.id).gather(r,s,o)]}case"TensorListStack":{const a=gM("tensorListId",e,t,n),r=gM("elementShape",e,t,n),o=gM("elementDType",e,t,n),s=gM("numElements",e,t,n);return[n.getTensorList(a.id).stack(r,o,s)]}case"TensorListFromTensor":{const a=function(e,t,n){const a=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);BB(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=KI(e);return new FB(r,t,a)}(gM("tensor",e,t,n),gM("elementShape",e,t,n),gM("elementDType",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":{const a=gM("tensorListId",e,t,n),r=n.getTensorList(a.id),o=gM("dtype",e,t,n),s=gM("elementShape",e,t,n);return[r.concat(o,s)]}case"TensorListPushBack":{const a=gM("tensorListId",e,t,n),r=gM("tensor",e,t,n),o=n.getTensorList(a.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const a=gM("tensorListId",e,t,n),r=gM("elementShape",e,t,n),o=gM("elementDType",e,t,n);return[n.getTensorList(a.id).popBack(r,o)]}case"TensorListSplit":{const a=gM("tensor",e,t,n),r=gM("elementShape",e,t,n),o=function(e,t,n){let a=0;const r=t.map((e=>(a+=e,a)));if(a!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${a}, and tensor's shape is: ${e.shape}`);const o=LB(e.shape.slice(1),n),s=0===a?0:e.size/a,i=cR((()=>{const n=[];e=VI(e,[1,a,s]);for(let a=0;a<t.length;++a){const i=[0,0===a?0:r[a-1],0],l=[1,t[a],s];n[a]=VI(WI(e,i,l),o)}return e.dispose(),n})),l=new FB([],n,e.dtype,t.length);for(let e=0;e<i.length;e++)l.setItem(e,i[e]);return l}(a,gM("lengths",e,t,n),r);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};const VB=pO({conv2d_:function(e,t,n,a,r="NHWC",o=[1,1],s){const i=cO(e,"x","conv2d","float32"),l=cO(t,"filter","conv2d","float32");let c=i,u=!1;3===i.rank&&(u=!0,c=VI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Vk(4===c.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`)),Vk(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),tP("conv2d",a,s);const p="NHWC"===r?c.shape[3]:c.shape[1];Vk(p===l.shape[2],(()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${l.shape[2]}.`)),Vk(JR(n,o),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`));const d={x:c,filter:l},f={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s},h=eO.runKernel(YE,d,f);return u?VI(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const HB=pO({conv1d_:function(e,t,n,a,r="NWC",o=1,s){const i=cO(e,"x","conv1d"),l=cO(t,"filter","conv1d");let c=i,u=!1;2===i.rank&&(u=!0,c=VI(i,[1,i.shape[0],i.shape[1]])),Vk(3===c.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`)),Vk(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),tP("conv1d",a,s),Vk(c.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),Vk(JR(n,o),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`)),Vk("NWC"===r,(()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`));const p=VI(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=VI(c,[c.shape[0],1,c.shape[1],c.shape[2]]),f=VB(d,p,[1,n],a,"NHWC",[1,o],s);return VI(f,u?[f.shape[2],f.shape[3]]:[f.shape[0],f.shape[2],f.shape[3]])}});const jB=pO({conv2DBackpropFilter_:function(e,t,n,a,r,o="NHWC",s){let i=e;3===e.rank&&(i=VI(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=VI(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Vk(4===i.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`)),Vk(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),Vk(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===o?i.shape[3]:i.shape[1],u="NHWC"===o?l.shape[3]:l.shape[1];Vk(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),Vk(u===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`)),tP("conv2dDerFilter",r,s);const p={x:i,dy:l},d={strides:a,pad:r,dataFormat:o,dimRoundingMode:s,filterShape:n};return eO.runKernel(KE,p,d)}});const WB=pO({conv2DBackpropInput_:function(e,t,n,a,r,o="NHWC",s){Vk(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,l=t,c=!1;3===t.rank&&(c=!0,l=VI(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),Vk(4===i.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`)),Vk(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),Vk(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const u="NHWC"===o?i[3]:i[1],p="NHWC"===o?l.shape[3]:l.shape[1];Vk(u===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`)),Vk(p===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[3]}.`)),tP("conv2dDerInput",r,s);const d={dy:l,filter:n},f={strides:a,pad:r,dataFormat:o,dimRoundingMode:s,inputShape:i},h=eO.runKernel(QE,d,f);return c?VI(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const UB=pO({fusedConv2d_:function({x:e,filter:t,strides:n,pad:a,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:i,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",!1===uP(eO.state.gradientDepth,l)){let p=VB(e,t,n,a,r,o,s);return null!=i&&(p=BI(p,i)),cP(p,l,c,u)}const p=cO(e,"x","conv2d","float32"),d=cO(t,"filter","conv2d","float32");let f=p,h=!1;3===p.rank&&(h=!0,f=VI(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Vk(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),Vk(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),tP("fused conv2d",a,s),Vk(f.shape[3]===d.shape[2],(()=>`Error in conv2d: depth of input (${f.shape[3]}) must match input depth for filter ${d.shape[2]}.`)),Vk(JR(n,o),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`)),Vk("NHWC"===r,(()=>`Error in conv2d: got dataFormat of ${r} but only NHWC is currently supported.`));const m=UR(f.shape,d.shape,n,o,a,s);let g,v;null!=i&&(g=cO(i,"bias","fused conv2d"),[g]=q$(g,p),fI(m.outShape,g.shape)),null!=c&&(v=cO(c,"prelu weights","fused conv2d"));const b=(e,t)=>{const[r,s,i,c]=t,u=iP(e,i,l);Vk(ZR(o),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`));const p=[WB(s.shape,u,r,n,a),jB(s,u,r.shape,n,a)];if(null!=c){const e=lP(c,u);p.push(e)}return p},y={x:f,filter:d,bias:g,preluActivationWeights:v},x={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s,activation:l,leakyreluAlpha:u};if(null==i){const e=$R(((e,t,n)=>{let a=eO.runKernel(YT,y,x);return n([t,e,a]),h&&(a=VI(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(f,d)}{const e=$R(((e,t,n,a)=>{let r=eO.runKernel(YT,y,x);return a([t,e,r,n]),h&&(r=VI(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,d,g)}}});const GB=pO({depthwiseConv2d_:function(e,t,n,a,r="NHWC",o=[1,1],s){const i=cO(e,"x","depthwiseConv2d","float32"),l=cO(t,"filter","depthwiseConv2d","float32");let c=i,u=!1;3===i.rank&&(u=!0,c=VI(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Vk(4===c.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`)),Vk(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`)),Vk(c.shape[3]===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`)),tP("depthwiseConv2d",a,s);const p={x:c,filter:l},d={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s},f=eO.runKernel(oS,p,d);return u?VI(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const qB=pO({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,a,r,o=[1,1],s){let i=e;3===e.rank&&(i=VI(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=VI(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:i,dy:l},u={strides:a,pad:r,dimRoundingMode:s,dilations:o,filterShape:n};return eO.runKernel(sS,c,u)}});const XB=pO({depthwiseConv2dNativeBackpropInput_:function(e,t,n,a,r,o=[1,1],s){let i=t,l=!1;3===t.rank&&(l=!0,i=VI(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:i,filter:n},u={strides:a,pad:r,dimRoundingMode:s,dilations:o,inputShape:e},p=eO.runKernel(iS,c,u);return l?VI(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const YB=pO({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:a,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:i,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(!1===uP(eO.state.gradientDepth,l)){let p=GB(e,t,n,a,r,o,s);return null!=i&&(p=BI(p,i)),cP(p,l,c,u)}const p=cO(e,"x","depthwiseConv2d","float32"),d=cO(t,"filter","depthwiseConv2d","float32");let f=p,h=!1;3===p.rank&&(h=!0,f=VI(p,[1,p.shape[0],p.shape[1],p.shape[2]])),Vk(4===f.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),Vk(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),Vk(f.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==o&&(o=[1,1]),Vk(JR(n,o),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`)),tP("fused depthwiseConv2d",a,s);const m=UR(f.shape,d.shape,n,o,a,s,!0);let g,v;null!=i&&(g=cO(i,"bias","fused conv2d"),[g]=q$(g,p),fI(m.outShape,g.shape)),null!=c&&(v=cO(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{Vk(ZR(o),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[r,i,c,u]=t,p=iP(e,c,l),d=XB(i.shape,p,r,n,a,o,s),f=qB(i,p,r.shape,n,a,o,s);if(null!=u){return[d,f,lP(g,p)]}return[d,f]},y={x:f,filter:d,bias:g,preluActivationWeights:v},x={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s,activation:l,leakyreluAlpha:u};if(null==i){const e=$R(((e,t,n)=>{let a=eO.runKernel(KT,y,x);return n([t,e,a]),h&&(a=VI(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(f,d)}{const e=$R(((e,t,n,a)=>{let r=eO.runKernel(KT,y,x);return a([t,e,r,n]),h&&(r=VI(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,d,g)}}});const KB=pO({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:a=!1,bias:r,activation:o="linear",preluActivationWeights:s,leakyreluAlpha:i}){if(!1===uP(eO.state.gradientDepth,o)){let l=dR(e,t,n,a);return null!=r&&(l=BI(l,r)),cP(l,o,s,i)}let l=cO(e,"a","fused matMul"),c=cO(t,"b","fused matMul");[l,c]=q$(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],f=a?c.shape[c.rank-2]:c.shape[c.rank-1],h=l.shape.slice(0,-2),m=c.shape.slice(0,-2),g=Uk(h),v=Uk(m);Vk(u===p,(()=>`Error in fused matMul: inner shapes (${u}) and (${p}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${a} must match.`));const b=fI(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,f]),y=VI(l,n?[g,u,d]:[g,d,u]),x=VI(c,a?[v,f,p]:[v,p,f]);let w,C;null!=r&&(w=cO(r,"bias","fused matMul"),[w]=q$(w,l),fI(b,w.shape)),null!=s&&(C=cO(s,"prelu weights","fused matMul"));const k=(e,t)=>{const[s,i,l,c]=t,u=iP(VI(e,l.shape),l,o);let p,d;if(n||a?!n&&a?(p=dR(u,i,!1,!1),d=dR(u,s,!0,!1)):n&&!a?(p=dR(i,u,!1,!0),d=dR(s,u,!1,!1)):(p=dR(i,u,!0,!0),d=dR(u,s,!0,!0)):(p=dR(u,i,!1,!0),d=dR(s,u,!0,!1)),null!=r){return[p,d,lP(c,u)]}return[p,d]},E={a:y,b:x,bias:w,preluActivationWeights:C},S={transposeA:n,transposeB:a,activation:o,leakyreluAlpha:i};if(null==r){const e=$R(((e,t,n)=>{const a=eO.runKernel(XT,E,S);return n([e,t,a]),{value:VI(a,b),gradFunc:k}}));return e(y,x)}{const e=$R(((e,t,n,a)=>{const r=eO.runKernel(XT,E,S);return a([e,t,r,n]),{value:VI(r,b),gradFunc:k}}));return e(y,x,w)}}});const QB=pO({conv2dTranspose_:function(e,t,n,a,r,o){const s=cO(e,"x","conv2dTranspose"),i=cO(t,"filter","conv2dTranspose");return WB(n,s,i,a,r,"NHWC",o)}});const ZB=pO({conv3d_:function(e,t,n,a,r="NDHWC",o=[1,1,1]){const s=cO(e,"x","conv3d"),i=cO(t,"filter","conv3d");let l=s,c=!1;4===s.rank&&(c=!0,l=VI(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Vk(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),Vk(5===i.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`)),Vk(l.shape[4]===i.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`)),Vk(JR(n,o),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`)),Vk("NDHWC"===r,(()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`));const u={x:l,filter:i},p={strides:n,pad:a,dataFormat:r,dilations:o},d=eO.runKernel(ZE,u,p);return c?VI(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const JB=pO({avgPool_:function(e,t,n,a,r){const o=cO(e,"x","avgPool","float32");Vk(JR(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let s=o,i=!1;3===o.rank&&(i=!0,s=VI(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Vk(4===s.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`)),tP("avgPool",a,r);const l={x:s},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r};let u=eO.runKernel(LE,l,c);return u=JO(u,o.dtype),i?VI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const eA=pO({maxPool_:function(e,t,n,a,r){const o=cO(e,"x","maxPool");let s=o,i=!1;3===o.rank&&(i=!0,s=VI(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Vk(4===s.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`)),Vk(JR(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),tP("maxPool",a,r);const l={x:s},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r},u=eO.runKernel(DS,l,c);return i?VI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const tA=pO({maxPoolWithArgmax_:function(e,t,n,a,r=!1){const o={x:cO(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:a,includeBatchInIndex:r},i=eO.runKernel(zS,o,s);return{result:i[0],indexes:i[1]}}});const nA=pO({avgPool3d_:function(e,t,n,a,r,o="NDHWC"){const s=cO(e,"x","avgPool3d","float32");let i=s,l=!1;4===s.rank&&(l=!0,i=VI(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Vk(5===i.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`)),Vk("NDHWC"===o,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`)),tP("avgPool3d",a,r);const c={x:i},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o};let p=eO.runKernel(DE,c,u);return p=JO(p,i.dtype),l?VI(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const aA=pO({maxPool3d_:function(e,t=[1,1,1],n,a,r,o="NDHWC"){const s=cO(e,"x","maxPool3d");let i=s,l=!1;4===s.rank&&(l=!0,i=VI(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Vk(5===i.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`)),Vk("NDHWC"===o,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`)),tP("maxPool3d",a,r);const c={x:i},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o},p=eO.runKernel(FS,c,u);return l?VI(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const rA=pO({dilation2d_:function(e,t,n,a,r=[1,1],o="NHWC"){const s=cO(e,"x","dilation2d"),i=cO(t,"filter","dilation2d");Vk(3===s.rank||4===s.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`)),Vk(3===i.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`)),Vk("NHWC"===o,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`));let l=s,c=!1;3===s.rank&&(l=VI(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=!0);const u={x:l,filter:i},p={strides:n,pad:a,dilations:r},d=eO.runKernel(lS,u,p);return c?VI(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});function oA(e,t,n){const[a,r]=gM("fusedOps",e,t,n),o="biasadd"===a,s=!o,i="prelu"===r,l="fusedbatchnorm"===a,c=gM("numArgs",e,t,n);if(o){if(i&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=gM("strides",e,t,n),p=wM(e,t,n),d=gM("dataFormat",e,t,n).toUpperCase(),f=gM("dilations",e,t,n);let[h,m]=gM("args",e,t,n);s&&(m=h,h=void 0);return{stride:u,pad:p,dataFormat:d,dilations:f,biasArg:h,preluArg:m,activationFunc:r,leakyreluAlpha:gM("leakyreluAlpha",e,t,n)}}function sA(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const a={start:e,stop:t,num:n};return eO.runKernel(RS,{},a)}const iA=pO({multinomial_:function(e,t,n,a=!1){const r=cO(e,"logits","multinomial"),o=r.size,s=r.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();const i={logits:1===s?VI(r,[1,-1]):r},l={numSamples:t,seed:n,normalized:a},c=eO.runKernel(WS,i,l);return 1===s?VI(c,[c.size]):c}});const lA=pO({oneHot_:function(e,t,n=1,a=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const r={indices:cO(e,"indices","oneHot","int32")},o={depth:t,onValue:n,offValue:a};return eO.runKernel(ZS,r,o)}});const cA=pO({onesLike_:function(e){const t={x:cO(e,"x","onesLike")};return eO.runKernel(QS,t)}});var uA=n(377);class pA{constructor(e,t,n,a,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=r||Math.random();this.random=uA.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let a,r,o;do{a=2*this.random()-1,r=2*this.random()-1,o=a*a+r*r}while(o>=1||0===o);const s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*s,t=this.mean+this.stdDev*r*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class dA{constructor(e=0,t=1,n,a){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==a&&(a=Math.random()),"number"==typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=uA.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const fA=pO({randomUniform_:function(e,t=0,n=1,a="float32",r){const o=ZO(e,a),s=new dA(t,n,null,r);for(let e=0;e<o.values.length;e++)o.values[e]=s.nextValue();return o.toTensor()}});const hA=pO({truncatedNormal_:function(e,t=0,n=1,a,r){if(null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");const o=new pA(t,n,a,!0,r),s=ZO(e,a);for(let e=0;e<s.values.length;e++)s.values[e]=o.nextValue();return s.toTensor()}});const mA=async function(e){const t=cO(e,"condition","whereAsync","bool"),n=await t.data(),a=pM(t.shape,n);return e!==t&&t.dispose(),a};const gA=async function(e,t){const n=cO(e,"x","setdiff1d"),a=cO(t,"y","setdiff1d");Vk(n.dtype===a.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${a.dtype}).`)),Vk(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),Vk(1===a.rank,(()=>`y should be 1D tensor, but got y (${a.shape}).`));const r=await n.data(),o=await a.data(),s=new Set(o);let i=0;for(let e=0;e<r.length;e++)s.has(r[e])||i++;const l=new M$([i],n.dtype),c=new M$([i],"int32");for(let e=0,t=0;e<r.length;e++)s.has(r[e])||(l.values[t]=r[e],c.values[t]=e,t++);return[l.toTensor(),c.toTensor()]};function vA(e,t,n){return{boxes:gM("boxes",e,t,n),scores:gM("scores",e,t,n),maxOutputSize:gM("maxOutputSize",e,t,n),iouThreshold:gM("iouThreshold",e,t,n),scoreThreshold:gM("scoreThreshold",e,t,n),softNmsSigma:gM("softNmsSigma",e,t,n)}}const bA=pO({topk_:function(e,t=1,n=!0){const a=cO(e,"x","topk");if(0===a.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=a.shape[a.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const o={x:a},s={k:t,sorted:n},[i,l]=eO.runKernel(FT,o,s);return{values:i,indices:l}}});const yA=pO({unique_:function(e,t=0){const n=cO(e,"x","unique","string_or_numeric");Vk(n.rank>0,(()=>"The input tensor must be at least 1D"));const a={x:n},r={axis:t},[o,s]=eO.runKernel(HT,a,r);return{values:o,indices:s}}});class xA{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=HI(0),this.tensorMap=new Map,uR(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return HI(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),cR((()=>{const e=KI(t),a=n.length,r=e.length;Vk(a===r,(()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${r} elements.`));for(let t=0;t<a;t++){const a=n[t],r=e[t];uR(r),this.tensorMap.set(a,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return cR((()=>{const e=[];for(let a=0;a<n.length;a++){const r=n[a],o=this.findWithDefault(r,t);e.push(o)}return GI(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}const wA=pO({less_:function(e,t){let n=cO(e,"a","less","string_or_numeric"),a=cO(t,"b","less","string_or_numeric");[n,a]=q$(n,a),fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(IS,r)}});const CA=pO({logicalNot_:function(e){const t={x:cO(e,"x","logicalNot","bool")};return eO.runKernel(AS,t)}});const kA=pO({logicalOr_:function(e,t){const n=cO(e,"a","logicalOr","bool"),a=cO(t,"b","logicalOr","bool");fI(n.shape,a.shape);const r={a:n,b:a};return eO.runKernel(_S,r)}});const EA=pO({einsum_:function(e,...t){const n=t.map(((e,t)=>cO(e,`tensors${t}`,"einsum"))),a={equation:e};return eO.runKernel(uS,n,a)}});const SA=pO({batchNorm_:function(e,t,n,a,r,o){null==o&&(o=.001);const s=cO(e,"x","batchNorm"),i=cO(t,"mean","batchNorm"),l=cO(n,"variance","batchNorm");let c,u;null!=r&&(c=cO(r,"scale","batchNorm")),null!=a&&(u=cO(a,"offset","batchNorm")),Vk(i.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Vk(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Vk(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const p=function(e){let t;return t=0===e.rank||1===e.rank?VI(e,[1,1,1,e.size]):2===e.rank?VI(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?VI(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),d={x:p,scale:c,offset:u,mean:i,variance:l},f={varianceEpsilon:o},h=eO.runKernel(yS,d,f);return VI(h,s.shape)}});const TA=pO({localResponseNormalization_:function(e,t=5,n=1,a=1,r=.5){const o=cO(e,"x","localResponseNormalization");Vk(4===o.rank||3===o.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${o.rank}.`)),Vk(qk(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let s=o,i=!1;3===o.rank&&(i=!0,s=VI(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},c={depthRadius:t,bias:n,alpha:a,beta:r},u=eO.runKernel("LRN",l,c);return i?VI(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const $A=pO({softmax_:function(e,t=-1){const n=cO(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const a={logits:n},r={dim:t};return eO.runKernel(ST,a,r)}});const OA=pO({logSoftmax_:function(e,t=-1){const n=cO(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const a=$R(((e,n)=>{const a=tR(e,t,!0),r=qI(e,a),o=qI(JO(r,"float32"),kR(LN(SR(r),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[a]=n,r=SR(a);return qI(e,zI(LN(e,t,!0),r))}}}));return a(n)}});const IA=pO({sparseToDense_:function(e,t,n,a=0){const r=cO(e,"sparseIndices","sparseToDense","int32"),o=cO(t,"sparseValues","sparseToDense"),s=cO(a,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,a){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const r=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,o,n,s);const i={sparseIndices:r,sparseValues:o,defaultValue:s},l={outputShape:n};return eO.runKernel(NT,i,l)}});const NA=pO({all_:function(e,t=null,n=!1){const a={x:cO(e,"x","all","bool")},r={axis:t,keepDims:n};return eO.runKernel("All",a,r)}});const RA=pO({any_:function(e,t=null,n=!1){const a={x:cO(e,"x","any","bool")},r={axis:t,keepDims:n};return eO.runKernel("Any",a,r)}});const PA=pO({argMax_:function(e,t=0){const n={x:cO(e,"x","argMax")},a={axis:t};return eO.runKernel(NE,n,a)}});const MA=pO({argMin_:function(e,t=0){const n={x:cO(e,"x","argMin")},a={axis:t};return eO.runKernel(RE,n,a)}});const BA=pO({cumprod_:function(e,t=0,n=!1,a=!1){const r={x:cO(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:a};return eO.runKernel(eS,r,o)}});const AA=pO({cumsum_:function(e,t=0,n=!1,a=!1){const r={x:cO(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:a};return eO.runKernel(tS,r,o)}});const _A=pO({denseBincount_:function(e,t,n,a=!1){const r=cO(e,"x","denseBincount"),o=cO(t,"weights","denseBincount");Vk("int32"===r.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`)),Vk(r.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`)),Vk(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Vk(o.size===r.size||0===o.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${o.shape}.`));const s={x:r,weights:o},i={size:n,binaryOutput:a};return eO.runKernel(aS,s,i)}});const LA=pO({gather_:function(e,t,n=0,a=0){const r={x:cO(e,"x","gather"),indices:cO(t,"indices","gather","int32")},o={axis:n,batchDims:a};return eO.runKernel(xS,r,o)}});const DA=pO({stridedSlice_:function(e,t,n,a,r=0,o=0,s=0,i=0,l=0){const c={x:cO(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:a,beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};return eO.runKernel(PT,c,u)}});const FA=pO({scatterND_:function(e,t,n){const a=cO(e,"indices","scatterND","int32"),r=cO(t,"updates","scatterND");wP(r,a,n);const o={indices:a,updates:r},s={shape:n};return eO.runKernel(hT,o,s)}});const zA=pO({gatherND_:function(e,t){const n=cO(t,"indices","gatherND","int32"),a={params:cO(e,"x","gatherND","string_or_numeric"),indices:n};return eO.runKernel(wS,a)}});const VA=pO({mirrorPad_:function(e,t,n){Vk("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const a=cO(e,"x","mirrorPad");if(0===a.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Vk(t.length===a.rank,(()=>`Padding doesn't match input. Must be ${a.rank}. Got ${t.length}.`));const r="reflect"===n?1:0;for(let e=0;e<a.rank;e++)Vk(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Vk(t[e][0]>=0&&t[e][0]<=a.shape[e]-r&&t[e][1]>=0&&t[e][1]<=a.shape[e]-r,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${a.shape[e]-r} or less than 0 for input of shape ${a.shape}`));const o={paddings:t,mode:n},s={x:a};return eO.runKernel(jS,s,o)}});const HA=pO({pad_:function(e,t,n=0){const a=cO(e,"x","pad");if(0===a.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:t,constantValue:n},o={x:a};return eO.runKernel(eT,o,r)}});const jA=pO({spaceToBatchND_:function(e,t,n){const a=cO(e,"x","spaceToBatchND");Vk(a.rank>=1+t.length,(()=>`input rank ${a.rank} should be > than [blockShape] ${t.length}`)),Vk(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),Vk(a.shape.reduce(((e,a,r)=>r>0&&r<=t.length?e&&(a+n[r-1][0]+n[r-1][1])%t[r-1]==0:e),!0),(()=>`input spatial dimensions ${a.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const r={x:a},o={blockShape:t,paddings:n};return eO.runKernel(kT,r,o)}});const WA=pO({batchToSpaceND_:function(e,t,n){const a=cO(e,"x","batchToSpaceND"),r=t.reduce(((e,t)=>e*t));Vk(a.rank>=1+t.length,(()=>`input rank is ${a.rank} but should be > than blockShape.length ${t.length}`)),Vk(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),Vk(a.shape[0]%r==0,(()=>`input tensor batch is ${a.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`));const o={x:a},s={blockShape:t,crops:n};return eO.runKernel(zE,o,s)}});const UA=pO({depthToSpace_:function(e,t,n="NHWC"){const a=cO(e,"x","depthToSpace","float32"),r="NHWC"===n?a.shape[1]:a.shape[2],o="NHWC"===n?a.shape[2]:a.shape[3],s="NHWC"===n?a.shape[3]:a.shape[1];Vk(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),Vk(r*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${a.shape}`)),Vk(o*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t} for depthToSpace with input shape\n        ${a.shape}`)),Vk(s%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${a.shape}`));const i={x:a},l={blockSize:t,dataFormat:n};return eO.runKernel(rS,i,l)}});const GA=pO({broadcastArgs_:function(e,t){const n=cO(e,"s0","broadcastArgs","int32"),a=cO(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==a.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${a.rank}`);const r={s0:n,s1:a};return eO.runKernel(HE,r)}});function qA(e,t,n,a){const r=((e,t,n)=>{switch(e.category){case"arithmetic":return cR((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[BI(gM("a",e,t,n),gM("b",e,t,n))];case"AddN":return[rB(gM("tensors",e,t,n))];case"FloorMod":case"Mod":return[oB(gM("a",e,t,n),gM("b",e,t,n))];case"Mul":return[zI(gM("a",e,t,n),gM("b",e,t,n))];case"RealDiv":case"Div":return[DI(gM("a",e,t,n),gM("b",e,t,n))];case"DivNoNan":return[iB(gM("a",e,t,n),gM("b",e,t,n))];case"FloorDiv":return[LI(gM("a",e,t,n),gM("b",e,t,n))];case"Sub":return[qI(gM("a",e,t,n),gM("b",e,t,n))];case"Minimum":return[CR(gM("a",e,t,n),gM("b",e,t,n))];case"Maximum":return[lB(gM("a",e,t,n),gM("b",e,t,n))];case"Pow":return[aR(gM("a",e,t,n),gM("b",e,t,n))];case"SquaredDifference":return[ER(gM("a",e,t,n),gM("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return cR((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[GN(gM("x",e,t,n))];case"Acos":return[cB(gM("x",e,t,n))];case"Acosh":return[uB(gM("x",e,t,n))];case"Asin":return[pB(gM("x",e,t,n))];case"Asinh":return[dB(gM("x",e,t,n))];case"Atan":return[fB(gM("x",e,t,n))];case"Atan2":return[hB(gM("x",e,t,n),gM("y",e,t,n))];case"Atanh":return[mB(gM("x",e,t,n))];case"Ceil":return[gB(gM("x",e,t,n))];case"Complex":return[dO(gM("real",e,t,n),gM("imag",e,t,n))];case"Cos":return[vB(gM("x",e,t,n))];case"Cosh":return[bB(gM("x",e,t,n))];case"Elu":return[nP(gM("x",e,t,n))];case"Erf":return[yB(gM("x",e,t,n))];case"Exp":return[SR(gM("x",e,t,n))];case"Expm1":return[xB(gM("x",e,t,n))];case"Floor":return[wB(gM("x",e,t,n))];case"Log":return[kR(gM("x",e,t,n))];case"Log1p":return[TR(gM("x",e,t,n))];case"Imag":return[ZI(gM("x",e,t,n))];case"Neg":return[fR(gM("x",e,t,n))];case"Reciprocal":return[CB(gM("x",e,t,n))];case"Real":return[JI(gM("x",e,t,n))];case"Relu":return[wR(gM("x",e,t,n))];case"Round":return[DN(gM("x",e,t,n))];case"Selu":return[kB(gM("x",e,t,n))];case"Sigmoid":return[jI(gM("x",e,t,n))];case"Sin":return[EB(gM("x",e,t,n))];case"Sign":return[SB(gM("x",e,t,n))];case"Sinh":return[TB(gM("x",e,t,n))];case"Softplus":return[$B(gM("x",e,t,n))];case"Sqrt":return[rR(gM("x",e,t,n))];case"Square":return[oR(gM("x",e,t,n))];case"Tanh":return[OB(gM("x",e,t,n))];case"Tan":return[IB(gM("x",e,t,n))];case"ClipByValue":return[NB(gM("x",e,t,n),gM("clipValueMin",e,t,n),gM("clipValueMax",e,t,n))];case"Relu6":return[oP(gM("x",e,t,n))];case"Rsqrt":return[RB(vM(e.inputNames[0],t,n))];case"Prod":return[PB(gM("x",e,t,n),gM("axes",e,t,n))];case"LeakyRelu":return[aP(gM("x",e,t,n),gM("alpha",e,t,n))];case"Prelu":return[rP(gM("x",e,t,n),gM("alpha",e,t,n))];case"IsNan":return[MB(vM(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return zB(e,t,n);case"convolution":return cR((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const a=gM("stride",e,t,n),r=gM("pad",e,t,n),o=gM("dataFormat",e,t,n).toUpperCase(),s=gM("dilation",e,t,n);return[HB(gM("x",e,t,n),gM("filter",e,t,n),a,r,o,s)]}case"Conv2D":{const a=gM("strides",e,t,n),r=wM(e,t,n),o=gM("dataFormat",e,t,n).toUpperCase(),s=gM("dilations",e,t,n);return[VB(gM("x",e,t,n),gM("filter",e,t,n),[a[1],a[2]],r,o,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:a,pad:r,dataFormat:o,dilations:s,biasArg:i,preluArg:l,activationFunc:c,leakyreluAlpha:u}=oA(e,t,n);return[UB({x:gM("x",e,t,n),filter:gM("filter",e,t,n),strides:[a[1],a[2]],pad:r,dataFormat:o,dilations:[s[1],s[2]],bias:i,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:r,dataFormat:o,dilations:s,biasArg:i,preluArg:l,activationFunc:c,leakyreluAlpha:u}=oA(e,t,n);return[YB({x:gM("x",e,t,n),filter:gM("filter",e,t,n),strides:[a[1],a[2]],pad:r,dataFormat:o,dilations:[s[1],s[2]],bias:i,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=gM("outputShape",e,t,n),r=gM("strides",e,t,n),o=wM(e,t,n);return[QB(gM("x",e,t,n),gM("filter",e,t,n),a,[r[1],r[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=gM("strides",e,t,n),r=wM(e,t,n),o=gM("dilations",e,t,n),s=gM("dataFormat",e,t,n).toUpperCase();return[GB(gM("input",e,t,n),gM("filter",e,t,n),[a[1],a[2]],r,s,[o[1],o[2]])]}case"Conv3D":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("dataFormat",e,t,n).toUpperCase(),s=gM("dilations",e,t,n);return[ZB(gM("x",e,t,n),gM("filter",e,t,n),[a[1],a[2],a[3]],r,o,[s[1],s[2],s[3]])]}case"AvgPool":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("kernelSize",e,t,n);return[JB(gM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],r)]}case"MaxPool":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("kernelSize",e,t,n);return[eA(gM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],r)]}case"MaxPoolWithArgmax":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("kernelSize",e,t,n),s=gM("includeBatchInIndex",e,t,n),{result:i,indexes:l}=tA(gM("x",e,t,n),[o[1],o[2]],[a[1],a[2]],r,s);return[i,l]}case"AvgPool3D":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("kernelSize",e,t,n);return[nA(gM("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],r)]}case"MaxPool3D":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("kernelSize",e,t,n);return[aA(gM("x",e,t,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],r)]}case"Dilation2D":{const a=gM("strides",e,t,n),r=gM("pad",e,t,n),o=gM("dilations",e,t,n),s=a[1],i=a[2],l=o[1],c=o[2];return[rA(gM("x",e,t,n),gM("filter",e,t,n),[s,i],r,[l,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return cR((()=>((e,t,n)=>{switch(e.op){case"Fill":{const a=gM("shape",e,t,n),r=gM("dtype",e,t,n);return[cN(a,gM("value",e,t,n),r)]}case"LinSpace":return[sA(gM("start",e,t,n),gM("stop",e,t,n),gM("num",e,t,n))];case"Multinomial":{const a=gM("logits",e,t,n),r=gM("numSamples",e,t,n),o=gM("seed",e,t,n);return[iA(a,r,o)]}case"OneHot":{const a=gM("indices",e,t,n),r=gM("depth",e,t,n),o=gM("onValue",e,t,n),s=gM("offValue",e,t,n);return[lA(a,r,o,s)]}case"Ones":return[yR(gM("shape",e,t,n),gM("dtype",e,t,n))];case"OnesLike":return[cA(gM("x",e,t,n))];case"RandomUniform":return[fA(gM("shape",e,t,n),gM("minval",e,t,n),gM("maxval",e,t,n),gM("dtype",e,t,n))];case"Range":return[VN(gM("start",e,t,n),gM("stop",e,t,n),gM("step",e,t,n),gM("dtype",e,t,n))];case"TruncatedNormal":{const a=gM("shape",e,t,n),r=gM("mean",e,t,n),o=gM("stdDev",e,t,n),s=gM("seed",e,t,n);return[hA(a,r,o,gM("dtype",e,t,n),s)]}case"Zeros":return[QI(gM("shape",e,t,n),gM("dtype",e,t,n))];case"ZerosLike":return[tN(gM("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:s,scoreThreshold:i,softNmsSigma:l}=vA(e,t,n),c=await _R.nonMaxSuppressionWithScoreAsync(a,r,o,s,i,l);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:s,scoreThreshold:i}=vA(e,t,n),l=gM("padToMaxOutputSize",e,t,n),c=await _R.nonMaxSuppressionPaddedAsync(a,r,o,s,i,l);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:s,scoreThreshold:i}=vA(e,t,n);return[await _R.nonMaxSuppressionAsync(a,r,o,s,i)]}case"Where":{const a=JO(gM("condition",e,t,n),"bool"),r=[await mA(a)];return a.dispose(),r}case"ListDiff":return gA(gM("x",e,t,n),gM("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return cR((()=>((e,t,n)=>{switch(e.op){case"TopKV2":{const a=gM("x",e,t,n),r=gM("k",e,t,n),o=gM("sorted",e,t,n),s=bA(a,r,o);return[s.values,s.indices]}case"Unique":{const a=gM("x",e,t,n),r=yA(a);return[r.values,r.indices]}case"UniqueV2":{const a=gM("x",e,t,n),r=gM("axis",e,t,n),o=yA(a,r);return[o.values,o.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return cR((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const a=gM("images",e,t,n),r=gM("size",e,t,n),o=gM("alignCorners",e,t,n),s=gM("halfPixelCenters",e,t,n);return[_R.resizeBilinear(a,[r[0],r[1]],o,s)]}case"ResizeNearestNeighbor":{const a=gM("images",e,t,n),r=gM("size",e,t,n),o=gM("alignCorners",e,t,n),s=gM("halfPixelCenters",e,t,n);return[_R.resizeNearestNeighbor(a,[r[0],r[1]],o,s)]}case"CropAndResize":{const a=gM("image",e,t,n),r=gM("boxes",e,t,n),o=gM("boxInd",e,t,n),s=gM("cropSize",e,t,n),i=gM("method",e,t,n),l=gM("extrapolationValue",e,t,n);return[_R.cropAndResize(a,r,o,s,i,l)]}case"ImageProjectiveTransformV3":{const a=gM("images",e,t,n),r=gM("transforms",e,t,n),o=gM("outputShape",e,t,n),s=gM("fillValue",e,t,n),i=gM("interpolation",e,t,n),l=gM("fillMode",e,t,n);return[_R.transform(a,r,i.toLowerCase(),l.toLowerCase(),s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return cR((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=gM("default",e,t,n);return[vM(e.name,t,n)||a];case"Placeholder":return[vM(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[CM(gM("x",e,t,n))];case"IdentityN":return gM("x",e,t,n).map((e=>CM(e)));case"Shape":return[XI(gM("x",e,t,n).shape,"int32")];case"ShapeN":return gM("x",e,t,n).map((e=>XI(e.shape)));case"Size":return[HI(gM("x",e,t,n).size,"int32")];case"Rank":return[HI(gM("x",e,t,n).rank,"int32")];case"NoOp":return[HI(1)];case"Print":const r=gM("x",e,t,n),o=gM("data",e,t,n),s=gM("message",e,t,n),i=gM("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<o.length;e++)console.log(Array.prototype.slice.call(o[e].dataSync()).slice(0,i));return[r];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return cR((()=>((e,t,n)=>{switch(e.op){case"Equal":return[sB(gM("a",e,t,n),gM("b",e,t,n))];case"NotEqual":return[bR(gM("a",e,t,n),gM("b",e,t,n))];case"Greater":return[_N(gM("a",e,t,n),gM("b",e,t,n))];case"GreaterEqual":return[WN(gM("a",e,t,n),gM("b",e,t,n))];case"Less":return[wA(gM("a",e,t,n),gM("b",e,t,n))];case"LessEqual":return[AN(gM("a",e,t,n),gM("b",e,t,n))];case"LogicalAnd":return[UN(gM("a",e,t,n),gM("b",e,t,n))];case"LogicalNot":return[CA(gM("a",e,t,n))];case"LogicalOr":return[kA(gM("a",e,t,n),gM("b",e,t,n))];case"Select":case"SelectV2":return[zN(gM("condition",e,t,n),gM("a",e,t,n),gM("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return cR((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[dR(gM("a",e,t,n),gM("b",e,t,n),gM("transposeA",e,t,n),gM("transposeB",e,t,n))];case"Einsum":return[EA(gM("equation",e,t,n),...gM("tensors",e,t,n))];case"Transpose":return[hR(gM("x",e,t,n),gM("perm",e,t,n))];case"_FusedMatMul":const[a,r]=gM("fusedOps",e,t,n),o="biasadd"===a,s="prelu"===r,i=gM("numArgs",e,t,n),l=gM("leakyreluAlpha",e,t,n);if(o){if(s&&2!==i)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==i)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,u]=gM("args",e,t,n);return[KB({a:gM("a",e,t,n),b:gM("b",e,t,n),transposeA:gM("transposeA",e,t,n),transposeB:gM("transposeB",e,t,n),bias:c,activation:r,preluActivationWeights:u,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return cR((()=>((e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[SA(gM("x",e,t,n),gM("mean",e,t,n),gM("variance",e,t,n),gM("offset",e,t,n),gM("scale",e,t,n),gM("epsilon",e,t,n))];case"LRN":return[TA(gM("x",e,t,n),gM("radius",e,t,n),gM("bias",e,t,n),gM("alpha",e,t,n),gM("beta",e,t,n))];case"Softmax":return[$A(gM("x",e,t,n))];case"LogSoftmax":return[OA(gM("x",e,t,n))];case"SparseToDense":return[IA(gM("sparseIndices",e,t,n),gM("outputShape",e,t,n),gM("sparseValues",e,t,n),gM("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return cR((()=>((e,t,n)=>{switch(e.op){case"Max":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[tR(gM("x",e,t,n),a,r)]}case"Mean":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[vR(gM("x",e,t,n),a,r)]}case"Min":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[nR(gM("x",e,t,n),a,r)]}case"Sum":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[LN(gM("x",e,t,n),a,r)]}case"All":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[NA(gM("x",e,t,n),a,r)]}case"Any":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[RA(gM("x",e,t,n),a,r)]}case"ArgMax":{const a=gM("axis",e,t,n);return[PA(gM("x",e,t,n),a)]}case"ArgMin":{const a=gM("axis",e,t,n);return[MA(gM("x",e,t,n),a)]}case"Prod":{const a=gM("axis",e,t,n),r=gM("keepDims",e,t,n);return[PB(gM("x",e,t,n),a,r)]}case"Cumprod":{const a=gM("axis",e,t,n),r=gM("exclusive",e,t,n),o=gM("reverse",e,t,n);return[BA(gM("x",e,t,n),a,r,o)]}case"Cumsum":{const a=gM("axis",e,t,n),r=gM("exclusive",e,t,n),o=gM("reverse",e,t,n);return[AA(gM("x",e,t,n),a,r,o)]}case"Bincount":const a=gM("x",e,t,n),r=gM("weights",e,t,n),o=gM("size",e,t,n);return[BN(a,r,o)];case"DenseBincount":{const a=gM("x",e,t,n),r=gM("weights",e,t,n),o=gM("size",e,t,n),s=gM("binaryOutput",e,t,n);return[_A(a,r,o,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return cR((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const a=gM("n",e,t,n),r=gM("axis",e,t,n);let o=gM("tensors",e,t,n);return o=o.slice(0,a),[AI(o,r)]}case"Gather":{const a=gM("x",e,t,n),r=gM("indices",e,t,n);return[LA(a,JO(r,"int32"),0)]}case"GatherV2":{const a=gM("axis",e,t,n),r=gM("batchDims",e,t,n),o=gM("x",e,t,n),s=gM("indices",e,t,n);return[LA(o,JO(s,"int32"),a,r)]}case"Reverse":{const a=gM("dims",e,t,n),r=[];for(let e=0;e<a.length;e++)a[e]&&r.push(e);const o=gM("x",e,t,n);return[oN(o,r)]}case"ReverseV2":{const a=gM("axis",e,t,n),r=gM("x",e,t,n);return[oN(r,a)]}case"Slice":{const a=gM("begin",e,t,n),r=gM("size",e,t,n);return[WI(gM("x",e,t,n),a,r)]}case"StridedSlice":{const a=gM("begin",e,t,n),r=gM("end",e,t,n),o=gM("strides",e,t,n),s=gM("beginMask",e,t,n),i=gM("endMask",e,t,n),l=gM("ellipsisMask",e,t,n),c=gM("newAxisMask",e,t,n),u=gM("shrinkAxisMask",e,t,n),p=gM("x",e,t,n);return[DA(p,a,r,o,s,i,l,c,u)]}case"Pack":return cR((()=>{const a=gM("axis",e,t,n),r=gM("tensors",e,t,n),o=r[0].shape,s=UI(r[0]).shape,i=r.map((e=>{const t=Gk(e.shape,o);if(!t&&!Gk(UI(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:VI(e,o)}));return[GI(i,a)]}));case"Unpack":{const a=gM("axis",e,t,n),r=gM("tensor",e,t,n);return KI(r,a)}case"Tile":{const a=gM("reps",e,t,n);return[fN(gM("x",e,t,n),a)]}case"Split":case"SplitV":{const a=gM("axis",e,t,n),r=gM("numOrSizeSplits",e,t,n),o=gM("x",e,t,n);return eN(o,r,a)}case"ScatterNd":{const a=gM("indices",e,t,n),r=gM("values",e,t,n),o=gM("shape",e,t,n);return[FA(a,r,o)]}case"GatherNd":{const a=gM("x",e,t,n),r=gM("indices",e,t,n);return[zA(a,r)]}case"SparseToDense":{const a=gM("sparseIndices",e,t,n),r=gM("outputShape",e,t,n),o=gM("sparseValues",e,t,n),s=gM("defaultValue",e,t,n);return[IA(a,o,r,o.dtype===s.dtype?s:JO(s,o.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return cR((()=>((e,t,n)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:r,emptyRowIndicator:o,reverseIndexMap:s}=LR.sparseFillEmptyRows(gM("indices",e,t,n),gM("values",e,t,n),gM("denseShape",e,t,n),gM("defaultValue",e,t,n));return[a,r,o,s]}case"SparseReshape":{const{outputIndices:a,outputShape:r}=LR.sparseReshape(gM("inputIndices",e,t,n),gM("inputShape",e,t,n),gM("newShape",e,t,n));return[a,r]}case"SparseSegmentMean":return[LR.sparseSegmentMean(gM("data",e,t,n),gM("indices",e,t,n),gM("segmentIds",e,t,n))];case"SparseSegmentSum":return[LR.sparseSegmentSum(gM("data",e,t,n),gM("indices",e,t,n),gM("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return cR((()=>((e,t,n)=>{switch(e.op){case"FFT":return[nN(gM("x",e,t,n))];case"IFFT":return[rN(gM("x",e,t,n))];case"RFFT":return[aN(gM("x",e,t,n))];case"IRFFT":return[sN(gM("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return cR((()=>((e,t,n)=>{switch(e.op){case"StringNGrams":{const{nGrams:a,nGramsSplits:r}=DR.stringNGrams(gM("data",e,t,n),gM("dataSplits",e,t,n),gM("separator",e,t,n),gM("nGramWidths",e,t,n),gM("leftPad",e,t,n),gM("rightPad",e,t,n),gM("padWidth",e,t,n),gM("preserveShortSequences",e,t,n));return[a,r]}case"StringSplit":{const{indices:a,values:r,shape:o}=DR.stringSplit(gM("input",e,t,n),gM("delimiter",e,t,n),gM("skipEmpty",e,t,n));return[a,r,o]}case"StringToHashBucketFast":return[DR.stringToHashBucketFast(gM("input",e,t,n),gM("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return cR((()=>((e,t,n)=>{switch(e.op){case"Cast":return[JO(gM("x",e,t,n),gM("dtype",e,t,n))];case"ExpandDims":{const a=gM("axis",e,t,n);return[FI(gM("x",e,t,n),a)]}case"Squeeze":{const a=gM("axis",e,t,n);return[UI(gM("x",e,t,n),a)]}case"Reshape":return[VI(gM("x",e,t,n),gM("shape",e,t,n))];case"MirrorPad":return[VA(gM("x",e,t,n),gM("padding",e,t,n),gM("mode",e,t,n))];case"PadV2":case"Pad":return[HA(gM("x",e,t,n),gM("padding",e,t,n),gM("constantValue",e,t,n))];case"SpaceToBatchND":{const a=gM("blockShape",e,t,n),r=gM("paddings",e,t,n);return[jA(gM("x",e,t,n),a,r)]}case"BatchToSpaceND":{const a=gM("blockShape",e,t,n),r=gM("crops",e,t,n);return[WA(gM("x",e,t,n),a,r)]}case"DepthToSpace":{const a=gM("blockSize",e,t,n),r=gM("dataFormat",e,t,n).toUpperCase();return[UA(gM("x",e,t,n),a,r)]}case"BroadcastTo":return[FN(gM("x",e,t,n),gM("shape",e,t,n))];case"BroadcastArgs":return[GA(gM("s0",e,t,n),gM("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,a)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=gM("keyDType",e,t,n),o=gM("valueDType",e,t,n),s=new xA(r,o);return a.addHashTable(e.name,s),[s.handle]}case"LookupTableImport":case"LookupTableImportV2":{const r=gM("tableHandle",e,t,n,a),o=gM("keys",e,t,n),s=gM("values",e,t,n),i=a.getHashTableById(r.id);return[await i.import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const r=gM("tableHandle",e,t,n,a),o=gM("keys",e,t,n),s=gM("defaultValue",e,t,n),i=a.getHashTableById(r.id);return[await i.find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=gM("tableHandle",e,t,n,a);return[a.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,a);case"custom":const r=mM(e.op);if(r&&r.customExecutor)return r.customExecutor(new aB(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return gE(r)?r.then((e=>[].concat(e))):[].concat(r)}class XA{constructor(e={},t={},n={},a={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function YA(e,t,n,a){const r=new Set,o=[];let s=null,i=null;const l=new Set,c=Object.keys(e).map((e=>xM(e)[0]));let u=[];null!=a&&(u=a.map((e=>xM(e.name)[0])));const p=[...t];for(;p.length>0;){const e=p.pop();(JA(e)||e_(e)||t_(e))&&null==s&&(s=e,i=s.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&(-1===c.indexOf(e.name)&&-1===u.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),p.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:o,dynamicNode:s,syncInputs:i}}const KA=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],QA=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],ZA=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function JA(e){return KA.indexOf(e.op)>=0}function e_(e){return QA.indexOf(e.op)>=0}function t_(e){return ZA.indexOf(e.op)>=0}class n_{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new n_(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),a=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,t){const n=YA(e,t,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:r,syncInputs:o}=n;if(null!=r)throw new Error(`This execution contains the node '${r.name}', which has the dynamic op '${r.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(a.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${r}]. Missing the following inputs: [${a}]`)}return function(e,t,n){const{usedNodes:a,inputs:r}=n,o=[],s=Object.keys(r).map((e=>xM(e)[0])).map((t=>e.nodes[t])),i=e.initNodes;s.forEach((e=>{a.has(e.name)&&o.push(e)})),e.weights.forEach((e=>{a.has(e.name)&&o.push(e)})),null!=i&&i.forEach((e=>{a.has(e.name)&&o.push(e)}));const l=new Set,c=[];for(;o.length>0;){const e=o.pop();l.add(e.name),t[e.name]||c.push(e),e.children.forEach((e=>{!l.has(e.name)&&a.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&o.push(e)}))}return c}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const a=n.map((e=>this.graph.nodes[xM(e)[0]])),r=t.map((e=>xM(e)[0]));let o=r.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);const s=this.getCompilationKey(a,o);let i=this.compiledMap.get(s);null==i&&(i=this.compile(e,o),this.compiledMap.set(s,i));const l={},c={};return cR((()=>{const n=new XA(this.weightMap,l,c,this.functionExecutorMap),a=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=xM(t),o=[];o[r]=e[t],a[n]=o}));const o=this.getFrozenTensorIds(a),s={};for(let e=0;e<i.length;e++){const t=i[e];if(!a[t.name]){const e=qA(t,a,n,this._resourceManager);if(gE(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);a[t.name]=e,this.checkTensorForDisposal(t.name,t,a,n,o,r,s)}}return null==this.parent&&n.dispose(o),t.map((e=>vM(e,a,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,a,r,o,s){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(s[e.id]=(s[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const o=function(e,t,n){return t[yM(e,n.currentContextId)]}(e.name,n,a);null!=o&&o.forEach((e=>{if(e&&!e.kept&&!r.has(e.id)){const n=s[e.id];if(1===n){if(this.keepTensorForDebug){const[n,r]=bM(t.name,a);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][r]=e}else e.dispose();delete s[e.id]}else null!=n&&s[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,a={},r={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=xE().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){console.warn(e.message)}this.resetIntermediateTensors();const o=new XA(this.weightMap,a,r,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,o,t,n);const s=t.map((e=>vM(e,this.tensorsMap,o))),i=s.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...i,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),s}async executeFunctionAsync(e,t,n){const a=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,a){const r=Object.keys(e),o=r.map((e=>this.graph.nodes[xM(e)[0]])),s=n.map((e=>xM(e)[0]));let i=s.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const{usedNodes:l,missingInputs:c,dynamicNode:u,syncInputs:p}=YA(e,i,this.weightMap,this._initNodes),d=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=xM(t),r=[];r[a]=e[t],f[n]=r}));const h={},m=this.getFrozenTensorIds(f),g={};for(;d.length>0;){const e=this.processStack(o,d,t,f,g,m,s,h,l);await Promise.all(e)}null!=u||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=i.filter((e=>!JA(e)&&!vM(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=u&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${r}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,a,r,o,s,i,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&gM("isConstant",e.node,a,n)&&([u]=bM(e.node.name,n)),null==a[e.node.name]){const p=qA(e.node,a,n,this._resourceManager);u||([u]=bM(e.node.name,n));const d=n.currentContext;gE(p)?c.push(p.then((c=>(a[u]=c,n.currentContext=d,this.checkTensorForDisposal(u,e.node,a,n,o,s,i),this.processChildNodes(e.node,t,n,a,r,l),c)))):(a[u]=p,this.checkTensorForDisposal(u,e.node,a,n,o,s,i),this.processChildNodes(e.node,t,n,a,r,l))}else this.processChildNodes(e.node,t,n,a,r,l)}return c}processChildNodes(e,t,n,a,r,o){e.children.forEach((e=>{const[s]=bM(e.name,n);!r[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!vM(e,a,n)))&&(r[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!vM(e,a,n)))&&(r[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[a]=xM(t),r=this.graph.nodes[a];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));Vk(t,(()=>`The shape of dict['${r.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}r.attrParams.dtype&&r.attrParams.dtype.value&&Vk(n.dtype===r.attrParams.dtype.value,(()=>`The dtype of dict['${r.name}'] provided in model.execute(dict) must be ${r.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=xM(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=xM(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class a_{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class r_{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new a_}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=uI(e,this.loadOptions);else{const a=(t=e,n=this.loadOptions,EO.getLoadHandlers(t,n));if(0===a.length)a.push(uI(e,this.loadOptions));else if(a.length>1)throw new Error(`Found more than one (${a.length}) load handlers for URL '${[e]}'`);this.handler=a[0]}var t,n}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const a=gO(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new n_(HM.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=HM.Instance.transformGraph(e.modelInitializer);this.initializer=new n_(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=(n=e,EO.getSaveHandlers(n));if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof L$||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,a)=>(t[n]=e[a],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function o_(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}model.json?tfjs-format=file`);const n=new r_(e,t);return await n.load(),n}var s_=function(){return(s_=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i_(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}))}function l_(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function c_(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}))}function u_(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var p_=function(e){return{startEndTensor:e,startPoint:WI(e,[0,0],[-1,2]),endPoint:WI(e,[0,2],[-1,2])}},d_={strides:[8,16],anchors:[2,6]};function f_(e,t){var n,a,r;if(e.topLeft instanceof L$&&e.bottomRight instanceof L$){var o=cR((function(){return[AI([WI(qI(t-1,e.topLeft),0,1),WI(e.topLeft,1,1)]),AI([qI(t-1,WI(e.bottomRight,0,1)),WI(e.bottomRight,1,1)])]}));n=o[0],a=o[1],null!=e.landmarks&&(r=cR((function(){var n=qI(XI([t-1,0]),e.landmarks),a=XI([1,-1]);return zI(n,a)})))}else{var s=e.topLeft,i=s[0],l=s[1],c=e.bottomRight,u=c[0],p=c[1];n=[t-1-i,l],a=[t-1-u,p],null!=e.landmarks&&(r=e.landmarks.map((function(e){return[t-1-e[0],e[1]]})))}var d={topLeft:n,bottomRight:a};return null!=r&&(d.landmarks=r),null!=e.probability&&(d.probability=e.probability instanceof L$?e.probability.clone():e.probability),d}function h_(e,t){return cR((function(){var n;return n=e.hasOwnProperty("box")?e.box:e,UI(function(e,t){var n=zI(e.startPoint,t),a=zI(e.endPoint,t),r=_I([n,a],1);return p_(r)}(n,t).startEndTensor)}))}var m_=function(){function e(e,t,n,a,r,o){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=a,this.anchorsData=function(e,t,n){for(var a=[],r=0;r<n.strides.length;r++)for(var o=n.strides[r],s=Math.floor((t+o-1)/o),i=Math.floor((e+o-1)/o),l=n.anchors[r],c=0;c<s;c++)for(var u=o*(c+.5),p=0;p<i;p++)for(var d=o*(p+.5),f=0;f<l;f++)a.push([d,u]);return a}(t,n,d_),this.anchors=YI(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=XI([t,n]),this.iouThreshold=r,this.scoreThreshold=o}return e.prototype.getBoundingBoxes=function(e,t,n){return void 0===n&&(n=!0),c_(this,void 0,void 0,(function(){var a,r,o,s,i,l,c,u,p,d,f,h,m,g,v=this;return u_(this,(function(b){switch(b.label){case 0:return a=cR((function(){var t=_R.resizeBilinear(e,[v.width,v.height]),n=zI(qI(DI(t,255),.5),2),a=v.blazeFaceModel.predict(n),r=UI(a),o=function(e,t,n){var a=WI(e,[0,1],[-1,2]),r=BI(a,t),o=WI(e,[0,3],[-1,2]),s=DI(o,n),i=DI(r,n),l=DI(s,2),c=qI(i,l),u=BI(i,l),p=zI(c,n),d=zI(u,n);return _I([p,d],1)}(r,v.anchors,v.inputSize),s=WI(r,[0,0],[-1,1]);return[r,o,UI(jI(s))]})),r=a[0],o=a[1],s=a[2],i=console.warn,console.warn=function(){},l=_R.nonMaxSuppression(o,s,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=i,[4,l.array()];case 1:return c=b.sent(),l.dispose(),u=c.map((function(e){return WI(o,[e,0],[1,-1])})),t?[3,3]:[4,Promise.all(u.map((function(e){return c_(v,void 0,void 0,(function(){var t;return u_(this,(function(n){switch(n.label){case 0:return[4,e.array()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 2:u=b.sent(),b.label=3;case 3:for(p=e.shape[1],d=e.shape[2],f=t?DI([d,p],this.inputSize):[d/this.inputSizeData[0],p/this.inputSizeData[1]],h=[],m=function(e){var a=u[e],o=cR((function(){var o=p_(a instanceof L$?a:YI(a));if(!n)return o;var i,l=c[e];return i=t?WI(v.anchors,[l,0],[1,2]):v.anchorsData[l],{box:o,landmarks:VI(UI(WI(r,[l,5],[1,-1])),[6,-1]),probability:WI(s,[l],[1]),anchor:i}}));h.push(o)},g=0;g<u.length;g++)m(g);return o.dispose(),s.dispose(),r.dispose(),[2,{boxes:h,scaleFactor:f}]}}))}))},e.prototype.estimateFaces=function(e,t,n,a){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===a&&(a=!0),c_(this,void 0,void 0,(function(){var r,o,s,i,l,c,u=this;return u_(this,(function(p){switch(p.label){case 0:return r=function(e){return e instanceof L$?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),o=r[1],s=cR((function(){return e instanceof L$||(e=gI(e)),FI(JO(e,"float32"),0)})),[4,this.getBoundingBoxes(s,t,a)];case 1:return i=p.sent(),l=i.boxes,c=i.scaleFactor,s.dispose(),t?[2,l.map((function(e){var t=h_(e,c),r={topLeft:WI(t,[0],[2]),bottomRight:WI(t,[2],[2])};if(a){var s=e,i=s.landmarks,l=s.probability,u=s.anchor,p=zI(BI(i,u),c);r.landmarks=p,r.probability=l}return n&&(r=f_(r,o)),r}))]:[2,Promise.all(l.map((function(e){return c_(u,void 0,void 0,(function(){var t,r,s,i,l,u,p,d,f,h,m,g=this;return u_(this,(function(v){switch(v.label){case 0:return t=h_(e,c),a?[3,2]:[4,t.array()];case 1:return l=v.sent(),r={topLeft:l.slice(0,2),bottomRight:l.slice(2)},[3,4];case 2:return[4,Promise.all([e.landmarks,t,e.probability].map((function(e){return c_(g,void 0,void 0,(function(){return u_(this,(function(t){return[2,e.array()]}))}))})))];case 3:s=v.sent(),i=s[0],l=s[1],u=s[2],p=e.anchor,f=(d=c)[0],h=d[1],m=i.map((function(e){return[(e[0]+p[0])*f,(e[1]+p[1])*h]})),r={topLeft:l.slice(0,2),bottomRight:l.slice(2),landmarks:m,probability:u},function(e){e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()}(e.box),e.landmarks.dispose(),e.probability.dispose(),v.label=4;case 4:return t.dispose(),n&&(r=f_(r,o)),[2,r]}}))}))})))]}}))}))},e}();function g_(e){var t=void 0===e?{}:e,n=t.maxFaces,a=void 0===n?10:n,r=t.inputWidth,o=void 0===r?128:r,s=t.inputHeight,i=void 0===s?128:s,l=t.iouThreshold,c=void 0===l?.3:l,u=t.scoreThreshold,p=void 0===u?.75:u,d=t.modelUrl;return c_(this,void 0,void 0,(function(){var e;return u_(this,(function(t){switch(t.label){case 0:return null==d?[3,2]:[4,o_(d)];case 1:return e=t.sent(),[3,4];case 2:return[4,o_("https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1",{fromTFHub:!0})];case 3:e=t.sent(),t.label=4;case 4:return[2,new m_(e,o,i,a,c,p)]}}))}))}var v_={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],rightEyeIris:[473,474,475,476,477],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],leftEyeIris:[468,469,470,471,472],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]};function b_(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function y_(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function x_(e,t){void 0===t&&(t=1.5);var n=y_(e),a=b_(e),r=[t*a[0]/2,t*a[1]/2];return{startPoint:[n[0]-r[0],n[1]-r[1]],endPoint:[n[0]+r[0],n[1]+r[1]],landmarks:e.landmarks}}function w_(e){var t=y_(e),n=b_(e),a=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-a,t[1]-a],endPoint:[t[0]+a,t[1]+a],landmarks:e.landmarks}}var C_=[[1,0,0],[0,1,0],[0,0,1]];function k_(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function E_(e,t){for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}function S_(e,t){for(var n=[],a=0;a<e.length;a++)n.push(e[a][t]);return n}function T_(e,t){for(var n=[],a=e.length,r=0;r<a;r++){n.push([]);for(var o=0;o<a;o++)n[r].push(E_(e[r],S_(t,o)))}return n}function $_(e,t){var n=Math.cos(e),a=Math.sin(e),r=[[n,-a,0],[a,n,0],[0,0,1]],o=T_(k_(t[0],t[1]),r);return T_(o,k_(-t[0],-t[1]))}var O_=[13,v_.midwayBetweenEyes[0]],I_=[3,2],N_=v_.leftEyeLower0,R_=[N_[0],N_[N_.length-1]],P_=v_.rightEyeLower0,M_=[P_[0],P_[P_.length-1]],B_=[{key:"EyeUpper0",indices:[9,10,11,12,13,14,15]},{key:"EyeUpper1",indices:[25,26,27,28,29,30,31]},{key:"EyeUpper2",indices:[41,42,43,44,45,46,47]},{key:"EyeLower0",indices:[0,1,2,3,4,5,6,7,8]},{key:"EyeLower1",indices:[16,17,18,19,20,21,22,23,24]},{key:"EyeLower2",indices:[32,33,34,35,36,37,38,39,40]},{key:"EyeLower3",indices:[54,55,56,57,58,59,60,61,62]},{key:"EyebrowUpper",indices:[63,64,65,66,67,68,69,70]},{key:"EyebrowLower",indices:[48,49,50,51,52,53]}];function A_(e,t,n,a){for(var r=0;r<B_.length;r++){var o=B_[r],s=o.key,i=o.indices,l=v_[""+n+s];if(null==a||a.includes(s))for(var c=0;c<i.length;c++){var u=i[c];e[l[c]]=[t[u][0],t[u][1],(t[u][2]+e[l[c]][2])/2]}}}var __=function(){function e(e,t,n,a,r,o,s){this.regionsOfInterest=[],this.runsWithoutFaceDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.irisModel=s,this.meshWidth=n,this.meshHeight=a,this.maxContinuousChecks=r,this.maxFaces=o}return e.prototype.transformRawCoords=function(e,t,n,a){var r,o,s,i,l=this,c=b_({startPoint:t.startPoint,endPoint:t.endPoint}),u=[c[0]/this.meshWidth,c[1]/this.meshHeight],p=e.map((function(e){return[u[0]*(e[0]-l.meshWidth/2),u[1]*(e[1]-l.meshHeight/2),e[2]]})),d=$_(n,[0,0]),f=p.map((function(e){return function(e,t){return[E_(e,t[0]),E_(e,t[1])]}(e,d).concat([e[2]])})),h=(o=[[(r=a)[0][0],r[1][0]],[r[0][1],r[1][1]]],s=[r[0][2],r[1][2]],i=[-E_(o[0],s),-E_(o[1],s)],[o[0].concat(i[0]),o[1].concat(i[1]),[0,0,1]]),m=y_({startPoint:t.startPoint,endPoint:t.endPoint}).concat([1]),g=[E_(m,h[0]),E_(m,h[1])];return f.map((function(e){return[e[0]+g[0],e[1]+g[1],e[2]]}))},e.prototype.getLeftToRightEyeDepthDifference=function(e){return e[R_[0]][2]-e[M_[0]][2]},e.prototype.getEyeBox=function(e,t,n,a,r){void 0===r&&(r=!1);var o=w_(x_(this.calculateLandmarksBoundingBox([e[n],e[a]]),2.3)),s=b_(o),i=_R.cropAndResize(t,[[o.startPoint[1]/this.meshHeight,o.startPoint[0]/this.meshWidth,o.endPoint[1]/this.meshHeight,o.endPoint[0]/this.meshWidth]],[0],[64,64]);return r&&(i=_R.flipLeftRight(i)),{box:o,boxSize:s,crop:i}},e.prototype.getEyeCoords=function(e,t,n,a){void 0===a&&(a=!1);for(var r=[],o=0;o<76;o++){var s=e[3*o],i=e[3*o+1],l=e[3*o+2];r.push([(a?1-s/64:s/64)*n[0]+t.startPoint[0],i/64*n[1]+t.startPoint[1],l])}return{rawCoords:r,iris:r.slice(71)}},e.prototype.getAdjustedIrisCoords=function(e,t,n){var a=e[v_[n+"EyeUpper0"][3]][2],r=e[v_[n+"EyeLower0"][4]][2],o=(a+r)/2;return t.map((function(e,t){var n=o;return 2===t?n=a:4===t&&(n=r),[e[0],e[1],n]}))},e.prototype.predict=function(e,t){return i_(this,void 0,void 0,(function(){var n,a,r,o,s=this;return l_(this,(function(i){switch(i.label){case 0:return this.shouldUpdateRegionsOfInterest()?[4,this.boundingBoxDetector.getBoundingBoxes(e,!1,!0)]:[3,2];case 1:return n=i.sent(),a=n.boxes,r=n.scaleFactor,0===a.length?(this.regionsOfInterest=[],[2,null]):(o=a.map((function(e){var t,n,a={startPoint:UI(e.box.startPoint).arraySync(),endPoint:UI(e.box.endPoint).arraySync()},o=w_(x_((n=r,{startPoint:[(t=a).startPoint[0]*n[0],t.startPoint[1]*n[1]],endPoint:[t.endPoint[0]*n[0],t.endPoint[1]*n[1]]})));return s_({},o,{landmarks:e.landmarks.arraySync()})})),a.forEach((function(e){null!=e&&null!=e.startPoint&&(e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose())})),this.updateRegionsOfInterest(o),this.runsWithoutFaceDetector=0,[3,3]);case 2:this.runsWithoutFaceDetector++,i.label=3;case 3:return[2,cR((function(){return s.regionsOfInterest.map((function(n,a){var r,o=n.landmarks.length>=468,i=O_[0],l=O_[1];!1===o&&(i=I_[0],l=I_[1]),r=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(n.landmarks[i],n.landmarks[l]);var c=y_({startPoint:n.startPoint,endPoint:n.endPoint}),u=[c[0]/e.shape[2],c[1]/e.shape[1]],p=e,d=C_;0!==r&&(p=_R.rotateWithOffset(e,r,0,u),d=$_(-r,c));var f={startPoint:n.startPoint,endPoint:n.endPoint},h=DI(function(e,t,n){var a=t.shape[1],r=t.shape[2],o=[[e.startPoint[1]/a,e.startPoint[0]/r,e.endPoint[1]/a,e.endPoint[0]/r]];return _R.cropAndResize(t,o,[0],n,"bilinear",0)}(f,p,[s.meshHeight,s.meshWidth]),255),m=s.meshDetector.predict(h),g=m[1],v=m[2],b=VI(v,[-1,3]).arraySync();if(t){var y=s.getEyeBox(b,h,R_[0],R_[1],!0),x=y.box,w=y.boxSize,C=y.crop,k=s.getEyeBox(b,h,M_[0],M_[1]),E=k.box,S=k.boxSize,T=k.crop,$=s.irisModel.predict(AI([C,T])).dataSync(),O=$.slice(0,228),I=s.getEyeCoords(O,x,w,!0),N=I.rawCoords,R=I.iris,P=$.slice(228),M=s.getEyeCoords(P,E,S),B=M.rawCoords,A=M.iris,_=s.getLeftToRightEyeDepthDifference(b);Math.abs(_)<30?(A_(b,N,"left"),A_(b,B,"right")):_<1?A_(b,N,"left",["EyeUpper0","EyeLower0"]):A_(b,B,"right",["EyeUpper0","EyeLower0"]);var L=s.getAdjustedIrisCoords(b,R,"left"),D=s.getAdjustedIrisCoords(b,A,"right");b=b.concat(L).concat(D)}var F=s.transformRawCoords(b,n,r,d),z=YI(F),V=x_(s.calculateLandmarksBoundingBox(F)),H=w_(V);return s.regionsOfInterest[a]=s_({},H,{landmarks:z.arraySync()}),{coords:YI(b,[b.length,3]),scaledCoords:z,box:V,flag:UI(g)}}))}))]}}))}))},e.prototype.updateRegionsOfInterest=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=this.regionsOfInterest[t],r=0;if(a&&a.startPoint){var o=n.startPoint,s=o[0],i=o[1],l=n.endPoint,c=l[0],u=l[1],p=a.startPoint,d=p[0],f=p[1],h=a.endPoint,m=h[0],g=h[1],v=Math.max(s,d),b=Math.max(i,f),y=(Math.min(c,m)-v)*(Math.min(u,g)-b);r=y/((c-s)*(u-i)+(m-d)*(g-i)-y)}r<.25&&(this.regionsOfInterest[t]=n)}this.regionsOfInterest=this.regionsOfInterest.slice(0,e.length)},e.prototype.clearRegionOfInterest=function(e){null!=this.regionsOfInterest[e]&&(this.regionsOfInterest=this.regionsOfInterest.slice(0,e).concat(this.regionsOfInterest.slice(e+1)))},e.prototype.shouldUpdateRegionsOfInterest=function(){var e=this.regionsOfInterest.length,t=0===e;return 1===this.maxFaces||t?t:e!==this.maxFaces&&this.runsWithoutFaceDetector>=this.maxContinuousChecks},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e}(),L_=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]];function D_(e){return i_(this,void 0,void 0,(function(){var t,n,a,r,o,s,i,l,c,u,p,d,f,h,m,g;return l_(this,(function(v){switch(v.label){case 0:return t=e.maxContinuousChecks,n=void 0===t?5:t,a=e.detectionConfidence,r=void 0===a?.9:a,o=e.maxFaces,s=void 0===o?10:o,i=e.iouThreshold,l=void 0===i?.3:i,c=e.scoreThreshold,u=void 0===c?.75:c,p=e.shouldLoadIrisModel,d=void 0===p||p,f=e.modelUrl,h=e.detectorModelUrl,m=e.irisModelUrl,d?[4,Promise.all([F_(h,s,l,u),z_(f),V_(m)])]:[3,2];case 1:return g=v.sent(),[3,4];case 2:return[4,Promise.all([F_(h,s,l,u),z_(f)])];case 3:g=v.sent(),v.label=4;case 4:return[2,new W_(g[0],g[1],n,r,s,d?g[2]:null)]}}))}))}function F_(e,t,n,a){return i_(this,void 0,void 0,(function(){return l_(this,(function(r){return[2,g_({modelUrl:e,maxFaces:t,iouThreshold:n,scoreThreshold:a})]}))}))}function z_(e){return i_(this,void 0,void 0,(function(){return l_(this,(function(t){return null!=e?[2,o_(e)]:[2,o_("https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1",{fromTFHub:!0})]}))}))}function V_(e){return i_(this,void 0,void 0,(function(){return l_(this,(function(t){return null!=e?[2,o_(e)]:[2,o_("https://tfhub.dev/mediapipe/tfjs-model/iris/1/default/2",{fromTFHub:!0})]}))}))}function H_(e,t){if(e.mesh instanceof L$){var n=cR((function(){var n=XI([t-1,0,0]),a=XI([1,-1,1]);return cR((function(){return[AI([qI(t-1,WI(e.boundingBox.topLeft,0,1)),WI(e.boundingBox.topLeft,1,1)]),AI([qI(t-1,WI(e.boundingBox.bottomRight,0,1)),WI(e.boundingBox.bottomRight,1,1)]),zI(qI(n,e.mesh),a),zI(qI(n,e.scaledMesh),a)]}))})),a=n[0],r=n[1],o=n[2],s=n[3];return Object.assign({},e,{boundingBox:{topLeft:a,bottomRight:r},mesh:o,scaledMesh:s})}return Object.assign({},e,{boundingBox:{topLeft:[t-1-e.boundingBox.topLeft[0],e.boundingBox.topLeft[1]],bottomRight:[t-1-e.boundingBox.bottomRight[0],e.boundingBox.bottomRight[1]]},mesh:e.mesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n})),scaledMesh:e.scaledMesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n}))})}var j_,W_=function(){function e(e,t,n,a,r,o){this.kind="MediaPipeFaceMesh",this.pipeline=new __(e,t,192,192,n,r,o),this.detectionConfidence=a}return e.getAnnotations=function(){return v_},e.getUVCoords=function(){return L_},e.prototype.estimateFaces=function(e){return i_(this,void 0,void 0,(function(){var t,n,a,r,o,s,i,l,c,u,p,d,f=this;return l_(this,(function(h){switch(h.label){case 0:if(t=e.returnTensors,n=void 0!==t&&t,a=e.flipHorizontal,r=void 0!==a&&a,o=e.predictIrises,s=void 0===o||o,i=e.input,s&&null==this.pipeline.irisModel)throw new Error("The iris model was not loaded as part of facemesh. Please initialize the model with facemesh.load({shouldLoadIrisModel: true}).");return l=function(e){return e instanceof L$?[e.shape[0],e.shape[1]]:[e.height,e.width]}(i),c=l[1],u=cR((function(){return i instanceof L$||(i=gI(i)),FI(JO(i,"float32"),0)})),"webgl"!==eO.backendName?[3,2]:(d=xE().get("WEBGL_PACK_DEPTHWISECONV"),xE().set("WEBGL_PACK_DEPTHWISECONV",!0),[4,this.pipeline.predict(u,s)]);case 1:return p=h.sent(),xE().set("WEBGL_PACK_DEPTHWISECONV",d),[3,4];case 2:return[4,this.pipeline.predict(u,s)];case 3:p=h.sent(),h.label=4;case 4:return u.dispose(),null!=p&&p.length>0?[2,Promise.all(p.map((function(e,t){return i_(f,void 0,void 0,(function(){var a,o,i,l,u,p,d,f,h,m,g,v,b,y,x=this;return l_(this,(function(w){switch(w.label){case 0:return a=e.coords,o=e.scaledCoords,i=e.box,l=e.flag,u=[l],n||(u=u.concat([a,o])),[4,Promise.all(u.map((function(e){return i_(x,void 0,void 0,(function(){return l_(this,(function(t){return[2,e.array()]}))}))})))];case 1:if(p=w.sent(),d=p[0],l.dispose(),d<this.detectionConfidence&&this.pipeline.clearRegionOfInterest(t),n)return f={kind:"MediaPipePredictionTensors",faceInViewConfidence:d,mesh:a,scaledMesh:o,boundingBox:{topLeft:XI(i.startPoint),bottomRight:XI(i.endPoint)}},r?[2,H_(f,c)]:[2,f];for(y in h=p.slice(1),m=h[0],g=h[1],o.dispose(),a.dispose(),v={kind:"MediaPipePredictionValues",faceInViewConfidence:d,boundingBox:{topLeft:i.startPoint,bottomRight:i.endPoint},mesh:m,scaledMesh:g},r&&(v=H_(v,c)),b={},v_)(s||!1===y.includes("Iris"))&&(b[y]=v_[y].map((function(e){return v.scaledMesh[e]})));return v.annotations=b,[2,v]}}))}))})))]:[2,[]]}}))}))},e}();function U_(e,t){return void 0===e&&(e=j_.mediapipeFacemesh),void 0===t&&(t={}),i_(this,void 0,void 0,(function(){return l_(this,(function(n){if(e===j_.mediapipeFacemesh)return[2,D_(t)];throw new Error(e+" is not a valid package name.")}))}))}(j_||(j_={})).mediapipeFacemesh="mediapipe-facemesh";const G_={},q_={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function X_(e,t){if(!(e in G_)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete G_[e]}),!1),1===e)return n.getContext("webgl",q_)||n.getContext("experimental-webgl",q_);return n.getContext("webgl2",q_)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;G_[e]=n}const n=G_[e];return null==n||n.isContextLost()?(delete G_[e],X_(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),G_[e])}var Y_,K_,Q_;function Z_(e,t){return[t,e]}function J_(e){const t=Uk(e);return Xk(Math.ceil(t/4))}function eL(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function tL(e,t){const n=e;let a,r,o,s,i,l,c,u,p,d;return 2===xE().getNumber("WEBGL_VERSION")?(a=n.R32F,r=n.R16F,o=n.RGBA16F,s=n.RGBA32F,i=n.RED,c=4,u=1,p=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(a=e.RGBA,r=e.RGBA,o=e.RGBA,s=n.RGBA,i=e.RGBA,c=4,u=4,p=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:s,textureFormatFloat:i,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:p,textureTypeFloat:d}}function nL(e,t){const n=t();return xE().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Y_||(Y_={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(K_||(K_={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Q_||(Q_={}));function aL(e){return!!(xE().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function rL(e,t){return fL(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const oL=/ERROR: [0-9]+:([0-9]+):/g;function sL(e,t){const n=oL.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const a=+n[1],r=e.split("\n"),o=r.length.toString().length+2,s=r.map(((e,t)=>Yk((t+1).toString(),o)+e));let i=0;for(let e=0;e<s.length;e++)i=Math.max(s[e].length,i);const l=s.slice(0,a-1),c=s.slice(a-1,a),u=s.slice(a);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${Yk(c[0],i)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function iL(e,t){if(nL(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function lL(e,t,n,a,r,o,s){const i=e.getAttribLocation(t,n);return-1!==i&&(nL(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),nL(e,(()=>e.vertexAttribPointer(i,r,e.FLOAT,!1,o,s))),nL(e,(()=>e.enableVertexAttribArray(i))),!0)}function cL(e,t,n,a){nL(e,(()=>function(e,t,n){hL(e,n),nL(e,(()=>e.activeTexture(e.TEXTURE0+n))),nL(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,a))),nL(e,(()=>e.uniform1i(n,a)))}function uL(e,t,n){nL(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),nL(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function pL(e,t){nL(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),nL(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function dL(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function fL(e,t,n){const a=nL(e,(()=>t()));if(null==a)throw new Error(n);return a}function hL(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=t+e.TEXTURE0;if(a<e.TEXTURE0||a>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function mL(e,t=2){return Uk(e.slice(0,e.length-t))}function gL(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function vL(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[mL(e),...gL(e)]),t}function bL(e){return e%2==0}function yL(e,t){if(Gk(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],a=t.slice(-1)[0];if(n===a)return!0;if(bL(n)&&bL(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&bL(e[0])&&bL(t[0])}let xL,wL;function CL(e,t){return null!=e.getExtension(t)}function kL(e){try{if(null!=X_(e))return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function EL(e){if(0===e)return!1;const t=X_(e);if(1!==e){if(CL(t,"EXT_color_buffer_float"))return SL(t);const e="EXT_color_buffer_half_float";if(CL(t,e)){const n=t.getExtension(e);return function(e,t){const n=tL(e,t),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const r=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,r,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(s),i}(t,n)}return!1}if(!CL(t,"OES_texture_float"))return!1;if(!CL(t,"WEBGL_color_buffer_float"))return!1;return SL(t)}function SL(e){const t=tL(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(a),r}function TL(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Vk("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const $L=xE();function OL(){let e,t,n,a,r,o,s,i,l,c;return 2===xE().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",r="texture",o="outputColor",s="out vec4 outputColor;",i="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",r="texture2D",o="gl_FragColor",s="",i="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:r,output:o,defineOutput:s,defineSpecialNaN:i,defineSpecialInf:l,defineRound:c}}function IL(e,t,n="index"){const a=lE(t);return a.map(((t,r)=>`${`int ${e[r]} = ${n} / ${t}`}; ${r===a.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * ${t}`:`index -= ${e[r]} * ${t}`};`)).join("")}function NL(e,t,n="index"){const a=lE(t);return a.map(((t,r)=>`${`int ${e[r]} = ${n} / outShapeStrides[${r}]`}; ${r===a.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * outShapeStrides[${r}]`:`index -= ${e[r]} * outShapeStrides[${r}]`};`)).join("")}function RL(e,t,n="index"){const a=e.map(((e,t)=>t)),r=function(e,t){const n=e.length,a=e.map((e=>`${t}[${e}]`)),r=new Array(n-1);r[n-2]=a[n-1];for(let e=n-3;e>=0;--e)r[e]=`(${r[e+1]} * ${a[e+1]})`;return r}(a,t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / ${r[a]}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${r[a]}`:`index -= ${e[a]} * ${r[a]}`};`)).join("")}function PL(e){const t=lE(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}$L.registerFlag("HAS_WEBGL",(()=>$L.getNumber("WEBGL_VERSION")>0)),$L.registerFlag("WEBGL_VERSION",(()=>kL(2)?2:kL(1)?1:0)),$L.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),$L.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===$L.get("WEBGL_VERSION"))),$L.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),$L.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),$L.registerFlag("WEBGL_PACK",(()=>$L.getBool("HAS_WEBGL"))),$L.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_CLIP",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_PACK_REDUCE",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_LAZILY_UNPACK",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_CONV_IM2COL",(()=>$L.getBool("WEBGL_PACK"))),$L.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==xL){const t=X_(e);xL=t.getParameter(t.MAX_TEXTURE_SIZE)}return xL}($L.getNumber("WEBGL_VERSION")))),$L.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==wL){const t=X_(e);wL=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,wL)}($L.getNumber("WEBGL_VERSION")))),$L.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=$L.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=X_(e);return t=CL(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:CL(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),$L.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>$L.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!aO())),$L.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=X_(e);if(1===e){if(!CL(t,"OES_texture_float"))return!1}else if(!CL(t,"EXT_color_buffer_float"))return!1;return SL(t)}($L.getNumber("WEBGL_VERSION")))),$L.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!$L.getBool("WEBGL_FORCE_F16_TEXTURES")&&$L.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),$L.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>EL($L.getNumber("WEBGL_VERSION")))),$L.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=$L.getNumber("WEBGL_VERSION"))&&null!=X_(e).fenceSync;var e})),$L.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>$L.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),$L.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),$L.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>aO()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),$L.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),$L.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),$L.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),$L.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));const ML="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:BL}=o;function AL(e,t,n){const a=[];if(e.forEach((e=>{const t=Uk(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?a.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(a.push(`uniform sampler2D ${e.name};`),a.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=GL(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:a.push(`uniform int ${e.name}Shape;`);break;case 2:a.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:a.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:a.push(`uniform ivec4 ${e.name}Shape;`)}a.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;")}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{a.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const r=a.join("\n"),o=e.map((e=>function(e,t,n=!1,a){let r="";r+=n?LL(e,a):_L(e,a);const o=e.shapeInfo.logicalShape,s=t.logicalShape;o.length<=s.length&&(r+=n?function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,i=BL(e.shapeInfo.logicalShape,t.logicalShape),l=UL(s),c=s-o;let u;const p=["x","y","z","w","u","v"];u=0===o?"":s<2&&i.length>=1?"coords = 0;":i.map((e=>`coords.${p[e+c]} = 0;`)).join("\n");let d="";d=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+c]}`)).join(", ");let f="return outputValue;";const h=1===Uk(e.shapeInfo.logicalShape),m=1===Uk(t.logicalShape);if(1!==o||h||m){if(h&&!m)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(i.length){const e=o-2,t=o-1;i.indexOf(e)>-1&&i.indexOf(t)>-1?f="return vec4(outputValue.x);":i.indexOf(e)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(t)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${l} coords = getOutputCoords();\n      ${u}\n      vec4 outputValue = get${a}(${d});\n      ${f}\n    }\n  `}(e,t):function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,i=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&i===l&&null==e.shapeInfo.flatOffset&&Gk(s,o))return`\n      float ${r}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const c=UL(l),u=BL(e.shapeInfo.logicalShape,t.logicalShape),p=l-i;let d;const f=["x","y","z","w","u","v"];d=0===i?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>`coords.${f[e+p]} = 0;`)).join("\n");let h="";h=l<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${f[t+p]}`)).join(", ");return`\n    float ${r}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      return get${a}(${h});\n    }\n  `}(e,t));return r}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),s=t.texShape,i=OL(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(i);let c,u,p=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${DL}\n    ${FL}\n    ${zL}\n  `}(i);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return HL();case 1:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===a[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${a[1]}.0);\n      }\n    `;if(1===a[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${a[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      return 2 * (resTexRC.x * ${a[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Gk(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${a[0]}, ${a[1]}));\n      }\n    `;const r=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2);let s=o,i="",l="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],i=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+i,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n\n      ${i}\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(i)):(c=function(e,t,n){switch(e.length){case 0:return HL();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(Gk(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${NL(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const a=IL(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${a}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${NL(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const a=IL(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${a}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=IL(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=IL(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(i)),n.packedInputs&&(p+=VL);return[p,l,u,r,c,o,n.userCode].join("\n")}function _L(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${a}() {return ${n};}`;const[r,o]=e.shapeInfo.texShape;if(1===r&&1===o)return`\n      float ${a}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=jL(n);if(t)return`\n    float ${a}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[i,l]=e.shapeInfo.texShape;return`\n    float ${a}() {\n      vec2 uv = uvFromFlat(${i}, ${l}, ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${a}(int index) {\n        ${WL(e)}\n      }\n    `;const r=e.shapeInfo.texShape,o=r[0],s=r[1];if(1===s&&1===o)return`\n      float ${a}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const i=jL(n);if(1===s)return t?`\n      float ${a}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${a}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / ${o}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===o)return t?`\n      float ${a}(int index) {\n        vec2 uv = vec2((float(index + ${i}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${a}(int index) {\n        vec2 uv = vec2((float(index + ${i}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${a}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${a}(int index) {\n      vec2 uv = uvFromFlat(${o}, ${s}, index + ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape;if(null!=o&&Gk(n,o)){if(t)return`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `;const e=o[0];return`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${o[1]}.0, ${e}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `}const{newShape:s,keptDims:i}=Zk(n),l=s;if(l.length<n.length){const n=["row","col"];return`\n      ${_L(qL(e,l),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${XL(n,i)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${WL(e)}\n      }\n    `;const c=o[0],u=o[1],p=jL(a);if(1===u)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${a}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${a}TexShape[0]));\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `;if(1===c)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${a}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${a}TexShape[1]), 0.5);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);\n      return sampleTexture(${a}, uv);\n    }\n  `;if(t)return`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a}Shape[1] + col + ${p};\n        vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);\n        return sampleTexture(${a}, uv);\n      }\n    `;return`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${p};\n    vec2 uv = uvFromFlat(${c}, ${u}, index);\n    return sampleTexture(${a}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[1]*n[2],s=n[2],{newShape:i,keptDims:l}=Zk(n),c=i;if(c.length<n.length){const n=["row","col","depth"];return`\n        ${_L(qL(e,c),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${XL(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${o}, ${s}, 1)));\n        ${WL(e)}\n      }\n    `;const u=e.shapeInfo.texShape,p=u[0],d=u[1],f=e.shapeInfo.flatOffset;if(d===o&&null==f)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${a}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${p}.0);\n          return sampleTexture(${a}, uv);\n        }\n      `;if(d===s&&null==f)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${a}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${p}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `;const h=jL(a);if(t)return`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${a}Shape[1] * ${a}Shape[2];\n      int stride1 = ${a}Shape[2];\n      int index = row * ${o} + col * ${s} + depth + ${h};\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);\n      return sampleTexture(${a}, uv);\n    }\n    `;return`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${o} + col * ${s} + depth + ${h};\n        vec2 uv = uvFromFlat(${p}, ${d}, index);\n        return sampleTexture(${a}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[3],s=n[2]*o,i=n[1]*s,{newShape:l,keptDims:c}=Zk(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${_L(qL(e,l),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${XL(n,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${i}, ${s}, ${o}, 1)));\n        ${WL(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,d=p[0],f=p[1],h=`int stride2 = ${a}Shape[3];`,m=`int stride1 = ${a}Shape[2] * stride2;`,g=`int stride0 = ${a}Shape[1] * stride1;`;if(f===i&&null==u)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${h}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${d}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;if(f===o&&null==u)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${a}Shape[1] * ${a}Shape[2], ${a}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${d}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;const v=jL(a);if(t)return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${h}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${v});\n      return sampleTexture(${a}, uv);\n    }\n  `;return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${i} + col * ${s} +\n          depth * ${o} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${f}, index + ${v});\n      return sampleTexture(${a}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],o=t[3]*r,s=t[2]*o,i=t[1]*s,{newShape:l,keptDims:c}=Zk(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${_L(qL(e,l))}\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        return ${a}(${XL(t,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${i}, ${s}, ${o}, ${r})) +\n          depth3;\n        ${WL(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,d=p[0],f=p[1];if(f===i&&null==u)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${o}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===r&&null==u)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const h=jL(n);return`\n    float ${a}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${i} + col * ${s} + depth * ${o} +\n          depth2 * ${r} + depth3 + ${h};\n      vec2 uv = uvFromFlat(${d}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=Zk(t);if(r.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${_L(qL(e,r))}\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${a}(${XL(t,o)});\n      }\n    `}const s=t[5],i=t[4]*s,l=t[3]*i,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${l}, ${i})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${WL(e)}\n      }\n    `;const p=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,f=d[0],h=d[1];if(h===u&&null==p)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${c}, ${l}, ${i}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===s&&null==p)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=jL(n);return`\n    float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${l} +\n          depth2 * ${i} + depth3 * ${s} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${f}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function LL(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),a=OL();return`\n    vec4 ${n}() {\n      return ${a.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,o=OL();if(t)return`\n    vec4 ${a}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${o.texture2D}(${n}, uv);\n    }\n  `;const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${a}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${s[0]}, ${s[1]}, index);\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,s=o[0],i=o[1],l=OL();if(null!=o&&Gk(n,o))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n\n        return ${l.texture2D}(${a}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}.0, ${s}.0);\n\n        return ${l.texture2D}(${a}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${a}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${a}, uv);\n    }\n  `;const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=Math.ceil(n[1]/2);return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);\n      return ${l.texture2D}(${a}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){const a=[1,2],o=["b","row","col"];return`\n        ${LL(qL(e,n.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${XL(o,a)});\n        }\n      `}const i=OL();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${a}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${i.texture2D}(${a}, uv);\n    }\n  `;const l=s[0],c=s[1],u=Math.ceil(n[2]/2),p=u*Math.ceil(n[1]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${p}, ${u}, b, row, col);\n      return ${i.texture2D}(${a}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=OL();if(t)return`\n    vec4 ${a}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${n}, uv);\n    }\n  `;const o=e.shapeInfo.logicalShape,s=o.length,i=e.shapeInfo.texShape,l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=l[0],u=l[1],p=Math.ceil(o[s-1]/2);let d=p*Math.ceil(o[s-2]/2),f="int b, int row, int col",h=`b * ${d} + (row / 2) * ${p} + (col / 2)`;for(let e=2;e<s-1;e++)f=`int b${e}, `+f,d*=o[s-e-1],h=`b${e} * ${d} + `+h;return`\n    vec4 ${a}(${f}) {\n      int index = ${h};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${r.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const DL="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",FL="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",zL="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",VL="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function HL(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function jL(e){return`offset${e}`}function WL(e){const t=e.name,n=Uk(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function UL(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function GL(e,t,n){const{newShape:a,keptDims:r}=Zk(t),o=t.length,s=e&&3===o&&1===t[0],i=s?t.slice(1):a,l=!e&&o>1&&!Gk(t,n)&&a.length<o||s;return{useSqueezeShape:l,uniformShape:l?i:t,keptDims:r}}function qL(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function XL(e,t){return t.map((t=>e[t])).join(", ")}function YL(e,t,n,a){const r=n.map(((e,n)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:a}})),o=r.map((e=>e.shapeInfo)),s={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},i=AL(r,s,t),l=function(e,t){const n=fL(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(nL(e,(()=>e.shaderSource(n,t))),nL(e,(()=>e.compileShader(n))),xE().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw sL(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,i),c=e.createProgram(l);return xE().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:i,webGLProgram:c,inShapeInfos:o,outShapeInfo:s,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:i,webGLProgram:c,inShapeInfos:o,outShapeInfo:s},KL(e,t,c))}function KL(e,t,n){const a={},r={},o={},s=[];let i,l,c,u=null,p=null;p=e.getUniformLocation(n,"NAN",!1),1===xE().getNumber("WEBGL_VERSION")&&(u=e.getUniformLocation(n,"INFINITY",!1));const d=!1;for(let s=0;s<t.variableNames.length;s++){const i=t.variableNames[s];a[i]=e.getUniformLocation(n,i,d),a[`offset${i}`]=e.getUniformLocation(n,`offset${i}`,d),t.enableShapeUniforms&&(r[`${i}Shape`]=e.getUniformLocation(n,`${i}Shape`,d),o[`${i}TexShape`]=e.getUniformLocation(n,`${i}TexShape`,d))}return t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",d),c=e.getUniformLocation(n,"outShapeStrides",d),l=e.getUniformLocation(n,"outTexShape",d)),t.customUniforms&&t.customUniforms.forEach(((t,a)=>{s[a]=e.getUniformLocation(n,t.name,d)})),{uniformLocations:a,customUniformLocations:s,infLoc:u,nanLoc:p,inShapesLocations:r,inTexShapesLocations:o,outShapeLocation:i,outShapeStridesLocation:c,outTexShapeLocation:l}}function QL(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const a=e.logicalShape,r=t[n],o=r.shape;if(!Gk(a,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${o} must match`);if(e.isUniform&&r.isUniform)return;const s=e.texShape,i=r.isUniform?null:r.texData.texShape;if(!Gk(s,i))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${i} must match`)}))}function ZL(e){return xE().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class JL{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Y_.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=OL();this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?NL(["r","c","d"],e):IL(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class eD{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Y_.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=OL();this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?NL(["r","c","d"],e):IL(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class tD{constructor(e){this.variableNames=["A"],this.outTexUsage=K_.DOWNLOAD;const t=OL();this.outputShape=e,this.userCode=`\n      ${ML}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class nD{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=K_.DOWNLOAD;const t=OL();this.outputShape=e,this.userCode=`\n      ${ML}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class aD{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=OL();this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PL(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}class rD{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=OL();this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length);let a="",r="result";t&&(r="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let r=0;r<=1;r++){const o=2*t+r;a+=`\n          localCoords = coords;\n          if(localCoords[2] + ${r} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${r};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${o}] = values[0];\n            } else if (offset == 1) {\n              result[${o}] = values[1];\n            } else if (offset == 2) {\n              result[${o}] = values[2];\n            } else {\n              result[${o}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PL(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${a}\n\n          ${n.output} = ${r};\n        }\n    `}}function oD(e){const t=OL();return function(e,t){const n=fL(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(nL(e,(()=>e.shaderSource(n,t))),nL(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function sD(e){return function(e,t){const n=fL(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return nL(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),nL(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function iD(e){return function(e,t){const n=fL(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return nL(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),nL(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function lD(e,t,n,a,r,o){!function(e,t){const n=xE().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const s=function(e){return fL(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),i=e.TEXTURE_2D;return nL(e,(()=>e.bindTexture(i,s))),nL(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),nL(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),nL(e,(()=>e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST))),nL(e,(()=>e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===xE().getNumber("WEBGL_VERSION")?nL(e,(()=>e.texImage2D(i,0,a,t,n,0,r,o,null))):nL(e,(()=>e.texStorage2D(i,1,a,t,n))),nL(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[n,t]}}function cD(e){return e.internalFormatFloat}function uD(e){return e.internalFormatHalfFloat}function pD(e){return e.downloadTextureFormat}function dD(e){return e.internalFormatPackedFloat}function fD(e){return e.internalFormatPackedHalfFloat}function hD(e,t,n,a,r,o,s,i){const l=e,c=new Float32Array(function(e,t){const[n,a]=eL(e,t);return n*a*4}(o,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class mD{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=xE().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){G_[e]=t}(t,e)):this.gl=X_(t);let n="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===xE().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=rL(this.gl,e),CL(this.gl,t))this.textureHalfFloatExtension=rL(this.gl,t);else if(xE().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),CL(this.gl,a))this.colorBufferHalfFloatExtension=rL(this.gl,a);else if(xE().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",CL(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!CL(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=sD(this.gl),this.indexBuffer=iD(this.gl),this.framebuffer=function(e){return fL(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=tL(this.gl,this.textureHalfFloatExtension)}get debug(){return xE().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;nL(e,(()=>e.finish())),nL(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),nL(e,(()=>e.deleteFramebuffer(this.framebuffer))),nL(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),nL(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),nL(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=Z_(t,n);return lD(e,r,o,cD(a),a.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=Z_(t,n);return lD(e,r,o,uD(a),a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=Z_(t,n);return lD(e,r,o,pD(a),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){nL(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===xE().getNumber("WEBGL_VERSION")?nL(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):nL(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===xE().getNumber("WEBGL_VERSION")?nL(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):nL(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),nL(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,a){this.throwIfDisposed(),function(e,t,n,a,r,o){let s,i,l;nL(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(s=new Uint8Array(n*a*4),i=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*a*4),i=e.FLOAT,l=o.internalFormatPackedFloat),s.set(r),2===xE().getNumber("WEBGL_VERSION")?nL(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,a,e.RGBA,i,s))):nL(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,a,0,e.RGBA,i,s))),nL(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=eL(t,n);return lD(e,r,o,fD(a),e.RGBA,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=eL(t,n);return lD(e,r,o,dD(a),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(pL(this.gl,this.framebuffer),this.outputTexture=null),nL(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,a){const[r,o]=Z_(t,n),s=new Uint8Array(t*n*4);return nL(e,(()=>e.readPixels(0,0,r,o,a.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,a,r,o){return hD(this.gl,e,0,0,0,r,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const a=e,r=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,t),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,r),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),r}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const a=function(e,t,n,a){const r=e.createBuffer();nL(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return nL(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),nL(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),nL(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(xE().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,r=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=a.clientWaitSync(r,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=r}else xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const a=new Float32Array(t*n*4);return nL(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,a))),a}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=oD(t));const n=function(e){return fL(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return nL(t,(()=>t.attachShader(n,this.vertexShader))),nL(t,(()=>t.attachShader(n,e))),function(e,t){if(nL(e,(()=>e.linkProgram(t))),!xE().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&iL(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return nL(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),lL(e,t,"clipSpacePos",n,3,20,0)&&lL(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&nL(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&iL(this.gl,this.program),nL(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return fL(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),nL(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),cL(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[a,r]=eL(t,n);this.setOutputMatrixTextureDriver(e,a,r)}setOutputMatrixWriteRegion(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)}setOutputPackedMatrixWriteRegion(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&iL(this.gl,this.program),dL(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),nL(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),nL(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=rL(this.gl,2===xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Kk((()=>this.disposed||this.isQueryAvailable(e,xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Kk((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),uL(this.gl,e,this.framebuffer),this.debug&&dL(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(uL(this.gl,this.outputTexture,this.framebuffer),this.debug&&dL(this.gl)):pL(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const a=this.gl;uL(a,e,this.framebuffer),this.debug&&dL(a),this.outputTexture=e,nL(a,(()=>a.viewport(0,0,t,n))),nL(a,(()=>a.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,a){this.throwIfDisposed(),nL(this.gl,(()=>this.gl.scissor(e,t,n,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function gD(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&Vk("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function vD(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}function bD(e){return(t,n,a,r,o)=>{const s=fI(t,n),i=s.length,l=lE(s),c=Jk(o,Uk(s)),u=t.length,p=n.length,d=lE(t),f=lE(n),h=pI(t,s),m=pI(n,s);if(h.length+m.length===0)for(let t=0;t<c.length;++t)c[t]=e(a[t%a.length],r[t%r.length]);else for(let t=0;t<c.length;++t){const n=mE(t,i,l),o=n.slice(-u);h.forEach((e=>o[e]=0));const s=hE(o,u,d),g=n.slice(-p);m.forEach((e=>g[e]=0));const v=hE(g,p,f);c[t]=e(a[s],r[v])}return[c,s]}}function yD(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,i=n.makeTensorInfo(a.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",o),imag:n.makeTensorInfo(r.shape,"float32",s)},i}function xD(e,t,n="float32"){if("complex64"===n){return yD({inputs:{real:xD(e,t,"float32"),imag:xD(e,t,"float32")},backend:e})}const a=dE(Uk(t),n);return e.makeTensorInfo(t,n,a)}function wD(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}function CD(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.real,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}function kD(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dtype:o}=a;if("complex64"===o){if("complex64"===r.dtype)return wD({inputs:{x:r},backend:n});const e=xD(n,r.shape,r.dtype),t=kD({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=yD({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),a}if("complex64"===r.dtype){const e=CD({inputs:{input:r},backend:n}),t=kD({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(!tE(r.dtype,o)){const e=wD({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}if("int32"===o){const e=n.data.get(r.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(r.shape,"int32",t)}if("bool"===o){const e=n.data.get(r.dataId).values,t=w$([0],r.dtype),[a,o]=bD(((e,t)=>e!==t?1:0))(r.shape,[],e,t,"bool");return n.makeTensorInfo(o,"bool",a)}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${o}`)}function ED(e,t,n,a){return null==n?({inputs:n,backend:r})=>{const{a:o,b:s}=n,i=r;gD([o,s],e);const l=i.data.get(o.dataId).values,c=i.data.get(s.dataId).values,u="string"===o.dtype?cM(l):l,p="string"===o.dtype?cM(c):c,d=a||o.dtype,[f,h]=t(o.shape,s.shape,u,p,d);return i.makeTensorInfo(h,d,f)}:({inputs:e,backend:r})=>{const{a:o,b:s}=e,i=r;if("complex64"===o.dtype||"complex64"===s.dtype){const e=kD({inputs:{x:o},backend:i,attrs:{dtype:"complex64"}}),t=i.data.get(e.dataId),a=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,l=i.data.get(a.dataId).values,c=i.data.get(r.dataId).values,u=kD({inputs:{x:s},backend:i,attrs:{dtype:"complex64"}}),p=i.data.get(u.dataId),d=p.complexTensorInfos.real,f=p.complexTensorInfos.imag,h=i.data.get(d.dataId).values,m=i.data.get(f.dataId).values,[g,v,b]=n(o.shape,s.shape,l,c,h,m),y=i.makeTensorInfo(b,"float32",g),x=i.makeTensorInfo(b,"float32",v),w=yD({inputs:{real:y,imag:x},backend:i});return i.disposeIntermediateTensorInfo(e),i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(x),w}{const e=i.data.get(o.dataId).values,n=i.data.get(s.dataId).values,r=a||o.dtype,[l,c]=t(o.shape,s.shape,e,n,r);return i.makeTensorInfo(c,r,l)}}}function SD(e){return(t,n,a,r,o,s)=>{const i=fI(t,n),l=Uk(i),c=i.length,u=lE(i),p=Jk("float32",l),d=Jk("float32",l),f=pI(t,i),h=pI(n,i),m=RP(a,r),g=RP(o,s),v=t.length,b=lE(t),y=n.length,x=lE(n);if(f.length+h.length===0)for(let t=0;t<p.length;t++){const n=t%m.length,a=t%g.length,r=e(m[2*n],m[2*n+1],g[2*a],g[2*a+1]);p[t]=r.real,d[t]=r.imag}else for(let t=0;t<p.length;t++){const n=mE(t,c,u),a=n.slice(-v);f.forEach((e=>a[e]=0));const r=hE(a,v,b),o=n.slice(-y);h.forEach((e=>o[e]=0));const s=hE(o,y,x),i=e(m[2*r],m[2*r+1],g[2*s],g[2*s+1]);p[t]=i.real,d[t]=i.imag}return[p,d,i]}}const TD=bD(((e,t)=>e+t)),$D=SD(((e,t,n,a)=>({real:e+n,imag:t+a})));ED(OE,TD,$D);function OD(e,t,n,a,r){const o=Uk(a),s=dE(r,n);for(let n=0;n<e.length;n++){const a=e[n];if(a<0)throw new Error("Input x must be non-negative!");a>=r||(s[a]+=o>0?t[n]:1)}return s}function ID(e,t,n,a=!1){const r=e.shape[0],o=e.shape[1],s=ZO([r,n],t.dtype);for(let i=0;i<r;i++)for(let r=0;r<o;r++){const o=e.get(i,r);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(a?s.set(1,i,o):t.size>0?s.set(s.get(i,o)+t.get(i,r),i,o):s.set(s.get(i,o)+1,i,o))}return s}function ND(e){return(t,n,a)=>{const r=Jk(n,t.length);for(let n=0;n<t.length;++n)r[n]=e(t[n],a);return r}}function RD(e,t,n){return({inputs:a,attrs:r,backend:o})=>{const{x:s}=a;if(gD(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const i=o,l=i.data.get(s.dataId).values,c=Uk(s.shape),u=n||s.dtype,p=eE(u,c);for(let e=0;e<c;++e)p[e]=t(l[e],r);return i.makeTensorInfo(s.shape,u,p)}}function PD(e,t,n){return({inputs:a,attrs:r,backend:o})=>{const{x:s}=a;if(gD(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const i=o,l=i.data.get(s.dataId).values,c=n||s.dtype,u=t(l,c,r);return i.makeTensorInfo(s.shape,c,u)}}const MD=ND((e=>Math.ceil(e)));PD(WE,MD);function BD(e,t,n,a){const r=eE(n,Uk(t));if(a&&"string"!==n){let t=0;e.forEach((e=>{const n=Uk(e.shape);r.set(e.vals,t),t+=n}))}else{let a=0;e.forEach((e=>{const o="string"===n?cM(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+a;for(let t=0;t<e.shape[1];++t)r[i+t]=o[s++]}a+=e.shape[1]}))}return r}const AD=bD(((e,t)=>e===t?1:0)),_D=(ED(pS,AD,null,"bool"),ND((e=>Math.exp(e)))),LD=(PD(dS,_D,"float32"),ND((e=>Math.expm1(e)))),DD=(PD(hS,LD),ND((e=>Math.floor(e))));PD(vS,DD);function FD(e,t,n,a,r,o,s,i,l){const c=ZO([a,o],n);for(let n=0;n<a;n++){const a=[];let u=0;for(let t=0;t<r;t++){const o=e[n*r+t];u+=o*s[t],a.push(o)}if(u<0||u>=l/o)throw new Error(`Invalid indices: ${a} does not index into ${i}`);for(let e=0;e<o;e++)c.values[n*o+e]=t.get(...t.indexToLoc(u*o+e))}return c}function zD(e,t,n){const a=ZO(n,e.dtype);for(let n=0;n<a.size;++n){const r=a.indexToLoc(n).slice(),o=r[0],s=r[2],i=t.locToIndex([o,s]);r[2]=t.values[i];const l=e.locToIndex(r);0<=l&&l<e.values.length&&(a.values[n]=e.values[l])}return a}const VD=bD(((e,t)=>e>t?1:0)),HD=(ED(CS,VD,null,"bool"),bD(((e,t)=>e>=t?1:0))),jD=(ED(kS,HD,null,"bool"),bD(((e,t)=>e<t?1:0))),WD=(ED(IS,jD,null,"bool"),bD(((e,t)=>e<=t?1:0)));ED(NS,WD,null,"bool");function UD(e,t,n){const a=(t-e)/(n-1),r=dE(n,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+a;return r}const GD=ND((e=>Math.log(e)));PD(PS,GD);function qD(e,t,n,a){const r=Jk(a,Uk(n));for(let n=0;n<r.length;++n){const a=n*t;let o=e[a];for(let n=0;n<t;++n){const t=e[a+n];(Number.isNaN(t)||t>o)&&(o=t)}r[n]=o}return r}const XD=bD(((e,t)=>Math.max(e,t))),YD=(ED(LS,XD),bD(((e,t)=>Math.min(e,t)))),KD=(ED(HS,YD),bD(((e,t)=>e*t))),QD=SD(((e,t,n,a)=>({real:e*n-t*a,imag:e*a+t*n})));ED(US,KD,QD);function ZD(e,t,n){const a=x$(-1,n);return KD([],t,a,e,n)}const JD=bD(((e,t)=>e!==t?1:0));ED(qS,JD,null,"bool");function eF(e,t,n,a,r){const o=t.length,s=Uk(t),i=lE(t),l=lE(r),c=Jk(n,Uk(r));for(let t=0;t<s;++t){const n=mE(t,o,i),r=new Array(n.length);for(let e=0;e<r.length;e++)r[e]=n[a[e]];c[hE(r,o,l)]=e[t]}return c}function tF(e,t,n,a){const[r,o]=YN(e,a),s=U$(t,"int32"),i=dE(Uk(r),s),l=Uk(o);for(let e=0;e<i.length;++e){const t=e*l;let a=1;for(let e=0;e<l;++e)a*=n[t+e];i[e]=a}return{outVals:i,outShape:r,outDtype:s}}function nF(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return dE(0,a);const r=dE(Math.abs(Math.ceil((t-e)/n)),a);t<e&&1===n&&(n=-1),r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+n;return r}const aF=ND((e=>1/Math.sqrt(e))),rF=(PD(fT,aF),ND((e=>1/(1+Math.exp(-e)))));RD(xT,(e=>1/(1+Math.exp(-e))));function oF(e,t,n,a,r){const o=II(a,t,n),s=Uk(n),i=lE(a);if(o){const n=NI(t,i);return"string"===r?e.slice(n,n+s):e.subarray(n,n+s)}const l=ZO(a,r,"string"===r?cM(e):e),c=ZO(n,r);for(let e=0;e<c.size;++e){const n=c.indexToLoc(e),a=n.map(((e,n)=>e+t[n]));c.set(l.get(...a),...n)}return"string"===r?uM(c.values):c.values}function sF(e,t,n,a,r,o,s){const i=t[0],l=o[0],c=new Array(l),u=new Array(i),p=t[1];if(0===l){if(0!==i)throw new Error(XP(i));return[eE(n,0),[0,p],eE(r,0),c,u]}let d=!0,f=0;const h=new Array(l).fill(0);for(let t=0;t<i;++t){const n=e[t*p];if(n<0)throw new Error(YP(t,n));if(n>=l)throw new Error(KP(t,n,l));++h[n],d=d&&n>=f,f=n}let m=!0;for(let e=0;e<l;++e){const t=0===h[e];c[e]=t,m=m&&!t,h[e]=Math.max(h[e],1),e>0&&(h[e]+=h[e-1])}if(m&&d){const t=e,n=a;for(let e=0;e<i;++e)u[e]=e;return[t,[i,p],n,c,u]}{const t=h[l-1],o=eE(n,t*p),d=eE(r,t),f=new Array(l).fill(0);for(let t=0;t<i;++t){const n=e[t*p],r=f[n],s=(0===n?0:h[n-1])+r;f[n]++;for(let n=0;n<p;++n)o[s*p+n]=e[t*p+n];d[s]=a[t],u[t]=s}for(let e=0;e<l;++e){if(0===f[e]){const t=0===e?0:h[e-1];o[t*p+0]=e;for(let e=1;e<p;++e)o[t*p+e]=0;d[t]=s}}return[o,[t,p],d,c,u]}}function iF(e,t,n,a,r){const o=Uk(a),s=t[0],i=r.length,l=[];let c=1,u=-1;for(let e=0;e<i;++e){const t=r[e];if(-1===t){if(-1!==u)throw new Error(QP(u,e));u=e,l.push(1)}else{if(t<0)throw new Error(ZP(e,t));c*=t,l.push(t)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/c);if(c*e!==o)throw new Error(eM(a,l));l[u]=e}if(Uk(l)!==o)throw new Error(tM(a,l));const p=a.length,d=[];if(p>0){d[p-1]=1;for(let e=p-2;e>=0;--e)d[e]=d[e+1]*a[e+1]}const f=[];if(i>0){f[i-1]=1;for(let e=i-2;e>=0;--e)f[e]=f[e+1]*l[e+1]}const h=eE(n,s*i);for(let t=0;t<s;++t){let n=0;for(let a=0;a<p;++a)n+=e[t*p+a]*d[a];for(let e=0;e<i;++e)h[t*i+e]=Math.trunc(n/f[e]),n%=f[e]}return[h,[s,i],l]}function lF(e,t,n,a,r,o=!1,s=0){const i=a.length,l=[t[0],e.length/t[0]],c=l[1],u=i>0?r[i-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const p=t.slice();p[0]=u;const d=p.reduce(((e,t)=>e*t),1),f=eE(n,d);if(0===i)return u>0&&f.fill(s),[f,p];if(u<=0)throw new Error("segment ids must be >= 0");let h=0,m=1,g=0,v=r[h];for(;;){let t=0;if(m<i){if(t=r[m],v===t){++m;continue}if(v>=t)throw new Error("segment ids are not increasing")}if(v<0||v>=u)throw new Error(rM(v,u));v>g&&f.fill(s,g*c,v*c);for(let t=h;t<m;++t){const n=a[t];if(n<0||n>=l[0])throw new Error(oM(t,a[t],l[0]));for(let t=0;t<c;t++)f[v*c+t]+=e[n*c+t]}if(o)for(let e=0;e<c;e++)f[v*c+e]/=m-h;if(h=m,++m,g=v+1,v=t,m>i)break}return g<u&&f.fill(s,g*c,u*c),[f,p]}const cF=ND((e=>Math.sqrt(e))),uF=(RD(CT,(e=>Math.sqrt(e))),bD(((e,t)=>{const n=e-t;return n*n})));ED(RT,uF);function pF(e,t,n,a){const r=ZO(e,t.dtype);for(let e=0;e<r.size;e++){const o=r.indexToLoc(e),s=new Array(o.length);for(let e=0;e<s.length;e++)s[e]=o[e]*n[e]+a[e];r.set(t.get(...s),...o)}return r}class dF{constructor(e,t,n,a,r,o){this.separator=k$(e),this.nGramWidths=t,this.leftPad=k$(n),this.rightPad=k$(a),this.padWidth=r,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,a,r,o){for(let s=0;s<r;++s){const i=this.getPadWidth(o),l=Math.max(0,i-s),c=Math.max(0,i-(r-(s+1))),u=o-(l+c),p=t+(l>0?0:s-i);let d=0;d+=l*this.leftPad.length;for(let t=0;t<u;++t)d+=e[p+t].length;d+=c*this.rightPad.length;d+=(l+c+u-1)*this.separator.length,n[a+s]=new Uint8Array(d);const f=n[a+s];let h=0;const m=e=>e.forEach((e=>f[h++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[p+t]),m(this.separator);if(u>0){m(e[p+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,a=t.length;if(a>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let r=1;r<a;++r){let a=t[r]>=e;if(a=a&&t[r]<=n,!a)throw new Error(`Invalid split value ${t[r]}, must be in [${e}, ${n}]`);e=t[r]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const r=a-1,o=eE("int32",a);if(0===n||0===a){const e=new Array(n);for(let e=0;e<=r;++e)o[e]=0;return[e,o]}o[0]=0;for(let e=1;e<=r;++e){const n=t[e]-t[e-1];let a=0;this.nGramWidths.forEach((e=>{a+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===a&&(a=1),o[e]=o[e-1]+a}const s=new Array(o[r]);for(let n=0;n<r;++n){const a=t[n];let r=o[n];if(this.nGramWidths.forEach((o=>{const i=t[n+1]-t[n],l=this.getNumNGrams(i,o);this.createNGrams(e,a,s,r,l,o),r+=l})),this.preserveShort&&r===o[n]){const o=t[n+1]-t[n];if(0===o)continue;const i=o+2*this.padWidth,l=1;this.createNGrams(e,a,s,r,l,i)}}return[s,o]}}function fF(e,t,n,a,r,o,s,i){return new dF(n,a,r,o,s,i).compute(e,t)}function hF(e,t,n,a){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)a.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let o=e.indexOf(r);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||a.push(t),o=(e=e.subarray(o+1)).indexOf(r)}return void(n&&0===e.length||a.push(e))}let r=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(r,o);n&&0===t.length||a.push(t),r=o+1}}function mF(e,t,n){const a=e.length,r=[];let o=0,s=0;const i=new Array(a);for(let l=0;l<a;++l){const a=r.length;hF(e[l],t,n,r);const c=r.length-a;i[l]=c,o+=c,s=Math.max(s,c)}const l=eE("int32",2*o),c=new Array(o),u=[a,s];let p=0;for(let e=0;e<a;++e)for(let t=0;t<i[e];++t)l[2*p]=e,l[2*p+1]=t,c[p]=r[p],++p;return[l,c,u]}function gF(e,t){const n=eE("int32",e.length);for(let a=0;a<e.length;++a)n[a]=y$(e[a]).modulo(t).getLowBitsUnsigned();return n}const vF=bD(((e,t)=>e-t)),bF=SD(((e,t,n,a)=>({real:e-n,imag:t-a})));ED(_T,vF,bF);function yF(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const a=ZO(n,e.dtype);for(let t=0;t<a.values.length;++t){const n=a.indexToLoc(t),r=new Array(e.rank);for(let t=0;t<r.length;t++)r[t]=n[t]%e.shape[t];const o=e.locToIndex(r);a.values[t]=e.values[o]}return a}const xF=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function wF(e,t,n=0,a=e.length-1){for(;a>n;){if(a-n>600){const r=a-n+1,o=t-n+1,s=Math.log(r),i=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*i*(r-i)/r)*Math.sign(o-r/2);wF(e,t,Math.max(n,Math.floor(t-o*i/r+l)),Math.min(a,Math.floor(t+(r-o)*i/r+l)))}const r=e[t];let o=n,s=a;for(zk(e,n,t),xF(e[a],r)>0&&zk(e,n,a);o<s;){for(zk(e,o,s),o++,s--;xF(e[o],r)<0;)o+=1;for(;xF(e[s],r)>0;)s-=1}0===xF(e[n],r)?zk(e,n,s):(s+=1,zk(e,s,a)),s<=t&&(n=s+1),t<=s&&(a=s-1)}}function CF(e,t,n,a,r){const o=t[t.length-1],[s,i]=[e.length/o,o],l=Jk(n,s*a),c=Jk("int32",s*a);for(let t=0;t<s;t++){const n=t*i,o=e.subarray(n,n+i);let s=new Array(o.length);o.forEach(((e,t)=>s[t]={value:e,index:t})),a<s.length&&(wF(s,a),s=s.slice(0,a)),r&&s.sort(xF);const u=t*a,p=l.subarray(u,u+a),d=c.subarray(u,u+a);for(let e=0;e<a;e++)p[e]=s[e].value,d[e]=s[e].index}const u=t.slice();return u[u.length-1]=a,[ZO(u,n,l),ZO(u,"int32",c)]}function kF(e,t,n,a){const r=Qk(t,n)[0],o=[1,n[0],1];for(let e=0;e<r;e++)o[0]*=n[e];o[1]=n[r];for(let e=r+1;e<n.length;e++)o[2]*=n[e];const s={},i=new Int32Array(n[r]),l=new M$(o,a,e),c=[],u=1===o[0]&&1===o[2];for(let t=0;t<n[r];t++){let n;if(u)n=e[t].toString();else{const e=[];for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)e.push(l.get(n,t,a));n=e.join(",")}if(void 0!==s[n])i[t]=s[n];else{const e=Object.keys(s).length;s[n]=e,i[t]=e,c.push(t)}}const p=o.slice();p[1]=Object.keys(s).length;const d=new M$(p,a);c.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)d.set(l.get(n,e,a),n,t,a)}));const f=n.slice();return f[r]=p[1],{outputValues:d.values,outputShape:f,indices:i}}const{addImpl:EF,bincountImpl:SF,bincountReduceImpl:TF,ceilImpl:$F,concatImpl:OF,equalImpl:IF,expImpl:NF,expm1Impl:RF,floorImpl:PF,gatherNdImpl:MF,gatherV2Impl:BF,greaterImpl:AF,greaterEqualImpl:_F,lessImpl:LF,lessEqualImpl:DF,linSpaceImpl:FF,logImpl:zF,maxImpl:VF,maximumImpl:HF,minimumImpl:jF,multiplyImpl:WF,negImpl:UF,notEqualImpl:GF,prodImpl:qF,rangeImpl:XF,rsqrtImpl:YF,sigmoidImpl:KF,simpleAbsImpl:QF,sliceImpl:ZF,sparseFillEmptyRowsImpl:JF,sparseReshapeImpl:ez,sparseSegmentReductionImpl:tz,sqrtImpl:nz,stridedSliceImpl:az,stringNGramsImpl:rz,stringSplitImpl:oz,stringToHashBucketFastImpl:sz,subImpl:iz,tileImpl:lz,topKImpl:cz,transposeImpl:uz,uniqueImpl:pz}=S;function dz(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function fz(e,t){return 1===t?[e]:dz(e,t)}class hz{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=ZL(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=fz("rc",this.rank),t=UL(this.rank),n=this.getOutOfBoundsCondition(e),a=this.getSetup(e),r=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${a}\n\n            setOutput(vec4(${r}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let a=0;a<=1;a++){let r=`${0===n?"r":"rp1"}, ${0===a?"c":"cp1"}`;for(let t=2;t<this.rank;t++)r=`${e[e.length-1-t]},`+r;t.push(r)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${a};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class mz{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var a,r;this.userCode=`\n      ${a=t,r=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${r?RL(["r","c","d"],"inputShape"):IL(["r","c","d"],a)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PL(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class gz{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const a=bz(t,n),r=yz(e,a,n);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const o=vz(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const e=this.freeTextures[r].shift();return this.usedTextures[r].push(e),e}let s;return a===Q_.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Q_.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Q_.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Q_.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Q_.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(s),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),s}releaseTexture(e,t,n,a){if(null==this.freeTextures)return;const r=bz(n,a),o=yz(t,r,a);o in this.freeTextures||(this.freeTextures[o]=[]);const s=vz(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,a),i=xE().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==i&&this._numBytesAllocated>i?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const l=this.usedTextures[o],c=l.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function vz(e,t,n,a,r){const o=function(e,t){switch(e){case Q_.PACKED_2X2_FLOAT32:return dD(t);case Q_.PACKED_2X2_FLOAT16:return fD(t);case Q_.UNPACKED_FLOAT32:return cD(t);case Q_.UNPACKED_FLOAT16:return uD(t);case Q_.PACKED_4X1_UNSIGNED_BYTE:return pD(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,a);let s;if(r){const[t,n]=eL(e[0],e[1]);s=t*n}else{const[t,n]=Z_(e[0],e[1]);s=t*n}const i=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,o);return s*i}function bz(e,t){if(e===K_.UPLOAD)return Q_.PACKED_2X2_FLOAT32;if(e===K_.RENDER||null==e)return function(e){return xE().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Q_.PACKED_2X2_FLOAT32:Q_.UNPACKED_FLOAT32:e?Q_.PACKED_2X2_FLOAT16:Q_.UNPACKED_FLOAT16}(t);if(e===K_.DOWNLOAD||e===K_.PIXELS)return Q_.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function yz(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class xz{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const wz="return abs(x);";const Cz="return x;";class kz{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class Ez{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length);const t=e.length,n=fz("rc",t),a=UL(t),r=function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),s=t<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`\n      void main() {\n        ${a} rc = getOutputCoords();\n        vec4 packedInput = getA(${r});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const Sz=pM,Tz={};const $z=xE().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class Oz extends _k{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!xE().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof mD)t=e;else{const n=X_(xE().getNumber("WEBGL_VERSION"),e);t=new mD(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=X_(xE().getNumber("WEBGL_VERSION"));t=new mD(e),this.binaryCache=((n=xE().getNumber("WEBGL_VERSION"))in Tz||(Tz[n]={}),Tz[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new gz(this.gpgpu),this.numMBBeforeWarning=null==xE().global.screen?1024:xE().global.screen.height*xE().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new Ak(this,lR())}nextDataId(){return Oz.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if((xE().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||xE().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:K_.UPLOAD,refCount:1}),a}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,a,r){if(xE().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:K_.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:a,complexTensorInfos:r,slice:o,shape:s,isPacked:i}=t;if(null!=o){let t;t=i?new kz(s,Cz):new xz(s,Cz);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:a}],a),r=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=C$()),"complex64"===a){u=RP(this.readSync(r.real.dataId),this.readSync(r.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=C$()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:a,slice:r,dtype:o,complexTensorInfos:s,isPacked:i}=t;if(null!=r){let t;t=i?new kz(a,Cz):new xz(a,Cz);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:o}],o),r=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if(xE().getBool("DEBUG")&&!xE().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===xE().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==o&&xE().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...J_(a))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]);c=RP(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=Uk(a);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;nL(e,(()=>e.deleteBuffer(u)))}const p=this.convertAndCacheOnCPU(e,c),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(p))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&lR().removeDataId(e,this),this.pendingDeletes--),p}readToGPU(e,t={}){const n=this.texData.get(e),{values:a,shape:r,slice:o,dtype:s,isPacked:i,texture:l}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){let n;n=i?new kz(r,Cz):new xz(r,Cz);const a=this.runWebGLProgram(n,[{dataId:e,shape:r,dtype:s}],s),o=this.readToGPU(a,t);return this.disposeIntermediateTensorInfo(a),o}if(null==l)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=lR().makeTensorFromDataId(c.dataId,c.shape,c.dtype),p=this.texData.get(c.dataId);return Object.assign({tensorRef:u},p.texture)}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map((e=>E$(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return ZO(e.shape,e.dtype,n)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!aL(n)){if(xE().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:a}=this.texData.get(e),r=Uk(t);if(xE().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),a=this.texData.get(n.dataId),o=this.gpgpu.downloadMatrixFromPackedTexture(a.texture.texture,...J_(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),o}const o=xE().getBool("WEBGL_PACK")&&!0===a,s=o?vL(t):t,i=o?new nD(s):new tD(s),l=this.runWebGLProgram(i,[{shape:s,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=n,a=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=Wk(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=Wk(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,a&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);s.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:C$(),endMs:null}}endTimer(e){return xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=C$(),e)}async getQueryTime(e){if(xE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:a,usage:r,isPacked:o,slice:s}=this.texData.get(e),i=s&&s.origDataId||e,l=this.dataRefCount.get(i);l>1?this.dataRefCount.set(i,l-1):(this.dataRefCount.delete(i),null!=t&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(t,a,r,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=$z){return xE().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&Uk(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){QT("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return Sz(e.shape,t)}packedUnaryOp(e,t,n){const a=new kz(e.shape,t),r=this.compileAndRun(a,[e],n);return lR().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=QF(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(xE().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wz,e.dtype);const t=new xz(e.shape,wz),n=this.compileAndRun(t,[e]);return lR().makeTensorFromDataId(n.dataId,n.shape,n.dtype)}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&rE(n[0])){const r=n.map((e=>k$(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}makeOutput(e,t,n){const{dataId:a}=this.makeTensorInfo(e,t,n);return lR().makeTensorFromDataId(a,e,t,this)}unpackTensor(e){const t=new Ez(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new hz(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[mL(e.shape),...gL(e.shape)],a={dtype:e.dtype,shape:n,dataId:e.dataId},r=[mL(t),...gL(t)],o=new mz(r,n),s=[n],i=this.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:a,shape:r,dtype:o}=n;if(null!=t){Vk(Uk(r)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=vL(r);let i;i=a?new eD(s):new JL(s);const l=[null!=t?t:J_(s)];return{dtype:o,shape:r,dataId:this.runWebGLProgram(i,[{shape:s,dtype:o,dataId:e}],o,l,!0,t).dataId}}runWebGLProgram(e,t,n,a,r=!1,o){const s=this.makeTensorInfo(e.outputShape,n),i=this.texData.get(s.dataId);if(e.packedOutput&&(i.isPacked=!0),e.outPackingScheme===Y_.DENSE){const t=null!=o?o:J_(e.outputShape);i.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(i.usage=e.outTexUsage),0===Uk(s.shape))return i.values=Jk(s.dtype,0),s;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Uk(t.shape)<=xE().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!yL(n.shape,t.shape)){const e=t,a=t.shape;t.shape=n.shape,t=this.packedReshape(t,a),l.push(t),n=this.texData.get(t.dataId),e.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);const u={shape:s.shape,texData:i,isUniform:!1},p=function(e,t,n){let a="";t.concat(n).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const o=t.texData.texShape,{useSqueezeShape:s,uniformShape:i,keptDims:l}=GL(e.packedInputs,t.shape,o);let c="",u="",p="";if(1===i.length&&e.packedInputs){const e=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];c=`${e[0]>1}_${e[1]>1}`}else if(2!==i.length||e.packedInputs){if(i.length>2&&!e.packedInputs){const e=lE(i);p=`${e[0]===o[1]}_${e[e.length-1]===o[1]}`}}else u=`${i[0]>1}_${i[1]>1}`;const d=t.shape.length,f=2===i.length&&Gk(t.shape,o),h=1===Uk(t.shape),m=pI(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&Gk(o,n.texData.texShape),v=e.packedInputs||i.length>2?"":`${o[0]>1}_${o[1]>1}`;a+=`${d}_${g}_${s?l:""}_${i.length}_${h}_${m}_${f}_${c}_${u}_${p}_${v}_${r}`}else{const e=t.isUniform?"uniform":t.texData.texShape;a+=`${t.shape}_${e}_${r}`}}));const r=e.userCode;let o=e.constructor.name;return o+="_"+a+"_"+r+`${xE().getNumber("WEBGL_VERSION")}`,o}(e,c,u),d=this.getAndSaveBinary(p,(()=>YL(this.gpgpu,e,c,u))),f=null!=this.activeTimers;let h;f&&(h=this.startTimer()),xE().get("ENGINE_COMPILE_ONLY")||function(e,t,n,a,r){t.program.enableShapeUniforms||(QL(t.inShapeInfos,n),QL([t.outShapeInfo],[a]));const o=a.texData.texture,s=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),1===xE().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,a)=>{const r=t.program.variableNames[a],o=t.uniformLocations[r],s=t.uniformLocations[`offset${r}`],i=t.inShapesLocations[`${r}Shape`],l=t.inTexShapesLocations[`${r}TexShape`];if(i){const{uniformShape:a}=GL(t.program.packedInputs,n.shape,n.texData.texShape);switch(a.length){case 1:e.gl.uniform1iv(i,new Int32Array(a));break;case 2:e.gl.uniform2iv(i,new Int32Array(a));break;case 3:e.gl.uniform3iv(i,new Int32Array(a));break;case 4:e.gl.uniform4iv(i,new Int32Array(a))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(Uk(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=n.texData.slice&&null!=s&&e.gl.uniform1i(s,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,o,a)}));const i=t.outShapeLocation;if(i)switch(a.shape.length){case 1:e.gl.uniform1iv(i,new Int32Array(a.shape));break;case 2:e.gl.uniform2iv(i,new Int32Array(a.shape));break;case 3:e.gl.uniform3iv(i,new Int32Array(a.shape));break;case 4:e.gl.uniform4iv(i,new Int32Array(a.shape))}if(t.outShapeStridesLocation){const n=lE(a.shape);switch(a.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),t.program.customUniforms&&r&&t.program.customUniforms.forEach(((n,a)=>{const o=t.customUniformLocations[a],s=r[a];if("float"===n.type)e.gl.uniform1fv(o,s);else if("vec2"===n.type)e.gl.uniform2fv(o,s);else if("vec3"===n.type)e.gl.uniform3fv(o,s);else if("vec4"===n.type)e.gl.uniform4fv(o,s);else if("int"===n.type)e.gl.uniform1iv(o,s);else if("ivec2"===n.type)e.gl.uniform2iv(o,s);else if("ivec3"===n.type)e.gl.uniform3iv(o,s);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(o,s)}})),e.executeProgram()}(this.gpgpu,d,c,u,a),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),f&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));const m=xE().get("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=C$();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!xE().getBool("WEBGL_LAZILY_UNPACK")&&i.isPacked&&!1===r){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,a,r=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,a,r)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!xE().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=cR((()=>{if(!xE().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=xE().getBool("DEBUG");xE().set("DEBUG",!1);const t=this.abs(HI(1e-8)).dataSync()[0];if(xE().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:a,values:r,texture:o,usage:s,isPacked:i}=t;if(null!=o)return;const l=null!=this.activeTimers;let c;l&&(c=C$());let u=t.texShape;if(null==u&&(u=function(e,t=!1){let n=xE().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,e=e.map(((t,n)=>n>=e.length-2?Fk(e[n]):e[n])),1===e.length&&(e=[2,e[0]])),2!==e.length){const t=Zk(e);e=t.newShape}let a=Uk(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=mL(e);let n=2,r=2;return e.length&&([n,r]=gL(e)),a=t*(n/2)*(r/2),Xk(a).map((e=>2*e))}return Xk(a)}(n,i),t.texShape=u),null!=r){const e=vL(n);let o,s=u[1],p=u[0];const d=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!i&&d||([s,p]=eL(u[0],u[1])),o=i?new rD(e,d):new aD(e,d);const f=d?[p,s]:u,h=this.makeTensorInfo(f,a),m=this.texData.get(h.dataId);m.usage=d?K_.PIXELS:K_.UPLOAD,m.texShape=f,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(h.dataId),s,p,r);const g=[[p,s]],v=!0,b=this.runWebGLProgram(o,[h],a,g,v),y=this.texData.get(b.dataId);t.texShape=y.texShape,t.isPacked=y.isPacked,t.usage=y.usage,xE().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=y.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(h),l&&(this.uploadWaitMs+=C$()-c)}else{const e=this.acquireTexture(u,s,a,i);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:a}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,a)),n.values}acquireTexture(e,t,n,a){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,a)}computeBytes(e,t){return e[0]*e[1]*aE(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await new Promise((e=>FR((()=>e())))),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw sL(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:a,nanLoc:r,inShapesLocations:o,inTexShapesLocations:s,outShapeLocation:i,outShapeStridesLocation:l,outTexShapeLocation:c}=KL(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=a,e.nanLoc=r,e.inShapesLocations=o,e.inTexShapesLocations=s,e.outShapeLocation=i,e.outShapeStridesLocation=l,e.outTexShapeLocation=c}}}Oz.nextDataId=0,rO()&&function(e,t,n=1){eO.registerBackend(e,t,n)}("webgl",(()=>new Oz),2);class Iz{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=fI(t,n),this.enableShapeUniforms=ZL(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}class Nz{constructor(e,t,n,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=fI(t,n);const r=this.outputShape.length;this.enableShapeUniforms=ZL(r);let o="";if(a)if(0===r||1===Uk(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(o=`\n          ${UL(r)} coords = getOutputCoords();\n        `,1===r)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=fz("coords",r);this.enableShapeUniforms?o+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= outShape[${r} - 2];\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= outShape[${r} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:o+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= ${this.outputShape[r-2]};\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= ${this.outputShape[r-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${o}\n\n        setOutput(result);\n      }\n    `}}function Rz(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const Pz={kernelName:ES,backendName:"webgl",kernelFunc:Rz};function Mz(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.makeTensorInfo(a.shape,"complex64"),s=n.texData.get(o.dataId),i=Rz({inputs:{x:a},backend:n}),l=Rz({inputs:{x:r},backend:n});return s.complexTensorInfos={real:i,imag:l},o}const Bz={kernelName:GE,backendName:"webgl",kernelFunc:Mz},Az="return (a < 0.) ? b * a : a;",_z="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const Lz={kernelName:OS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:o}=a,s=n.makeTensorInfo([],"float32",x$(o,"float32")),i=xE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Nz(_z,r.shape,s.shape):new Iz(Az,r.shape,s.shape),l=n.runWebGLProgram(i,[r,s],"float32");return n.disposeIntermediateTensorInfo(s),l}},Dz="return (a < 0.) ? b * a : a;",Fz="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const zz={kernelName:tT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,o=xE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Nz(Fz,a.shape,r.shape):new Iz(Dz,a.shape,r.shape);return n.runWebGLProgram(o,[a,r],"float32")}};function Vz({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:a}){return({inputs:r,backend:o})=>{const{x:s}=r,i=o,l=a||s.dtype;if(i.shouldExecuteOnCPU([s])&&null!=n){const e=i.texData.get(s.dataId),t=n(e.values,l);return i.makeTensorInfo(s.shape,l,t)}let c;return c=xE().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new kz(s.shape,t):new xz(s.shape,e),i.runWebGLProgram(c,[s],l)}}function Hz({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:a=!1,cpuKernelImpl:r,dtype:o}){return({inputs:s,backend:i})=>{const{a:l,b:c}=s,u=i;if(a&&"complex64"===l.dtype){const t=u.texData.get(l.dataId),n=u.texData.get(c.dataId),[a,r]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,a]=t,r={dataId:n.dataId,dtype:n.dtype,shape:l.shape},o={dataId:a.dataId,dtype:a.dtype,shape:c.shape},s=new Iz(e,l.shape,c.shape);return u.runWebGLProgram(s,[r,o],U$(n.dtype,a.dtype))})),o=Mz({inputs:{real:a,imag:r},backend:u});return u.disposeIntermediateTensorInfo(a),u.disposeIntermediateTensorInfo(r),o}const p=o||U$(l.dtype,c.dtype);if(("string"===l.dtype||"string"===c.dtype||u.shouldExecuteOnCPU([l,c]))&&null!=r){const e=u.texData.get(l.dataId).values,t=u.texData.get(c.dataId).values,n="string"===l.dtype?cM(e):e,a="string"===l.dtype?cM(t):t,[o,s]=r(l.shape,c.shape,n,a,p),i=u.makeTensorInfo(s,p);return u.texData.get(i.dataId).values=o,i}let d;return d=xE().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new Nz(t,l.shape,c.shape,n):new Iz(e,l.shape,c.shape),u.runWebGLProgram(d,[l,c],p)}}function jz(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n";if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n";if("prelu"===e)return t?Fz:Dz;if("leakyrelu"===e)return t?_z:Az;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class Wz{constructor(e,t,n,a=!1,r=!1,o=!1,s=null,i=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=ZL(this.outputShape.length);const c=a?e[1]:e[2],u=Math.ceil(c/2),p=a?"i * 2, rc.y":"rc.y, i * 2",d=r?"rc.z, i * 2":"i * 2, rc.z",f=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";s&&(m=i?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,g="result = activation(result);");const v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",y="rc.x";e[0]<t[0]?b=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(y=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${u}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${u}; i++) {\n          int batchA = ${b};\n          int batchB = ${y};\n          vec4 a = getMatrixA(batchA, ${p});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${f[0]} * ${h[0]});\n          result += (${f[1]} * ${h[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${v}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const Uz="return areal * breal - aimag * bimag;",Gz="return areal * bimag + aimag * breal;";class qz{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=fI(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const Xz="return a * b;";function Yz(e){const{inputs:t,backend:n}=e,{a:a,b:r}=t,o=U$(a.dtype,r.dtype);if("complex64"===a.dtype){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),o=new qz(Uz,a.shape,r.shape),s=new qz(Gz,a.shape,r.shape),i=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],l=n.runWebGLProgram(o,i,"float32"),c=n.runWebGLProgram(s,i,"float32"),u=Mz({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([a,r])){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),[s,i]=WF(a.shape,r.shape,e.values,t.values,o),l=n.makeTensorInfo(i,o);return n.texData.get(l.dataId).values=s,l}let s;return s=xE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Nz(Xz,a.shape,r.shape):new Iz(Xz,a.shape,r.shape),n.runWebGLProgram(s,[a,r],o)}const Kz={kernelName:US,backendName:"webgl",kernelFunc:Yz};function Qz(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,s=n,i=Uk(r.shape),l=function(e,t){let n=1,a=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==a)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${a} and dim ${t}`);a=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===a){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const r=e.slice();return r[a]=t/n,r}(o,i),c=Uk(l);Vk(i===c,(()=>`The new shape (${l}) has ${c} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`));const u=s.texData.get(r.dataId);return!u.isPacked||yL(r.shape,l)||null!==u.texture&&yL(u.shape,l)?(s.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype}):function(e,t,n){const a=[mL(e.shape),...gL(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},o=[mL(t),...gL(t)],s=new mz(o,a),i=[a],l=n.runWebGLProgram(s,[r],e.dtype,i,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(r,l,s)}const Zz={kernelName:iT,backendName:"webgl",kernelFunc:Qz};class Jz{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];const s=4*Math.floor(n/4),i=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${qk(e)?e.toPrecision(2):e}, ones);`}let c="";r%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===i}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===i}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===i}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class eV{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];let s="0.0",i="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",i="min"):"max"===t&&(s="-1.0 / 1e-20",i="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let p=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${i}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${i}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let f="";r%n>0&&(f=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${f}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${2===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${3===u}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${p}\n        }\n        setOutput(${l});\n      }\n    `}}function tV(e,t,n,a){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],a=dP(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape);let o=e;for(let s=0;s<r.length;s++){const{inSize:i,windowSize:l,outSize:c}=r[s];let u,p;u="mean"===n?0===s?new Jz({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c},i):new Jz({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c}):new eV({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c},n),p=o,o=a.runWebGLProgram(u,[o],t),p.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(p)}return o}class nV{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const a=UL(this.rank),r=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(t);for(let t=0;t<e.length;t++)a[e[t]]=n[t];return a.join()}(t);this.userCode=`\n    void main() {\n      ${a} resRC = getOutputCoords();\n      setOutput(getA(${r}));\n    }\n    `}}class aV{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=UL(this.rank),r=dz("rc",this.rank),o=new Array(this.rank);for(let e=0;e<t.length;e++)o[t[e]]=r[e];const s=`vec2(${o.slice(-2).join()})`,i=`++${r[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${o.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${a} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${i}) {\n        result[1] = ${l};\n      }\n      --${r[this.rank-1]};\n      if(++${r[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${i}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function rV(e,t,n){const a=xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new aV(e.shape,t):new nV(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}function oV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;return function(e,t,n,a){const r=t,o=e.shape.length,s=Qk(r,e.shape);let i=s;const l=ZN(i,o),c=null!=l;let u=e;c&&(u=rV(e,l,a),i=eR(i.length,o)),QN("sum",i,o);const[p,d]=YN(u.shape,i);let f=p;n&&(f=KN(p,s));const h=Uk(d),m=Qz({inputs:{x:u},attrs:{shape:[Uk(e.shape)/h,h]},backend:a}),g=tV(m,G$(e.dtype),"sum",a),v=Qz({inputs:{x:g},attrs:{shape:f},backend:a});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),c&&a.disposeIntermediateTensorInfo(u),v}(r,o,s,n)}const sV={kernelName:"Sum",backendName:"webgl",kernelFunc:oV};function iV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{perm:o}=a,s=n,i=r.shape.length,l=new Array(i);for(let e=0;e<l.length;e++)l[e]=r.shape[o[e]];let c;if(s.shouldExecuteOnCPU([r])){const e=s.texData.get(r.dataId).values,t=uz(e,r.shape,r.dtype,o,l);c=s.makeTensorInfo(l,r.dtype);s.texData.get(c.dataId).values=t}else c=rV(r,o,s);return c}const lV={kernelName:VT,backendName:"webgl",kernelFunc:iV};function cV({a:e,b:t,transposeA:n,transposeB:a,backend:r,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:l=null}){const c=e.shape.length,u=t.shape.length,p=n?e.shape[c-2]:e.shape[c-1],d=a?t.shape[u-1]:t.shape[u-2],f=n?e.shape[c-1]:e.shape[c-2],h=a?t.shape[u-2]:t.shape[u-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),v=Uk(m),b=Uk(g),y=fI(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([f,h]);Vk(p===d,(()=>`Error in matMul: inner shapes (${p}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${a} must match.`));const x=n?[v,p,f]:[v,f,p],w=a?[b,h,d]:[b,d,h],C=Qz({inputs:{x:e},backend:r,attrs:{shape:x}}),k=Qz({inputs:{x:t},backend:r,attrs:{shape:w}}),E=[C,k],S=Math.max(v,b),T=n?C.shape[1]:C.shape[2],$=null!=o,O=null!=s,I="leakyrelu"===l,N=null!=l?jz(l,!0):null;let R;if((1===f||1===h)&&T>1e3&&!1===($||O||I||null!=N)){let e=C,t=k;n&&(e=iV({inputs:{x:C},backend:r,attrs:{perm:[0,2,1]}}),E.push(e)),a&&(t=iV({inputs:{x:k},backend:r,attrs:{perm:[0,2,1]}}),E.push(t));const o=1===h;let s=e;1!==h&&(s=Qz({inputs:{x:e},backend:r,attrs:{shape:[S,T,1]}}),E.push(s));const i=1===h?2:1;let l=t;o&&(l=Qz({inputs:{x:t},backend:r,attrs:{shape:[S,1,T]}}),E.push(l));const c=Yz({inputs:{a:s,b:l},backend:r});R=oV({inputs:{x:c},backend:r,attrs:{axis:i,keepDims:!0}}),E.push(c)}else{const l=U$(e.dtype,t.dtype),c=new Wz(x,w,[S,f,h],n,a,$,N,O,I),u=[C,k];if(null!=o&&u.push(o),O&&u.push(s),I){const e=r.makeTensorInfo([],"float32",x$(i,"float32"));u.push(e),E.push(e)}R=r.runWebGLProgram(c,u,l)}const P=Qz({inputs:{x:R},backend:r,attrs:{shape:y}});E.push(R);for(const e of E)r.disposeIntermediateTensorInfo(e);return P}const uV={kernelName:XT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o,bias:s,preluActivationWeights:i}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:p}=a;return cV({a:r,b:o,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:i,leakyreluAlpha:p,activation:u})}},pV="return abs(x);";const dV={kernelName:SE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){const e=n.texData.get(a.dataId),t=QF(e.values);return n.makeTensorInfo(a.shape,a.dtype,t)}let r;return r=xE().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new kz(a.shape,pV):new xz(a.shape,pV),n.runWebGLProgram(r,[a],a.dtype)}},fV=Vz({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),hV={kernelName:TE,backendName:"webgl",kernelFunc:fV},mV=Vz({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),gV={kernelName:$E,backendName:"webgl",kernelFunc:mV},vV="return a + b;",bV=Hz({opSnippet:vV,packedOpSnippet:vV,supportsComplex:!0,cpuKernelImpl:EF}),yV={kernelName:OE,backendName:"webgl",kernelFunc:bV};class xV{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${a};\n        setOutput(result);\n      }\n    `}}class wV{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${a};\n        setOutput(result);\n      }\n    `}}const CV={kernelName:IE,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,r=n;if(1===r.length)return Rz({inputs:{x:r[0]},backend:a});if(r.length>xE().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(r.length/2),n=e({inputs:r.slice(0,t),backend:a}),o=e({inputs:r.slice(t),backend:a});return e({inputs:[n,o],backend:a})}const o=r.map((e=>e.dtype)).reduce(((e,t)=>U$(e,t))),s=r.map((e=>e.shape)),i=xE().getBool("WEBGL_PACK")?new wV(r[0].shape,s):new xV(r[0].shape,s);return a.runWebGLProgram(i,r,o)}};const kV={kernelName:"All",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Qk(o,r.shape);let c=l;const u=ZN(c,i);let p=r;null!=u&&(p=iV({inputs:{x:r},backend:n,attrs:{perm:u}}),c=eR(c.length,i)),QN("all",c,i);const[d,f]=YN(p.shape,c),h=Qz({inputs:{x:p},backend:n,attrs:{shape:[-1,Uk(f)]}}),m=tV(h,h.dtype,"all",n);let g;if(s){g=Qz({inputs:{x:m},backend:n,attrs:{shape:KN(d,l)}})}else g=Qz({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(p),g}};const EV={kernelName:"Any",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Qk(o,r.shape);let c=l;const u=ZN(c,i);let p=r;null!=u&&(p=iV({inputs:{x:r},backend:n,attrs:{perm:u}}),c=eR(c.length,i)),QN("any",c,i);const[d,f]=YN(p.shape,c),h=Qz({inputs:{x:p},backend:n,attrs:{shape:[-1,Uk(f)]}}),m=tV(h,h.dtype,"any",n);let g;if(s){g=Qz({inputs:{x:m},backend:n,attrs:{shape:KN(d,l)}})}else g=Qz({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(p),g}};class SV{constructor(e,t,n){this.variableNames=["A"];const{windowSize:a,batchSize:r,outSize:o}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[r,o];const s="max"===t?">":"<",i=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${a}; i++) {\n          int inIdx = ${i};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class TV{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Vk(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const r=e[e.length-1],o=Math.ceil(r/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const s=this.outputShape,i=s.length,l=UL(i),c=fz("coords",i);let u,p;if(1===o){p=i+1;const e=UL(p);u=`\n        ${e} sourceLocR = ${e}(${c.join()}, 0);\n        ++${c[i-1]};\n        ${e} sourceLocG = ${e}(${c.join()}, 0);\n        ++${c[i-2]};\n        ${e} sourceLocA = ${e}(${c.join()}, 0);\n        --${c[i-1]};\n        ${e} sourceLocB = ${e}(${c.join()}, 0);\n        --${c[i-2]};`}else p=i,u=`\n        ${l} sourceLocR = coords;\n        ++${c[i-1]};\n        ${l} sourceLocG = coords;\n        ++${c[i-2]};\n        ${l} sourceLocA = coords;\n        --${c[i-1]};\n        ${l} sourceLocB = coords;\n        --${c[i-2]};`;const d=["x","y","z","w","u","v"].slice(0,p),f="."+d[p-1],h=d.map((e=>"int "+e)),m=fz("sourceLocR",p-1).concat("inIdx.r"),g=fz("sourceLocG",p-1).concat("inIdx.g"),v=fz("sourceLocB",p-1).concat("inIdx.b"),b=fz("sourceLocA",p-1).concat("inIdx.a"),y="max"===n?"greaterThan":"lessThan",x=a?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${v.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${v.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,C=a?"":`\n      float getBestIndicesAChannel(${h.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${h.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${C}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${c[i-1]} < ${s[i-1]-1};\n        bool hasNextRow = ${c[i-2]} < ${s[i-2]-1};\n        ${u}\n        ivec4 srcIdx = ivec4(sourceLocR${f}, sourceLocG${f},\n          sourceLocB${f}, sourceLocA${f}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${y}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function $V(e,t,n,a=null){let r=t.shape[0],o=t.shape[1];null!=a&&(r=a.shape[0],o=a.shape[1]);const s=dP(o),i={windowSize:s,inSize:o,batchSize:r,outSize:Math.ceil(o/s)},l=new SV(i,n,null==a),c=[t];null!=a&&c.push(a);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const p=$V(e,t,n,u);return e.disposeIntermediateTensorInfo(u),p}function OV(e,t,n,a=null){const r=null!=a?a.shape:t.shape,o=dP(r[r.length-1]),s=new TV(r,o,n,null==a),i=null==a?[t]:[t,a],l=e.runWebGLProgram(s,i,"int32");if(l.shape.length===t.shape.length){const a=OV(e,t,n,l);return e.disposeIntermediateTensorInfo(l),a}return l}function IV(e,t,n,a){const r=[n];if(QN("arg"+a.charAt(0).toUpperCase()+a.slice(1),r,t.shape.length),!xE().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],o=e.texData.get(t.dataId);let s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),n.push(s));const[i,l]=YN(s.shape,r),c=Uk(l),u=Qz({inputs:{x:s},backend:e,attrs:{shape:[-1,c]}});n.push(u);const p=$V(e,u,a);n.push(p);const d=Qz({inputs:{x:p},backend:e,attrs:{shape:i}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return OV(e,t,a)}const NV={kernelName:NE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let s=Qk(o,r.shape);const i=ZN(s,r.shape.length);let l=r;const c=[];null!=i&&(l=iV({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=eR(s.length,l.shape.length)),QN("argMax",[s[0]],l.shape.length);const u=IV(n,l,s[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const RV={kernelName:RE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let s=Qk(o,r.shape);const i=ZN(s,r.shape.length);let l=r;const c=[];null!=i&&(l=iV({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=eR(s.length,l.shape.length)),QN("argMin",[s[0]],l.shape.length);const u=IV(n,l,s[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},PV=Vz({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),MV={kernelName:PE,backendName:"webgl",kernelFunc:PV},BV=Vz({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),AV={kernelName:ME,backendName:"webgl",kernelFunc:BV},_V=Vz({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),LV={kernelName:BE,backendName:"webgl",kernelFunc:_V},DV=Hz({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),FV={kernelName:_E,backendName:"webgl",kernelFunc:DV},zV=Vz({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),VV={kernelName:AE,backendName:"webgl",kernelFunc:zV};class HV{constructor(e,t,n,a=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideHeight,i=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,p=e.effectiveFilterWidth,d=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;const h="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let v="0.0";if(h||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${i});\n        const ivec2 pads = ivec2(${d}, ${f});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${u};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${a?r?m:g:`wR * ${p} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / count");const y=4*Math.floor(o/4),x=o%4,w=`\n      if (${h}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${i});\n      const ivec2 pads = ivec2(${d}, ${f});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${u};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${y}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${y};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${b});\n      }\n    `}}class jV{constructor(e,t,n,a=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideDepth,i=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,p=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let y="0.0";if(b||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${i}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${v});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${f};\n                wR += ${u}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${h};\n                  wC += ${p}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${a?r?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${f} * ${h} +\n                      wR * ${h} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / count");const w=4*Math.floor(o/4),C=o%4,k=`\n      if (${b}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${i}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${v});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${f};\n            wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${p};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${p}, ch)\n              );\n\n              ${k}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===C}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${2===C}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${k}\n            } else if (${3===C}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                initializationValue\n              );\n\n              ${k}\n            }\n          }\n          setOutput(${x});\n        }\n      }\n    `}}const WV={kernelName:LE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;TL(r,"avgPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;Vk(JR(s,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const c=jR(r.shape,o,s,1,i,l);if(1===c.filterWidth&&1===c.filterHeight&&Gk(c.inShape,c.outShape))return Rz({inputs:{x:r},backend:n});const u=new HV(c,"avg",!1);return n.runWebGLProgram(u,[r],"float32")}};const UV={kernelName:DE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:c}=a,u=WR(r.shape,o,s,[1,1,1],i,l,c),p=new jV(u,"avg",!1);return n.runWebGLProgram(p,[r],"float32")}};class GV{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,i=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=i-1-e.padInfo.top,u=l-1-e.padInfo.left,p=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${u});\n      const float avgMultiplier = float(${p});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n            wR += ${o}) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class qV{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=u-1-e.padInfo.front,h=p-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*a);this.userCode=`\n      const ivec3 pads = ivec3(${f}, ${h}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${r}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const XV={kernelName:"AvgPool3DGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o,{filterSize:i,strides:l,pad:c,dimRoundingMode:u}=a,p=WR(s.shape,i,l,[1,1,1],c,u),d=new qV(p);return n.runWebGLProgram(d,[r],s.dtype)}};const YV={kernelName:"AvgPoolGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o;TL([r,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:c}=a,u=jR(s.shape,i,l,1,c),p=new GV(u);return n.runWebGLProgram(p,[r],s.dtype)}};const KV={kernelName:FE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:s,transposeB:i}=a;return cV({a:r,b:o,transposeA:s,transposeB:i,backend:n})}};class QV{constructor(e,t,n,a,r,o){this.outputShape=[],this.variableNames=["x","mean","variance"],fI(e,t),fI(e,n);let s="0.0";null!=a&&(fI(e,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let i="1.0";null!=r&&(fI(e,r),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${s};\n        float scale = ${i};\n        float inv = scale * inversesqrt(variance + float(${o}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class ZV{constructor(e,t,n,a,r,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],fI(e,t),fI(e,n);let s="vec4(0.0)";null!=a&&(fI(e,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let i="vec4(1.0)";null!=r&&(fI(e,r),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${s};\n        vec4 scale = ${i};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${o}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const JV={kernelName:yS,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,mean:r,variance:o,offset:s,scale:i}=e;Vk(r.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Vk(null==s||r.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Vk(null==i||r.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const c=[a,r,o];let u=null;null!=s&&(u=s.shape,c.push(s));let p=null;null!=i&&(p=i.shape,c.push(i));const d=xE().getBool("WEBGL_PACK_NORMALIZATION")?new ZV(a.shape,r.shape,o.shape,u,p,l):new QV(a.shape,r.shape,o.shape,u,p,l);return t.runWebGLProgram(d,c,c[0].dtype)}};class eH{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=UL(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return tH.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let a;const r=e.map(((e,t)=>`sourceLoc.${tH[t]} = start[${t}] + coords.${tH[t]};`));a=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${r.join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${a}\n        setOutput(getSource(${n}));\n      }\n    `}}const tH=["x","y","z","w","u","v"];class nH{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=UL(this.rank),n=fz("coords",this.rank),a=fz("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":`vec2(${a.slice(-2).join()})`,o=`getChannel(getSource(${a.join()}), ${r})`,s=`\n      result.x = ${o};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${a[this.rank-1]};\n        result.y = ${o};\n        --${a[this.rank-1]};\n      }\n    `,i=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${a[this.rank-2]};\n        result.z = ${o};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${a[this.rank-1]};\n          result.w = ${o};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${a[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${s}\n        ${i}\n        setOutput(result);\n      }\n    `}}function aH(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,size:s}=a,[i,l]=RI(r,o,s);if(vI(r,i,l),0===Uk(l))return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=n.texData.get(r.dataId),t=ZF(e.values,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,t)}const{isPacked:c}=n.texData.get(r.dataId),u=II(r.shape,i,l);if(c||!u){const e=xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nH(l):new eH(l),t=[i];return n.runWebGLProgram(e,[r],r.dtype,t)}return n.uploadToGPU(r.dataId),function(e,t,n,a){const r=a.texData.get(e.dataId),o=a.makeTensorInfo(n,e.dtype),s=a.texData.get(o.dataId);Object.assign(s,r),s.refCount=1,s.shape=n,s.dtype=e.dtype;let i=NI(t,lE(e.shape));r.slice&&(i+=r.slice.flatOffset),s.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||e.dataId};const l=a.dataRefCount.get(s.slice.origDataId)||1;return a.dataRefCount.set(s.slice.origDataId,l+1),o}(r,i,l,n)}const rH={kernelName:vT,backendName:"webgl",kernelFunc:aH},oH={kernelName:zE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,crops:s}=a;Vk(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const i=o.reduce(((e,t)=>e*t)),l=hP(r.shape,o,i),c=mP(l.length,o.length),u=gP(r.shape,o,i),p=vP(s,o.length),d=bP(u,s,o.length),f=[],h=Qz({inputs:{x:r},backend:n,attrs:{shape:l}}),m=iV({inputs:{x:h},backend:n,attrs:{perm:c}}),g=Qz({inputs:{x:m},backend:n,attrs:{shape:u}}),v=aH({inputs:{x:g},backend:n,attrs:{begin:p,size:d}});return f.push(h),f.push(m),f.push(g),f.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}};const sH={kernelName:VE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s}=a,i=n.readSync(r.dataId),l=n.readSync(o.dataId),c=SF(i,l,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,c)}};const iH={kernelName:HE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,o=n.readSync(a.dataId),s=n.readSync(r.dataId),i=fI(Array.from(o),Array.from(s));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},lH=Hz({opSnippet:"return float(a != b);",cpuKernelImpl:GF,dtype:"bool"}),cH={kernelName:qS,backendName:"webgl",kernelFunc:lH};function uH(e){const{inputs:t,backend:n}=e,{input:a}=t;return Rz({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.real},backend:n})}const pH={kernelName:rT,backendName:"webgl",kernelFunc:uH};const dH={kernelName:jE,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a,attrs:r}=t,{x:o}=n,{dtype:s}=r;if("complex64"===s){if("complex64"===o.dtype)return Rz({inputs:{x:o},backend:a});const t=QI(o.shape),n=e({inputs:{x:o},backend:a,attrs:{dtype:"float32"}}),r=Mz({inputs:{real:n,imag:t},backend:a});return t.dispose(),a.disposeIntermediateTensorInfo(n),r}if("complex64"===o.dtype){const t=uH({inputs:{input:o},backend:a}),n=e({inputs:{x:t},backend:a,attrs:{dtype:s}});return a.disposeIntermediateTensorInfo(t),n}if(!tE(o.dtype,s)){const e=Rz({inputs:{x:o},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:s}}if("int32"===s)return function(e,t){const n=new xz(e.shape,"return float(int(x));"),a=t.runWebGLProgram(n,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(o,a);if("bool"===s){const e=a.makeTensorInfo([],"bool",Jk("bool",1)),t=lH({inputs:{a:o,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${s}`)}},fH="return ceil(x);",hH=Vz({opSnippet:fH,packedOpSnippet:fH,cpuKernelImpl:$F}),mH={kernelName:WE,backendName:"webgl",kernelFunc:hH};class gH{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class vH{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const bH={kernelName:UE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:o,clipValueMax:s}=a;let i;i=xE().getBool("WEBGL_PACK_CLIP")?new vH(r.shape):new gH(r.shape);const l=[[o],[s]];return n.runWebGLProgram(i,[r],r.dtype,l)}};class yH{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function xH(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const wH={kernelName:qE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=n.texData.get(a.dataId),o=new yH(a.shape),s=[xH(a,r.complexTensorInfos.real),xH(a,r.complexTensorInfos.imag)];return n.runWebGLProgram(o,s,s[0].dtype)}};class CH{constructor(e){this.outputShape=[],this.outputShape=VR(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const a=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${a}));`)}const a=t.length,r=t[t.length-1];n.push(`else setOutput(getT${a}(yR, yC-${r}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class kH{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=VR(e,t);const n=this.outputShape,a=n.length,r=UL(a),o=fz("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,t)=>`T${t}`));const i=new Array(e.length-1);i[0]=e[0][t];for(let n=1;n<i.length;n++)i[n]=i[n-1]+e[n][t];const l=s[t],c=s.slice(-2),u=s.join();let p=`if (${l} < ${i[0]}) {\n        return getChannel(\n            getT0(${u}), vec2(${c.join()}));\n        }`;for(let e=1;e<i.length;e++){const t=i[e-1];p+=`\n        if (${l} < ${i[e]}  && ${l} >= ${i[e-1]}) {\n          return getChannel(\n            getT${e}(${EH(s,l,t)}),\n            vec2(${EH(c,l,t)}));\n        }`}const d=i.length,f=i[i.length-1];p+=`\n        return getChannel(\n          getT${d}(${EH(s,l,f)}),\n          vec2(${EH(c,l,f)}));`,this.userCode=`\n      float getValue(${s.map((e=>"int "+e))}) {\n        ${p}\n      }\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${o}), 0., 0., 0.);\n\n        ${o[a-1]} = ${o[a-1]} + 1;\n        if (${o[a-1]} < ${n[a-1]}) {\n          result.g = getValue(${o});\n        }\n\n        ${o[a-2]} = ${o[a-2]} + 1;\n        if (${o[a-2]} < ${n[a-2]}) {\n          result.a = getValue(${o});\n        }\n\n        ${o[a-1]} = ${o[a-1]} - 1;\n        if (${o[a-2]} < ${n[a-2]} &&\n            ${o[a-1]} < ${n[a-1]}) {\n          result.b = getValue(${o});\n        }\n        setOutput(result);\n      }\n    `}}function EH(e,t,n){const a=e.indexOf(t);return e.map(((e,t)=>t===a?`${e} - ${n}`:e)).join()}function SH(e){const{inputs:t,backend:n}=e,{input:a}=t;return Rz({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.imag},backend:n})}const TH={kernelName:TS,backendName:"webgl",kernelFunc:SH};function $H(e,t,n){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>uH({inputs:{input:e},backend:n}))),r=e.map((e=>SH({inputs:{input:e},backend:n}))),o=$H(a,t,n),s=$H(r,t,n),i=Mz({inputs:{real:o,imag:s},backend:n});return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),r.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),i}let r=n.shouldExecuteOnCPU(e);if("string"===a&&(r=!0),r){const r=e.map((e=>{const a=Uk(e.shape.slice(t));return Qz({inputs:{x:e},backend:n,attrs:{shape:[-1,a]}})})),o=r.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),s=VR(r.map((e=>e.shape)),1),i=1===r[0].shape[0],l=OF(o,s,a,i),c=VR(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,a,l);return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}if(e.length>xE().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const a=Math.floor(e.length/2),r=$H(e.slice(0,a),t,n),o=$H(e.slice(a),t,n),s=$H([r,o],t,n);return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),s}if(xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const r=new kH(e.map((e=>e.shape)),t);return n.runWebGLProgram(r,e,a)}const{tensors2D:o,outShape:s}=function(e,t,n){const a=VR(e.map((e=>e.shape)),t),r=e.map((e=>Qz({inputs:{x:e},attrs:{shape:[-1,Uk(e.shape.slice(t))]},backend:n})));return{tensors2D:r,outShape:a}}(e,t,n),i=new CH(o.map((e=>e.shape))),l=n.runWebGLProgram(i,o,a);o.forEach((e=>n.disposeIntermediateTensorInfo(e)));const c=Qz({inputs:{x:l},attrs:{shape:s},backend:n});return n.disposeIntermediateTensorInfo(l),c}function OH(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=Qk(r,t[0].shape)[0],s=VR(t.map((e=>e.shape)),o);if(0===Uk(s))return n.makeTensorInfo(s,t[0].dtype,[]);const i=t.filter((e=>Uk(e.shape)>0));if(1===i.length)return Rz({inputs:{x:i[0]},backend:n});const l=i.map((e=>e.shape));return zR(l,o),$H(i,o,n)}const IH={kernelName:XE,backendName:"webgl",kernelFunc:OH};class NH{constructor(e,t=!1,n=null,a=!1,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,s=e.padInfo.left,i=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,p=e.filterHeight,d=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,v=m?2:3,b=m?3:1;let y="",x="";n&&(y=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${y}\n\n      const ivec2 strides = ivec2(${i}, ${l});\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${v}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${p}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${f}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===h}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${f}) *\n                    getW(wR, wC, ${f}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${f}, xR, xC) *\n                    getW(wR, wC, ${f}, d2);\n              }\n\n            } else if (${2===h}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${f}, d2),\n                getW(wR, wC, ${f} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${f}),\n                  getX(batch, xR, xC, ${f} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${f}, xR, xC),\n                  getX(batch, ${f} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===h}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${f}, d2),\n                getW(wR, wC, ${f} + 1, d2),\n                getW(wR, wC, ${f} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${f}),\n                  getX(batch, xR, xC, ${f} + 1),\n                  getX(batch, xR, xC, ${f} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${f}, xR, xC),\n                  getX(batch, ${f} + 1, xR, xC),\n                  getX(batch, ${f} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${x}\n        setOutput(result);\n      }\n    `}}class RH{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,a=e.padInfo.left,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,p=e.filterHeight,d=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${r}, ${o}, ${s});\n      const ivec3 pads = ivec3(${t}, ${n}, ${a});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${u}; wF++) {\n          int xF = xFCorner + wF * ${i};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${f}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===h}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${f}) *\n                  getW(wF, wR, wC, ${f}, d2);\n              } else if (${2===h}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${f}),\n                  getX(batch, xF, xR, xC, ${f} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${f}, d2),\n                  getW(wF, wR, wC, ${f} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===h}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${f}),\n                  getX(batch, xF, xR, xC, ${f} + 1),\n                  getX(batch, xF, xR, xC, ${f} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${f}, d2),\n                  getW(wF, wR, wC, ${f} + 1, d2),\n                  getW(wF, wR, wC, ${f} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class PH{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=ZL(this.outputShape.length);const{dataFormat:n}=t,a=OL(),r="channelsLast"===n,o=r?0:1,s=r?1:2,i=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${e[1]} && pos < ${e[0]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.y + ${t};\n          pos = rc.x + ${e};\n\n          ${i}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${o}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${r}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${a.output} = result;\n      }\n    `}}function MH({x:e,filter:t,convInfo:n,backend:a,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:i=null}){const l=e.shape,c=a.texData.get(e.dataId),u=n.inChannels,p=l[0]*l[1]*l[2],d=n.outChannels,f="channelsLast"===n.dataFormat;let h;const m=[];if(!((1===p||1===d)&&u>1e3)&&c.isPacked&&f&&null!=c.texture&&l[2]%2!=0&&Gk(c.shape.slice(-3),l.slice(-3))){const u=l[0]*l[1]*(l[2]+1),p={dataId:e.dataId,shape:[1,u,n.inChannels],dtype:e.dtype},d=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,Vk(yL(c.shape,p.shape),(()=>`packed reshape ${c.shape} to ${p.shape} isn't free`));const f=Qz({inputs:{x:t},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}});m.push(f);const g=cV({a:p,b:f,backend:a,transposeA:false,transposeB:false,bias:r,activation:i,preluActivationWeights:o,leakyreluAlpha:s}),v=a.texData.get(g.dataId);Vk(v.isPacked,(()=>"batchMatMul result is expected to be packed")),c.shape=d,v.shape=n.outShape,h=Rz({inputs:{x:g},backend:a}),h.shape=n.outShape,m.push(g)}else{const c=Qz({inputs:{x:e},backend:a,attrs:{shape:[1,f?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],n.inChannels]}}),u=Qz({inputs:{x:t},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}}),p=cV({a:c,b:u,transposeA:false,transposeB:false,backend:a,bias:r,activation:i,preluActivationWeights:o,leakyreluAlpha:s});h=Qz({inputs:{x:p},backend:a,attrs:{shape:n.outShape}}),m.push(c),m.push(u),m.push(p)}for(const e of m)a.disposeIntermediateTensorInfo(e);return h}function BH({x:e,filter:t,convInfo:n,backend:a,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:i=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:p,outHeight:d,dataFormat:f}=n,h="channelsLast"===f,m=l*c*u,g=d*p,v=[m,g],b=[],y=Qz({inputs:{x:e},backend:a,attrs:{shape:e.shape.slice(1)}}),x=Qz({inputs:{x:t},backend:a,attrs:{shape:[1,m,Uk(t.shape)/m]}});b.push(y),b.push(x);const w=new PH(v,n),C=[y.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=a.runWebGLProgram(w,[y],"float32",C),E=Qz({inputs:{x:k},backend:a,attrs:{shape:[1,v[0],v[1]]}});b.push(k),b.push(E);const S=null!=r,T=null!=o,$="leakyrelu"===i,O=i?jz(i,!0):null,I=new Wz(E.shape,x.shape,[1,g,n.outChannels],!0,!1,S,O,T,$),N=[E,x];if(r&&N.push(r),T&&N.push(o),$){const e=a.makeTensorInfo([],"float32",x$(s,"float32"));N.push(e),b.push(e)}const R=a.runWebGLProgram(I,N,"float32"),P=Qz({inputs:{x:R},backend:a,attrs:{shape:h?[1,d,p,n.outChannels]:[1,n.outChannels,d,p]}});b.push(R);for(const e of b)a.disposeIntermediateTensorInfo(e);return P}const AH={kernelName:YE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dataFormat:l,dilations:c,dimRoundingMode:u}=a,p=eP(l),d=UR(r.shape,o.shape,s,c,i,u,!1,p);let f;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(xE().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])f=BH({x:r,filter:o,convInfo:d,backend:n});else{const e=new NH(d);f=n.runWebGLProgram(e,[r,o],"float32")}else f=MH({x:r,filter:o,convInfo:d,backend:n});const h=Qz({inputs:{x:f},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(f),h}};class _H{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${o}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class LH{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,i=n-1-e.padInfo.left,l=o?1:2,c=o?2:3,u=o?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${u}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${o}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class DH{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.padInfo.front,o=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${r};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${o};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${a} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class FH{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=a-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${i}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${r}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${a}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${a} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const zH={kernelName:KE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,dataFormat:l,dimRoundingMode:c,filterShape:u}=a,p=eP(l),d=UR(r.shape,u,s,1,i,c,!1,p),f=new _H(d);return n.runWebGLProgram(f,[r,o],"float32")}};const VH={kernelName:QE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{inputShape:s,strides:i,pad:l,dataFormat:c,dimRoundingMode:u}=a,p=eP(c),d=UR(s,o.shape,i,1,l,u,!1,p),f=new LH(d);return n.runWebGLProgram(f,[r,o],"float32")}};const HH={kernelName:ZE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a,c=GR(r.shape,o.shape,s,l,i),u=new RH(c);return n.runWebGLProgram(u,[r,o],"float32")}};const jH={kernelName:"Conv3DBackpropFilterV2",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,filterShape:l}=a,c=GR(r.shape,l,s,1,i),u=new DH(c);return n.runWebGLProgram(u,[r,o],"float32")}};const WH={kernelName:"Conv3DBackpropInputV2",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{pad:s,strides:i,inputShape:l}=a,c=GR(l,o.shape,i,1,s),u=new FH(c);return n.runWebGLProgram(u,[r,o],"float32")}},UH={kernelName:"Cos",backendName:"webgl",kernelFunc:Vz({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"})},GH=Vz({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),qH={kernelName:JE,backendName:"webgl",kernelFunc:GH};class XH{constructor(e,t,n,a,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,s,i,l]=e,[c]=t,[u,p]=n;this.outputShape=[c,u,p,l];const d="bilinear"===a?1:0,[f,h]=[s-1+".0",i-1+".0"],[m,g,v]=u>1?[""+(s-1)/(u-1),"(y2-y1) * height_ratio",`y1*${f} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${f}`],[b,y,x]=p>1?[""+(i-1)/(p-1),"(x2-x1) * width_ratio",`x1*${h} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${h}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${b});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${o}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${y};\n\n        float in_y = ${v};\n        if( in_y < 0.0 || in_y > ${f} ) {\n          setOutput(float(${r}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${h} ) {\n          setOutput(float(${r}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const YH={kernelName:nS,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:o,boxInd:s}=t,{cropSize:i,method:l,extrapolationValue:c}=a,u=new XH(r.shape,o.shape,i,l,c);return n.runWebGLProgram(u,[r,o,s],"float32")}};class KH{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const a=e.length,r=t?"1.0":`getX(${QH(a,"coords")})`,o=e[e.length-1];let s="",i="";t?(s=n?"end != "+(o-1):"end != 0",i=n?"end + 1":"end - 1"):(s=n?`end + pow2 < ${o}`:"end >= pow2",i=n?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${UL(a)} coords = getOutputCoords();\n        int end = ${ZH(a,"coords")};\n        float val = ${r};\n        int pow2 = int(pow(2.0, index));\n        if (${s}) {\n          int idx = ${i};\n          ${ZH(a,"coords")} = idx;\n          val *= getX(${QH(a,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function QH(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}function ZH(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}const JH={kernelName:eS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a,l=r.shape.length,c=ZN([o],l);let u=r;null!=c&&(u=iV({inputs:{x:r},backend:n,attrs:{perm:c}}));const p=eR(1,l)[0];if(p!==l-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${r.shape.length-1} but got axis=${o}`);const d=u.shape[p];let f=Rz({inputs:{x:u},backend:n});for(let e=0;e<=Math.ceil(Math.log2(d))-1;e++){const t=new KH(u.shape,!1,i),a=[[e]],r=f;f=n.runWebGLProgram(t,[f],f.dtype,a),n.disposeIntermediateTensorInfo(r)}if(s){const e=new KH(u.shape,s,i),t=f;f=n.runWebGLProgram(e,[f],f.dtype),n.disposeIntermediateTensorInfo(t)}if(null!=c){const e=iV({inputs:{x:f},backend:n,attrs:{perm:JN(c)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(u),e}return f}};class ej{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const a=e.length,r=t?"0.0":`getX(${tj(a,"coords")})`,o=e[e.length-1];let s="",i="";t?(s=n?"end != "+(o-1):"end != 0",i=n?"end + 1":"end - 1"):(s=n?`end + pow2 < ${o}`:"end >= pow2",i=n?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${UL(a)} coords = getOutputCoords();\n        int end = ${nj(a,"coords")};\n        float val = ${r};\n        int pow2 = int(pow(2.0, index));\n        if (${s}) {\n          int idx = ${i};\n          ${nj(a,"coords")} = idx;\n          val += getX(${tj(a,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function tj(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function nj(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}const aj={kernelName:tS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a,l=r.shape.length,c=ZN([o],l);let u=r;null!=c&&(u=iV({inputs:{x:r},backend:n,attrs:{perm:c}}));const p=eR(1,l)[0];if(p!==l-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${r.shape.length-1} but got axis=${o}`);const d=u.shape[p];let f=Rz({inputs:{x:u},backend:n});for(let e=0;e<=Math.ceil(Math.log2(d))-1;e++){const t=new ej(u.shape,!1,i),a=[[e]],r=f;f=n.runWebGLProgram(t,[f],f.dtype,a),n.disposeIntermediateTensorInfo(r)}if(s){const e=new ej(u.shape,s,i),t=f;f=n.runWebGLProgram(e,[f],f.dtype),n.disposeIntermediateTensorInfo(t)}if(null!=c){const e=iV({inputs:{x:f},backend:n,attrs:{perm:JN(c)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(u),e}return f}};const rj={kernelName:aS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s,binaryOutput:i}=a;if(1===r.shape.length){const e=n.readSync(r.dataId),t=n.readSync(o.dataId),a=SF(e,t,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,a)}if(2===r.shape.length){const e=n.bufferSync(r),t=n.bufferSync(o),a=TF(e,t,s,i);return n.makeTensorInfo(a.shape,o.dtype,a.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};class oj{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const sj={kernelName:rS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:o,dataFormat:s}=a,i=r.shape[0],l=("NHWC"===s?r.shape[1]:r.shape[2])*o,c=("NHWC"===s?r.shape[2]:r.shape[3])*o,u=("NHWC"===s?r.shape[3]:r.shape[1])/(o*o),p=new oj("NHWC"===s?[i,l,c,u]:[i,u,l,c],o,s);return n.runWebGLProgram(p,[r],r.dtype)}};class ij{constructor(e,t=!1,n=null,a=!1,r=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ZL(this.outputShape.length);const o=e.filterHeight,s=e.filterWidth,i=e.outChannels/e.inChannels;let l="",c="";n&&(l=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${o}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${u}\n        ${c}\n        setOutput(result);\n      }\n    `}}class lj{constructor(e,t=!1,n=null,a=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ZL(this.outputShape.length);const o=e.outChannels/e.inChannels,s=e.padInfo.left,i=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,p=u;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<u;e++)d+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;d+=`\n    for (int r = 0; r < ${c}; r++) {\n      `;for(let e=0;e<u;e++)d+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(p+1)/2;e++){const t=2*e;if(d+=`\n          xC = xCCorner + ${t*l};\n          `,1===i){if(t<u&&(s%2==1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,d+=1===l&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<u)){const e=s%2==0?Fk(l):l;l%2==0&&s%2==1||l%2!=0&&s%2!=1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,l>1&&(d+=`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                      xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                      xTexelC${t}Ready = 1;\n                    }\n                    `),d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                  `):d+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<u&&(s%2==1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<u&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<u&&(d+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<u&&(d+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<u&&(d+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let f="",h="";n&&(f=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,h="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${f}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${h}\n        setOutput(result);\n      }\n    `}}const cj={kernelName:oS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l,dimRoundingMode:c}=a;let u=l;null==u&&(u=[1,1]),Vk(JR(s,u),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`));const p=UR(r.shape,o.shape,s,u,i,c,!0);let d;d=xE().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels==1?new lj(p):new ij(p);const f=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(d,[r,o],"float32",f)}};class uj{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${o} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class pj{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${i}; dm++) {\n              int d2 = d1 * ${i} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const dj={kernelName:sS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,filterShape:u}=a,p=UR(r.shape,u,s,i,l,c,!0),d=new uj(p);return n.runWebGLProgram(d,[r,o],"float32")}};const fj={kernelName:iS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,inputShape:u}=a,p=UR(u,o.shape,s,i,l,c,!0),d=new pj(p);return n.runWebGLProgram(d,[r,o],"float32")}};class hj{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const mj={kernelName:"Diag",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=[...a.shape,...a.shape],o=Uk(a.shape),s=Qz({inputs:{x:a},backend:n,attrs:{shape:[o]}}),i=new hj(o),l=n.runWebGLProgram(i,[s],s.dtype),c=Qz({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}};class gj{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:a,strideHeight:r,strideWidth:o,filterHeight:s,filterWidth:i,dilationHeight:l,dilationWidth:c}=e,{top:u,left:p}=a;this.userCode=`\n      const ivec2 strides = ivec2(${r}, ${o});\n      const ivec2 pads = ivec2(${u}, ${p});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${i}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const vj={kernelName:lS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a,c=HR(r.shape,o.shape,s,i,"NHWC",l);let u;const p=new gj(c);u=n.runWebGLProgram(p,[r,o],"float32");const d=Qz({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),d}};const bj={kernelName:uS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,o=t,{allDims:s,summedDims:i,idDims:l}=VP(r,o.length);jP(s.length,l,o);const{path:c,steps:u}=WP(i,l),p=u.length;let d=null,f=s.length;const h=[];for(let e=0;e<p;++e){for(const t of u[e]){const{permutationIndices:e,expandDims:a}=HP(f,l[t]);let r;UP(e)?r=o[t]:(r=iV({inputs:{x:o[t]},backend:n,attrs:{perm:e}}),h.push(r));const s=r.shape.slice();for(let e=0;e<a.length;++e)s.splice(a[e],0,1);Gk(r.shape,s)||(r=Qz({inputs:{x:r},backend:n,attrs:{shape:s}}),h.push(r)),null===d?d=r:(d=Yz({inputs:{a:r,b:d},backend:n}),h.push(d))}e<p-1&&(c[e]>=0&&(d=oV({inputs:{x:d},backend:n,attrs:{axis:c[e]-(s.length-f),keepDims:!1}}),h.push(d)),f--)}for(const e of h)e!==d&&n.disposeIntermediateTensorInfo(e);return d}},yj={kernelName:"Elu",backendName:"webgl",kernelFunc:Vz({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"})},xj={kernelName:"EluGrad",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:a,y:r}=t,o=xE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Nz("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,r.shape):new Iz("return (b >= 1.0) ? a : a * (b + 1.0);",a.shape,r.shape);return n.runWebGLProgram(o,[a,r],a.dtype)}},wj=Hz({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:IF}),Cj={kernelName:pS,backendName:"webgl",kernelFunc:wj},kj={kernelName:"Erf",backendName:"webgl",kernelFunc:Vz({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${SP};\n  float a1 = ${TP};\n  float a2 = ${$P};\n  float a3 = ${OP};\n  float a4 = ${IP};\n  float a5 = ${NP};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`})},Ej=Vz({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:NF,dtype:"float32"}),Sj={kernelName:dS,backendName:"webgl",kernelFunc:Ej};function Tj(e){const{inputs:t,attrs:n,backend:a}=e,{dim:r}=n,{input:o}=t,s=o.shape.length,i=o.shape.slice();let l=r;return r<0&&(Vk(-(s+1)<=r,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),l=s+r+1),i.splice(l,0,1),Qz({inputs:{x:o},backend:a,attrs:{shape:i}})}const $j={kernelName:fS,backendName:"webgl",kernelFunc:Tj},Oj="return exp(x) - 1.0;",Ij=Vz({opSnippet:Oj,packedOpSnippet:Oj,cpuKernelImpl:RF}),Nj={kernelName:hS,backendName:"webgl",kernelFunc:Ij};class Rj{constructor(e,t,n){this.variableNames=["real","imag"];const a=t[1];this.outputShape=t;const r=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=n?`${a}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${r};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${a});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${a}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${o};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function Pj(e,t,n){const a=n.texData.get(e.dataId),r=Uk(e.shape),o=e.shape[e.shape.length-1],s=Qz({inputs:{x:e},backend:n,attrs:{shape:[r/o,o]}}),i=s.shape,l=new Rj("real",i,t),c=new Rj("imag",i,t),u=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i}],p=n.runWebGLProgram(l,u,"float32"),d=n.runWebGLProgram(c,u,"float32"),f=Mz({inputs:{real:p,imag:d},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d);const h=Qz({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(f),h}const Mj={kernelName:"FFT",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return Pj(a,!1,n)}};class Bj{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function Aj(e){const{backend:t,attrs:n}=e,{shape:a,value:r}=n;let{dtype:o}=n;if(o=o||oE(r),"string"===o){const e=eE(o,Uk(a));return e.fill(r),t.makeTensorInfo(a,o,e)}{const e=new Bj(a,r),n=[[r]];return t.runWebGLProgram(e,[],o,n)}}const _j={kernelName:mS,backendName:"webgl",kernelFunc:Aj};class Lj{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const Dj={kernelName:gS,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,a=t,r=new Lj(n.shape);return a.runWebGLProgram(r,[n],n.dtype)}},Fj="return floor(x);",zj=Vz({opSnippet:Fj,packedOpSnippet:Fj,cpuKernelImpl:PF}),Vj={kernelName:vS,backendName:"webgl",kernelFunc:zj},Hj=Hz({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),jj={kernelName:bS,backendName:"webgl",kernelFunc:Hj};class Wj{constructor(e){this.variableNames=["A"];const t=OL(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class Uj{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=OL(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${a}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const Gj={kernelName:GT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e;let{pixels:r}=t;const{numChannels:o}=a,s="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement,i="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,[l,c]=s?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[c,l],p=[c,l,o];(i||s)&&(null==qj&&(qj=document.createElement("canvas").getContext("2d")),qj.canvas.width=l,qj.canvas.height=c,qj.drawImage(r,0,0,l,c),r=qj.canvas);const d=n.makeTensorInfo(u,"int32");n.texData.get(d.dataId).usage=K_.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),r);const f=xE().getBool("WEBGL_PACK")?new Uj(p):new Wj(p),h=n.runWebGLProgram(f,[d],"int32");return n.disposeData(d.dataId),h}};let qj;const Xj={kernelName:YT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dataFormat:u,dilations:p,dimRoundingMode:d,activation:f,leakyreluAlpha:h}=a,m=eP(u),g=UR(r.shape,o.shape,l,p,c,d,!1,m);let v;const b=[];if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(xE().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])v=BH({x:r,filter:o,convInfo:g,backend:n,bias:s,activation:f,preluActivationWeights:i,leakyreluAlpha:h});else{const e=null!=s,t=null!=i,a="leakyrelu"===f,l=f?jz(f,!1):null,c=new NH(g,e,l,t,a),u=[r,o];if(s&&u.push(s),i&&u.push(i),a){const e=n.makeTensorInfo([],"float32",x$(h,"float32"));u.push(e),b.push(e)}v=n.runWebGLProgram(c,u,"float32")}else v=MH({x:r,filter:o,convInfo:g,backend:n,bias:s,activation:f,preluActivationWeights:i,leakyreluAlpha:h});const y=Qz({inputs:{x:v},backend:n,attrs:{shape:g.outShape}});return b.push(v),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const Yj={kernelName:KT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:p,activation:d,leakyreluAlpha:f}=a,h=[];let m=u;null==m&&(m=[1,1]),Vk(JR(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=UR(r.shape,o.shape,l,m,c,p,!0),v=xE().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,b=d?jz(d,v):null,y=[r,o],x=null!=s,w=null!=i,C="leakyrelu"===d;if(x&&y.push(s),w&&y.push(i),C){const e=n.makeTensorInfo([],"float32",x$(f,"float32"));y.push(e),h.push(e)}let k;k=v?new lj(g,x,b,w,C):new ij(g,x,b,w,C);const E=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],S=n.runWebGLProgram(k,y,"float32",E);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};class Kj{constructor(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;const a=UL(t.length),r=UL(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${a} strides = ${a}(${this.strides});\n         void main() {\n          ${r} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${o};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}const Qj={kernelName:wS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,o=r.shape,s=o[o.length-1],i=Uk(a.shape),[l,c,u,p]=yP(a,r),d=Qz({inputs:{x:r},backend:n,attrs:{shape:[c,s]}}),f=Qz({inputs:{x:a},backend:n,attrs:{shape:[Uk(a.shape)/u,u]}});if(n.shouldExecuteOnCPU([a,r])||"string"===a.dtype){const e=n.readSync(r.dataId),t=n.bufferSync(a),o=MF(e,t,a.dtype,c,s,u,p,a.shape,i);return n.makeTensorInfo(l,a.dtype,o.values)}const h=new Kj(s,p,[c,u]),m=n.runWebGLProgram(h,[f,d],f.dtype),g=Qz({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};class Zj{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=UL(this.rank),a=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let t=0;t<e.length;t++)2===t?a.push("index"):a.push(`${n[t]}`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${a}));\n      }\n    `}}function Jj(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:o}=t,{axis:s,batchDims:i}=a,l=Qk(s,r.shape)[0];if(xE().get("DEBUG")){const e=n.readSync(o.dataId),t=r.shape[l];for(let n=0;n<e.length;++n){const a=e[n];Vk(a<=t-1&&a>=0,(()=>`GatherV2: the index value ${a} is not in [0, ${t-1}]`))}}const c=lM(r,o,l,i),u=Uk(o.shape),p=[],d=Qz({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),f=Qz({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});p.push(d),p.push(f);const h=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.bufferSync(f),t=n.bufferSync(d),a=BF(t,e,h);return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,a.dtype,a.values)}const m=new Zj(d.shape,h),g=n.runWebGLProgram(m,[d,f],d.dtype);p.push(g);const v=Qz({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}const eW={kernelName:xS,backendName:"webgl",kernelFunc:Jj},tW=Hz({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:AF,dtype:"bool"}),nW={kernelName:CS,backendName:"webgl",kernelFunc:tW},aW=Hz({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:_F}),rW={kernelName:kS,backendName:"webgl",kernelFunc:aW};const oW={kernelName:SS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return Pj(a,!0,n)}},sW={kernelName:"IsFinite",backendName:"webgl",kernelFunc:Vz({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"})},iW={kernelName:"IsInf",backendName:"webgl",kernelFunc:Vz({opSnippet:"return float(isinf(x));",dtype:"bool"})},lW=Vz({opSnippet:"return float(isnan(x));",dtype:"bool"}),cW={kernelName:$S,backendName:"webgl",kernelFunc:lW},uW=Hz({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:LF,dtype:"bool"}),pW={kernelName:IS,backendName:"webgl",kernelFunc:uW},dW=Hz({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:DF,dtype:"bool"}),fW={kernelName:NS,backendName:"webgl",kernelFunc:dW};const hW={kernelName:RS,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,num:o}=n,s=FF(a,r,o);return t.makeTensorInfo([s.length],"float32",s)}},mW=Vz({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:zF}),gW={kernelName:PS,backendName:"webgl",kernelFunc:mW},vW=Vz({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),bW={kernelName:MS,backendName:"webgl",kernelFunc:vW},yW=Hz({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),xW={kernelName:BS,backendName:"webgl",kernelFunc:yW},wW=Vz({opSnippet:"return float(!(x >= 1.0));"}),CW={kernelName:AS,backendName:"webgl",kernelFunc:wW},kW=Hz({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),EW={kernelName:_S,backendName:"webgl",kernelFunc:kW};class SW{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[];const o=t,s=e[3]-1;let i;this.outputShape=e;const l=`float(${n}) + float(${a}) * sum`;i=.5===r?`inversesqrt(${l})`:1===r?`1.0/(${l})`:`exp(log(${l}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${o}; j <= ${o}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${i};\n        setOutput(val);\n      }\n    `}}class TW{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=t,s=e[3]-1;let i;this.outputShape=e;const l=`float(${n}) + float(${a}) * sum`;i=.5===r?`inversesqrt(${l})`:1===r?`1.0/(${l})`:`exp(log(${l}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${o};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${o}; j <= ${o}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${i};\n        setOutput(result);\n      }\n    `}}const $W={kernelName:"LRN",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=a,c=xE().getBool("WEBGL_PACK_NORMALIZATION")?new TW(r.shape,o,s,i,l):new SW(r.shape,o,s,i,l);return n.runWebGLProgram(c,[r],r.dtype)}};class OW{constructor(e,t,n,a,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=a,this.beta=r,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${a}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${a})\n                * float(${r})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${r});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const IW={kernelName:"LRNGrad",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:c,beta:u}=a,p=new OW(r.shape,i,l,c,u);return n.runWebGLProgram(p,[r,o,s],r.dtype)}};function NW(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:o,keepDims:s}=a,i=r.shape.length,l=Qk(o,r.shape);let c=l;const u=ZN(c,i),p=null!=u,d=n.shouldExecuteOnCPU([r]);let f=r;if(p){if(d){const e=n.texData.get(f.dataId).values,t=new Array(i);for(let e=0;e<t.length;e++)t[e]=r.shape[u[e]];const a=uz(e,r.shape,r.dtype,u,t);f=n.makeTensorInfo(t,r.dtype);n.texData.get(f.dataId).values=a}else f=rV(r,u,n);c=eR(c.length,i)}QN("max",c,i);const[h,m]=YN(f.shape,c);let g,v=h;if(s&&(v=KN(h,l)),d){const e=n.texData.get(f.dataId).values,t=VF(e,Uk(m),v,r.dtype);g=n.makeTensorInfo(v,r.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,a){const r=Uk(t),o=Qz({inputs:{x:e},attrs:{shape:[Uk(e.shape)/r,r]},backend:a}),s=tV(o,e.dtype,"max",a),i=Qz({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}(f,m,v,n);return p&&n.disposeIntermediateTensorInfo(f),g}const RW={kernelName:"Max",backendName:"webgl",kernelFunc:NW},PW=Hz({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:HF}),MW={kernelName:LS,backendName:"webgl",kernelFunc:PW};const BW={kernelName:DS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;TL(r,"maxPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;Vk(JR(s,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const c=jR(r.shape,o,s,1,i,l);if(1===c.filterWidth&&1===c.filterHeight&&Gk(c.inShape,c.outShape))return Rz({inputs:{x:r},backend:n});const u=new HV(c,"max",!1);return n.runWebGLProgram(u,[r],r.dtype)}};const AW={kernelName:FS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dataFormat:l,dimRoundingMode:c}=a,u=WR(r.shape,o,s,[1,1,1],i,c,l),p=new jV(u,"max",!1);return n.runWebGLProgram(p,[r],r.dtype)}};class _W{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,a=e.dilationHeight,r=e.effectiveFilterHeight,o=e.effectiveFilterWidth,s=r-1-e.padInfo.top,i=o-1-e.padInfo.left,l=r*o-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${r};\n          wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${o}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${o} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class LW{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.dilationDepth,o=e.dilationHeight,s=e.dilationWidth,i=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=i-1-e.padInfo.front,p=l-1-e.padInfo.top,d=c-1-e.padInfo.left,f=i*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${p}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${i};\n           wD += ${r}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${o}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${f} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const DW={kernelName:"MaxPool3DGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o,{filterSize:i,strides:l,pad:c,dimRoundingMode:u}=a,p=WR(s.shape,i,l,[1,1,1],c,u),d=new jV(p,"max",!0),f=n.runWebGLProgram(d,[s],s.dtype),h=new LW(p),m=n.runWebGLProgram(h,[r,f],s.dtype);return n.disposeIntermediateTensorInfo(f),m}};const FW={kernelName:"MaxPoolGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:s}=t,i=o;TL([o,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:p}=a,d=jR(i.shape,l,c,1,u,p),f=new HV(d,"max",!0),h=n.runWebGLProgram(f,[i],i.dtype),m=new _W(d),g=n.runWebGLProgram(m,[r,h],i.dtype);return n.disposeIntermediateTensorInfo(h),g}};const zW={kernelName:zS,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{filterSize:r,strides:o,pad:s,includeBatchInIndex:i}=t,l=n;Vk(4===a.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`));const c=[1,1];Vk(JR(o,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`));const u=jR(a.shape,r,o,c,s),[p,d]=function(e,t,n,a){let r=new HV(n,"max",!1);const o=a.runWebGLProgram(r,[e],"float32");return r=new HV(n,"max",!0,!0,t),[o,a.runWebGLProgram(r,[e],"float32")]}(a,i,u,l);return[p,d]}};const VW={kernelName:VS,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{keepDims:r,axis:o}=t,s=n,i=a.shape.length,l=Qk(o,a.shape);let c=l;const u=ZN(c,i),p=null!=u,d=s.shouldExecuteOnCPU([a]),f=[];let h=a;if(p){if(d){const e=s.texData.get(h.dataId).values,t=new Array(i);for(let e=0;e<t.length;e++)t[e]=a.shape[u[e]];const n=uz(e,a.shape,a.dtype,u,t);h=s.makeTensorInfo(t,a.dtype);s.texData.get(h.dataId).values=n}else h=rV(a,u,s);f.push(h),c=eR(c.length,i)}QN("sum",c,i);const[m,g]=YN(h.shape,c);let v=m;r&&(v=KN(m,l));const b=function(e,t,n,a){const r=Uk(t),o=Qz({inputs:{x:e},attrs:{shape:[Uk(e.shape)/r,r]},backend:a}),s=tV(o,"float32","mean",a),i=Qz({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}(h,g,v,s);for(const e of f)s.disposeIntermediateTensorInfo(e);return b}};const HW={kernelName:"Min",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Qk(o,r.shape);let c=l;const u=ZN(c,i);let p=r;null!=u&&(p=iV({inputs:{x:r},backend:n,attrs:{perm:u}}),c=eR(c.length,r.shape.length)),QN("min",c,i);const[d,f]=YN(p.shape,c),h=Qz({inputs:{x:p},backend:n,attrs:{shape:[-1,Uk(f)]}}),m=tV(h,h.dtype,"min",n);let g;if(s){g=Qz({inputs:{x:m},backend:n,attrs:{shape:KN(d,l)}})}else g=Qz({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(p),g}},jW=Hz({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:jF}),WW={kernelName:HS,backendName:"webgl",kernelFunc:jW};class UW{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=UL(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===n?0:1;this.userCode=1!==a?`\n      ${r} start = ${r}(${o});\n      ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        for (int i = 0; i < ${a}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${r} coords = outC - start;\n        setOutput(getX(${i}));\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class GW{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=UL(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=fz("rc",a),l=fz("source",a),c=`${i[a-1]} < ${this.outputShape[a-1]}`,u=1===a?"source":`vec2(${l.slice(-2).join()})`,p="reflect"===n?0:1;let d="";if(1===a){const e=`\n        ${r} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${p};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${p};\n        }\n        source -= start;\n      `;d=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${i[a-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n      `}else{const e=`\n        ${r} source = rc;\n        ${r} lt = ${r}(lessThan(source, start));\n        ${r} gte = ${r}(greaterThanEqual(source, end));\n        ${r} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${p}) +\n                gte * ((end - 1) * 2 - source + ${p});\n        source -= start;\n      `;d=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${i[a-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n        rc = outputLoc;\n        ${i[a-2]} += 1;\n        if(${i[a-2]} < ${this.outputShape[a-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${u});\n          ${i[a-1]} += 1;\n          if(${c}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${u});\n          }\n        }\n      `}this.userCode=`\n      const ${r} start = ${r}(${o});\n      const ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const qW={kernelName:jS,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a}=e,{paddings:r,mode:o}=n,s=xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new GW(a.shape,r,o):new UW(a.shape,r,o);return t.runWebGLProgram(s,[a],a.dtype)}},XW={kernelName:"Mod",backendName:"webgl",kernelFunc:Hz({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"})};class YW{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const KW=Hz({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),QW={kernelName:cS,backendName:"webgl",kernelFunc:KW},ZW="return a - b;",JW=Hz({opSnippet:ZW,packedOpSnippet:ZW,supportsComplex:!0,cpuKernelImpl:iz}),eU={kernelName:_T,backendName:"webgl",kernelFunc:JW};function tU(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:o}=a,s=Qk([o],r.shape),i=NW({inputs:{x:r},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=KN(i.shape,s),c=Qz({inputs:{x:i},backend:n,attrs:{shape:l}}),u=JW({inputs:{a:r,b:c},backend:n}),p=Ej({inputs:{x:u},backend:n}),d=oV({inputs:{x:p},backend:n,attrs:{axis:s,keepDims:!1}}),f=Qz({inputs:{x:d},backend:n,attrs:{shape:l}}),h=KW({inputs:{a:p,b:f},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),h}const nU={kernelName:ST,backendName:"webgl",kernelFunc:tU};const aU={kernelName:WS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:o,seed:s,normalized:i}=a,l=i?r:tU({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),c=l.shape[0],u=l.shape[1],p=new YW(c,u,o),d=[[s]],f=n.runWebGLProgram(p,[l],"int32",d);return i||n.disposeIntermediateTensorInfo(l),f}};const rU={kernelName:GS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])){const e=n.texData.get(a.dataId),[t,r]=UF(e.values,a.shape,a.dtype);return n.makeTensorInfo(r,a.dtype,t)}let r;return r=xE().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new kz(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new xz(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),n.runWebGLProgram(r,[a],a.dtype)}},oU=xN;const sU={kernelName:XS,backendName:"webgl",kernelFunc:function(e){QT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=a,c=n.readSync(r.dataId),u=n.readSync(o.dataId),{selectedIndices:p}=oU(c,u,s,i,l);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},iU=wN;const lU={kernelName:YS,backendName:"webgl",kernelFunc:function(e){QT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:c}=a,u=n.readSync(r.dataId),p=n.readSync(o.dataId),{selectedIndices:d,validOutputs:f}=iU(u,p,s,i,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}},cU=CN;const uU={kernelName:KS,backendName:"webgl",kernelFunc:function(e){QT("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:c}=a,u=n.readSync(r.dataId),p=n.readSync(o.dataId),d=s,f=i,h=l,m=c,{selectedIndices:g,selectedScores:v}=cU(u,p,d,f,h,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}};class pU{constructor(e,t,n,a){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${a}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const dU={kernelName:ZS,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{depth:o,onValue:s,offValue:i}=a,l=Uk(r.shape),c=new pU(l,o,s,i),u=Qz({inputs:{x:r},backend:n,attrs:{shape:[l]}}),p=n.runWebGLProgram(c,[u],r.dtype);n.disposeIntermediateTensorInfo(u);const d=Qz({inputs:{x:p},backend:n,attrs:{shape:[...r.shape,o]}});return n.disposeIntermediateTensorInfo(p),d}};function fU(e){const{inputs:t,backend:n}=e,{x:a}=t;if("complex64"===a.dtype){const e=uH({inputs:{input:a},backend:n}),t=fU({inputs:{x:e},backend:n}),r=SH({inputs:{input:a},backend:n}),o=fU({inputs:{x:r},backend:n}),s=Mz({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),s}return Aj({attrs:{shape:a.shape,dtype:a.dtype,value:"string"===a.dtype?"":0},backend:n})}const hU={kernelName:WT,backendName:"webgl",kernelFunc:fU};const mU={kernelName:QS,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===r.dtype){const t=uH({inputs:{input:r},backend:a}),n=e({inputs:{x:t},backend:a}),o=SH({inputs:{input:r},backend:a}),s=fU({inputs:{x:o},backend:a}),i=Mz({inputs:{real:n,imag:s},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}return Aj({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:a})}};const gU={kernelName:JS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return Tj({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{Hk(o,e.shape,"All tensors passed to stack must have matching shapes"),Vk(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],l=t.map((e=>{const t=Tj({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),c=OH({inputs:l,backend:n,attrs:{axis:r}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};class vU{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=UL(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?`\n      ${r} start = ${r}(${o});\n      ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${r} coords = outC - start;\n          setOutput(getX(${i}));\n        }\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class bU{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=UL(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=fz("rc",a),l=fz("source",a),c=`${i[a-1]} < ${this.outputShape[a-1]}`,u=1===a?"source":`vec2(${l.slice(-2).join()})`,p=[`${r} rc = outputLoc;`,`${i[a-1]} += 1;\n       if(${c}) {\n      `,1===a?"":`}\n       rc = outputLoc;\n       ${i[a-2]} += 1;\n       if(${i[a-2]} < ${this.outputShape[a-2]}) {`,1===a?"":`  ${i[a-1]} += 1;\n         if(${c}) {`],d=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let f="";for(let e=0,t=1===a?2:4;e<t;e++)f+=`\n        ${p[e]}\n        if (${d}) {\n          result[${e}] = float(value);\n        } else {\n          ${r} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${u});\n        }\n      `;f+=1===a?"} ":"}}",this.userCode=`\n      const ${r} start = ${r}(${o});\n      const ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${f}\n        setOutput(result);\n      }\n    `}}const yU=e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,constantValue:s}=a;if(0===Uk(r.shape)){const e=o.map(((e,t)=>e[0]+r.shape[t]+e[1]));return Aj({backend:n,attrs:{shape:e,value:s,dtype:r.dtype}})}const i=xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bU(r.shape,o,s):new vU(r.shape,o,s),l=[[s]];return n.runWebGLProgram(i,[r],r.dtype,l)},xU={kernelName:eT,backendName:"webgl",kernelFunc:yU},wU={kernelName:"Pow",backendName:"webgl",kernelFunc:Hz({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"})};const CU={kernelName:nT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=[],c=Qk(o,r.shape);let u=c;const p=ZN(u,i);let d,f=r;if(null!=p&&(f=iV({inputs:{x:r},backend:n,attrs:{perm:p}}),u=eR(u.length,i),l.push(f)),QN("prod",u,i),n.shouldExecuteOnCPU([f])){const e=n.texData.get(f.dataId).values,{outVals:t,outShape:a,outDtype:r}=qF(f.shape,f.dtype,e,u);d=n.makeTensorInfo(a,r,t)}else{const[e,t]=YN(f.shape,u),a=Uk(t),o=Qz({inputs:{x:f},backend:n,attrs:{shape:[-1,a]}}),s=tV(o,G$(r.dtype),"prod",n);d=Qz({inputs:{x:s},backend:n,attrs:{shape:e}}),l.push(o),l.push(s)}if(s){l.push(d);const e=KN(d.shape,c);d=Qz({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},kU=e=>{const{backend:t,attrs:n}=e,{start:a,stop:r,step:o,dtype:s}=n,i=XF(a,r,o,s);return t.makeTensorInfo([i.length],s,i)},EU={kernelName:aT,backendName:"webgl",kernelFunc:kU},SU=Vz({opSnippet:"return 1.0 / x;"}),TU={kernelName:oT,backendName:"webgl",kernelFunc:SU},$U=Vz({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),OU={kernelName:sT,backendName:"webgl",kernelFunc:$U},IU=Vz({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),NU={kernelName:uT,backendName:"webgl",kernelFunc:IU};class RU{constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let p;p=r?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${i}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class PU{constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let p;p=r?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${i}.0,\n                                     ${i}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const MU={kernelName:cT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a,[l,c]=i,u=xE().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new PU(r.shape,l,c,o,s):new RU(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],"float32")}};class BU{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,s]=e,i=[n&&o>1?a-1:a,n&&s>1?r-1:r],l=[n&&o>1?o-1:o,n&&s>1?s-1:s],c=i[0]/l[0],u=i[1]/l[1],p=1/c,d=1/u,f=2*Math.ceil(p)+2,h=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${p});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${f});\n        const int winWidth = int(${h});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${r-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const AU={kernelName:"ResizeBilinearGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a,i=new BU(o.shape,r.shape,s);return n.runWebGLProgram(i,[o],o.dtype)}};class _U{constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],p=a?"0.5":"0.0";let d;d=r?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${i}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class LU{constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],p=a?"0.5":"0.0";let d;d=r?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${i}.0,\n                                     ${i}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const DU={kernelName:lT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a,[l,c]=i,u=xE().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new LU(r.shape,l,c,o,s):new _U(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],r.dtype)}};class FU{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,s]=e,i=[n&&o>1?a-1:a,n&&s>1?r-1:r],l=[n&&o>1?o-1:o,n&&s>1?s-1:s],c=i[0]/l[0],u=i[1]/l[1],p=1/c,d=1/u,f=2*Math.ceil(p)+2,h=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${p});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${f});\n        const int winWidth = int(${h});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${i[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${i[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const zU={kernelName:"ResizeNearestNeighborGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a,i=new FU(o.shape,r.shape,s);return n.runWebGLProgram(i,[o],o.dtype)}};class VU{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const a=e.map(((n,a)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(a))).join(","),r=UL(n);this.userCode=`\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}class HU{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const a=fz("rc",n),r=`${a[n-1]} + 1 < ${this.outputShape[n-1]}`,o=`${a[n-2]} + 1 < ${this.outputShape[n-2]}`,s=UL(n);function i(n){const a=e.map(((a,r)=>function(n,a){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${a[n]} - 1`:`${a[n]}`}(r,n)));return`getChannel(getX(${a.join(",")}), vec2(${a.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${r}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return i(e)}(a.slice())};\n          if(${r}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",i(e)}(a.slice())};\n          }\n          if(${o}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice())};\n            if(${r}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const jU={kernelName:pT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a,s=r.shape.length,i=Qk(o,r.shape);if(0===s)return Rz({inputs:{x:r},backend:n});const l=xE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new HU(r.shape,i):new VU(r.shape,i);return n.runWebGLProgram(l,[r],r.dtype)}};class WU{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],a=e[2];this.outputShape=e;let r="";r="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${r}\n          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const UU={kernelName:qT,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:a}=e,{radians:r,fillValue:o,center:s}=t,i=n,l=new WU(a.shape,o),[c,u]=fP(s,a.shape[1],a.shape[2]),p=[[c,u,Math.sin(r),Math.cos(r)]];return i.runWebGLProgram(l,[a],a.dtype,p)}},GU=Vz({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),qU={kernelName:dT,backendName:"webgl",kernelFunc:GU},XU=Vz({opSnippet:"return inversesqrt(x);",cpuKernelImpl:YF}),YU={kernelName:fT,backendName:"webgl",kernelFunc:XU};class KU{constructor(e,t,n,a,r,o,s=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const i=UL(r.length),l=UL(o.length);let c="";1===n?c="i":2===n&&(c="i, j");const u=`getIndices(${c})`;let p="";1===a?p="i":2===a&&(p="i, coords[1]");const d=`getUpdates(${p})`,f=t>1?"strides[j]":"strides";this.userCode=`\n        ${i} strides = ${i}(${r});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${u});\n              flattenedIndex += index * ${f};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${d};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}const QU={kernelName:hT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:o}=t,{shape:s}=a,{sliceRank:i,numUpdates:l,sliceSize:c,strides:u,outputSize:p}=CP(0,r,s),d=[p/c,c];if(0===p)return n.makeTensorInfo(s,r.dtype);const f=Qz({inputs:{x:r},backend:n,attrs:{shape:[l,i]}}),h=Qz({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new KU(l,i,f.shape.length,h.shape.length,u,d),v=n.runWebGLProgram(g,[h,f,m],h.dtype),b=Qz({inputs:{x:v},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),b}};class ZU{constructor(e,t,n){let a,r;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)r="resRC",a="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[];for(let a=0;a<t.length;a++)s.push(`${n[a]}`),a<e&&o.push(`${n[a]}`);a=o.join(),r=s.join()}const o=UL(n);this.userCode=`\n      void main() {\n        ${o} resRC = getOutputCoords();\n        float cVal = getC(${a});\n        if (cVal >= 1.0) {\n          setOutput(getA(${r}));\n        } else {\n          setOutput(getB(${r}));\n        }\n      }\n    `}}const JU={kernelName:mT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t,s=new ZU(a.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(s,[a,r,o],U$(r.dtype,o.dtype))}},eG=Vz({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${kP};\n  float scale = ${EP};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),tG={kernelName:gT,backendName:"webgl",kernelFunc:eG},nG=Vz({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:KF}),aG={kernelName:xT,backendName:"webgl",kernelFunc:nG},rG=Vz({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),oG={kernelName:yT,backendName:"webgl",kernelFunc:rG},sG={kernelName:"Sin",backendName:"webgl",kernelFunc:Vz({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"})},iG=Vz({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),lG={kernelName:bT,backendName:"webgl",kernelFunc:iG},cG=Vz({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),uG={kernelName:wT,backendName:"webgl",kernelFunc:cG},pG={kernelName:kT,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,paddings:s}=a;Vk(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const i=o.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...s);for(let e=1+o.length;e<r.shape.length;++e)l.push([0,0]);const c=[],u=yU({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),p=hP(u.shape,o,i,!1),d=mP(p.length,o.length,!1),f=gP(u.shape,o,i,!1),h=Qz({inputs:{x:u},backend:n,attrs:{shape:p}}),m=iV({inputs:{x:h},backend:n,attrs:{perm:d}}),g=Qz({inputs:{x:m},backend:n,attrs:{shape:f}});return c.push(u),c.push(h),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const dG={kernelName:TT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:r,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${o.shape}`);if(2!==a.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${a.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const i=n.readSync(a.dataId),l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=n.readSync(s.dataId)[0],[p,d,f,h,m]=JF(i,a.shape,a.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(d,a.dtype,p),n.makeTensorInfo([d[0]],r.dtype,f),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map((e=>Number(e))))),n.makeTensorInfo([m.length],a.dtype,new Int32Array(m))]}};const fG={kernelName:$T,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:r,newShape:o}=t;if(2!==a.shape.length)throw new Error(`Input indices should be a matrix but received shape ${a.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=Array.from(n.readSync(r.dataId)),i=n.readSync(a.dataId),l=Array.from(n.readSync(o.dataId)),[c,u,p]=ez(i,a.shape,a.dtype,s,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([p.length],o.dtype,new Int32Array(p))]}};const hG={kernelName:OT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${o.shape}`);const s=n.readSync(a.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=tz(s,a.shape,a.dtype,i,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const mG={kernelName:IT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${o.shape}`);const s=n.readSync(a.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=tz(s,a.shape,a.dtype,i,l);return n.makeTensorInfo(u,a.dtype,c)}};const gG={kernelName:NT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:o,defaultValue:s}=t,{outputShape:i}=a,{sliceRank:l,numUpdates:c,strides:u,outputSize:p}=CP(0,r,i),d=new KU(c,l,r.shape.length,o.shape.length,u,[p,1],!1),f=n.runWebGLProgram(d,[o,r,s],o.dtype),h=Qz({inputs:{x:f},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(f),h}};const vG={kernelName:ET,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=a,i=Qk(s,r.shape)[0],l=qP(r,o,i),c=r.shape.length,u=new Array(c).fill(0),p=r.shape.slice();return l.map((e=>{const t=[...p];t[i]=e;const a=aH({inputs:{x:r},backend:n,attrs:{begin:u,size:t}});return u[i]+=e,a}))}},bG="return sqrt(x);",yG=Vz({opSnippet:bG,packedOpSnippet:bG,cpuKernelImpl:nz}),xG={kernelName:CT,backendName:"webgl",kernelFunc:yG},wG={kernelName:"Square",backendName:"webgl",kernelFunc:Vz({opSnippet:"return x * x;"})},CG="return (a - b) * (a - b);",kG=Hz({opSnippet:CG,packedOpSnippet:CG}),EG={kernelName:RT,backendName:"webgl",kernelFunc:kG};const SG={kernelName:UT,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:a}=e,r=`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,o=new xz(a.shape,r);return n.runWebGLProgram(o,[a],a.dtype)}};class TG{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const a=n.length,r=UL(n.length),o=UL(n.length);let s="";if(1===a)s="coords * strides + begin";else{let e=0;s=n.map(((t,a)=>(e++,1===n.length?`coords * strides[${a}] + begin[${a}]`:`coords[${e-1}] * strides[${a}] + begin[${a}]`))).join(",")}this.userCode=`\n      ${r} begin = ${r}(${e});\n      ${r} strides = ${r}(${t});\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}const $G={kernelName:PT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,end:s,strides:i,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:p,shrinkAxisMask:d}=a,{finalShapeSparse:f,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:b,end:y,strides:x}=PI(r.shape,o,s,i,l,c,u,p,d);let w;if(m)w=Qz({inputs:{x:r},backend:n,attrs:{shape:h}});else if(g||v){Vk(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=yI(b,y,x),t=aH({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});w=Qz({inputs:{x:t},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([r])){const e=n.readSync(r.dataId),t=ZO(r.shape,r.dtype,e),a=az(f,t,x,b);w=n.makeTensorInfo(h,r.dtype,a.values)}else{const e=new TG(b,x,f);w=n.runWebGLProgram(e,[r],r.dtype)}}const C=Qz({inputs:{x:w},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(w),C}};const OG={kernelName:MT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:r,nGramWidths:o,leftPad:s,rightPad:i,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:p}=t,d=n.readSync(u.dataId),f=n.readSync(p.dataId),[h,m]=rz(d,f,r,o,s,i,l,c);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(p.shape,"int32",m)]}};const IG={kernelName:BT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:r}=a,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const i=n.readSync(o.dataId),l=n.readSync(s.dataId)[0],[c,u,p]=oz(i,l,r),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};const NG={kernelName:AT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:r}=a,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(o.dataId),i=sz(s,r);return n.makeTensorInfo(o.shape,"int32",i)}},RG={kernelName:"Tan",backendName:"webgl",kernelFunc:Vz({opSnippet:"return tan(x);"})},PG=Vz({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),MG={kernelName:LT,backendName:"webgl",kernelFunc:PG};class BG{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const a=UL(this.rank),r=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let t=0;t<e.length;t++)a.push(`imod(${n[t]}, ${e[t]})`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        setOutput(getA(${r}));\n      }\n    `}}function AG(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:o}=a;if("string"===r.dtype||r.shape.length>5){const e=n.readSync(r.dataId),t="string"===r.dtype?e.map((e=>E$(e))):e,a=ZO(r.shape,r.dtype,t),s=lz(a,o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const s=new BG(r.shape,o);return n.runWebGLProgram(s,[r],r.dtype)}const _G={kernelName:DT,backendName:"webgl",kernelFunc:AG};class LG{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class DG{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function FG(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function zG(e){let t=1;for(;t<e;)t*=2;return t}const VG={kernelName:FT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:o,sorted:s}=a,i=xE().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=xE().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=r.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([r])||u<i||o>l){const e=n.readSync(r.dataId),[t,a]=cz(e,c,r.dtype,o,s);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(a.shape,a.dtype,a.values)]}if(0===o)return c[c.length-1]=0,[n.makeTensorInfo(c,r.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[r,Aj({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const p=n.texData.get(r.dataId),d=null!==p&&p.isPacked,f=d?n.unpackTensor(r):r,h=Uk(c)/u,m=Qz({inputs:{x:f},attrs:{shape:[h,u]},backend:n});d&&FG(n,f);const g=zG(o),v=zG(u);let b=null;const y=()=>null===b?[m,m]:[m,b],x=(e,t,a)=>{const r=y(),o=new LG(a),s=[[u],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],i=b;b=n.runWebGLProgram(o,r,"int32",s),FG(n,i)};for(let e=1;e<g;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)x(t,n,[h,v])}for(let e=v;e>g;e/=2){const t=y(),a=new DG([h,e/2]),r=[[u],[null===b?1:0],[g]],o=b;b=n.runWebGLProgram(a,t,"int32",r),FG(n,o);const s=g/2,i=2*s;for(let e=s;e>=1;e/=2)x(i,e,b.shape)}let w=b;b=aH({inputs:{x:b},backend:n,attrs:{begin:0,size:[h,o]}}),FG(n,w);let C=Jj({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});FG(n,m);const k=c.slice(0,-1);k.push(o),w=b,b=Qz({inputs:{x:b},attrs:{shape:k},backend:n}),FG(n,w);const E=C;return C=Qz({inputs:{x:C},attrs:{shape:k},backend:n}),FG(n,E),[C,b]}};class HG{constructor(e,t,n,a,r,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const s="nearest"===n?1:2;let i;switch(a){case"constant":default:i=1;break;case"reflect":i=2;break;case"wrap":i=3;break;case"nearest":i=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${i} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${i} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${i} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${r});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${r});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const jG={kernelName:zT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,transforms:o}=t,{interpolation:s,fillMode:i,fillValue:l,outputShape:c}=a,[u,p,d,f]=r.shape,[h,m]=null!=c?c:[p,d],g=new HG(p,d,s,i,l,[u,h,m,f]);return n.runWebGLProgram(g,[r,o],"float32")}};const WG={kernelName:HT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;TL(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=a.readSync(o.dataId),{outputValues:i,outputShape:l,indices:c}=pz(s,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,i),a.makeTensorInfo([c.length],"int32",c)]}};const UG={kernelName:jT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:o}=a;o<0&&(o+=r.shape.length);const s=r,i=s.shape.length,l=r.shape[o],c=new Array(i-1);let u=0;for(let e=0;e<i;e++)e!==o&&(c[u++]=s.shape[e]);const p=[],d=new Array(i).fill(0),f=s.shape.slice();f[o]=1;const h=new Array(l);for(let e=0;e<h.length;e++){d[o]=e;const t=aH({inputs:{x:s},backend:n,attrs:{begin:d,size:f}}),a=Qz({inputs:{x:t},backend:n,attrs:{shape:c}});h[e]=a,p.push(t)}return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};class GG{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,a=e.batchSize,r=e.inSize,o=e.numSegments,s=o*Math.ceil(r/n);this.outputShape=[a,s];const i=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";r%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `);let p="";r%n>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${p}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${o})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${o})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}const qG={kernelName:"UnsortedSegmentSum",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:o}=t,{numSegments:s}=a,i=r.shape.length,l=[];let c=0;const u=ZN([c],i);let p=r;null!=u&&(p=iV({inputs:{x:r},backend:n,attrs:{perm:u}}),l.push(p),c=eR(1,i)[0]);const d=iM(p.shape,c,s),f=Uk([p.shape[c]]),h=Qz({inputs:{x:p},backend:n,attrs:{shape:[-1,f]}});l.push(h);const m=G$(r.dtype),g=(e,t,a,r,o)=>{const s=e.shape[0],i=e.shape[1],c=sM(i,o),u=new GG({windowSize:c,inSize:i,batchSize:s,numSegments:o},t),p=n.compileAndRun(u,[e,a],r);if(l.push(p),p.shape[1]===o)return p;const d=kU({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),f=AG({inputs:{x:d},backend:n,attrs:{reps:[i/c]}});l.push(d),l.push(f);return g(p,t,f,r,o)},v=Qz({inputs:{x:g(h,"unsortedSegmentSum",o,m,s)},backend:n,attrs:{shape:d}});let b=v;if(null!=u){l.push(v);const e=JN(u);b=iV({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},XG=[uV,dV,hV,gV,yV,CV,kV,EV,NV,RV,MV,AV,LV,FV,VV,WV,UV,XV,YV,KV,JV,oH,sH,iH,dH,mH,bH,Bz,wH,IH,AH,zH,VH,HH,jH,WH,UH,qH,YH,JH,aj,rj,sj,cj,dj,fj,mj,vj,bj,yj,xj,Cj,kj,Sj,$j,Nj,Mj,_j,Dj,Vj,jj,Gj,Xj,Yj,Qj,eW,nW,rW,Pz,oW,TH,sW,iW,cW,Lz,pW,fW,hW,gW,bW,xW,CW,EW,$W,IW,RW,MW,BW,AW,DW,FW,zW,VW,HW,WW,qW,XW,aU,Kz,rU,sU,lU,uU,cH,dU,mU,gU,xU,wU,zz,CU,EU,pH,QW,TU,OU,NU,Zz,MU,AU,DU,zU,jU,UU,qU,YU,QU,JU,tG,aG,oG,sG,lG,rH,nU,uG,pG,dG,fG,hG,mG,gG,vG,xG,wG,EG,SG,$G,OG,IG,NG,eU,sV,RG,MG,_G,VG,jG,lV,WG,UG,qG,hU];for(const e of XG)r$(e);var YG,KG,QG=.27,ZG=0,JG=function(){var e=ik(ck().mark((function e(){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U_(j_.mediapipeFacemesh,{maxFaces:1});case 2:YG=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function eq(e,t){function n(e,t,n,a){return Math.sqrt((n-e)*(n-e)+(a-t)*(a-t))}return(n(e[5][0],e[5][1],t[4][0],t[4][1])+n(e[3][0],e[3][1],t[2][0],t[2][1]))/(2*n(e[0][0],e[0][1],e[8][0],e[8][1]))}function tq(){return(tq=ik(ck().mark((function e(t){var n;return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YG.estimateFaces({input:t});case 2:return(n=e.sent).length>0&&n.forEach((function(e){var t=e.annotations.rightEyeUpper0,n=eq(e.annotations.rightEyeLower0,t),a=e.annotations.leftEyeUpper0;eq(e.annotations.leftEyeLower0,a)<=QG&&n<=QG?(KG={shortBlink:!1,longBlink:!1},ZG+=1):(KG={shortBlink:ZG<=5&&0!==ZG,longBlink:ZG>5},ZG=0)})),e.abrupt("return",KG);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nq={loadModel:JG,startPrediciton:function(e){return tq.apply(this,arguments)}},aq=nq,rq=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!!/android/i.test(e)},oq=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!!/iPad|iPhone|iPod/i.test(e)},sq=function(e,t){var n="";n=rq()?"file://"+e.output.images.fullsize.file:e.output.images.fullsize.file,window.resolveLocalFileSystemURL(n,function(){var e=ik(ck().mark((function e(n){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.file((function(e){var n=new FileReader;n.onloadend=ik(ck().mark((function e(){var a;return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Blob([new Uint8Array(n.result)],{type:"image/png"}),t(window.URL.createObjectURL(a));case 2:case"end":return e.stop()}}),e)}))),n.readAsArrayBuffer(e)}),(function(e){console.log("read",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e)}))},iq=function(){var e=ik(ck().mark((function e(t){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.plugin.CanvasCamera.start({canvas:{width:224,height:224},capture:{width:224,height:224},use:"file",fps:30,hasThumbnail:!1,cameraFacing:"front"},function(){var e=ik(ck().mark((function e(t){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Something went wrong!",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=ik(ck().mark((function e(n){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sq(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lq={isAndroid:rq,isIos:oq,isMobile:function(){return window.cordova&&(rq()||oq())},getBrowserCamera:function(){return navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:224,height:224}})},getMobileCamera:iq},cq={setup:function(){var e=Vt(null),t=Vt(null),n=Vt(null),a=Bk(),r=function(){var n=ik(ck().mark((function n(){return ck().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(lq.isIos()){n.next=3;break}return lq.getBrowserCamera().then((function(t){e.value.srcObject=t})).catch((function(e){console.log("Something went wrong!",e)})),n.abrupt("return",new Promise((function(t){e.value.onloadedmetadata=function(){t()}})));case 3:document.addEventListener("deviceready",ik(ck().mark((function e(){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lq.getMobileCamera((function(e){t.value.src=e}));case 2:case"end":return e.stop()}}),e)}))),!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return ya(ik(ck().mark((function o(){var s;return ck().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n.value=lq.isIos(),o.next=3,r();case 3:s=function(){var n=ik(ck().mark((function n(){var r;return ck().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!lq.isIos()||!t.value.src){n.next=6;break}return n.next=3,aq.startPrediciton(t.value);case 3:r=n.sent,n.next=10;break;case 6:if(null==e.value.srcObject){n.next=10;break}return n.next=9,aq.startPrediciton(e.value);case 9:r=n.sent;case 10:r&&(r.longBlink?(console.log("long blink"),a.setBlinkSequence("-")):r.shortBlink&&(a.setBlinkSequence("."),console.log("short blink"))),requestAnimationFrame(s);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s();case 5:case"end":return o.stop()}}),o)})))),{blinkStore:a,imageRef:t,videoRef:e,isPhone:n,startCapturing:function(){a.startCapturingBlinks()},stopCapturing:function(){a.stopCapturingBlinks()},removeLastLetter:function(){a.removeLastLetter()}}}};const uq=(0,vk.Z)(cq,[["render",function(e,t,n,a,r,o){var s=lr("f7-page");return yr(),Sr(s,{name:"PredictingPage"},{default:_n((function(){return[Rr("div",yk,[xk,wk,a.isPhone?(yr(),Er("img",kk,null,512)):(yr(),Er("video",Ck,null,512)),Ek,Rr("div",Sk,[(yr(!0),Er(fr,null,Wr(a.blinkStore.blinkSequence,(function(e,t){return yr(),Er("p",{class:"predicting-page__recognized-blink-sequence",key:t},A(e),1)})),128))]),Tk,Rr("div",$k,[Rr("p",Ok,A(a.blinkStore.convertedLetters),1)]),Rr("div",Ik,[a.blinkStore.capturing?(yr(),Er("a",{key:1,class:"predicting-page__stop-capturing-btn",onClick:t[1]||(t[1]=function(){return a.stopCapturing&&a.stopCapturing.apply(a,arguments)}),disabled:a.blinkStore.capturing},"Stop Capturing",8,Rk)):(yr(),Er("a",{key:0,class:"predicting-page__start-capturing-btn",onClick:t[0]||(t[0]=function(){return a.startCapturing&&a.startCapturing.apply(a,arguments)}),disabled:a.blinkStore.capturing},"Start Capturing",8,Nk)),Rr("a",{class:"predicting-page__remove-letter-btn",onClick:t[2]||(t[2]=function(){return a.removeLastLetter&&a.removeLastLetter.apply(a,arguments)})},"Remove Letter")])])]})),_:1})}]]);var pq=uq,dq=n.p+"images/morse-code.png",fq={class:"morse-code-page"},hq=Rr("h3",{class:"morse-code-page__title"},"Morse Code",-1),mq=Rr("p",{class:"morse-code-page__description"}," Morse Code encodes text characters as standardized sequences of two different signal durations. ",-1),gq=Rr("img",{class:"morse-code-page__img",src:dq,alt:"morse-code-table"},null,-1),vq=Rr("p",{class:"morse-code-page__how-description"},[_r(" Click on Start Capturing and you will have 7 seconds to blink one character. "),Rr("br"),_r(" If you want to delete the last character, click Remove Letter. ")],-1),bq=Rr("a",{class:"morse-code-page__btn back",href:"/"},"Back",-1);var yq={};const xq=(0,vk.Z)(yq,[["render",function(e,t,n,a,r,o){var s=lr("f7-page");return yr(),Sr(s,{name:"PredictingPage"},{default:_n((function(){return[Rr("div",fq,[hq,mq,gq,Rr("h3",{class:"morse-code-page__how-title",onClick:t[0]||(t[0]=function(){return e.playVideo&&e.playVideo.apply(e,arguments)})},"How to Use"),vq,bq])]})),_:1})}]]);var wq=[{path:"/",component:bk},{path:"/predicting",component:pq},{path:"/morse-code",component:xq}],Cq={setup:function(){var e={name:"Blink-To-Text",theme:"auto",routes:wq},t=Vt(null);return ya((function(){Eg(ik(ck().mark((function e(){return ck().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aq.loadModel();case 2:return e.next=4,aq.startPrediciton(t.value);case 4:fg.views.current.router.navigate("/predicting",{transition:"f7-dive",clearPreviousHistory:!0});case 5:case"end":return e.stop()}}),e)}))))})),{f7params:e,imageRef:t}}};var kq=(0,vk.Z)(Cq,[["render",function(e,t,n,a,r,o){var s=lr("f7-view"),i=lr("f7-app");return yr(),Sr(i,function(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Z(t)&&(e.class=B(t)),n&&(e.style=N(n)),e}(Br(a.f7params)),{default:_n((function(){return[Rr("img",ok,null,512),Pr(s,{main:"",class:"safe-areas",url:"/"})]})),_:1},16)}]]);og.use(LC);var Eq=((...e)=>{const t=es().createApp(...e);const{mount:n}=t;return t.mount=e=>{const a=ts(e);if(!a)return;const r=t._component;Q(r)||r.render||r.template||(r.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t})(kq);!function(e){e.component("f7-accordion-content",Fg),e.component("f7-accordion-item",Vg),e.component("f7-accordion-toggle",jg),e.component("f7-accordion",Ug),e.component("f7-actions-button",Yg),e.component("f7-actions-group",Qg),e.component("f7-actions-label",Jg),e.component("f7-actions",nv),e.component("f7-app",sv),e.component("f7-appbar",lv),e.component("f7-area-chart",dv),e.component("f7-badge",mv),e.component("f7-block-footer",vv),e.component("f7-block-header",yv),e.component("f7-block-title",wv),e.component("f7-block",Ev),e.component("f7-button",jv),e.component("f7-card-content",Uv),e.component("f7-card-footer",qv),e.component("f7-card-header",Yv),e.component("f7-card",Qv),e.component("f7-checkbox",eb),e.component("f7-chip",ab),e.component("f7-col",sb),e.component("f7-fab-backdrop",lb),e.component("f7-fab-button",pb),e.component("f7-fab-buttons",fb),e.component("f7-fab",mb),e.component("f7-gauge",vb),e.component("f7-icon",Dv),e.component("f7-input",$b),e.component("f7-link",Nb),e.component("f7-list-button",Pb),e.component("f7-list-group",Bb),e.component("f7-list-index",_b),e.component("f7-list-input",Db),e.component("f7-list-item-cell",zb),e.component("f7-list-item-row",Hb),e.component("f7-list-item",Wb),e.component("f7-list",Gb),e.component("f7-login-screen-title",Xb),e.component("f7-login-screen",Kb),e.component("f7-menu-dropdown-item",Zb),e.component("f7-menu-dropdown",ey),e.component("f7-menu-item",ay),e.component("f7-menu",sy),e.component("f7-message",gy),e.component("f7-messagebar-attachment",by),e.component("f7-messagebar-attachments",xy),e.component("f7-messagebar-sheet-image",ky),e.component("f7-messagebar-sheet-item",Sy),e.component("f7-messagebar-sheet",$y),e.component("f7-messagebar",Iy),e.component("f7-messages-title",Ry),e.component("f7-messages",My),e.component("f7-nav-left",Ay),e.component("f7-nav-right",Ly),e.component("f7-nav-title-large",zy),e.component("f7-nav-title",jy),e.component("f7-navbar",Xy),e.component("f7-page-content",ex),e.component("f7-page",nx),e.component("f7-panel",ox),e.component("f7-photo-browser",ix),e.component("f7-pie-chart",lx),e.component("f7-popover",dx),e.component("f7-popup",hx),e.component("f7-preloader",_v),e.component("f7-progressbar",gx),e.component("f7-radio",yx),e.component("f7-range",Cb),e.component("f7-routable-modals",rv),e.component("f7-row",Cx),e.component("f7-searchbar",$x),e.component("f7-segmented",Nx),e.component("f7-sheet",Px),e.component("f7-skeleton-avatar",_x),e.component("f7-skeleton-block",Lx),e.component("f7-skeleton-image",Dx),e.component("f7-skeleton-text",Fx),e.component("f7-stepper",jx),e.component("f7-subnavbar",qx),e.component("f7-swipeout-actions",Yx),e.component("f7-swipeout-button",Qx),e.component("f7-swiper-slide",mC),e.component("f7-swiper",gC),e.component("f7-tab",bC),e.component("f7-tabs",xC),e.component("f7-text-editor",Sb),e.component("f7-toggle",xb),e.component("f7-toolbar",kC),e.component("f7-treeview-item",IC),e.component("f7-treeview",RC),e.component("f7-use-icon",Fv),e.component("f7-view",BC),e.component("f7-views",_C)}(Eq),Eq.mount("#app"),Eq.use(function(){const e=Ce(!0),t=e.run((()=>Vt({})));let n=[],a=[];const r=At({install(e){FC(r),r._a=e,e.provide(zC,r),e.config.globalProperties.$pinia=r,a.forEach((e=>n.push(e))),a=[]},use(e){return this._a?n.push(e):a.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}())}()}();
//# sourceMappingURL=app.js.map